<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>云计算相关笔记（整理中……） | 逍 遥 の B l o g</title><meta name="keywords" content="docker,Linux"><meta name="author" content="XiaoYao"><meta name="copyright" content="XiaoYao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="学习linux时候的一系列笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="云计算相关笔记（整理中……）">
<meta property="og:url" content="https://w4xiaoyao.site/2023/04/04/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E4%BA%91%E8%AE%A1%E7%AE%97%E7%AC%94%E8%AE%B0/">
<meta property="og:site_name" content="逍 遥 の B l o g">
<meta property="og:description" content="学习linux时候的一系列笔记">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Myblog/img4post/cutecity/026.jpg">
<meta property="article:published_time" content="2023-04-04T09:51:24.851Z">
<meta property="article:modified_time" content="2023-01-16T16:00:00.000Z">
<meta property="article:author" content="XiaoYao">
<meta property="article:tag" content="云计算">
<meta property="article:tag" content="docker">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Myblog/img4post/cutecity/026.jpg"><link rel="shortcut icon" href="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Myblog/img_struct4blog/favicon_hacker.png"><link rel="canonical" href="https://w4xiaoyao.site/2023/04/04/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E4%BA%91%E8%AE%A1%E7%AE%97%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?true";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":50,"languages":{"author":"Author: XiaoYao","link":"Link: ","source":"Source: 逍 遥 の B l o g","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '云计算相关笔记（整理中……）',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-01-17 00:00:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><type="text/css" href="/css/mycss.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"><script src="/live2d-widget/autoload.js"></script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f1a652ffc0084a6a5ec4853f1d82444c";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Myblog/img_struct4blog/profile_knife.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">64</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">76</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">15</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archive</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw far fa-images"></i><span> Gallery</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/game/"><i class="fa-fw fas fa-gamepad"></i><span> Game1</span></a></li><li><a class="site-page child" href="/gamee/"><i class="fa-fw fas fa-gamepad"></i><span> Game2</span></a></li><li><a class="site-page child" href="/gameee/"><i class="fa-fw fas fa-gamepad"></i><span> Game3</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Myblog/img4post/cutecity/026.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">逍 遥 の B l o g</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archive</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw far fa-images"></i><span> Gallery</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/game/"><i class="fa-fw fas fa-gamepad"></i><span> Game1</span></a></li><li><a class="site-page child" href="/gamee/"><i class="fa-fw fas fa-gamepad"></i><span> Game2</span></a></li><li><a class="site-page child" href="/gameee/"><i class="fa-fw fas fa-gamepad"></i><span> Game3</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">云计算相关笔记（整理中……）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-04-04T09:51:24.851Z" title="Created 2023-04-04 17:51:24">2023-04-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-01-16T16:00:00.000Z" title="Updated 2023-01-17 00:00:00">2023-01-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">6.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>23min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="云计算相关笔记（整理中……）"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="day3-用户组管理"><a href="#day3-用户组管理" class="headerlink" title="day3 用户组管理"></a>day3 用户组管理</h2><p>linux：多用户多任务，可同时运行且不会互相影响</p>
<p>root用户：排错，查看日志，系统日常维护</p>
<p>www：修改网页程序，只需要对网页中的程序做修改的网页程序员</p>
<p>ftp用户：可以把文件图片传到服务器上的权限，比如美工，图片</p>
<p>mysql用户：DBA 数据库管理员，所有用户送一个月会员</p>
<p>不同用户使用不同的权限</p>
<hr>
<h3 id="etc-passwd"><a href="#etc-passwd" class="headerlink" title="/etc/passwd"></a>/etc/passwd</h3><p>uid（用户id） gid（组id） /etc/passwd(x代表该用户有密码但不是真正密码，后面数字分别为uid和gid)</p>
<p>uid</p>
<p>0 超级用户</p>
<p>1-499 系统用户（伪用户，保留给系统使用）1-99由系统自己创建，其余分配给有系统需求的用户</p>
<p>500-65535 普通用户 linux2.6以上内核支持2^36,可以放一个小国家的用户量</p>
<hr>
<h3 id="etc-shadow"><a href="#etc-shadow" class="headerlink" title="/etc/shadow"></a>/etc/shadow</h3><p>用户名：加密的密码（sha512，以前是md5和des ）：最后一次修改时间：最小修改时间间隔：密码有效期：密码过期后宽限时间：账号失效时间：保留字段（没什么用）</p>
<p>可以用root给任意用户修改密码</p>
<hr>
<h3 id="etc-group"><a href="#etc-group" class="headerlink" title="/etc/group"></a>/etc/group</h3><p>用户组配置文件</p>
<p>组名：组密码（放在/etc/gshadow）：组id：组用户</p>
<h3 id="etc-gshadow"><a href="#etc-gshadow" class="headerlink" title="etc/gshadow"></a>etc/gshadow</h3><p>组密码</p>
<p>组名：加密密码（一般不设置）：组管理员：组附加用户list </p>
<hr>
<p><strong>useradd</strong> xiaoyao 创建用户时会自己创建一个独立的xiaoyao组，也会自动创建一个home目录(centos会自动创建，和<strong>adduser</strong>一样)，ubuntu中useradd不会自动创建用户，adduser会</p>
<p><strong>passwd</strong> xiaoyao</p>
<p><strong>groupadd</strong> users 新增一个叫users的组</p>
<p><strong>usermod -G users xiaoyao</strong> 把xiaoyao用户添加到users用户组中</p>
<p><strong>groups</strong> 显示当前用户所在组</p>
<p><strong>groups xiaoyao</strong> 显示xiaoyao这个用户所在组</p>
<p><strong>usermod -G root xiaoyao</strong> 把xiaoyao从上面的users组<strong>换</strong>到root组中</p>
<p><strong>userdel -r xiaoyao</strong>删除用户和对应的home目录</p>
<p>useradd -u 1020 -g 1001 -c “this is a test user1” -d /home/test1 -G user1 test1 添加用户id为1020，组id为1001，用户注释-c，指定test1用户目录，-G把test1用户也加到user1组中（此时就不会自动生成test1的用户组）</p>
<hr>
<h3 id="UGO权限"><a href="#UGO权限" class="headerlink" title="UGO权限"></a>UGO权限</h3><p>文件的权限</p>
<p>r=4,w=2,x=1 -=0,</p>
<p>rw- r– r–  U G O user group others</p>
<p>chmod 777 xiaoyao.txt</p>
<p>chmod u+x xiaoyao.txt      g+-     g+x  </p>
<p><strong>chown</strong> [用户名] xiaoyao.txt 修改文件或目录所属用户</p>
<p><strong>chown</strong> :[组名] xiaoyao.txt 修改文件或用户的所属组</p>
<p><strong>chown [-R] 所有者:所属组 文件或目录</strong>   -R递归，同时更改</p>
<p>shown [属主]:[属组] [目标文件]</p>
<h2 id="day4-压缩打包等"><a href="#day4-压缩打包等" class="headerlink" title="day4 压缩打包等"></a>day4 压缩打包等</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -czvf  wenjianjia.tar.gz  wenjianjia 把文件夹打包</span><br><span class="line">tar -xzvf  wenjianjia.tar.gz 解压到当前目录</span><br></pre></td></tr></table></figure>

<p>zip -r test.zip ./test 把当前文件夹下的test文件夹及其子文件递归压缩命名为test.zip</p>
<p>unzip test.zip  可以用win的打包成zip格式用linux解压，错误有可能是网络下载不全，压缩包损坏</p>
<h2 id="day5-crontab-grep-sed-awk"><a href="#day5-crontab-grep-sed-awk" class="headerlink" title="day5 crontab-grep sed awk"></a>day5 crontab-grep sed awk</h2><p>计划任务</p>
<p>文本三剑客</p>
<h4 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h4><p>grep正则表达式必须要用大写的E，小写-e无效</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">status_log=$(cat /etc/nginx/nginx.conf | grep -E &#x27;[^#](access|error)_log&#x27; | wc -l)</span><br><span class="line"><span class="meta">#</span><span class="bash">排除掉以<span class="comment">#开头的</span></span></span><br><span class="line">WhoisNginx=$(cat /etc/nginx/nginx.conf | grep -E &#x27;^user&#x27; | awk &#x27;&#123; print $2 &#125;&#x27; | sed &#x27;s/[;]//g&#x27;) #只匹配以^user开头的，此处用[^#]来排除#user情况不可取，正则表达式没问题，但是这里就是匹配不到，可能是user一般都在开头，在开头导致的？</span><br></pre></td></tr></table></figure>







<h4 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h4><p>动作文本编辑器</p>
<p>a新增</p>
<p>c取代（*<em>change</em>）</p>
<p>d删除</p>
<p>i插入</p>
<p>p打印</p>
<p>s正则取代（<em>substitution</em>）</p>
<p>q退出sed</p>
<p><strong>sed -e ‘4a\newline1’ test1.txt</strong> 在test.txt文本的第4行后面添加newline1文本</p>
<p><strong>nl test1.txt</strong>发现第四行并没有新增，nl带上行号输出</p>
<p>cat test.txt 也没有，说明sed并不会真的修改，只是打嘴炮</p>
<p>nl /etc/passwd | <strong>sed ‘2,5d’</strong> 输出并把第二行到第五行删除</p>
<hr>
<p>cd /etc/se</p>
<p>cat /etc/selinux/config 一般会把selinux关闭，最大程度最小权限的一种安全机制，但有时候和UAC一样烦人，造成ssh，frp连接不成功等情况</p>
<p>sed ‘s/SELINUX=enforcing/SELINUX=disabled/g’ /etc/selinux/config 修改参数（打嘴炮）</p>
<p>sed -i ‘s/SELINUX=enforcing/SELINUX=disabled/g’ /etc/selinux/config 用-i参数插入，就真修改，不再打嘴炮</p>
<p>删除某一个字符串可写为：sed ‘s/原字符串//g’</p>
<p>更多参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/ltochange/article/details/119729369">https://blog.csdn.net/ltochange/article/details/119729369</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/L1259863243/article/details/79364094">https://blog.csdn.net/L1259863243/article/details/79364094</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_58292366/article/details/124586128">https://blog.csdn.net/m0_58292366/article/details/124586128</a></p>
<h4 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h4><p>（来自高阶）70%常用表达式</p>
<p>sublime可支持正则查找</p>
<p>\w 匹配所有字母，不匹配符号</p>
<p>\w\w\w 匹配三个连续的字母</p>
<p>\w{5}匹配连续5个字母</p>
<p>\w+ 匹配所有整块字符</p>
<p>\s 匹配空格</p>
<p>^xy 以xy为<strong>段落的开头</strong>，中括号内是非的意思</p>
<p>[^xy]* 排除x和y元素，以x或y为分割匹配所有</p>
<p>xy!$ 以xy!为段落结尾</p>
<p>\b 单词界定符，必须搭配\w使用，\b\w{3}\b 在\w{3}基础上去除phone这种就不会被识别为pho</p>
<p>\d 数字界定符，可以匹配单个数字</p>
<p>\d{11} 11位的电话号</p>
<p>\d{4}-\d{4}匹配1234-5678这种格式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\(\d&#123;3&#125;\)\d&#123;4&#125;-\d&#123;4&#125; 匹配(010)1234-5678 括号用\转义，这里的\d其实也是把字母d转义为有意义的数字匹配</span><br></pre></td></tr></table></figure>

<p>贪婪匹配（尽可能多的匹配）</p>
<p>*匹配0次或多次</p>
<p>\w* 除了符号以外，不管字母后面有多少个字母，都给匹配，可以简单地理解为乘法</p>
<p>+匹配1或多次</p>
<p>.点号，匹配除了换行符以外的所有单字符</p>
<p>\w.* 除换行符以外的字符重复了0次或多次，此时匹配一段话，基本上点星代表匹配了所有</p>
<p>?前面的表达式出现了0次或1次，</p>
<p>\转义字符</p>
<p>（）括号是选择，（com|net|org）配合|或者选择匹配</p>
<p>\w+@\w+.(com|org) 实际中匹配邮箱比这个更严格</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\[.*?\] 匹配[]内的内容，中括号也需要转义，如果不加？这里会贪婪地匹配到最后一个]，？这里限制[只出现了0次或1次</span><br></pre></td></tr></table></figure>

<p>[Hh]aha 匹配大小写H，组成Haha和haha，<strong>中括号表示其中元素都可</strong>，<strong>小括号配合|使用来匹配词块</strong></p>
<p>[a-c]* 匹配只有abc连续的单词</p>
<p>[a-cA-Z]* 可以匹配到大写，如GOOGle只能匹配到GOOG，（需要开启sublime的大小写敏感，win世界中一般对大小写不敏感，linux中敏感）</p>
<p>&lt;.*&gt; 匹配包括标签中的内容，尖括号无正则意义</p>
<p>&lt;.*?&gt;只匹配标签</p>
<p>[a]?lways 匹配lways和always</p>
<p>[1-3]{3}匹配1-3出现了3次的连续块</p>
<p>[1-9]{2，}匹配1-9至少出现2次以上</p>
<p>^(h|x)aha 匹配haha或xaha的段落头</p>
<hr>
<p>高级正则使用</p>
<p>?=字符  正先行断言，先匹配后面的字符，再匹配前面的</p>
<p>(x|h)aha(?=\swocao)  空格+wocao是先决条件，匹配到了之后再向前匹配x/haha</p>
<p>?! 负先行断言，先匹配后面的字符，但是不采纳，然后匹配前面的字符，这里!表示非</p>
<p>(x|h)aha(?!\swocao) 空格+wocao是先决条件，但是不采纳，然后再匹配前面的x/haha</p>
<p>?&lt;= 正后发断言 ，先匹配后面的字符，前提前面必须跟的是指定字符</p>
<p>(?&lt;=(x|h)aha\s)(nihao|wo) 匹配nihao或者wo，前面跟的必须是x\haha+空格</p>
<p>?&lt;!负后发断言 前面跟的不采纳</p>
<p>(?&lt;!(x|h)aha\s)(nihao|wo) 匹配nihao或者wo，前面如果跟的是x\haha+空格,就不采纳</p>
<h2 id="day7-防火墙"><a href="#day7-防火墙" class="headerlink" title="day7 防火墙"></a>day7 防火墙</h2><p>安装 UFW<br>sudo apt-get install ufw</p>
<p>启用 UFW<br>sudo ufw enable</p>
<p>禁用防火墙<br>ufw disable</p>
<p>拒绝所有传入并允许所有传出连接<br>sudo ufw default allow outgoing<br>sudo ufw default deny incoming</p>
<p>允许 SSH 的 22 端口的传入和传出连接<br>sudo ufw allow ssh</p>
<p>要在特定端口（比如 111）上 deny 流量<br>sudo ufw deny 111</p>
<p>允许 1725 端口上的 UDP 包<br>sudo ufw allow 1725/udp</p>
<p>允许从一个 IP 地址连接<br>sudo ufw allow from 123.45.67.89</p>
<p>允许特定子网的连接<br>sudo ufw allow from 123.45.67.89/24</p>
<p>允许特定 IP/ 端口的组合<br>sudo ufw allow from 123.45.67.89 to any port 22 proto tcp</p>
<p>删除一条规则<br>sudo ufw delete allow 80</p>
<p>编辑 UFW 的配置文件</p>
<p> 虽然可以通过命令行添加简单的规则，但仍有可能需要添加或删除更高级或特定的规则。 在运行通过终端输入的规则之前，UFW 将运行一个文件 before.rules，它允许回环接口、ping 和 DHCP 等服务。要添加或改变这些规则，编辑 /etc/ufw/before.rules 这个文件。 同一目录中的 before6.rules 文件用于 IPv6 。</p>
<p>还存在一个 after.rule 和 after6.rule 文件，用于添加在 UFW 运行你通过命令行输入的规则之后需要添加的任何规则。<br>还有一个配置文件位于 /etc/default/ufw。 从此处可以禁用或启用 IPv6，可以设置默认规则，并可以设置 UFW 以管理内置防火墙链。<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42783214/article/details/120867435">https://blog.csdn.net/qq_42783214/article/details/120867435</a></p>
<h2 id="day8-linux数据备份与磁盘管理"><a href="#day8-linux数据备份与磁盘管理" class="headerlink" title="day8 linux数据备份与磁盘管理"></a>day8 linux数据备份与磁盘管理</h2><h3 id="数据备份"><a href="#数据备份" class="headerlink" title="数据备份"></a>数据备份</h3><p>win <strong>gost</strong>软件（古老），赛门铁克出品，相当于压缩系统盘然后备份，属于硬盘镜像技术</p>
<p>linux中 <strong>dd</strong>命令实现磁盘备份，前提磁盘足够大</p>
<h4 id="备份目标"><a href="#备份目标" class="headerlink" title="备份目标"></a>备份目标</h4><p>root</p>
<p>home</p>
<p>var/spool/mail 保存邮件目录</p>
<p>etc/ 系统重要配置文件</p>
<p>var/xxxx/mysql 根据安装软件进行备份</p>
<p>httpd https config等，比如装了nginx</p>
<ul>
<li>除了标准系统重要文件，你安装的某些服务，也要备份</li>
</ul>
<h4 id="磁带机备份"><a href="#磁带机备份" class="headerlink" title="磁带机备份"></a>磁带机备份</h4><p>（重要银行数据）（大公司规模）</p>
<p>/dev/st0</p>
<p>倒带（类似于把磁带初始化操作）</p>
<p>mt -f /dev/st0 rewind</p>
<p>擦除(会自动覆盖，新产品也不需要擦除)</p>
<p>mt -f /dev/st0 erase</p>
<p>出带（拔出来）</p>
<p>mf -f /dev/st0 offline</p>
<p>查看磁带的内容</p>
<p>tar tvf /dev/st0 [磁带上的位置] 空则列出所有信息，磁带没有数据会报错</p>
<p>备份数据到磁带</p>
<p>tar cvf /dev/st0 [需要备份的位置]  打不打包都可以</p>
<p>继续写入数据</p>
<p>tar rvf /dev/st0 [l需要继续备份数据的位置]</p>
<p>从磁带中恢复数据到硬盘</p>
<p>tar xvf /dev/st0 [位置]     先断网，后插入磁带机</p>
<hr>
<h4 id="硬盘备份"><a href="#硬盘备份" class="headerlink" title="硬盘备份"></a>硬盘备份</h4><p>完全备份，增量备份（累计增量备份，差异备份）</p>
<p>每次都完全备份不现实，</p>
<h5 id="累计增量备份"><a href="#累计增量备份" class="headerlink" title="累计增量备份"></a>累计增量备份</h5><p>先完整备份一次，运行一段时间，比较现在数据与完全备份之间的差异，只备份有差异的数据</p>
<p>备份</p>
<p>完整备份|第二天增加的数据|第三天增加的数据……</p>
<p>恢复</p>
<p>完整备份+第二天增加的数据+……</p>
<hr>
<h5 id="差异备份"><a href="#差异备份" class="headerlink" title="差异备份"></a>差异备份</h5><p>完整的备份1|第二天增加的数据(第一次差异备份)</p>
<p>完整的备份2|第三天增加的数据（第二次差异备份)</p>
<p>完整的备份2是相对第一次的备份，把第一次备份当做整体，作为完整的备份2</p>
<p>后续备份的数据会越来越多</p>
<hr>
<h5 id="tar命令备份数据"><a href="#tar命令备份数据" class="headerlink" title="tar命令备份数据"></a>tar命令备份数据</h5><p>tar是完整备份</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">BAKDATE=`date +8y&amp;m%d` #当前日期</span><br><span class="line">DATA3=`date -d &quot;3 days ago&quot; +%y%m%d`#3天前日期</span><br><span class="line">osdata=/diskl </span><br><span class="line">userdata=/disk2</span><br><span class="line">echo &quot;backup OS data starting&quot;</span><br><span class="line">tar -zcvf /$osdata/etc.data/etc_$BAKDATE.tar.gz /etc </span><br><span class="line"><span class="meta">#</span><span class="bash">把/etc目录使用打包成tar.gz文件备份</span></span><br><span class="line">tar -zcvf /$osdata/boot.data/boot_$BAKDATE.tar.gz /boot</span><br><span class="line">tar -zcvf /$osdata/home.data/home_$BAKDATE.tar.gz /home</span><br><span class="line">tar -zcvf /$osdata/root.data/ root_$BAKDATE.tar.gz /root</span><br><span class="line">tar -zcvf /$userdata/usr_data/usrlocal_$BAKDATE.tar.gz /usr/local</span><br><span class="line">tar -zcvf /$userdata/var_WWw/WWw_$BAKDATE.tar.gz /var/WWW</span><br><span class="line">cp -r /$osdata/* /$userdata</span><br><span class="line">cp -r /$userdata/* /$osdata</span><br><span class="line">echo &quot;Backup OS data complete!&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;delete OS data 3 days ago&quot;</span><br><span class="line">rm -rf /$osdata/etc.data/etc_$DATA3.tar.gz </span><br><span class="line">rm -rf /$osdata/boot.data/boot_$DATA3.tar.gz</span><br><span class="line">rm -rf /$osdata/home.data/home_$DATA3.tar.gz</span><br><span class="line">rm -rf /$osdata/ root.data/root_$DATA3.tar.gz</span><br><span class="line">rm -rf /$osdata/usr_data/usr1ocal_$DATA3.tar.gz</span><br><span class="line">rm -rf /$osdata/var_Www/www_$DATA3.tar.gz</span><br><span class="line"></span><br><span class="line">rm -rf /$userdata/etc.datatetc_$DATA3.tar.gz</span><br><span class="line">rm -rf /$userdata/boot.data/boot_$DATA3.tar.gz</span><br><span class="line">rm -rf /$userdata/home.data/home_$DATA3.tar.gz</span><br><span class="line">rm -rf /$userdata/root.data/root_$DATA3.tar.gz</span><br><span class="line">rm -rf /$userdata/usr_data/usrlocal_$DATA3.tar.gz</span><br><span class="line">rm -rf /$userdata/var_www/www_$DATA3.tar.gz</span><br><span class="line">echo &quot;delete cws ok!&quot;</span><br></pre></td></tr></table></figure>



<h5 id="dump命令备份数据"><a href="#dump命令备份数据" class="headerlink" title="dump命令备份数据"></a>dump命令备份数据</h5><p>yum -y install dump</p>
<p>yum -y install xfsdump 和dump包一样用，有些系统可以用dump</p>
<p>dump实现增量备份，tar是完整备份，支持0-9备份，0=完全备份，1~9增量备份</p>
<p>第一次备份使用0级别进行完全备份</p>
<p>第二次备份使用1级别，对比0进行增量备份</p>
<p>第三次使用2级别，对比1级别进行增量备份</p>
<hr>
<p>df -h 查看磁盘</p>
<p>mounted on列显示该filesystem挂载在哪个地方</p>
<hr>
<p>xfsdump  -f /root/dump_sda1 /dev/sda1   把root文件夹备份到dev/sda1中</p>
<p>xfsrestore -f /root/dump_sda1 /root/sda1-test 把root/dump_sda1恢复到root/sda1-test</p>
<p>xfsdump -1j -f root/boot-z1 dev/sda1   进行增量备份</p>
<hr>
<h5 id="dd数据备份"><a href="#dd数据备份" class="headerlink" title="dd数据备份"></a>dd数据备份</h5><p>dd主要用来数据备份，备份时同时进行文件格式转换,备份文件，和备份磁盘不太一样</p>
<p>dd if=”输入文件” of=“输出文件” bs=“数据块（一次性读取多少个数据）” count=“数量（bs的数量）”</p>
<p>备份</p>
<p>dd if=/haha/1.txt  of=/root/1.bak   备份文件（下载bak到本地，修改为txt即可）</p>
<p>dd if=/dev/sda1 of=/root/boot.bak 备份sda1整个磁盘分区</p>
<p>恢复</p>
<p>dd if=/root/boot.bak of=/root/sda1</p>
<p>整个磁盘备份</p>
<p>dd if=/dev/sda1 of=/dev/sdb  整盘备份，恢复就是相反</p>
<p>备份到光盘</p>
<p>dd if=/dev/cdrom of=/tmp/cd.iso 把光盘中的内容制作成iso文件（光盘镜像）</p>
<p>mkdir /mnt/cd  建立一个挂载点，用于恢复</p>
<p>mount -o loop /tmp/cd.iso /mnt/cd  把光盘镜像挂载到/mnt/cd中，类似电脑真插入一张光盘</p>
<hr>
<h4 id="远程备份"><a href="#远程备份" class="headerlink" title="远程备份"></a>远程备份</h4><p>rsync</p>
<p>rsync -av /etc/passwd /tmp/1.txt 把passwd同步到1.txt处</p>
<p>rsync -av /etc/passwd 192.168.1.1:/tmp/1.txt 远程同步，提示输入对方电脑密码</p>
<h4 id="磁盘分区管理"><a href="#磁盘分区管理" class="headerlink" title="磁盘分区管理"></a>磁盘分区管理</h4><h2 id="day12-lnmp部署"><a href="#day12-lnmp部署" class="headerlink" title="day12  lnmp部署"></a>day12  lnmp部署</h2><p>张晓杰01067825259    13171073110</p>
<h2 id="day13-nginx模块和正向代理"><a href="#day13-nginx模块和正向代理" class="headerlink" title="day13 nginx模块和正向代理"></a>day13 nginx模块和正向代理</h2><h2 id="day14-nginx负载均衡"><a href="#day14-nginx负载均衡" class="headerlink" title="day14 nginx负载均衡"></a>day14 nginx负载均衡</h2><h2 id="day25-rsync-镜像"><a href="#day25-rsync-镜像" class="headerlink" title="day25 rsync 镜像"></a>day25 rsync 镜像</h2><p>scp更好？</p>
<p>scp是secure  copy的简写，用于在Linux下进行远程拷贝文件的命令，和它类似的命令有cp，不过cp只是在本机进行拷贝不能跨服务器，而且scp传输是加密的。可能会稍微影响一下速度。当你服务器硬盘变为只读 read only  system时，用scp可以帮你把文件移出来。另外，scp还非常不占资源，不会提高多少系统负荷，在这一点上，rsync就远远不及它了。虽然  rsync比scp会快一点，但当小文件众多的情况下，rsync会导致硬盘I/O非常高，而scp基本不影响系统正常使用。</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/phmatthaus/article/details/124674393">https://blog.csdn.net/phmatthaus/article/details/124674393</a></p>
<h2 id="day30-docker安装"><a href="#day30-docker安装" class="headerlink" title="day30 docker安装"></a>day30 docker安装</h2><p>容器，go语言，开源，任何linux服务器上，虚拟化，只提供服务不需要虚拟整台主机</p>
<p>只运行nginx，apache服务这种可以只放在容器中，允许开发人员打包自己的docker环境</p>
<p>docker ce版本</p>
<p>只需要运行一些服务，没有必要运行整个os</p>
<hr>
<h4 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h4><p>镜像（image）：ubuntu镜像,flask3.8(基于debian)等</p>
<p>容器（container）：镜像运行在容器里，很多时候都是在容器里操作</p>
<p>仓库（repository）：保存镜像的地方，类似github</p>
<p>实验环境</p>
<hr>
<h4 id="依赖关系"><a href="#依赖关系" class="headerlink" title="依赖关系"></a>依赖关系</h4><p>1.namespace命名空间</p>
<p>编程语言中的using namespace std这种属于封装，达到隔离效果</p>
<p>操作系统中，系统资源隔离，如进程，网络，文件系统</p>
<p>docker使用pid进程隔离，net网络，ipc跨进程通信访问，mnt挂载点，uts隔离内核和版本标识，对这些进行隔离</p>
<p>2.control group控制组</p>
<p>用来分配资源</p>
<p>资源限定，优先级设定，资源计量，资源控制（允许你在什么时候使用多少资源）</p>
<h3 id="docker部署"><a href="#docker部署" class="headerlink" title="docker部署"></a>docker部署</h3><p>uname -a </p>
<p>Linux docker-1.4.19.0-18-cloud-amd64  Debian 4.19（2021-9-29）</p>
<p>ls -l /sys/class/misc ubuntu系统下会有divice-map，debian这里没有就算了</p>
<p>apt-get install -y docker.io 社区维护版，难在配置，docker安装不难</p>
<p> source /etc/bash_completion.d/g ubuntu上用到</p>
<p>docker version</p>
<p>apt install docker-ce</p>
<p>systemctl status docker 处于running状态</p>
<p>docker run ubuntu echo “haha” 测试docker是否可以使用，自动去下载ubuntu，使用ubuntu输出haha，下载的ubuntu在/var/lib/docker/下（在本机上docker的所有东西的位置，其中containers里就是上面ubuntu启动的位置，images存储镜像）</p>
<p>cat /etc/passwd   /etc/group 已经有docker</p>
<p>systemctl restart docker</p>
<p>docker –help</p>
<p>docker stats 输出docker当前使用io的状态</p>
<h2 id="day31-docker容器操作"><a href="#day31-docker容器操作" class="headerlink" title="day31 docker容器操作"></a>day31 docker容器操作</h2><h3 id="基础操作"><a href="#基础操作" class="headerlink" title="基础操作"></a>基础操作</h3><p>docker images 查看当前镜像</p>
<p>启动删除容器</p>
<p>docker pull ubuntu 从docker仓库拉取ubuntu的一个镜像，默认使用最后一个ubuntu版本</p>
<p>docker run  -i -t [镜像] /bin/bash 建立一个交互式镜像 建立一个tty终端，-i使用哪个镜像，让ubunt使用bin/bash这个命令</p>
<p>docker ps 看到所有正在运行的容器</p>
<p>docker ps -a  或者-l，列出所有创建的容器</p>
<p>docker inspect [容器名/容器id]返回容器的配置信息</p>
<p>使用镜像 docker run –name=ub1 -i -t ubuntu /bin/bash 以ub1的名字来运行刚刚创建的ubuntu</p>
<p>ctrl+p ctrl+q 无损退出镜像</p>
<p>docker ps 查看ubuntu还在运行并且name为ub1</p>
<p>如果出现failed to get d-bus…… 这个是centOS7在docker上的bug，更换6或者8版本</p>
<p>docker exec -it ub1容器名或容器id /bin/bash 再次进入刚刚的ub1容器，exec这里是执行</p>
<p>ifconfig发现啥都没有，很干净的ubuntu</p>
<p>docker start/stop [容器名称] 开关容器，发送信号给容器，等待容器停止，类似关机</p>
<p>docker kill [容器名]立即直接停止某个容器，类似直接拔电源</p>
<p>docker rm [容器名或容器id] 彻底从硬盘上删除容器</p>
<hr>
<h3 id="守护式容器"><a href="#守护式容器" class="headerlink" title="守护式容器"></a>守护式容器</h3><p>长期运行，没有交互式会话，适合运行应用程序和会话</p>
<p>docker ps</p>
<p>docker attach ub1 转入运行中的容器，这里到ub1容器中，exec是执行binbash返回命令行给你</p>
<p>docker run -d [镜像] [执行命令] 使用后台的方式运行容器</p>
<p>docker run –name ub2 -d ubuntu /bin/sh -c “while true;do echo hello haha;sleep 1;done” 创建ub2容器并且运行命令，但是当前命令行不会进入到该容器中，不想看到ub2在干嘛，返回唯一id</p>
<p>docker attach ub2 进入该容器后，不会返回命令行，只会告诉你上面的命令执行怎么样了</p>
<p>ctrl+c </p>
<p>docker ps -a 发现退出运行，docker start ub2 再次运行</p>
<p>查看容器日志</p>
<p>docker logs [参数] [容器名]</p>
<p>-f 追踪日志变化，默认false</p>
<p>-t 返回结果+时间戳</p>
<p>–tail 结尾返回多少日志，默认false</p>
<p>docker logs -t ub2</p>
<p>docker top [容器名] 查看容器中运行的进程，一般一个容器中做一件事情就够了</p>
<p>docker top ub2 在容器外部以上帝视角查看该容器中运行了哪些东西</p>
<p>在运行的容器中启动新的进程</p>
<p>docker exec [-d/i/t] [容器名] [参数]</p>
<p>docker exec -it ub2 /bin/bash  添加一个新的会话进程</p>
<h2 id="day32-docker部署web网站"><a href="#day32-docker部署web网站" class="headerlink" title="day32 docker部署web网站"></a>day32 docker部署web网站</h2><h3 id="端口映射"><a href="#端口映射" class="headerlink" title="端口映射"></a>端口映射</h3><p>docker run -P -it ubuntu /bin/bash 这里-P把所有的端口进行映射，docker里的80端口对应本地80端口</p>
<p>docker run -p 80 -it ubuntu /bin/bash 只映射80端口</p>
<p>docker run -p 80 -p 3306 -it ubuntu /bin/bash 只映射80和3306端口</p>
<p>docker run -p 8080:80 -it ubuntu /bin/bash 把容器内部80端口映射到外部的8080端口</p>
<p>docker run -p 0.0.0.0:80 -it ubuntu /bin/bash指定ip映射，默认全0映射所有，主机上有可能有多个网卡多个ip，有些ip不想让其作为网站</p>
<p>docker run -p 0.0.0.0:8080:80 -it ubuntu /bin/bash 指定ip的8080端口映射到容器的80端口</p>
<hr>
<h3 id="docker部署nginx"><a href="#docker部署nginx" class="headerlink" title="docker部署nginx"></a>docker部署nginx</h3><p>docker run -p 80 -p 443 –name web1 -it ubuntu /bin/bash 创建并进入web1容器中，此时随机把docker80端口映射到外部某个端口</p>
<p>apt-get update</p>
<p>apt-get install nginx</p>
<p>apt-get nano</p>
<p>apt-get install vim</p>
<p>ip addr ifconfig都没有</p>
<p>cd var/www/html 默认web目录，修改默认index.html文件即可,此时可以访问</p>
<p>whereis nginx 此时显示相对docker的路径，etc/nginx也是docker内部的</p>
<p>vi nginx.conf 没改啥，主要看一下conf.d是否被包含，下面使用虚拟主机写法</p>
<p>可以在docker里安装任何东西，包括ssh服务</p>
<p>下面把docker当作主机使用，正常配置nginx</p>
<p>cd conf.d</p>
<p>vi site1.conf</p>
<p>写入以下内容</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">	<span class="attribute">listen</span> *:<span class="number">80</span>;</span><br><span class="line">	<span class="attribute">server_name</span> www.site1.com;</span><br><span class="line">	<span class="attribute">location</span> /&#123;</span><br><span class="line">		root /var/www/html; 在对应路径处写一个html</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>nginx -t 检查配置是否正确</p>
<p>nginx -s reload</p>
<p>nginx -c /etc/nginx/nginx.conf 如果加载失败显示pid问题就使用这条之后重载，-c 选项用于指定 Nginx 使用的配置文件的路径</p>
<p>ctrl+p ctrl+q</p>
<p>docker ps查看进程资源，发现端口映射关系，此时外部访问对应端口即可</p>
<h2 id="day33-docker镜像部署"><a href="#day33-docker镜像部署" class="headerlink" title="day33 docker镜像部署"></a>day33 docker镜像部署</h2><h3 id="部署python后端程序"><a href="#部署python后端程序" class="headerlink" title="部署python后端程序"></a>部署python后端程序</h3><p>在项目文件夹中创建dockerfile</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用官方的Python 3.8镜像作为基础镜像</span></span><br><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置工作目录为/JudgeSys_app</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /JudgeSys_app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将当前目录下的所有文件复制到容器里面的/JudgeSys_app目录下，docker exec进入修改</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> . /JudgeSys_app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装当前目录下python项目所需要的依赖包，pip freeze &gt; requirements.txt</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> pip install --no-cache-dir -r requirements.txt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 暴露容器的5431端口</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">5431</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置环境变量</span></span><br><span class="line"><span class="keyword">ENV</span> NAME World</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行app.py文件</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;python&quot;</span>, <span class="string">&quot;Server.py&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<p><code>docker build -t judgesys_app:v1.0 . </code>构建一个叫做judgesys_app的镜像，tag标签为v1.0，最后这个点是当前目录，是dockerfile所在的地方，也可以使用参数-f /path/to/Dockerfile指定dockerfile文件位置</p>
<p>构建安装好之后，<code>docker image ls</code>查看到</p>
<p><code>docker run -d -p 5431:5431 --name judgesys judgesys_app:v1.0</code></p>
<p>从judgesys_app:v1.0的镜像实例化一个judgesye名字的容器，-p设置端口将容器的5431（后面那个）端口映射到ubuntu主机的5431端口（前面那个），-d使用后台运行，不会占用终端</p>
<p>它会返回一个容器的ID。如果您使用docker ps命令并没有看到您的容器，可能有以下几种情况：</p>
<ul>
<li>您的容器已经退出了，因为您的Python应用程序运行结束了，或者遇到了错误。您可以使用<code>docker ps -a</code>命令来查看所有的容器，包括已经退出的容器，然后使用<code>docker logs CONTAINER</code>命令来查看容器的日志，以便找出问题的原因。</li>
<li>您的容器没有正常启动，因为您的镜像有问题，或者您的端口映射有冲突。您可以使用<code>docker ps -a</code>命令来查看所有的容器，包括没有启动的容器，然后使用<code>docker inspect CONTAINER</code>命令来查看容器的详细信息，以便找出问题的原因。</li>
<li>您的容器在另一个Docker网络中，而您的docker ps命令没有指定网络的参数。您可以使用<code>docker network ls</code>命令来查看所有的Docker网络，然后使用<code>docker ps --network NETWORK</code>命令来查看指定网络中的容器。</li>
</ul>
<p>查看时import openai这个包没有被注释掉导致的报错no module named ‘openai’，程序中用不到的包就注释掉即可</p>
<p>docker stop judgesys 停止容器（意外退出的容器可以使用docker ps -a查看）</p>
<p>docker rm judgesys 从硬盘删除容器</p>
<p>docker image  rm judgesys_app:v1.0 删除镜像，重新build（因为之前替换似乎没有替换成功）</p>
<p>docker run重新运行容器 docker ps （-a）</p>
<p><code>docker logs judgesys &gt; /home/user/JudgeSys_release/flasklog.txt 2&gt;&amp;1</code> 将judgesys这个容器的标准错误输出重定向到标准输出</p>
<h3 id="修改容器中某py文件"><a href="#修改容器中某py文件" class="headerlink" title="修改容器中某py文件"></a>修改容器中某py文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">/etc/apt#</span><span class="bash"> cat sources.list 不改直接update也可以，只是慢</span></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/debian/ buster main contrib non-free</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/debian/ buster-updates main contrib non-free</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/debian/ buster-backports main contrib non-free</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/debian-security buster/updates main contrib non-free</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it c3f279d17e0a容器id /bin/bash</span><br><span class="line">apt-get update #先换上面的源</span><br><span class="line">apt-get install vim/nano</span><br><span class="line"></span><br><span class="line">修改完代码之后</span><br><span class="line">exit #退出容器内部的bash环境</span><br><span class="line">docker restart dockerid #重新运行刚刚exit的容器</span><br><span class="line">docker ps # 查看当前运行docker</span><br><span class="line">docker commit mycontainer myimage:latest #保存为新镜像</span><br><span class="line">docker image ls # 查看现有镜像</span><br></pre></td></tr></table></figure>





<h3 id="运行docker时挂载volume"><a href="#运行docker时挂载volume" class="headerlink" title="运行docker时挂载volume"></a>运行docker时挂载volume</h3><p>实现docker中某目录与宿主机某目录共享文件（docker中lrzsz无法使用）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker volume create judgesys_log_volume</span><br><span class="line">docker commit judgesys judgesys_app:v2.2.1</span><br><span class="line">docker stop/rm 正在运行的docker容器</span><br><span class="line">docker run -d -p 5431:5431 --name judgesys -v judgesys_log_volume:/JudgeSys_app/uploads judgesys_app:v2.2.1 <span class="comment"># 带-v挂载卷运行容器，这里挂载目录/log是容器根目录下的log文件夹内，这里JudgeSys_app主目录对应dockerfile中的项目目录</span></span><br><span class="line">docker volume ls</span><br><span class="line">docker volume inspect judgesys_log_volume <span class="comment">#查看对应宿主机上的挂载目录路径</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>cabyceogpsji73sske5nvo45mdrkbz4m3qd3iommf3zaaa6izg3j2cqd.onion</p>
<p>deepmixbf6xqt3m7kagmurdt4v43f2h3doc23h7hrkjlroovyjsvseqd.onion</p>
<p>DuckDuckGo Hidden Service: <code>http://3g2upl4pq6kufc4m.onion/</code></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">XiaoYao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://w4xiaoyao.site/2023/04/04/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E4%BA%91%E8%AE%A1%E7%AE%97%E7%AC%94%E8%AE%B0/">https://w4xiaoyao.site/2023/04/04/学习笔记/云计算笔记/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/">云计算</a><a class="post-meta__tags" href="/tags/docker/">docker</a></div><div class="post_share"><div class="social-share" data-image="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Myblog/img4post/cutecity/026.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/09/01/diary/diary-230912/"><img class="prev-cover" src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/cuteworld_083.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">diary-230912</div></div></a></div><div class="next-post pull-right"><a href="/2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/%E8%A7%92%E5%8A%A8%E9%87%8F%E5%AE%88%E6%81%92/"><img class="next-cover" src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Myblog/img4post/cutecity/020.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">角动量守恒</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Myblog/img_struct4blog/profile_knife.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">XiaoYao</div><div class="author-info__description">多巴胺被赐予意义，人类社会便有了混沌，愿世间尚有净土，留存爱与欢喜。</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">64</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">76</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">15</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Liloker"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Liloker" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:theone@liloker.anonaddy.me" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://blog.csdn.net/weixin_42160117" target="_blank" title="CSDN"><i class="far fa-copyright"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">来了，随便坐吧~</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#day3-%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86"><span class="toc-number">1.</span> <span class="toc-text">day3 用户组管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#etc-passwd"><span class="toc-number">1.1.</span> <span class="toc-text">&#x2F;etc&#x2F;passwd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#etc-shadow"><span class="toc-number">1.2.</span> <span class="toc-text">&#x2F;etc&#x2F;shadow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#etc-group"><span class="toc-number">1.3.</span> <span class="toc-text">&#x2F;etc&#x2F;group</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#etc-gshadow"><span class="toc-number">1.4.</span> <span class="toc-text">etc&#x2F;gshadow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UGO%E6%9D%83%E9%99%90"><span class="toc-number">1.5.</span> <span class="toc-text">UGO权限</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day4-%E5%8E%8B%E7%BC%A9%E6%89%93%E5%8C%85%E7%AD%89"><span class="toc-number">2.</span> <span class="toc-text">day4 压缩打包等</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day5-crontab-grep-sed-awk"><span class="toc-number">3.</span> <span class="toc-text">day5 crontab-grep sed awk</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#grep"><span class="toc-number">3.0.1.</span> <span class="toc-text">grep</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sed"><span class="toc-number">3.0.2.</span> <span class="toc-text">sed</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.0.3.</span> <span class="toc-text">正则表达式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day7-%E9%98%B2%E7%81%AB%E5%A2%99"><span class="toc-number">4.</span> <span class="toc-text">day7 防火墙</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day8-linux%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD%E4%B8%8E%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86"><span class="toc-number">5.</span> <span class="toc-text">day8 linux数据备份与磁盘管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD"><span class="toc-number">5.1.</span> <span class="toc-text">数据备份</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%87%E4%BB%BD%E7%9B%AE%E6%A0%87"><span class="toc-number">5.1.1.</span> <span class="toc-text">备份目标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E5%B8%A6%E6%9C%BA%E5%A4%87%E4%BB%BD"><span class="toc-number">5.1.2.</span> <span class="toc-text">磁带机备份</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A1%AC%E7%9B%98%E5%A4%87%E4%BB%BD"><span class="toc-number">5.1.3.</span> <span class="toc-text">硬盘备份</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B4%AF%E8%AE%A1%E5%A2%9E%E9%87%8F%E5%A4%87%E4%BB%BD"><span class="toc-number">5.1.3.1.</span> <span class="toc-text">累计增量备份</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B7%AE%E5%BC%82%E5%A4%87%E4%BB%BD"><span class="toc-number">5.1.3.2.</span> <span class="toc-text">差异备份</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#tar%E5%91%BD%E4%BB%A4%E5%A4%87%E4%BB%BD%E6%95%B0%E6%8D%AE"><span class="toc-number">5.1.3.3.</span> <span class="toc-text">tar命令备份数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dump%E5%91%BD%E4%BB%A4%E5%A4%87%E4%BB%BD%E6%95%B0%E6%8D%AE"><span class="toc-number">5.1.3.4.</span> <span class="toc-text">dump命令备份数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dd%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD"><span class="toc-number">5.1.3.5.</span> <span class="toc-text">dd数据备份</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E5%A4%87%E4%BB%BD"><span class="toc-number">5.1.4.</span> <span class="toc-text">远程备份</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA%E7%AE%A1%E7%90%86"><span class="toc-number">5.1.5.</span> <span class="toc-text">磁盘分区管理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day12-lnmp%E9%83%A8%E7%BD%B2"><span class="toc-number">6.</span> <span class="toc-text">day12  lnmp部署</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day13-nginx%E6%A8%A1%E5%9D%97%E5%92%8C%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86"><span class="toc-number">7.</span> <span class="toc-text">day13 nginx模块和正向代理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day14-nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1"><span class="toc-number">8.</span> <span class="toc-text">day14 nginx负载均衡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day25-rsync-%E9%95%9C%E5%83%8F"><span class="toc-number">9.</span> <span class="toc-text">day25 rsync 镜像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day30-docker%E5%AE%89%E8%A3%85"><span class="toc-number">10.</span> <span class="toc-text">day30 docker安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%B6%E6%9E%84"><span class="toc-number">10.0.1.</span> <span class="toc-text">架构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB"><span class="toc-number">10.0.2.</span> <span class="toc-text">依赖关系</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#docker%E9%83%A8%E7%BD%B2"><span class="toc-number">10.1.</span> <span class="toc-text">docker部署</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day31-docker%E5%AE%B9%E5%99%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">11.</span> <span class="toc-text">day31 docker容器操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C"><span class="toc-number">11.1.</span> <span class="toc-text">基础操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%88%E6%8A%A4%E5%BC%8F%E5%AE%B9%E5%99%A8"><span class="toc-number">11.2.</span> <span class="toc-text">守护式容器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day32-docker%E9%83%A8%E7%BD%B2web%E7%BD%91%E7%AB%99"><span class="toc-number">12.</span> <span class="toc-text">day32 docker部署web网站</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84"><span class="toc-number">12.1.</span> <span class="toc-text">端口映射</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#docker%E9%83%A8%E7%BD%B2nginx"><span class="toc-number">12.2.</span> <span class="toc-text">docker部署nginx</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day33-docker%E9%95%9C%E5%83%8F%E9%83%A8%E7%BD%B2"><span class="toc-number">13.</span> <span class="toc-text">day33 docker镜像部署</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2python%E5%90%8E%E7%AB%AF%E7%A8%8B%E5%BA%8F"><span class="toc-number">13.1.</span> <span class="toc-text">部署python后端程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%AE%B9%E5%99%A8%E4%B8%AD%E6%9F%90py%E6%96%87%E4%BB%B6"><span class="toc-number">13.2.</span> <span class="toc-text">修改容器中某py文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8Cdocker%E6%97%B6%E6%8C%82%E8%BD%BDvolume"><span class="toc-number">13.3.</span> <span class="toc-text">运行docker时挂载volume</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/11/01/%E6%8A%98%E8%85%BE%E5%90%A7/fw-orca/" title="docker的qqgg"><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/cuteworld_019.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="docker的qqgg"/></a><div class="content"><a class="title" href="/2024/11/01/%E6%8A%98%E8%85%BE%E5%90%A7/fw-orca/" title="docker的qqgg">docker的qqgg</a><time datetime="2024-11-01T09:37:00.937Z" title="Created 2024-11-01 17:37:00">2024-11-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/06/diary/diary-240406/" title="清明时节雨纷纷，路上行人勿断魂"><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Myblog/img_struct4blog/165.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="清明时节雨纷纷，路上行人勿断魂"/></a><div class="content"><a class="title" href="/2024/04/06/diary/diary-240406/" title="清明时节雨纷纷，路上行人勿断魂">清明时节雨纷纷，路上行人勿断魂</a><time datetime="2024-04-06T10:50:22.785Z" title="Created 2024-04-06 18:50:22">2024-04-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/29/%E6%8A%98%E8%85%BE%E5%90%A7/rdpwrap.ini%E5%88%B6%E4%BD%9C/" title="使用ida制作rdpwrap.ini"><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/cuteworld_018.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用ida制作rdpwrap.ini"/></a><div class="content"><a class="title" href="/2024/03/29/%E6%8A%98%E8%85%BE%E5%90%A7/rdpwrap.ini%E5%88%B6%E4%BD%9C/" title="使用ida制作rdpwrap.ini">使用ida制作rdpwrap.ini</a><time datetime="2024-03-29T12:09:15.487Z" title="Created 2024-03-29 20:09:15">2024-03-29</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Myblog/img4post/cutecity/026.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2025 By XiaoYao</div><div class="footer_custom_text"><a href="https://w4xiaoyao.site">Dominating The Information Age </a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="Increase font size"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="Decrease font size"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadWaline () {
  function initWaline () {
    const waline = new Waline(Object.assign({
      el: '#waline-wrap',
      serverURL: 'https://waline2-five.vercel.app/',
      avatar: 'retro',
      path: location.pathname,
      emojiCDN: '',
      emojiMaps: "",
      visitor: true
    }, {"pageSize":10,"placeholder":"随便说点什么吧~","langMode":{"nick":"昵称"}}))
  }

  if (typeof Waline === 'function') initWaline() 
  else getScript('https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js').then(initWaline)
}

if ('Waline' === 'Waline' || !true) {
  if (true) btf.loadComment(document.getElementById('waline-wrap'),loadWaline)
  else setTimeout(loadWaline, 0)
} else {
  function loadOtherComment () {
    loadWaline()
  }
}</script></div><div class="aplayer no-destroy" data-id="7988378536" data-server="tencent" data-type="playlist" data-fixed="true" data-mini="true" data-autoplay="true" data-theme="#408fda" data-order="random" data-preload="auto" data-mutex="true" muted></div><script type="text/javascript" src="/js/myjs.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/liloker/BlogMusicJS/dist/BlogMusic.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener toc scroll 
  window.removeEventListener('scroll', window.tocScrollFn)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>